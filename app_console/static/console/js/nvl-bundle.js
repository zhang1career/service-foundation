var Pq=Object.create;var lm=Object.defineProperty;var Aq=Object.getOwnPropertyDescriptor;var Rq=Object.getOwnPropertyNames;var Iq=Object.getPrototypeOf,Dq=Object.prototype.hasOwnProperty;var Mq=(r,e,t)=>e in r?lm(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var hT=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var ge=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),kq=(r,e)=>{for(var t in e)lm(r,t,{get:e[t],enumerable:!0})},Nq=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Rq(e))!Dq.call(r,i)&&i!==t&&lm(r,i,{get:()=>e[i],enumerable:!(n=Aq(e,i))||n.enumerable});return r};var wc=(r,e,t)=>(t=r!=null?Pq(Iq(r)):{},Nq(e||!r||!r.__esModule?lm(t,"default",{value:r,enumerable:!0}):t,r));var kt=(r,e,t)=>Mq(r,typeof e!="symbol"?e+"":e,t);var TE=ge((fp,SE)=>{(function(e,t){typeof fp=="object"&&typeof SE=="object"?SE.exports=t():typeof define=="function"&&define.amd?define([],t):typeof fp=="object"?fp.layoutBase=t():e.layoutBase=t()})(fp,function(){return function(r){var e={};function t(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return r[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=r,t.c=e,t.i=function(n){return n},t.d=function(n,i,o){t.o(n,i)||Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:o})},t.n=function(n){var i=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,i){return Object.prototype.hasOwnProperty.call(n,i)},t.p="",t(t.s=26)}([function(r,e,t){"use strict";function n(){}n.QUALITY=1,n.DEFAULT_CREATE_BENDS_AS_NEEDED=!1,n.DEFAULT_INCREMENTAL=!1,n.DEFAULT_ANIMATION_ON_LAYOUT=!0,n.DEFAULT_ANIMATION_DURING_LAYOUT=!1,n.DEFAULT_ANIMATION_PERIOD=50,n.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1,n.DEFAULT_GRAPH_MARGIN=15,n.NODE_DIMENSIONS_INCLUDE_LABELS=!1,n.SIMPLE_NODE_SIZE=40,n.SIMPLE_NODE_HALF_SIZE=n.SIMPLE_NODE_SIZE/2,n.EMPTY_COMPOUND_NODE_SIZE=40,n.MIN_EDGE_LENGTH=1,n.WORLD_BOUNDARY=1e6,n.INITIAL_WORLD_BOUNDARY=n.WORLD_BOUNDARY/1e3,n.WORLD_CENTER_X=1200,n.WORLD_CENTER_Y=900,r.exports=n},function(r,e,t){"use strict";var n=t(2),i=t(8),o=t(9);function a(s,l,c){n.call(this,c),this.isOverlapingSourceAndTarget=!1,this.vGraphObject=c,this.bendpoints=[],this.source=s,this.target=l}a.prototype=Object.create(n.prototype);for(var u in n)a[u]=n[u];a.prototype.getSource=function(){return this.source},a.prototype.getTarget=function(){return this.target},a.prototype.isInterGraph=function(){return this.isInterGraph},a.prototype.getLength=function(){return this.length},a.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget},a.prototype.getBendpoints=function(){return this.bendpoints},a.prototype.getLca=function(){return this.lca},a.prototype.getSourceInLca=function(){return this.sourceInLca},a.prototype.getTargetInLca=function(){return this.targetInLca},a.prototype.getOtherEnd=function(s){if(this.source===s)return this.target;if(this.target===s)return this.source;throw"Node is not incident with this edge"},a.prototype.getOtherEndInGraph=function(s,l){for(var c=this.getOtherEnd(s),f=l.getGraphManager().getRoot();;){if(c.getOwner()==l)return c;if(c.getOwner()==f)break;c=c.getOwner().getParent()}return null},a.prototype.updateLength=function(){var s=new Array(4);this.isOverlapingSourceAndTarget=i.getIntersection(this.target.getRect(),this.source.getRect(),s),this.isOverlapingSourceAndTarget||(this.lengthX=s[0]-s[2],this.lengthY=s[1]-s[3],Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))},a.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX(),this.lengthY=this.target.getCenterY()-this.source.getCenterY(),Math.abs(this.lengthX)<1&&(this.lengthX=o.sign(this.lengthX)),Math.abs(this.lengthY)<1&&(this.lengthY=o.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY)},r.exports=a},function(r,e,t){"use strict";function n(i){this.vGraphObject=i}r.exports=n},function(r,e,t){"use strict";var n=t(2),i=t(10),o=t(13),a=t(0),u=t(16),s=t(4);function l(f,h,v,d){v==null&&d==null&&(d=h),n.call(this,d),f.graphManager!=null&&(f=f.graphManager),this.estimatedSize=i.MIN_VALUE,this.inclusionTreeDepth=i.MAX_VALUE,this.vGraphObject=d,this.edges=[],this.graphManager=f,v!=null&&h!=null?this.rect=new o(h.x,h.y,v.width,v.height):this.rect=new o}l.prototype=Object.create(n.prototype);for(var c in n)l[c]=n[c];l.prototype.getEdges=function(){return this.edges},l.prototype.getChild=function(){return this.child},l.prototype.getOwner=function(){return this.owner},l.prototype.getWidth=function(){return this.rect.width},l.prototype.setWidth=function(f){this.rect.width=f},l.prototype.getHeight=function(){return this.rect.height},l.prototype.setHeight=function(f){this.rect.height=f},l.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2},l.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2},l.prototype.getCenter=function(){return new s(this.rect.x+this.rect.width/2,this.rect.y+this.rect.height/2)},l.prototype.getLocation=function(){return new s(this.rect.x,this.rect.y)},l.prototype.getRect=function(){return this.rect},l.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)},l.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2},l.prototype.setRect=function(f,h){this.rect.x=f.x,this.rect.y=f.y,this.rect.width=h.width,this.rect.height=h.height},l.prototype.setCenter=function(f,h){this.rect.x=f-this.rect.width/2,this.rect.y=h-this.rect.height/2},l.prototype.setLocation=function(f,h){this.rect.x=f,this.rect.y=h},l.prototype.moveBy=function(f,h){this.rect.x+=f,this.rect.y+=h},l.prototype.getEdgeListToNode=function(f){var h=[],v,d=this;return d.edges.forEach(function(y){if(y.target==f){if(y.source!=d)throw"Incorrect edge source!";h.push(y)}}),h},l.prototype.getEdgesBetween=function(f){var h=[],v,d=this;return d.edges.forEach(function(y){if(!(y.source==d||y.target==d))throw"Incorrect edge source and/or target";(y.target==f||y.source==f)&&h.push(y)}),h},l.prototype.getNeighborsList=function(){var f=new Set,h=this;return h.edges.forEach(function(v){if(v.source==h)f.add(v.target);else{if(v.target!=h)throw"Incorrect incidency!";f.add(v.source)}}),f},l.prototype.withChildren=function(){var f=new Set,h,v;if(f.add(this),this.child!=null)for(var d=this.child.getNodes(),y=0;y<d.length;y++)h=d[y],v=h.withChildren(),v.forEach(function(p){f.add(p)});return f},l.prototype.getNoOfChildren=function(){var f=0,h;if(this.child==null)f=1;else for(var v=this.child.getNodes(),d=0;d<v.length;d++)h=v[d],f+=h.getNoOfChildren();return f==0&&(f=1),f},l.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},l.prototype.calcEstimatedSize=function(){return this.child==null?this.estimatedSize=(this.rect.width+this.rect.height)/2:(this.estimatedSize=this.child.calcEstimatedSize(),this.rect.width=this.estimatedSize,this.rect.height=this.estimatedSize,this.estimatedSize)},l.prototype.scatter=function(){var f,h,v=-a.INITIAL_WORLD_BOUNDARY,d=a.INITIAL_WORLD_BOUNDARY;f=a.WORLD_CENTER_X+u.nextDouble()*(d-v)+v;var y=-a.INITIAL_WORLD_BOUNDARY,p=a.INITIAL_WORLD_BOUNDARY;h=a.WORLD_CENTER_Y+u.nextDouble()*(p-y)+y,this.rect.x=f,this.rect.y=h},l.prototype.updateBounds=function(){if(this.getChild()==null)throw"assert failed";if(this.getChild().getNodes().length!=0){var f=this.getChild();if(f.updateBounds(!0),this.rect.x=f.getLeft(),this.rect.y=f.getTop(),this.setWidth(f.getRight()-f.getLeft()),this.setHeight(f.getBottom()-f.getTop()),a.NODE_DIMENSIONS_INCLUDE_LABELS){var h=f.getRight()-f.getLeft(),v=f.getBottom()-f.getTop();this.labelWidth>h&&(this.rect.x-=(this.labelWidth-h)/2,this.setWidth(this.labelWidth)),this.labelHeight>v&&(this.labelPos=="center"?this.rect.y-=(this.labelHeight-v)/2:this.labelPos=="top"&&(this.rect.y-=this.labelHeight-v),this.setHeight(this.labelHeight))}}},l.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==i.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth},l.prototype.transform=function(f){var h=this.rect.x;h>a.WORLD_BOUNDARY?h=a.WORLD_BOUNDARY:h<-a.WORLD_BOUNDARY&&(h=-a.WORLD_BOUNDARY);var v=this.rect.y;v>a.WORLD_BOUNDARY?v=a.WORLD_BOUNDARY:v<-a.WORLD_BOUNDARY&&(v=-a.WORLD_BOUNDARY);var d=new s(h,v),y=f.inverseTransformPoint(d);this.setLocation(y.x,y.y)},l.prototype.getLeft=function(){return this.rect.x},l.prototype.getRight=function(){return this.rect.x+this.rect.width},l.prototype.getTop=function(){return this.rect.y},l.prototype.getBottom=function(){return this.rect.y+this.rect.height},l.prototype.getParent=function(){return this.owner==null?null:this.owner.getParent()},r.exports=l},function(r,e,t){"use strict";function n(i,o){i==null&&o==null?(this.x=0,this.y=0):(this.x=i,this.y=o)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.setX=function(i){this.x=i},n.prototype.setY=function(i){this.y=i},n.prototype.getDifference=function(i){return new DimensionD(this.x-i.x,this.y-i.y)},n.prototype.getCopy=function(){return new n(this.x,this.y)},n.prototype.translate=function(i){return this.x+=i.width,this.y+=i.height,this},r.exports=n},function(r,e,t){"use strict";var n=t(2),i=t(10),o=t(0),a=t(6),u=t(3),s=t(1),l=t(13),c=t(12),f=t(11);function h(d,y,p){n.call(this,p),this.estimatedSize=i.MIN_VALUE,this.margin=o.DEFAULT_GRAPH_MARGIN,this.edges=[],this.nodes=[],this.isConnected=!1,this.parent=d,y!=null&&y instanceof a?this.graphManager=y:y!=null&&y instanceof Layout&&(this.graphManager=y.graphManager)}h.prototype=Object.create(n.prototype);for(var v in n)h[v]=n[v];h.prototype.getNodes=function(){return this.nodes},h.prototype.getEdges=function(){return this.edges},h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getParent=function(){return this.parent},h.prototype.getLeft=function(){return this.left},h.prototype.getRight=function(){return this.right},h.prototype.getTop=function(){return this.top},h.prototype.getBottom=function(){return this.bottom},h.prototype.isConnected=function(){return this.isConnected},h.prototype.add=function(d,y,p){if(y==null&&p==null){var g=d;if(this.graphManager==null)throw"Graph has no graph mgr!";if(this.getNodes().indexOf(g)>-1)throw"Node already in graph!";return g.owner=this,this.getNodes().push(g),g}else{var b=d;if(!(this.getNodes().indexOf(y)>-1&&this.getNodes().indexOf(p)>-1))throw"Source or target not in graph!";if(!(y.owner==p.owner&&y.owner==this))throw"Both owners must be this graph!";return y.owner!=p.owner?null:(b.source=y,b.target=p,b.isInterGraph=!1,this.getEdges().push(b),y.edges.push(b),p!=y&&p.edges.push(b),b)}},h.prototype.remove=function(d){var y=d;if(d instanceof u){if(y==null)throw"Node is null!";if(!(y.owner!=null&&y.owner==this))throw"Owner graph is invalid!";if(this.graphManager==null)throw"Owner graph manager is invalid!";for(var p=y.edges.slice(),g,b=p.length,m=0;m<b;m++)g=p[m],g.isInterGraph?this.graphManager.remove(g):g.source.owner.remove(g);var _=this.nodes.indexOf(y);if(_==-1)throw"Node not in owner node list!";this.nodes.splice(_,1)}else if(d instanceof s){var g=d;if(g==null)throw"Edge is null!";if(!(g.source!=null&&g.target!=null))throw"Source and/or target is null!";if(!(g.source.owner!=null&&g.target.owner!=null&&g.source.owner==this&&g.target.owner==this))throw"Source and/or target owner is invalid!";var w=g.source.edges.indexOf(g),O=g.target.edges.indexOf(g);if(!(w>-1&&O>-1))throw"Source and/or target doesn't know this edge!";g.source.edges.splice(w,1),g.target!=g.source&&g.target.edges.splice(O,1);var _=g.source.owner.getEdges().indexOf(g);if(_==-1)throw"Not in owner's edge list!";g.source.owner.getEdges().splice(_,1)}},h.prototype.updateLeftTop=function(){for(var d=i.MAX_VALUE,y=i.MAX_VALUE,p,g,b,m=this.getNodes(),_=m.length,w=0;w<_;w++){var O=m[w];p=O.getTop(),g=O.getLeft(),d>p&&(d=p),y>g&&(y=g)}return d==i.MAX_VALUE?null:(m[0].getParent().paddingLeft!=null?b=m[0].getParent().paddingLeft:b=this.margin,this.left=y-b,this.top=d-b,new c(this.left,this.top))},h.prototype.updateBounds=function(d){for(var y=i.MAX_VALUE,p=-i.MAX_VALUE,g=i.MAX_VALUE,b=-i.MAX_VALUE,m,_,w,O,E,S=this.nodes,P=S.length,I=0;I<P;I++){var R=S[I];d&&R.child!=null&&R.updateBounds(),m=R.getLeft(),_=R.getRight(),w=R.getTop(),O=R.getBottom(),y>m&&(y=m),p<_&&(p=_),g>w&&(g=w),b<O&&(b=O)}var D=new l(y,g,p-y,b-g);y==i.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom()),S[0].getParent().paddingLeft!=null?E=S[0].getParent().paddingLeft:E=this.margin,this.left=D.x-E,this.right=D.x+D.width+E,this.top=D.y-E,this.bottom=D.y+D.height+E},h.calculateBounds=function(d){for(var y=i.MAX_VALUE,p=-i.MAX_VALUE,g=i.MAX_VALUE,b=-i.MAX_VALUE,m,_,w,O,E=d.length,S=0;S<E;S++){var P=d[S];m=P.getLeft(),_=P.getRight(),w=P.getTop(),O=P.getBottom(),y>m&&(y=m),p<_&&(p=_),g>w&&(g=w),b<O&&(b=O)}var I=new l(y,g,p-y,b-g);return I},h.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()},h.prototype.getEstimatedSize=function(){if(this.estimatedSize==i.MIN_VALUE)throw"assert failed";return this.estimatedSize},h.prototype.calcEstimatedSize=function(){for(var d=0,y=this.nodes,p=y.length,g=0;g<p;g++){var b=y[g];d+=b.calcEstimatedSize()}return d==0?this.estimatedSize=o.EMPTY_COMPOUND_NODE_SIZE:this.estimatedSize=d/Math.sqrt(this.nodes.length),this.estimatedSize},h.prototype.updateConnected=function(){var d=this;if(this.nodes.length==0){this.isConnected=!0;return}var y=new f,p=new Set,g=this.nodes[0],b,m,_=g.withChildren();for(_.forEach(function(I){y.push(I),p.add(I)});y.length!==0;){g=y.shift(),b=g.getEdges();for(var w=b.length,O=0;O<w;O++){var E=b[O];if(m=E.getOtherEndInGraph(g,this),m!=null&&!p.has(m)){var S=m.withChildren();S.forEach(function(I){y.push(I),p.add(I)})}}}if(this.isConnected=!1,p.size>=this.nodes.length){var P=0;p.forEach(function(I){I.owner==d&&P++}),P==this.nodes.length&&(this.isConnected=!0)}},r.exports=h},function(r,e,t){"use strict";var n,i=t(1);function o(a){n=t(5),this.layout=a,this.graphs=[],this.edges=[]}o.prototype.addRoot=function(){var a=this.layout.newGraph(),u=this.layout.newNode(null),s=this.add(a,u);return this.setRootGraph(s),this.rootGraph},o.prototype.add=function(a,u,s,l,c){if(s==null&&l==null&&c==null){if(a==null)throw"Graph is null!";if(u==null)throw"Parent node is null!";if(this.graphs.indexOf(a)>-1)throw"Graph already in this graph mgr!";if(this.graphs.push(a),a.parent!=null)throw"Already has a parent!";if(u.child!=null)throw"Already has a child!";return a.parent=u,u.child=a,a}else{c=s,l=u,s=a;var f=l.getOwner(),h=c.getOwner();if(!(f!=null&&f.getGraphManager()==this))throw"Source not in this graph mgr!";if(!(h!=null&&h.getGraphManager()==this))throw"Target not in this graph mgr!";if(f==h)return s.isInterGraph=!1,f.add(s,l,c);if(s.isInterGraph=!0,s.source=l,s.target=c,this.edges.indexOf(s)>-1)throw"Edge already in inter-graph edge list!";if(this.edges.push(s),!(s.source!=null&&s.target!=null))throw"Edge source and/or target is null!";if(!(s.source.edges.indexOf(s)==-1&&s.target.edges.indexOf(s)==-1))throw"Edge already in source and/or target incidency list!";return s.source.edges.push(s),s.target.edges.push(s),s}},o.prototype.remove=function(a){if(a instanceof n){var u=a;if(u.getGraphManager()!=this)throw"Graph not in this graph mgr";if(!(u==this.rootGraph||u.parent!=null&&u.parent.graphManager==this))throw"Invalid parent node!";var s=[];s=s.concat(u.getEdges());for(var l,c=s.length,f=0;f<c;f++)l=s[f],u.remove(l);var h=[];h=h.concat(u.getNodes());var v;c=h.length;for(var f=0;f<c;f++)v=h[f],u.remove(v);u==this.rootGraph&&this.setRootGraph(null);var d=this.graphs.indexOf(u);this.graphs.splice(d,1),u.parent=null}else if(a instanceof i){if(l=a,l==null)throw"Edge is null!";if(!l.isInterGraph)throw"Not an inter-graph edge!";if(!(l.source!=null&&l.target!=null))throw"Source and/or target is null!";if(!(l.source.edges.indexOf(l)!=-1&&l.target.edges.indexOf(l)!=-1))throw"Source and/or target doesn't know this edge!";var d=l.source.edges.indexOf(l);if(l.source.edges.splice(d,1),d=l.target.edges.indexOf(l),l.target.edges.splice(d,1),!(l.source.owner!=null&&l.source.owner.getGraphManager()!=null))throw"Edge owner graph or owner graph manager is null!";if(l.source.owner.getGraphManager().edges.indexOf(l)==-1)throw"Not in owner graph manager's edge list!";var d=l.source.owner.getGraphManager().edges.indexOf(l);l.source.owner.getGraphManager().edges.splice(d,1)}},o.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)},o.prototype.getGraphs=function(){return this.graphs},o.prototype.getAllNodes=function(){if(this.allNodes==null){for(var a=[],u=this.getGraphs(),s=u.length,l=0;l<s;l++)a=a.concat(u[l].getNodes());this.allNodes=a}return this.allNodes},o.prototype.resetAllNodes=function(){this.allNodes=null},o.prototype.resetAllEdges=function(){this.allEdges=null},o.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null},o.prototype.getAllEdges=function(){if(this.allEdges==null){for(var a=[],u=this.getGraphs(),s=u.length,l=0;l<u.length;l++)a=a.concat(u[l].getEdges());a=a.concat(this.edges),this.allEdges=a}return this.allEdges},o.prototype.getAllNodesToApplyGravitation=function(){return this.allNodesToApplyGravitation},o.prototype.setAllNodesToApplyGravitation=function(a){if(this.allNodesToApplyGravitation!=null)throw"assert failed";this.allNodesToApplyGravitation=a},o.prototype.getRoot=function(){return this.rootGraph},o.prototype.setRootGraph=function(a){if(a.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=a,a.parent==null&&(a.parent=this.layout.newNode("Root node"))},o.prototype.getLayout=function(){return this.layout},o.prototype.isOneAncestorOfOther=function(a,u){if(!(a!=null&&u!=null))throw"assert failed";if(a==u)return!0;var s=a.getOwner(),l;do{if(l=s.getParent(),l==null)break;if(l==u)return!0;if(s=l.getOwner(),s==null)break}while(!0);s=u.getOwner();do{if(l=s.getParent(),l==null)break;if(l==a)return!0;if(s=l.getOwner(),s==null)break}while(!0);return!1},o.prototype.calcLowestCommonAncestors=function(){for(var a,u,s,l,c,f=this.getAllEdges(),h=f.length,v=0;v<h;v++){if(a=f[v],u=a.source,s=a.target,a.lca=null,a.sourceInLca=u,a.targetInLca=s,u==s){a.lca=u.getOwner();continue}for(l=u.getOwner();a.lca==null;){for(a.targetInLca=s,c=s.getOwner();a.lca==null;){if(c==l){a.lca=c;break}if(c==this.rootGraph)break;if(a.lca!=null)throw"assert failed";a.targetInLca=c.getParent(),c=a.targetInLca.getOwner()}if(l==this.rootGraph)break;a.lca==null&&(a.sourceInLca=l.getParent(),l=a.sourceInLca.getOwner())}if(a.lca==null)throw"assert failed"}},o.prototype.calcLowestCommonAncestor=function(a,u){if(a==u)return a.getOwner();var s=a.getOwner();do{if(s==null)break;var l=u.getOwner();do{if(l==null)break;if(l==s)return l;l=l.getParent().getOwner()}while(!0);s=s.getParent().getOwner()}while(!0);return s},o.prototype.calcInclusionTreeDepths=function(a,u){a==null&&u==null&&(a=this.rootGraph,u=1);for(var s,l=a.getNodes(),c=l.length,f=0;f<c;f++)s=l[f],s.inclusionTreeDepth=u,s.child!=null&&this.calcInclusionTreeDepths(s.child,u+1)},o.prototype.includesInvalidEdge=function(){for(var a,u=this.edges.length,s=0;s<u;s++)if(a=this.edges[s],this.isOneAncestorOfOther(a.source,a.target))return!0;return!1},r.exports=o},function(r,e,t){"use strict";var n=t(0);function i(){}for(var o in n)i[o]=n[o];i.MAX_ITERATIONS=2500,i.DEFAULT_EDGE_LENGTH=50,i.DEFAULT_SPRING_STRENGTH=.45,i.DEFAULT_REPULSION_STRENGTH=4500,i.DEFAULT_GRAVITY_STRENGTH=.4,i.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1,i.DEFAULT_GRAVITY_RANGE_FACTOR=3.8,i.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5,i.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=!0,i.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0,i.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3,i.COOLING_ADAPTATION_FACTOR=.33,i.ADAPTATION_LOWER_NODE_LIMIT=1e3,i.ADAPTATION_UPPER_NODE_LIMIT=5e3,i.MAX_NODE_DISPLACEMENT_INCREMENTAL=100,i.MAX_NODE_DISPLACEMENT=i.MAX_NODE_DISPLACEMENT_INCREMENTAL*3,i.MIN_REPULSION_DIST=i.DEFAULT_EDGE_LENGTH/10,i.CONVERGENCE_CHECK_PERIOD=100,i.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1,i.MIN_EDGE_LENGTH=1,i.GRID_CALCULATION_CHECK_PERIOD=10,r.exports=i},function(r,e,t){"use strict";var n=t(12);function i(){}i.calcSeparationAmount=function(o,a,u,s){if(!o.intersects(a))throw"assert failed";var l=new Array(2);this.decideDirectionsForOverlappingNodes(o,a,l),u[0]=Math.min(o.getRight(),a.getRight())-Math.max(o.x,a.x),u[1]=Math.min(o.getBottom(),a.getBottom())-Math.max(o.y,a.y),o.getX()<=a.getX()&&o.getRight()>=a.getRight()?u[0]+=Math.min(a.getX()-o.getX(),o.getRight()-a.getRight()):a.getX()<=o.getX()&&a.getRight()>=o.getRight()&&(u[0]+=Math.min(o.getX()-a.getX(),a.getRight()-o.getRight())),o.getY()<=a.getY()&&o.getBottom()>=a.getBottom()?u[1]+=Math.min(a.getY()-o.getY(),o.getBottom()-a.getBottom()):a.getY()<=o.getY()&&a.getBottom()>=o.getBottom()&&(u[1]+=Math.min(o.getY()-a.getY(),a.getBottom()-o.getBottom()));var c=Math.abs((a.getCenterY()-o.getCenterY())/(a.getCenterX()-o.getCenterX()));a.getCenterY()===o.getCenterY()&&a.getCenterX()===o.getCenterX()&&(c=1);var f=c*u[0],h=u[1]/c;u[0]<h?h=u[0]:f=u[1],u[0]=-1*l[0]*(h/2+s),u[1]=-1*l[1]*(f/2+s)},i.decideDirectionsForOverlappingNodes=function(o,a,u){o.getCenterX()<a.getCenterX()?u[0]=-1:u[0]=1,o.getCenterY()<a.getCenterY()?u[1]=-1:u[1]=1},i.getIntersection2=function(o,a,u){var s=o.getCenterX(),l=o.getCenterY(),c=a.getCenterX(),f=a.getCenterY();if(o.intersects(a))return u[0]=s,u[1]=l,u[2]=c,u[3]=f,!0;var h=o.getX(),v=o.getY(),d=o.getRight(),y=o.getX(),p=o.getBottom(),g=o.getRight(),b=o.getWidthHalf(),m=o.getHeightHalf(),_=a.getX(),w=a.getY(),O=a.getRight(),E=a.getX(),S=a.getBottom(),P=a.getRight(),I=a.getWidthHalf(),R=a.getHeightHalf(),D=!1,k=!1;if(s===c){if(l>f)return u[0]=s,u[1]=v,u[2]=c,u[3]=S,!1;if(l<f)return u[0]=s,u[1]=p,u[2]=c,u[3]=w,!1}else if(l===f){if(s>c)return u[0]=h,u[1]=l,u[2]=O,u[3]=f,!1;if(s<c)return u[0]=d,u[1]=l,u[2]=_,u[3]=f,!1}else{var N=o.height/o.width,B=a.height/a.width,z=(f-l)/(c-s),F=void 0,U=void 0,W=void 0,Y=void 0,X=void 0,Q=void 0;if(-N===z?s>c?(u[0]=y,u[1]=p,D=!0):(u[0]=d,u[1]=v,D=!0):N===z&&(s>c?(u[0]=h,u[1]=v,D=!0):(u[0]=g,u[1]=p,D=!0)),-B===z?c>s?(u[2]=E,u[3]=S,k=!0):(u[2]=O,u[3]=w,k=!0):B===z&&(c>s?(u[2]=_,u[3]=w,k=!0):(u[2]=P,u[3]=S,k=!0)),D&&k)return!1;if(s>c?l>f?(F=this.getCardinalDirection(N,z,4),U=this.getCardinalDirection(B,z,2)):(F=this.getCardinalDirection(-N,z,3),U=this.getCardinalDirection(-B,z,1)):l>f?(F=this.getCardinalDirection(-N,z,1),U=this.getCardinalDirection(-B,z,3)):(F=this.getCardinalDirection(N,z,2),U=this.getCardinalDirection(B,z,4)),!D)switch(F){case 1:Y=v,W=s+-m/z,u[0]=W,u[1]=Y;break;case 2:W=g,Y=l+b*z,u[0]=W,u[1]=Y;break;case 3:Y=p,W=s+m/z,u[0]=W,u[1]=Y;break;case 4:W=y,Y=l+-b*z,u[0]=W,u[1]=Y;break}if(!k)switch(U){case 1:Q=w,X=c+-R/z,u[2]=X,u[3]=Q;break;case 2:X=P,Q=f+I*z,u[2]=X,u[3]=Q;break;case 3:Q=S,X=c+R/z,u[2]=X,u[3]=Q;break;case 4:X=E,Q=f+-I*z,u[2]=X,u[3]=Q;break}}return!1},i.getCardinalDirection=function(o,a,u){return o>a?u:1+u%4},i.getIntersection=function(o,a,u,s){if(s==null)return this.getIntersection2(o,a,u);var l=o.x,c=o.y,f=a.x,h=a.y,v=u.x,d=u.y,y=s.x,p=s.y,g=void 0,b=void 0,m=void 0,_=void 0,w=void 0,O=void 0,E=void 0,S=void 0,P=void 0;return m=h-c,w=l-f,E=f*c-l*h,_=p-d,O=v-y,S=y*d-v*p,P=m*O-_*w,P===0?null:(g=(w*S-O*E)/P,b=(_*E-m*S)/P,new n(g,b))},i.angleOfVector=function(o,a,u,s){var l=void 0;return o!==u?(l=Math.atan((s-a)/(u-o)),u<o?l+=Math.PI:s<a&&(l+=this.TWO_PI)):s<a?l=this.ONE_AND_HALF_PI:l=this.HALF_PI,l},i.doIntersect=function(o,a,u,s){var l=o.x,c=o.y,f=a.x,h=a.y,v=u.x,d=u.y,y=s.x,p=s.y,g=(f-l)*(p-d)-(y-v)*(h-c);if(g===0)return!1;var b=((p-d)*(y-l)+(v-y)*(p-c))/g,m=((c-h)*(y-l)+(f-l)*(p-c))/g;return 0<b&&b<1&&0<m&&m<1},i.HALF_PI=.5*Math.PI,i.ONE_AND_HALF_PI=1.5*Math.PI,i.TWO_PI=2*Math.PI,i.THREE_PI=3*Math.PI,r.exports=i},function(r,e,t){"use strict";function n(){}n.sign=function(i){return i>0?1:i<0?-1:0},n.floor=function(i){return i<0?Math.ceil(i):Math.floor(i)},n.ceil=function(i){return i<0?Math.floor(i):Math.ceil(i)},r.exports=n},function(r,e,t){"use strict";function n(){}n.MAX_VALUE=2147483647,n.MIN_VALUE=-2147483648,r.exports=n},function(r,e,t){"use strict";var n=function(){function l(c,f){for(var h=0;h<f.length;h++){var v=f[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(c,v.key,v)}}return function(c,f,h){return f&&l(c.prototype,f),h&&l(c,h),c}}();function i(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}var o=function(c){return{value:c,next:null,prev:null}},a=function(c,f,h,v){return c!==null?c.next=f:v.head=f,h!==null?h.prev=f:v.tail=f,f.prev=c,f.next=h,v.length++,f},u=function(c,f){var h=c.prev,v=c.next;return h!==null?h.next=v:f.head=v,v!==null?v.prev=h:f.tail=h,c.prev=c.next=null,f.length--,c},s=function(){function l(c){var f=this;i(this,l),this.length=0,this.head=null,this.tail=null,c?.forEach(function(h){return f.push(h)})}return n(l,[{key:"size",value:function(){return this.length}},{key:"insertBefore",value:function(f,h){return a(h.prev,o(f),h,this)}},{key:"insertAfter",value:function(f,h){return a(h,o(f),h.next,this)}},{key:"insertNodeBefore",value:function(f,h){return a(h.prev,f,h,this)}},{key:"insertNodeAfter",value:function(f,h){return a(h,f,h.next,this)}},{key:"push",value:function(f){return a(this.tail,o(f),null,this)}},{key:"unshift",value:function(f){return a(null,o(f),this.head,this)}},{key:"remove",value:function(f){return u(f,this)}},{key:"pop",value:function(){return u(this.tail,this).value}},{key:"popNode",value:function(){return u(this.tail,this)}},{key:"shift",value:function(){return u(this.head,this).value}},{key:"shiftNode",value:function(){return u(this.head,this)}},{key:"get_object_at",value:function(f){if(f<=this.length()){for(var h=1,v=this.head;h<f;)v=v.next,h++;return v.value}}},{key:"set_object_at",value:function(f,h){if(f<=this.length()){for(var v=1,d=this.head;v<f;)d=d.next,v++;d.value=h}}}]),l}();r.exports=s},function(r,e,t){"use strict";function n(i,o,a){this.x=null,this.y=null,i==null&&o==null&&a==null?(this.x=0,this.y=0):typeof i=="number"&&typeof o=="number"&&a==null?(this.x=i,this.y=o):i.constructor.name=="Point"&&o==null&&a==null&&(a=i,this.x=a.x,this.y=a.y)}n.prototype.getX=function(){return this.x},n.prototype.getY=function(){return this.y},n.prototype.getLocation=function(){return new n(this.x,this.y)},n.prototype.setLocation=function(i,o,a){i.constructor.name=="Point"&&o==null&&a==null?(a=i,this.setLocation(a.x,a.y)):typeof i=="number"&&typeof o=="number"&&a==null&&(parseInt(i)==i&&parseInt(o)==o?this.move(i,o):(this.x=Math.floor(i+.5),this.y=Math.floor(o+.5)))},n.prototype.move=function(i,o){this.x=i,this.y=o},n.prototype.translate=function(i,o){this.x+=i,this.y+=o},n.prototype.equals=function(i){if(i.constructor.name=="Point"){var o=i;return this.x==o.x&&this.y==o.y}return this==i},n.prototype.toString=function(){return new n().constructor.name+"[x="+this.x+",y="+this.y+"]"},r.exports=n},function(r,e,t){"use strict";function n(i,o,a,u){this.x=0,this.y=0,this.width=0,this.height=0,i!=null&&o!=null&&a!=null&&u!=null&&(this.x=i,this.y=o,this.width=a,this.height=u)}n.prototype.getX=function(){return this.x},n.prototype.setX=function(i){this.x=i},n.prototype.getY=function(){return this.y},n.prototype.setY=function(i){this.y=i},n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},n.prototype.getRight=function(){return this.x+this.width},n.prototype.getBottom=function(){return this.y+this.height},n.prototype.intersects=function(i){return!(this.getRight()<i.x||this.getBottom()<i.y||i.getRight()<this.x||i.getBottom()<this.y)},n.prototype.getCenterX=function(){return this.x+this.width/2},n.prototype.getMinX=function(){return this.getX()},n.prototype.getMaxX=function(){return this.getX()+this.width},n.prototype.getCenterY=function(){return this.y+this.height/2},n.prototype.getMinY=function(){return this.getY()},n.prototype.getMaxY=function(){return this.getY()+this.height},n.prototype.getWidthHalf=function(){return this.width/2},n.prototype.getHeightHalf=function(){return this.height/2},r.exports=n},function(r,e,t){"use strict";var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o};function i(){}i.lastID=0,i.createID=function(o){return i.isPrimitive(o)?o:(o.uniqueID!=null||(o.uniqueID=i.getString(),i.lastID++),o.uniqueID)},i.getString=function(o){return o==null&&(o=i.lastID),"Object#"+o},i.isPrimitive=function(o){var a=typeof o>"u"?"undefined":n(o);return o==null||a!="object"&&a!="function"},r.exports=i},function(r,e,t){"use strict";function n(v){if(Array.isArray(v)){for(var d=0,y=Array(v.length);d<v.length;d++)y[d]=v[d];return y}else return Array.from(v)}var i=t(0),o=t(6),a=t(3),u=t(1),s=t(5),l=t(4),c=t(17),f=t(27);function h(v){f.call(this),this.layoutQuality=i.QUALITY,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.incremental=i.DEFAULT_INCREMENTAL,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES,this.edgeToDummyNodes=new Map,this.graphManager=new o(this),this.isLayoutFinished=!1,this.isSubLayout=!1,this.isRemoteUse=!1,v!=null&&(this.isRemoteUse=v)}h.RANDOM_SEED=1,h.prototype=Object.create(f.prototype),h.prototype.getGraphManager=function(){return this.graphManager},h.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()},h.prototype.getAllEdges=function(){return this.graphManager.getAllEdges()},h.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()},h.prototype.newGraphManager=function(){var v=new o(this);return this.graphManager=v,v},h.prototype.newGraph=function(v){return new s(null,this.graphManager,v)},h.prototype.newNode=function(v){return new a(this.graphManager,v)},h.prototype.newEdge=function(v){return new u(null,null,v)},h.prototype.checkLayoutSuccess=function(){return this.graphManager.getRoot()==null||this.graphManager.getRoot().getNodes().length==0||this.graphManager.includesInvalidEdge()},h.prototype.runLayout=function(){this.isLayoutFinished=!1,this.tilingPreLayout&&this.tilingPreLayout(),this.initParameters();var v;return this.checkLayoutSuccess()?v=!1:v=this.layout(),i.ANIMATE==="during"?!1:(v&&(this.isSubLayout||this.doPostLayout()),this.tilingPostLayout&&this.tilingPostLayout(),this.isLayoutFinished=!0,v)},h.prototype.doPostLayout=function(){this.incremental||this.transform(),this.update()},h.prototype.update2=function(){if(this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges()),!this.isRemoteUse){for(var v,d=this.graphManager.getAllEdges(),y=0;y<d.length;y++)v=d[y];for(var p,g=this.graphManager.getRoot().getNodes(),y=0;y<g.length;y++)p=g[y];this.update(this.graphManager.getRoot())}},h.prototype.update=function(v){if(v==null)this.update2();else if(v instanceof a){var d=v;if(d.getChild()!=null)for(var y=d.getChild().getNodes(),p=0;p<y.length;p++)update(y[p]);if(d.vGraphObject!=null){var g=d.vGraphObject;g.update(d)}}else if(v instanceof u){var b=v;if(b.vGraphObject!=null){var m=b.vGraphObject;m.update(b)}}else if(v instanceof s){var _=v;if(_.vGraphObject!=null){var w=_.vGraphObject;w.update(_)}}},h.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=i.QUALITY,this.animationDuringLayout=i.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=i.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=i.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=i.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=i.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=i.DEFAULT_UNIFORM_LEAF_NODE_SIZES),this.animationDuringLayout&&(this.animationOnLayout=!1)},h.prototype.transform=function(v){if(v==null)this.transform(new l(0,0));else{var d=new c,y=this.graphManager.getRoot().updateLeftTop();if(y!=null){d.setWorldOrgX(v.x),d.setWorldOrgY(v.y),d.setDeviceOrgX(y.x),d.setDeviceOrgY(y.y);for(var p=this.getAllNodes(),g,b=0;b<p.length;b++)g=p[b],g.transform(d)}}},h.prototype.positionNodesRandomly=function(v){if(v==null)this.positionNodesRandomly(this.getGraphManager().getRoot()),this.getGraphManager().getRoot().updateBounds(!0);else for(var d,y,p=v.getNodes(),g=0;g<p.length;g++)d=p[g],y=d.getChild(),y==null||y.getNodes().length==0?d.scatter():(this.positionNodesRandomly(y),d.updateBounds())},h.prototype.getFlatForest=function(){for(var v=[],d=!0,y=this.graphManager.getRoot().getNodes(),p=!0,g=0;g<y.length;g++)y[g].getChild()!=null&&(p=!1);if(!p)return v;var b=new Set,m=[],_=new Map,w=[];for(w=w.concat(y);w.length>0&&d;){for(m.push(w[0]);m.length>0&&d;){var O=m[0];m.splice(0,1),b.add(O);for(var E=O.getEdges(),g=0;g<E.length;g++){var S=E[g].getOtherEnd(O);if(_.get(O)!=S)if(!b.has(S))m.push(S),_.set(S,O);else{d=!1;break}}}if(!d)v=[];else{var P=[].concat(n(b));v.push(P);for(var g=0;g<P.length;g++){var I=P[g],R=w.indexOf(I);R>-1&&w.splice(R,1)}b=new Set,_=new Map}}return v},h.prototype.createDummyNodesForBendpoints=function(v){for(var d=[],y=v.source,p=this.graphManager.calcLowestCommonAncestor(v.source,v.target),g=0;g<v.bendpoints.length;g++){var b=this.newNode(null);b.setRect(new Point(0,0),new Dimension(1,1)),p.add(b);var m=this.newEdge(null);this.graphManager.add(m,y,b),d.add(b),y=b}var m=this.newEdge(null);return this.graphManager.add(m,y,v.target),this.edgeToDummyNodes.set(v,d),v.isInterGraph()?this.graphManager.remove(v):p.remove(v),d},h.prototype.createBendpointsFromDummyNodes=function(){var v=[];v=v.concat(this.graphManager.getAllEdges()),v=[].concat(n(this.edgeToDummyNodes.keys())).concat(v);for(var d=0;d<v.length;d++){var y=v[d];if(y.bendpoints.length>0){for(var p=this.edgeToDummyNodes.get(y),g=0;g<p.length;g++){var b=p[g],m=new l(b.getCenterX(),b.getCenterY()),_=y.bendpoints.get(g);_.x=m.x,_.y=m.y,b.getOwner().remove(b)}this.graphManager.add(y,y.source,y.target)}}},h.transform=function(v,d,y,p){if(y!=null&&p!=null){var g=d;if(v<=50){var b=d/y;g-=(d-b)/50*(50-v)}else{var m=d*p;g+=(m-d)/50*(v-50)}return g}else{var _,w;return v<=50?(_=9*d/500,w=d/10):(_=9*d/50,w=-8*d),_*v+w}},h.findCenterOfTree=function(v){var d=[];d=d.concat(v);var y=[],p=new Map,g=!1,b=null;(d.length==1||d.length==2)&&(g=!0,b=d[0]);for(var m=0;m<d.length;m++){var _=d[m],w=_.getNeighborsList().size;p.set(_,_.getNeighborsList().size),w==1&&y.push(_)}var O=[];for(O=O.concat(y);!g;){var E=[];E=E.concat(O),O=[];for(var m=0;m<d.length;m++){var _=d[m],S=d.indexOf(_);S>=0&&d.splice(S,1);var P=_.getNeighborsList();P.forEach(function(D){if(y.indexOf(D)<0){var k=p.get(D),N=k-1;N==1&&O.push(D),p.set(D,N)}})}y=y.concat(O),(d.length==1||d.length==2)&&(g=!0,b=d[0])}return b},h.prototype.setGraphManager=function(v){this.graphManager=v},r.exports=h},function(r,e,t){"use strict";function n(){}n.seed=1,n.x=0,n.nextDouble=function(){return n.x=Math.sin(n.seed++)*1e4,n.x-Math.floor(n.x)},r.exports=n},function(r,e,t){"use strict";var n=t(4);function i(o,a){this.lworldOrgX=0,this.lworldOrgY=0,this.ldeviceOrgX=0,this.ldeviceOrgY=0,this.lworldExtX=1,this.lworldExtY=1,this.ldeviceExtX=1,this.ldeviceExtY=1}i.prototype.getWorldOrgX=function(){return this.lworldOrgX},i.prototype.setWorldOrgX=function(o){this.lworldOrgX=o},i.prototype.getWorldOrgY=function(){return this.lworldOrgY},i.prototype.setWorldOrgY=function(o){this.lworldOrgY=o},i.prototype.getWorldExtX=function(){return this.lworldExtX},i.prototype.setWorldExtX=function(o){this.lworldExtX=o},i.prototype.getWorldExtY=function(){return this.lworldExtY},i.prototype.setWorldExtY=function(o){this.lworldExtY=o},i.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX},i.prototype.setDeviceOrgX=function(o){this.ldeviceOrgX=o},i.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY},i.prototype.setDeviceOrgY=function(o){this.ldeviceOrgY=o},i.prototype.getDeviceExtX=function(){return this.ldeviceExtX},i.prototype.setDeviceExtX=function(o){this.ldeviceExtX=o},i.prototype.getDeviceExtY=function(){return this.ldeviceExtY},i.prototype.setDeviceExtY=function(o){this.ldeviceExtY=o},i.prototype.transformX=function(o){var a=0,u=this.lworldExtX;return u!=0&&(a=this.ldeviceOrgX+(o-this.lworldOrgX)*this.ldeviceExtX/u),a},i.prototype.transformY=function(o){var a=0,u=this.lworldExtY;return u!=0&&(a=this.ldeviceOrgY+(o-this.lworldOrgY)*this.ldeviceExtY/u),a},i.prototype.inverseTransformX=function(o){var a=0,u=this.ldeviceExtX;return u!=0&&(a=this.lworldOrgX+(o-this.ldeviceOrgX)*this.lworldExtX/u),a},i.prototype.inverseTransformY=function(o){var a=0,u=this.ldeviceExtY;return u!=0&&(a=this.lworldOrgY+(o-this.ldeviceOrgY)*this.lworldExtY/u),a},i.prototype.inverseTransformPoint=function(o){var a=new n(this.inverseTransformX(o.x),this.inverseTransformY(o.y));return a},r.exports=i},function(r,e,t){"use strict";function n(f){if(Array.isArray(f)){for(var h=0,v=Array(f.length);h<f.length;h++)v[h]=f[h];return v}else return Array.from(f)}var i=t(15),o=t(7),a=t(0),u=t(8),s=t(9);function l(){i.call(this),this.useSmartIdealEdgeLengthCalculation=o.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.idealEdgeLength=o.DEFAULT_EDGE_LENGTH,this.springConstant=o.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=o.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=o.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=o.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.displacementThresholdPerNode=3*o.DEFAULT_EDGE_LENGTH/100,this.coolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.initialCoolingFactor=o.DEFAULT_COOLING_FACTOR_INCREMENTAL,this.totalDisplacement=0,this.oldTotalDisplacement=0,this.maxIterations=o.MAX_ITERATIONS}l.prototype=Object.create(i.prototype);for(var c in i)l[c]=i[c];l.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.totalIterations=0,this.notAnimatedIterations=0,this.useFRGridVariant=o.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION,this.grid=[]},l.prototype.calcIdealEdgeLengths=function(){for(var f,h,v,d,y,p,g=this.getGraphManager().getAllEdges(),b=0;b<g.length;b++)f=g[b],f.idealLength=this.idealEdgeLength,f.isInterGraph&&(v=f.getSource(),d=f.getTarget(),y=f.getSourceInLca().getEstimatedSize(),p=f.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(f.idealLength+=y+p-2*a.SIMPLE_NODE_SIZE),h=f.getLca().getInclusionTreeDepth(),f.idealLength+=o.DEFAULT_EDGE_LENGTH*o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*(v.getInclusionTreeDepth()+d.getInclusionTreeDepth()-2*h))},l.prototype.initSpringEmbedder=function(){var f=this.getAllNodes().length;this.incremental?(f>o.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*o.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-o.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT_INCREMENTAL):(f>o.ADAPTATION_LOWER_NODE_LIMIT?this.coolingFactor=Math.max(o.COOLING_ADAPTATION_FACTOR,1-(f-o.ADAPTATION_LOWER_NODE_LIMIT)/(o.ADAPTATION_UPPER_NODE_LIMIT-o.ADAPTATION_LOWER_NODE_LIMIT)*(1-o.COOLING_ADAPTATION_FACTOR)):this.coolingFactor=1,this.initialCoolingFactor=this.coolingFactor,this.maxNodeDisplacement=o.MAX_NODE_DISPLACEMENT),this.maxIterations=Math.max(this.getAllNodes().length*5,this.maxIterations),this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length,this.repulsionRange=this.calcRepulsionRange()},l.prototype.calcSpringForces=function(){for(var f=this.getAllEdges(),h,v=0;v<f.length;v++)h=f[v],this.calcSpringForce(h,h.idealLength)},l.prototype.calcRepulsionForces=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v,d,y,p,g=this.getAllNodes(),b;if(this.useFRGridVariant)for(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&f&&this.updateGrid(),b=new Set,v=0;v<g.length;v++)y=g[v],this.calculateRepulsionForceOfANode(y,b,f,h),b.add(y);else for(v=0;v<g.length;v++)for(y=g[v],d=v+1;d<g.length;d++)p=g[d],y.getOwner()==p.getOwner()&&this.calcRepulsionForce(y,p)},l.prototype.calcGravitationalForces=function(){for(var f,h=this.getAllNodesToApplyGravitation(),v=0;v<h.length;v++)f=h[v],this.calcGravitationalForce(f)},l.prototype.moveNodes=function(){for(var f=this.getAllNodes(),h,v=0;v<f.length;v++)h=f[v],h.move()},l.prototype.calcSpringForce=function(f,h){var v=f.getSource(),d=f.getTarget(),y,p,g,b;if(this.uniformLeafNodeSizes&&v.getChild()==null&&d.getChild()==null)f.updateLengthSimple();else if(f.updateLength(),f.isOverlapingSourceAndTarget)return;y=f.getLength(),y!=0&&(p=this.springConstant*(y-h),g=p*(f.lengthX/y),b=p*(f.lengthY/y),v.springForceX+=g,v.springForceY+=b,d.springForceX-=g,d.springForceY-=b)},l.prototype.calcRepulsionForce=function(f,h){var v=f.getRect(),d=h.getRect(),y=new Array(2),p=new Array(4),g,b,m,_,w,O,E;if(v.intersects(d)){u.calcSeparationAmount(v,d,y,o.DEFAULT_EDGE_LENGTH/2),O=2*y[0],E=2*y[1];var S=f.noOfChildren*h.noOfChildren/(f.noOfChildren+h.noOfChildren);f.repulsionForceX-=S*O,f.repulsionForceY-=S*E,h.repulsionForceX+=S*O,h.repulsionForceY+=S*E}else this.uniformLeafNodeSizes&&f.getChild()==null&&h.getChild()==null?(g=d.getCenterX()-v.getCenterX(),b=d.getCenterY()-v.getCenterY()):(u.getIntersection(v,d,p),g=p[2]-p[0],b=p[3]-p[1]),Math.abs(g)<o.MIN_REPULSION_DIST&&(g=s.sign(g)*o.MIN_REPULSION_DIST),Math.abs(b)<o.MIN_REPULSION_DIST&&(b=s.sign(b)*o.MIN_REPULSION_DIST),m=g*g+b*b,_=Math.sqrt(m),w=this.repulsionConstant*f.noOfChildren*h.noOfChildren/m,O=w*g/_,E=w*b/_,f.repulsionForceX-=O,f.repulsionForceY-=E,h.repulsionForceX+=O,h.repulsionForceY+=E},l.prototype.calcGravitationalForce=function(f){var h,v,d,y,p,g,b,m;h=f.getOwner(),v=(h.getRight()+h.getLeft())/2,d=(h.getTop()+h.getBottom())/2,y=f.getCenterX()-v,p=f.getCenterY()-d,g=Math.abs(y)+f.getWidth()/2,b=Math.abs(p)+f.getHeight()/2,f.getOwner()==this.graphManager.getRoot()?(m=h.getEstimatedSize()*this.gravityRangeFactor,(g>m||b>m)&&(f.gravitationForceX=-this.gravityConstant*y,f.gravitationForceY=-this.gravityConstant*p)):(m=h.getEstimatedSize()*this.compoundGravityRangeFactor,(g>m||b>m)&&(f.gravitationForceX=-this.gravityConstant*y*this.compoundGravityConstant,f.gravitationForceY=-this.gravityConstant*p*this.compoundGravityConstant))},l.prototype.isConverged=function(){var f,h=!1;return this.totalIterations>this.maxIterations/3&&(h=Math.abs(this.totalDisplacement-this.oldTotalDisplacement)<2),f=this.totalDisplacement<this.totalDisplacementThreshold,this.oldTotalDisplacement=this.totalDisplacement,f||h},l.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)},l.prototype.calcNoOfChildrenForAllNodes=function(){for(var f,h=this.graphManager.getAllNodes(),v=0;v<h.length;v++)f=h[v],f.noOfChildren=f.getNoOfChildren()},l.prototype.calcGrid=function(f){var h=0,v=0;h=parseInt(Math.ceil((f.getRight()-f.getLeft())/this.repulsionRange)),v=parseInt(Math.ceil((f.getBottom()-f.getTop())/this.repulsionRange));for(var d=new Array(h),y=0;y<h;y++)d[y]=new Array(v);for(var y=0;y<h;y++)for(var p=0;p<v;p++)d[y][p]=new Array;return d},l.prototype.addNodeToGrid=function(f,h,v){var d=0,y=0,p=0,g=0;d=parseInt(Math.floor((f.getRect().x-h)/this.repulsionRange)),y=parseInt(Math.floor((f.getRect().width+f.getRect().x-h)/this.repulsionRange)),p=parseInt(Math.floor((f.getRect().y-v)/this.repulsionRange)),g=parseInt(Math.floor((f.getRect().height+f.getRect().y-v)/this.repulsionRange));for(var b=d;b<=y;b++)for(var m=p;m<=g;m++)this.grid[b][m].push(f),f.setGridCoordinates(d,y,p,g)},l.prototype.updateGrid=function(){var f,h,v=this.getAllNodes();for(this.grid=this.calcGrid(this.graphManager.getRoot()),f=0;f<v.length;f++)h=v[f],this.addNodeToGrid(h,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())},l.prototype.calculateRepulsionForceOfANode=function(f,h,v,d){if(this.totalIterations%o.GRID_CALCULATION_CHECK_PERIOD==1&&v||d){var y=new Set;f.surrounding=new Array;for(var p,g=this.grid,b=f.startX-1;b<f.finishX+2;b++)for(var m=f.startY-1;m<f.finishY+2;m++)if(!(b<0||m<0||b>=g.length||m>=g[0].length)){for(var _=0;_<g[b][m].length;_++)if(p=g[b][m][_],!(f.getOwner()!=p.getOwner()||f==p)&&!h.has(p)&&!y.has(p)){var w=Math.abs(f.getCenterX()-p.getCenterX())-(f.getWidth()/2+p.getWidth()/2),O=Math.abs(f.getCenterY()-p.getCenterY())-(f.getHeight()/2+p.getHeight()/2);w<=this.repulsionRange&&O<=this.repulsionRange&&y.add(p)}}f.surrounding=[].concat(n(y))}for(b=0;b<f.surrounding.length;b++)this.calcRepulsionForce(f,f.surrounding[b])},l.prototype.calcRepulsionRange=function(){return 0},r.exports=l},function(r,e,t){"use strict";var n=t(1),i=t(7);function o(u,s,l){n.call(this,u,s,l),this.idealLength=i.DEFAULT_EDGE_LENGTH}o.prototype=Object.create(n.prototype);for(var a in n)o[a]=n[a];r.exports=o},function(r,e,t){"use strict";var n=t(3);function i(a,u,s,l){n.call(this,a,u,s,l),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0,this.startX=0,this.finishX=0,this.startY=0,this.finishY=0,this.surrounding=[]}i.prototype=Object.create(n.prototype);for(var o in n)i[o]=n[o];i.prototype.setGridCoordinates=function(a,u,s,l){this.startX=a,this.finishX=u,this.startY=s,this.finishY=l},r.exports=i},function(r,e,t){"use strict";function n(i,o){this.width=0,this.height=0,i!==null&&o!==null&&(this.height=o,this.width=i)}n.prototype.getWidth=function(){return this.width},n.prototype.setWidth=function(i){this.width=i},n.prototype.getHeight=function(){return this.height},n.prototype.setHeight=function(i){this.height=i},r.exports=n},function(r,e,t){"use strict";var n=t(14);function i(){this.map={},this.keys=[]}i.prototype.put=function(o,a){var u=n.createID(o);this.contains(u)||(this.map[u]=a,this.keys.push(o))},i.prototype.contains=function(o){var a=n.createID(o);return this.map[o]!=null},i.prototype.get=function(o){var a=n.createID(o);return this.map[a]},i.prototype.keySet=function(){return this.keys},r.exports=i},function(r,e,t){"use strict";var n=t(14);function i(){this.set={}}i.prototype.add=function(o){var a=n.createID(o);this.contains(a)||(this.set[a]=o)},i.prototype.remove=function(o){delete this.set[n.createID(o)]},i.prototype.clear=function(){this.set={}},i.prototype.contains=function(o){return this.set[n.createID(o)]==o},i.prototype.isEmpty=function(){return this.size()===0},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAllTo=function(o){for(var a=Object.keys(this.set),u=a.length,s=0;s<u;s++)o.push(this.set[a[s]])},i.prototype.size=function(){return Object.keys(this.set).length},i.prototype.addAll=function(o){for(var a=o.length,u=0;u<a;u++){var s=o[u];this.add(s)}},r.exports=i},function(r,e,t){"use strict";var n=function(){function u(s,l){for(var c=0;c<l.length;c++){var f=l[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(s,f.key,f)}}return function(s,l,c){return l&&u(s.prototype,l),c&&u(s,c),s}}();function i(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}var o=t(11),a=function(){function u(s,l){i(this,u),(l!==null||l!==void 0)&&(this.compareFunction=this._defaultCompareFunction);var c=void 0;s instanceof o?c=s.size():c=s.length,this._quicksort(s,0,c-1)}return n(u,[{key:"_quicksort",value:function(l,c,f){if(c<f){var h=this._partition(l,c,f);this._quicksort(l,c,h),this._quicksort(l,h+1,f)}}},{key:"_partition",value:function(l,c,f){for(var h=this._get(l,c),v=c,d=f;;){for(;this.compareFunction(h,this._get(l,d));)d--;for(;this.compareFunction(this._get(l,v),h);)v++;if(v<d)this._swap(l,v,d),v++,d--;else return d}}},{key:"_get",value:function(l,c){return l instanceof o?l.get_object_at(c):l[c]}},{key:"_set",value:function(l,c,f){l instanceof o?l.set_object_at(c,f):l[c]=f}},{key:"_swap",value:function(l,c,f){var h=this._get(l,c);this._set(l,c,this._get(l,f)),this._set(l,f,h)}},{key:"_defaultCompareFunction",value:function(l,c){return c>l}}]),u}();r.exports=a},function(r,e,t){"use strict";var n=function(){function a(u,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,s,l){return s&&a(u.prototype,s),l&&a(u,l),u}}();function i(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function a(u,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:-1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;i(this,a),this.sequence1=u,this.sequence2=s,this.match_score=l,this.mismatch_penalty=c,this.gap_penalty=f,this.iMax=u.length+1,this.jMax=s.length+1,this.grid=new Array(this.iMax);for(var h=0;h<this.iMax;h++){this.grid[h]=new Array(this.jMax);for(var v=0;v<this.jMax;v++)this.grid[h][v]=0}this.tracebackGrid=new Array(this.iMax);for(var d=0;d<this.iMax;d++){this.tracebackGrid[d]=new Array(this.jMax);for(var y=0;y<this.jMax;y++)this.tracebackGrid[d][y]=[null,null,null]}this.alignments=[],this.score=-1,this.computeGrids()}return n(a,[{key:"getScore",value:function(){return this.score}},{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var s=1;s<this.jMax;s++)this.grid[0][s]=this.grid[0][s-1]+this.gap_penalty,this.tracebackGrid[0][s]=[!1,!1,!0];for(var l=1;l<this.iMax;l++)this.grid[l][0]=this.grid[l-1][0]+this.gap_penalty,this.tracebackGrid[l][0]=[!1,!0,!1];for(var c=1;c<this.iMax;c++)for(var f=1;f<this.jMax;f++){var h=void 0;this.sequence1[c-1]===this.sequence2[f-1]?h=this.grid[c-1][f-1]+this.match_score:h=this.grid[c-1][f-1]+this.mismatch_penalty;var v=this.grid[c-1][f]+this.gap_penalty,d=this.grid[c][f-1]+this.gap_penalty,y=[h,v,d],p=this.arrayAllMaxIndexes(y);this.grid[c][f]=y[p[0]],this.tracebackGrid[c][f]=[p.includes(0),p.includes(1),p.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var s=[];for(s.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});s[0];){var l=s[0],c=this.tracebackGrid[l.pos[0]][l.pos[1]];c[0]&&s.push({pos:[l.pos[0]-1,l.pos[1]-1],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),c[1]&&s.push({pos:[l.pos[0]-1,l.pos[1]],seq1:this.sequence1[l.pos[0]-1]+l.seq1,seq2:"-"+l.seq2}),c[2]&&s.push({pos:[l.pos[0],l.pos[1]-1],seq1:"-"+l.seq1,seq2:this.sequence2[l.pos[1]-1]+l.seq2}),l.pos[0]===0&&l.pos[1]===0&&this.alignments.push({sequence1:l.seq1,sequence2:l.seq2}),s.shift()}return this.alignments}},{key:"getAllIndexes",value:function(s,l){for(var c=[],f=-1;(f=s.indexOf(l,f+1))!==-1;)c.push(f);return c}},{key:"arrayAllMaxIndexes",value:function(s){return this.getAllIndexes(s,Math.max.apply(null,s))}}]),a}();r.exports=o},function(r,e,t){"use strict";var n=function(){};n.FDLayout=t(18),n.FDLayoutConstants=t(7),n.FDLayoutEdge=t(19),n.FDLayoutNode=t(20),n.DimensionD=t(21),n.HashMap=t(22),n.HashSet=t(23),n.IGeometry=t(8),n.IMath=t(9),n.Integer=t(10),n.Point=t(12),n.PointD=t(4),n.RandomSeed=t(16),n.RectangleD=t(13),n.Transform=t(17),n.UniqueIDGeneretor=t(14),n.Quicksort=t(24),n.LinkedList=t(11),n.LGraphObject=t(2),n.LGraph=t(5),n.LEdge=t(1),n.LGraphManager=t(6),n.LNode=t(3),n.Layout=t(15),n.LayoutConstants=t(0),n.NeedlemanWunsch=t(25),r.exports=n},function(r,e,t){"use strict";function n(){this.listeners=[]}var i=n.prototype;i.addListener=function(o,a){this.listeners.push({event:o,callback:a})},i.removeListener=function(o,a){for(var u=this.listeners.length;u>=0;u--){var s=this.listeners[u];s.event===o&&s.callback===a&&this.listeners.splice(u,1)}},i.emit=function(o,a){for(var u=0;u<this.listeners.length;u++){var s=this.listeners[u];o===s.event&&s.callback(a)}},r.exports=n}])})});var PE=ge((hp,CE)=>{(function(e,t){typeof hp=="object"&&typeof CE=="object"?CE.exports=t(TE()):typeof define=="function"&&define.amd?define(["layout-base"],t):typeof hp=="object"?hp.coseBase=t(TE()):e.coseBase=t(e.layoutBase)})(hp,function(r){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(i){return i},n.d=function(i,o,a){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=7)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var i=n(0).FDLayoutConstants;function o(){}for(var a in i)o[a]=i[a];o.DEFAULT_USE_MULTI_LEVEL_SCALING=!1,o.DEFAULT_RADIAL_SEPARATION=i.DEFAULT_EDGE_LENGTH,o.DEFAULT_COMPONENT_SEPERATION=60,o.TILE=!0,o.TILING_PADDING_VERTICAL=10,o.TILING_PADDING_HORIZONTAL=10,o.TREE_REDUCTION_ON_INCREMENTAL=!1,e.exports=o},function(e,t,n){"use strict";var i=n(0).FDLayoutEdge;function o(u,s,l){i.call(this,u,s,l)}o.prototype=Object.create(i.prototype);for(var a in i)o[a]=i[a];e.exports=o},function(e,t,n){"use strict";var i=n(0).LGraph;function o(u,s,l){i.call(this,u,s,l)}o.prototype=Object.create(i.prototype);for(var a in i)o[a]=i[a];e.exports=o},function(e,t,n){"use strict";var i=n(0).LGraphManager;function o(u){i.call(this,u)}o.prototype=Object.create(i.prototype);for(var a in i)o[a]=i[a];e.exports=o},function(e,t,n){"use strict";var i=n(0).FDLayoutNode,o=n(0).IMath;function a(s,l,c,f){i.call(this,s,l,c,f)}a.prototype=Object.create(i.prototype);for(var u in i)a[u]=i[u];a.prototype.move=function(){var s=this.graphManager.getLayout();this.displacementX=s.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren,this.displacementY=s.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren,Math.abs(this.displacementX)>s.coolingFactor*s.maxNodeDisplacement&&(this.displacementX=s.coolingFactor*s.maxNodeDisplacement*o.sign(this.displacementX)),Math.abs(this.displacementY)>s.coolingFactor*s.maxNodeDisplacement&&(this.displacementY=s.coolingFactor*s.maxNodeDisplacement*o.sign(this.displacementY)),this.child==null?this.moveBy(this.displacementX,this.displacementY):this.child.getNodes().length==0?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY),s.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY),this.springForceX=0,this.springForceY=0,this.repulsionForceX=0,this.repulsionForceY=0,this.gravitationForceX=0,this.gravitationForceY=0,this.displacementX=0,this.displacementY=0},a.prototype.propogateDisplacementToChildren=function(s,l){for(var c=this.getChild().getNodes(),f,h=0;h<c.length;h++)f=c[h],f.getChild()==null?(f.moveBy(s,l),f.displacementX+=s,f.displacementY+=l):f.propogateDisplacementToChildren(s,l)},a.prototype.setPred1=function(s){this.pred1=s},a.prototype.getPred1=function(){return pred1},a.prototype.getPred2=function(){return pred2},a.prototype.setNext=function(s){this.next=s},a.prototype.getNext=function(){return next},a.prototype.setProcessed=function(s){this.processed=s},a.prototype.isProcessed=function(){return processed},e.exports=a},function(e,t,n){"use strict";var i=n(0).FDLayout,o=n(4),a=n(3),u=n(5),s=n(2),l=n(1),c=n(0).FDLayoutConstants,f=n(0).LayoutConstants,h=n(0).Point,v=n(0).PointD,d=n(0).Layout,y=n(0).Integer,p=n(0).IGeometry,g=n(0).LGraph,b=n(0).Transform;function m(){i.call(this),this.toBeTiled={}}m.prototype=Object.create(i.prototype);for(var _ in i)m[_]=i[_];m.prototype.newGraphManager=function(){var w=new o(this);return this.graphManager=w,w},m.prototype.newGraph=function(w){return new a(null,this.graphManager,w)},m.prototype.newNode=function(w){return new u(this.graphManager,w)},m.prototype.newEdge=function(w){return new s(null,null,w)},m.prototype.initParameters=function(){i.prototype.initParameters.call(this,arguments),this.isSubLayout||(l.DEFAULT_EDGE_LENGTH<10?this.idealEdgeLength=10:this.idealEdgeLength=l.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=l.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=c.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=c.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=c.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=c.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=c.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=c.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.growTreeIterations=0,this.afterGrowthIterations=0,this.isTreeGrowing=!1,this.isGrowthFinished=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/c.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=c.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)},m.prototype.layout=function(){var w=f.DEFAULT_CREATE_BENDS_AS_NEEDED;return w&&(this.createBendpoints(),this.graphManager.resetAllEdges()),this.level=0,this.classicLayout()},m.prototype.classicLayout=function(){if(this.nodesWithGravity=this.calculateNodesToApplyGravitationTo(),this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity),this.calcNoOfChildrenForAllNodes(),this.graphManager.calcLowestCommonAncestors(),this.graphManager.calcInclusionTreeDepths(),this.graphManager.getRoot().calcEstimatedSize(),this.calcIdealEdgeLengths(),this.incremental){if(l.TREE_REDUCTION_ON_INCREMENTAL){this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(I){return O.has(I)});this.graphManager.setAllNodesToApplyGravitation(E)}}else{var w=this.getFlatForest();if(w.length>0)this.positionNodesRadially(w);else{this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation();var O=new Set(this.getAllNodes()),E=this.nodesWithGravity.filter(function(S){return O.has(S)});this.graphManager.setAllNodesToApplyGravitation(E),this.positionNodesRandomly()}}return this.initSpringEmbedder(),this.runSpringEmbedder(),!0},m.prototype.tick=function(){if(this.totalIterations++,this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;if(this.totalIterations%c.CONVERGENCE_CHECK_PERIOD==0&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(this.prunedNodesAll.length>0)this.isTreeGrowing=!0;else return!0;this.coolingCycle++,this.layoutQuality==0?this.coolingAdjuster=this.coolingCycle:this.layoutQuality==1&&(this.coolingAdjuster=this.coolingCycle/3),this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature),this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(this.growTreeIterations%10==0)if(this.prunedNodesAll.length>0){this.graphManager.updateBounds(),this.updateGrid(),this.growTree(this.prunedNodesAll),this.graphManager.resetAllNodesToApplyGravitation();var w=new Set(this.getAllNodes()),O=this.nodesWithGravity.filter(function(P){return w.has(P)});this.graphManager.setAllNodesToApplyGravitation(O),this.graphManager.updateBounds(),this.updateGrid(),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;this.afterGrowthIterations%10==0&&(this.graphManager.updateBounds(),this.updateGrid()),this.coolingFactor=c.DEFAULT_COOLING_FACTOR_INCREMENTAL*((100-this.afterGrowthIterations)/100),this.afterGrowthIterations++}var E=!this.isTreeGrowing&&!this.isGrowthFinished,S=this.growTreeIterations%10==1&&this.isTreeGrowing||this.afterGrowthIterations%10==1&&this.isGrowthFinished;return this.totalDisplacement=0,this.graphManager.updateBounds(),this.calcSpringForces(),this.calcRepulsionForces(E,S),this.calcGravitationalForces(),this.moveNodes(),this.animate(),!1},m.prototype.getPositionsData=function(){for(var w=this.graphManager.getAllNodes(),O={},E=0;E<w.length;E++){var S=w[E].rect,P=w[E].id;O[P]={id:P,x:S.getCenterX(),y:S.getCenterY(),w:S.width,h:S.height}}return O},m.prototype.runSpringEmbedder=function(){this.initialAnimationPeriod=25,this.animationPeriod=this.initialAnimationPeriod;var w=!1;if(c.ANIMATE==="during")this.emit("layoutstarted");else{for(;!w;)w=this.tick();this.graphManager.updateBounds()}},m.prototype.calculateNodesToApplyGravitationTo=function(){var w=[],O,E=this.graphManager.getGraphs(),S=E.length,P;for(P=0;P<S;P++)O=E[P],O.updateConnected(),O.isConnected||(w=w.concat(O.getNodes()));return w},m.prototype.createBendpoints=function(){var w=[];w=w.concat(this.graphManager.getAllEdges());var O=new Set,E;for(E=0;E<w.length;E++){var S=w[E];if(!O.has(S)){var P=S.getSource(),I=S.getTarget();if(P==I)S.getBendpoints().push(new v),S.getBendpoints().push(new v),this.createDummyNodesForBendpoints(S),O.add(S);else{var R=[];if(R=R.concat(P.getEdgeListToNode(I)),R=R.concat(I.getEdgeListToNode(P)),!O.has(R[0])){if(R.length>1){var D;for(D=0;D<R.length;D++){var k=R[D];k.getBendpoints().push(new v),this.createDummyNodesForBendpoints(k)}}R.forEach(function(N){O.add(N)})}}}if(O.size==w.length)break}},m.prototype.positionNodesRadially=function(w){for(var O=new h(0,0),E=Math.ceil(Math.sqrt(w.length)),S=0,P=0,I=0,R=new v(0,0),D=0;D<w.length;D++){D%E==0&&(I=0,P=S,D!=0&&(P+=l.DEFAULT_COMPONENT_SEPERATION),S=0);var k=w[D],N=d.findCenterOfTree(k);O.x=I,O.y=P,R=m.radialLayout(k,N,O),R.y>S&&(S=Math.floor(R.y)),I=Math.floor(R.x+l.DEFAULT_COMPONENT_SEPERATION)}this.transform(new v(f.WORLD_CENTER_X-R.x/2,f.WORLD_CENTER_Y-R.y/2))},m.radialLayout=function(w,O,E){var S=Math.max(this.maxDiagonalInTree(w),l.DEFAULT_RADIAL_SEPARATION);m.branchRadialLayout(O,null,0,359,0,S);var P=g.calculateBounds(w),I=new b;I.setDeviceOrgX(P.getMinX()),I.setDeviceOrgY(P.getMinY()),I.setWorldOrgX(E.x),I.setWorldOrgY(E.y);for(var R=0;R<w.length;R++){var D=w[R];D.transform(I)}var k=new v(P.getMaxX(),P.getMaxY());return I.inverseTransformPoint(k)},m.branchRadialLayout=function(w,O,E,S,P,I){var R=(S-E+1)/2;R<0&&(R+=180);var D=(R+E)%360,k=D*p.TWO_PI/360,N=Math.cos(k),B=P*Math.cos(k),z=P*Math.sin(k);w.setCenter(B,z);var F=[];F=F.concat(w.getEdges());var U=F.length;O!=null&&U--;for(var W=0,Y=F.length,X,Q=w.getEdgesBetween(O);Q.length>1;){var ue=Q[0];Q.splice(0,1);var ce=F.indexOf(ue);ce>=0&&F.splice(ce,1),Y--,U--}O!=null?X=(F.indexOf(Q[0])+1)%Y:X=0;for(var ae=Math.abs(S-E)/U,pe=X;W!=U;pe=++pe%Y){var fe=F[pe].getOtherEnd(w);if(fe!=O){var he=(E+W*ae)%360,ee=(he+ae)%360;m.branchRadialLayout(fe,w,he,ee,P+I,I),W++}}},m.maxDiagonalInTree=function(w){for(var O=y.MIN_VALUE,E=0;E<w.length;E++){var S=w[E],P=S.getDiagonal();P>O&&(O=P)}return O},m.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength},m.prototype.groupZeroDegreeMembers=function(){var w=this,O={};this.memberGroups={},this.idToDummyNode={};for(var E=[],S=this.graphManager.getAllNodes(),P=0;P<S.length;P++){var I=S[P],R=I.getParent();this.getNodeDegreeWithChildren(I)===0&&(R.id==null||!this.getToBeTiled(R))&&E.push(I)}for(var P=0;P<E.length;P++){var I=E[P],D=I.getParent().id;typeof O[D]>"u"&&(O[D]=[]),O[D]=O[D].concat(I)}Object.keys(O).forEach(function(k){if(O[k].length>1){var N="DummyCompound_"+k;w.memberGroups[N]=O[k];var B=O[k][0].getParent(),z=new u(w.graphManager);z.id=N,z.paddingLeft=B.paddingLeft||0,z.paddingRight=B.paddingRight||0,z.paddingBottom=B.paddingBottom||0,z.paddingTop=B.paddingTop||0,w.idToDummyNode[N]=z;var F=w.getGraphManager().add(w.newGraph(),z),U=B.getChild();U.add(z);for(var W=0;W<O[k].length;W++){var Y=O[k][W];U.remove(Y),F.add(Y)}}})},m.prototype.clearCompounds=function(){var w={},O={};this.performDFSOnCompounds();for(var E=0;E<this.compoundOrder.length;E++)O[this.compoundOrder[E].id]=this.compoundOrder[E],w[this.compoundOrder[E].id]=[].concat(this.compoundOrder[E].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[E].getChild()),this.compoundOrder[E].child=null;this.graphManager.resetAllNodes(),this.tileCompoundMembers(w,O)},m.prototype.clearZeroDegreeMembers=function(){var w=this,O=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(E){var S=w.idToDummyNode[E];O[E]=w.tileNodes(w.memberGroups[E],S.paddingLeft+S.paddingRight),S.rect.width=O[E].width,S.rect.height=O[E].height})},m.prototype.repopulateCompounds=function(){for(var w=this.compoundOrder.length-1;w>=0;w--){var O=this.compoundOrder[w],E=O.id,S=O.paddingLeft,P=O.paddingTop;this.adjustLocations(this.tiledMemberPack[E],O.rect.x,O.rect.y,S,P)}},m.prototype.repopulateZeroDegreeMembers=function(){var w=this,O=this.tiledZeroDegreePack;Object.keys(O).forEach(function(E){var S=w.idToDummyNode[E],P=S.paddingLeft,I=S.paddingTop;w.adjustLocations(O[E],S.rect.x,S.rect.y,P,I)})},m.prototype.getToBeTiled=function(w){var O=w.id;if(this.toBeTiled[O]!=null)return this.toBeTiled[O];var E=w.getChild();if(E==null)return this.toBeTiled[O]=!1,!1;for(var S=E.getNodes(),P=0;P<S.length;P++){var I=S[P];if(this.getNodeDegree(I)>0)return this.toBeTiled[O]=!1,!1;if(I.getChild()==null){this.toBeTiled[I.id]=!1;continue}if(!this.getToBeTiled(I))return this.toBeTiled[O]=!1,!1}return this.toBeTiled[O]=!0,!0},m.prototype.getNodeDegree=function(w){for(var O=w.id,E=w.getEdges(),S=0,P=0;P<E.length;P++){var I=E[P];I.getSource().id!==I.getTarget().id&&(S=S+1)}return S},m.prototype.getNodeDegreeWithChildren=function(w){var O=this.getNodeDegree(w);if(w.getChild()==null)return O;for(var E=w.getChild().getNodes(),S=0;S<E.length;S++){var P=E[S];O+=this.getNodeDegreeWithChildren(P)}return O},m.prototype.performDFSOnCompounds=function(){this.compoundOrder=[],this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())},m.prototype.fillCompexOrderByDFS=function(w){for(var O=0;O<w.length;O++){var E=w[O];E.getChild()!=null&&this.fillCompexOrderByDFS(E.getChild().getNodes()),this.getToBeTiled(E)&&this.compoundOrder.push(E)}},m.prototype.adjustLocations=function(w,O,E,S,P){O+=S,E+=P;for(var I=O,R=0;R<w.rows.length;R++){var D=w.rows[R];O=I;for(var k=0,N=0;N<D.length;N++){var B=D[N];B.rect.x=O,B.rect.y=E,O+=B.rect.width+w.horizontalPadding,B.rect.height>k&&(k=B.rect.height)}E+=k+w.verticalPadding}},m.prototype.tileCompoundMembers=function(w,O){var E=this;this.tiledMemberPack=[],Object.keys(w).forEach(function(S){var P=O[S];E.tiledMemberPack[S]=E.tileNodes(w[S],P.paddingLeft+P.paddingRight),P.rect.width=E.tiledMemberPack[S].width,P.rect.height=E.tiledMemberPack[S].height})},m.prototype.tileNodes=function(w,O){var E=l.TILING_PADDING_VERTICAL,S=l.TILING_PADDING_HORIZONTAL,P={rows:[],rowWidth:[],rowHeight:[],width:0,height:O,verticalPadding:E,horizontalPadding:S};w.sort(function(D,k){return D.rect.width*D.rect.height>k.rect.width*k.rect.height?-1:D.rect.width*D.rect.height<k.rect.width*k.rect.height?1:0});for(var I=0;I<w.length;I++){var R=w[I];P.rows.length==0?this.insertNodeToRow(P,R,0,O):this.canAddHorizontal(P,R.rect.width,R.rect.height)?this.insertNodeToRow(P,R,this.getShortestRowIndex(P),O):this.insertNodeToRow(P,R,P.rows.length,O),this.shiftToLastRow(P)}return P},m.prototype.insertNodeToRow=function(w,O,E,S){var P=S;if(E==w.rows.length){var I=[];w.rows.push(I),w.rowWidth.push(P),w.rowHeight.push(0)}var R=w.rowWidth[E]+O.rect.width;w.rows[E].length>0&&(R+=w.horizontalPadding),w.rowWidth[E]=R,w.width<R&&(w.width=R);var D=O.rect.height;E>0&&(D+=w.verticalPadding);var k=0;D>w.rowHeight[E]&&(k=w.rowHeight[E],w.rowHeight[E]=D,k=w.rowHeight[E]-k),w.height+=k,w.rows[E].push(O)},m.prototype.getShortestRowIndex=function(w){for(var O=-1,E=Number.MAX_VALUE,S=0;S<w.rows.length;S++)w.rowWidth[S]<E&&(O=S,E=w.rowWidth[S]);return O},m.prototype.getLongestRowIndex=function(w){for(var O=-1,E=Number.MIN_VALUE,S=0;S<w.rows.length;S++)w.rowWidth[S]>E&&(O=S,E=w.rowWidth[S]);return O},m.prototype.canAddHorizontal=function(w,O,E){var S=this.getShortestRowIndex(w);if(S<0)return!0;var P=w.rowWidth[S];if(P+w.horizontalPadding+O<=w.width)return!0;var I=0;w.rowHeight[S]<E&&S>0&&(I=E+w.verticalPadding-w.rowHeight[S]);var R;w.width-P>=O+w.horizontalPadding?R=(w.height+I)/(P+O+w.horizontalPadding):R=(w.height+I)/w.width,I=E+w.verticalPadding;var D;return w.width<O?D=(w.height+I)/O:D=(w.height+I)/w.width,D<1&&(D=1/D),R<1&&(R=1/R),R<D},m.prototype.shiftToLastRow=function(w){var O=this.getLongestRowIndex(w),E=w.rowWidth.length-1,S=w.rows[O],P=S[S.length-1],I=P.width+w.horizontalPadding;if(w.width-w.rowWidth[E]>I&&O!=E){S.splice(-1,1),w.rows[E].push(P),w.rowWidth[O]=w.rowWidth[O]-I,w.rowWidth[E]=w.rowWidth[E]+I,w.width=w.rowWidth[instance.getLongestRowIndex(w)];for(var R=Number.MIN_VALUE,D=0;D<S.length;D++)S[D].height>R&&(R=S[D].height);O>0&&(R+=w.verticalPadding);var k=w.rowHeight[O]+w.rowHeight[E];w.rowHeight[O]=R,w.rowHeight[E]<P.height+w.verticalPadding&&(w.rowHeight[E]=P.height+w.verticalPadding);var N=w.rowHeight[O]+w.rowHeight[E];w.height+=N-k,this.shiftToLastRow(w)}},m.prototype.tilingPreLayout=function(){l.TILE&&(this.groupZeroDegreeMembers(),this.clearCompounds(),this.clearZeroDegreeMembers())},m.prototype.tilingPostLayout=function(){l.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())},m.prototype.reduceTrees=function(){for(var w=[],O=!0,E;O;){var S=this.graphManager.getAllNodes(),P=[];O=!1;for(var I=0;I<S.length;I++)E=S[I],E.getEdges().length==1&&!E.getEdges()[0].isInterGraph&&E.getChild()==null&&(P.push([E,E.getEdges()[0],E.getOwner()]),O=!0);if(O==!0){for(var R=[],D=0;D<P.length;D++)P[D][0].getEdges().length==1&&(R.push(P[D]),P[D][0].getOwner().remove(P[D][0]));w.push(R),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()}}this.prunedNodesAll=w},m.prototype.growTree=function(w){for(var O=w.length,E=w[O-1],S,P=0;P<E.length;P++)S=E[P],this.findPlaceforPrunedNode(S),S[2].add(S[0]),S[2].add(S[1],S[1].source,S[1].target);w.splice(w.length-1,1),this.graphManager.resetAllNodes(),this.graphManager.resetAllEdges()},m.prototype.findPlaceforPrunedNode=function(w){var O,E,S=w[0];S==w[1].source?E=w[1].target:E=w[1].source;var P=E.startX,I=E.finishX,R=E.startY,D=E.finishY,k=0,N=0,B=0,z=0,F=[k,B,N,z];if(R>0)for(var U=P;U<=I;U++)F[0]+=this.grid[U][R-1].length+this.grid[U][R].length-1;if(I<this.grid.length-1)for(var U=R;U<=D;U++)F[1]+=this.grid[I+1][U].length+this.grid[I][U].length-1;if(D<this.grid[0].length-1)for(var U=P;U<=I;U++)F[2]+=this.grid[U][D+1].length+this.grid[U][D].length-1;if(P>0)for(var U=R;U<=D;U++)F[3]+=this.grid[P-1][U].length+this.grid[P][U].length-1;for(var W=y.MAX_VALUE,Y,X,Q=0;Q<F.length;Q++)F[Q]<W?(W=F[Q],Y=1,X=Q):F[Q]==W&&Y++;if(Y==3&&W==0)F[0]==0&&F[1]==0&&F[2]==0?O=1:F[0]==0&&F[1]==0&&F[3]==0?O=0:F[0]==0&&F[2]==0&&F[3]==0?O=3:F[1]==0&&F[2]==0&&F[3]==0&&(O=2);else if(Y==2&&W==0){var ue=Math.floor(Math.random()*2);F[0]==0&&F[1]==0?ue==0?O=0:O=1:F[0]==0&&F[2]==0?ue==0?O=0:O=2:F[0]==0&&F[3]==0?ue==0?O=0:O=3:F[1]==0&&F[2]==0?ue==0?O=1:O=2:F[1]==0&&F[3]==0?ue==0?O=1:O=3:ue==0?O=2:O=3}else if(Y==4&&W==0){var ue=Math.floor(Math.random()*4);O=ue}else O=X;O==0?S.setCenter(E.getCenterX(),E.getCenterY()-E.getHeight()/2-c.DEFAULT_EDGE_LENGTH-S.getHeight()/2):O==1?S.setCenter(E.getCenterX()+E.getWidth()/2+c.DEFAULT_EDGE_LENGTH+S.getWidth()/2,E.getCenterY()):O==2?S.setCenter(E.getCenterX(),E.getCenterY()+E.getHeight()/2+c.DEFAULT_EDGE_LENGTH+S.getHeight()/2):S.setCenter(E.getCenterX()-E.getWidth()/2-c.DEFAULT_EDGE_LENGTH-S.getWidth()/2,E.getCenterY())},e.exports=m},function(e,t,n){"use strict";var i={};i.layoutBase=n(0),i.CoSEConstants=n(1),i.CoSEEdge=n(2),i.CoSEGraph=n(3),i.CoSEGraphManager=n(4),i.CoSELayout=n(6),i.CoSENode=n(5),e.exports=i}])})});var DA=ge((dp,AE)=>{(function(e,t){typeof dp=="object"&&typeof AE=="object"?AE.exports=t(PE()):typeof define=="function"&&define.amd?define(["cose-base"],t):typeof dp=="object"?dp.cytoscapeCoseBilkent=t(PE()):e.cytoscapeCoseBilkent=t(e.coseBase)})(dp,function(r){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.i=function(i){return i},n.d=function(i,o,a){n.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:a})},n.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return n.d(o,"a",o),o},n.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},n.p="",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var i=n(0).layoutBase.LayoutConstants,o=n(0).layoutBase.FDLayoutConstants,a=n(0).CoSEConstants,u=n(0).CoSELayout,s=n(0).CoSENode,l=n(0).layoutBase.PointD,c=n(0).layoutBase.DimensionD,f={ready:function(){},stop:function(){},quality:"default",nodeDimensionsIncludeLabels:!1,refresh:30,fit:!0,padding:10,randomize:!0,nodeRepulsion:4500,idealEdgeLength:50,edgeElasticity:.45,nestingFactor:.1,gravity:.25,numIter:2500,tile:!0,animate:"end",animationDuration:500,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.5};function h(p,g){var b={};for(var m in p)b[m]=p[m];for(var m in g)b[m]=g[m];return b}function v(p){this.options=h(f,p),d(this.options)}var d=function(g){g.nodeRepulsion!=null&&(a.DEFAULT_REPULSION_STRENGTH=o.DEFAULT_REPULSION_STRENGTH=g.nodeRepulsion),g.idealEdgeLength!=null&&(a.DEFAULT_EDGE_LENGTH=o.DEFAULT_EDGE_LENGTH=g.idealEdgeLength),g.edgeElasticity!=null&&(a.DEFAULT_SPRING_STRENGTH=o.DEFAULT_SPRING_STRENGTH=g.edgeElasticity),g.nestingFactor!=null&&(a.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=o.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=g.nestingFactor),g.gravity!=null&&(a.DEFAULT_GRAVITY_STRENGTH=o.DEFAULT_GRAVITY_STRENGTH=g.gravity),g.numIter!=null&&(a.MAX_ITERATIONS=o.MAX_ITERATIONS=g.numIter),g.gravityRange!=null&&(a.DEFAULT_GRAVITY_RANGE_FACTOR=o.DEFAULT_GRAVITY_RANGE_FACTOR=g.gravityRange),g.gravityCompound!=null&&(a.DEFAULT_COMPOUND_GRAVITY_STRENGTH=o.DEFAULT_COMPOUND_GRAVITY_STRENGTH=g.gravityCompound),g.gravityRangeCompound!=null&&(a.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=o.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=g.gravityRangeCompound),g.initialEnergyOnIncremental!=null&&(a.DEFAULT_COOLING_FACTOR_INCREMENTAL=o.DEFAULT_COOLING_FACTOR_INCREMENTAL=g.initialEnergyOnIncremental),g.quality=="draft"?i.QUALITY=0:g.quality=="proof"?i.QUALITY=2:i.QUALITY=1,a.NODE_DIMENSIONS_INCLUDE_LABELS=o.NODE_DIMENSIONS_INCLUDE_LABELS=i.NODE_DIMENSIONS_INCLUDE_LABELS=g.nodeDimensionsIncludeLabels,a.DEFAULT_INCREMENTAL=o.DEFAULT_INCREMENTAL=i.DEFAULT_INCREMENTAL=!g.randomize,a.ANIMATE=o.ANIMATE=i.ANIMATE=g.animate,a.TILE=g.tile,a.TILING_PADDING_VERTICAL=typeof g.tilingPaddingVertical=="function"?g.tilingPaddingVertical.call():g.tilingPaddingVertical,a.TILING_PADDING_HORIZONTAL=typeof g.tilingPaddingHorizontal=="function"?g.tilingPaddingHorizontal.call():g.tilingPaddingHorizontal};v.prototype.run=function(){var p,g,b=this.options,m=this.idToLNode={},_=this.layout=new u,w=this;w.stopped=!1,this.cy=this.options.cy,this.cy.trigger({type:"layoutstart",layout:this});var O=_.newGraphManager();this.gm=O;var E=this.options.eles.nodes(),S=this.options.eles.edges();this.root=O.addRoot(),this.processChildrenList(this.root,this.getTopMostNodes(E),_);for(var P=0;P<S.length;P++){var I=S[P],R=this.idToLNode[I.data("source")],D=this.idToLNode[I.data("target")];if(R!==D&&R.getEdgesBetween(D).length==0){var k=O.add(_.newEdge(),R,D);k.id=I.id()}}var N=function(F,U){typeof F=="number"&&(F=U);var W=F.data("id"),Y=w.idToLNode[W];return{x:Y.getRect().getCenterX(),y:Y.getRect().getCenterY()}},B=function z(){for(var F=function(){b.fit&&b.cy.fit(b.eles,b.padding),p||(p=!0,w.cy.one("layoutready",b.ready),w.cy.trigger({type:"layoutready",layout:w}))},U=w.options.refresh,W,Y=0;Y<U&&!W;Y++)W=w.stopped||w.layout.tick();if(W){_.checkLayoutSuccess()&&!_.isSubLayout&&_.doPostLayout(),_.tilingPostLayout&&_.tilingPostLayout(),_.isLayoutFinished=!0,w.options.eles.nodes().positions(N),F(),w.cy.one("layoutstop",w.options.stop),w.cy.trigger({type:"layoutstop",layout:w}),g&&cancelAnimationFrame(g),p=!1;return}var X=w.layout.getPositionsData();b.eles.nodes().positions(function(Q,ue){if(typeof Q=="number"&&(Q=ue),!Q.isParent()){for(var ce=Q.id(),ae=X[ce],pe=Q;ae==null&&(ae=X[pe.data("parent")]||X["DummyCompound_"+pe.data("parent")],X[ce]=ae,pe=pe.parent()[0],pe!=null););return ae!=null?{x:ae.x,y:ae.y}:{x:Q.position("x"),y:Q.position("y")}}}),F(),g=requestAnimationFrame(z)};return _.addListener("layoutstarted",function(){w.options.animate==="during"&&(g=requestAnimationFrame(B))}),_.runLayout(),this.options.animate!=="during"&&(w.options.eles.nodes().not(":parent").layoutPositions(w,w.options,N),p=!1),this},v.prototype.getTopMostNodes=function(p){for(var g={},b=0;b<p.length;b++)g[p[b].id()]=!0;var m=p.filter(function(_,w){typeof _=="number"&&(_=w);for(var O=_.parent()[0];O!=null;){if(g[O.id()])return!1;O=O.parent()[0]}return!0});return m},v.prototype.processChildrenList=function(p,g,b){for(var m=g.length,_=0;_<m;_++){var w=g[_],O=w.children(),E,S=w.layoutDimensions({nodeDimensionsIncludeLabels:this.options.nodeDimensionsIncludeLabels});if(w.outerWidth()!=null&&w.outerHeight()!=null?E=p.add(new s(b.graphManager,new l(w.position("x")-S.w/2,w.position("y")-S.h/2),new c(parseFloat(S.w),parseFloat(S.h)))):E=p.add(new s(this.graphManager)),E.id=w.data("id"),E.paddingLeft=parseInt(w.css("padding")),E.paddingTop=parseInt(w.css("padding")),E.paddingRight=parseInt(w.css("padding")),E.paddingBottom=parseInt(w.css("padding")),this.options.nodeDimensionsIncludeLabels&&w.isParent()){var P=w.boundingBox({includeLabels:!0,includeNodes:!1}).w,I=w.boundingBox({includeLabels:!0,includeNodes:!1}).h,R=w.css("text-halign");E.labelWidth=P,E.labelHeight=I,E.labelPos=R}if(this.idToLNode[w.data("id")]=E,isNaN(E.rect.x)&&(E.rect.x=0),isNaN(E.rect.y)&&(E.rect.y=0),O!=null&&O.length>0){var D;D=b.getGraphManager().add(b.newGraph(),E),this.processChildrenList(D,O,b)}}},v.prototype.stop=function(){return this.stopped=!0,this};var y=function(g){g("layout","cose-bilkent",v)};typeof cytoscape<"u"&&y(cytoscape),e.exports=y}])})});var BA=ge((ede,jA)=>{function dY(){this.__data__=[],this.size=0}jA.exports=dY});var h0=ge((tde,FA)=>{function vY(r,e){return r===e||r!==r&&e!==e}FA.exports=vY});var vp=ge((rde,UA)=>{var pY=h0();function gY(r,e){for(var t=r.length;t--;)if(pY(r[t][0],e))return t;return-1}UA.exports=gY});var qA=ge((nde,zA)=>{var yY=vp(),mY=Array.prototype,bY=mY.splice;function _Y(r){var e=this.__data__,t=yY(e,r);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():bY.call(e,t,1),--this.size,!0}zA.exports=_Y});var VA=ge((ide,GA)=>{var wY=vp();function EY(r){var e=this.__data__,t=wY(e,r);return t<0?void 0:e[t][1]}GA.exports=EY});var HA=ge((ode,WA)=>{var xY=vp();function OY(r){return xY(this.__data__,r)>-1}WA.exports=OY});var XA=ge((ade,YA)=>{var SY=vp();function TY(r,e){var t=this.__data__,n=SY(t,r);return n<0?(++this.size,t.push([r,e])):t[n][1]=e,this}YA.exports=TY});var pp=ge((sde,KA)=>{var CY=BA(),PY=qA(),AY=VA(),RY=HA(),IY=XA();function Ih(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Ih.prototype.clear=CY;Ih.prototype.delete=PY;Ih.prototype.get=AY;Ih.prototype.has=RY;Ih.prototype.set=IY;KA.exports=Ih});var ZA=ge((ude,$A)=>{var DY=pp();function MY(){this.__data__=new DY,this.size=0}$A.exports=MY});var JA=ge((lde,QA)=>{function kY(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}QA.exports=kY});var tR=ge((cde,eR)=>{function NY(r){return this.__data__.get(r)}eR.exports=NY});var nR=ge((fde,rR)=>{function LY(r){return this.__data__.has(r)}rR.exports=LY});var IE=ge((hde,iR)=>{var jY=typeof global=="object"&&global&&global.Object===Object&&global;iR.exports=jY});var Ha=ge((dde,oR)=>{var BY=IE(),FY=typeof self=="object"&&self&&self.Object===Object&&self,UY=BY||FY||Function("return this")();oR.exports=UY});var jc=ge((vde,aR)=>{var zY=Ha(),qY=zY.Symbol;aR.exports=qY});var cR=ge((pde,lR)=>{var sR=jc(),uR=Object.prototype,GY=uR.hasOwnProperty,VY=uR.toString,gp=sR?sR.toStringTag:void 0;function WY(r){var e=GY.call(r,gp),t=r[gp];try{r[gp]=void 0;var n=!0}catch{}var i=VY.call(r);return n&&(e?r[gp]=t:delete r[gp]),i}lR.exports=WY});var hR=ge((gde,fR)=>{var HY=Object.prototype,YY=HY.toString;function XY(r){return YY.call(r)}fR.exports=XY});var Bc=ge((yde,pR)=>{var dR=jc(),KY=cR(),$Y=hR(),ZY="[object Null]",QY="[object Undefined]",vR=dR?dR.toStringTag:void 0;function JY(r){return r==null?r===void 0?QY:ZY:vR&&vR in Object(r)?KY(r):$Y(r)}pR.exports=JY});var gl=ge((mde,gR)=>{function eX(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}gR.exports=eX});var yp=ge((bde,yR)=>{var tX=Bc(),rX=gl(),nX="[object AsyncFunction]",iX="[object Function]",oX="[object GeneratorFunction]",aX="[object Proxy]";function sX(r){if(!rX(r))return!1;var e=tX(r);return e==iX||e==oX||e==nX||e==aX}yR.exports=sX});var bR=ge((_de,mR)=>{var uX=Ha(),lX=uX["__core-js_shared__"];mR.exports=lX});var ER=ge((wde,wR)=>{var DE=bR(),_R=function(){var r=/[^.]+$/.exec(DE&&DE.keys&&DE.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function cX(r){return!!_R&&_R in r}wR.exports=cX});var ME=ge((Ede,xR)=>{var fX=Function.prototype,hX=fX.toString;function dX(r){if(r!=null){try{return hX.call(r)}catch{}try{return r+""}catch{}}return""}xR.exports=dX});var SR=ge((xde,OR)=>{var vX=yp(),pX=ER(),gX=gl(),yX=ME(),mX=/[\\^$.*+?()[\]{}|]/g,bX=/^\[object .+?Constructor\]$/,_X=Function.prototype,wX=Object.prototype,EX=_X.toString,xX=wX.hasOwnProperty,OX=RegExp("^"+EX.call(xX).replace(mX,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SX(r){if(!gX(r)||pX(r))return!1;var e=vX(r)?OX:bX;return e.test(yX(r))}OR.exports=SX});var CR=ge((Ode,TR)=>{function TX(r,e){return r?.[e]}TR.exports=TX});var yl=ge((Sde,PR)=>{var CX=SR(),PX=CR();function AX(r,e){var t=PX(r,e);return CX(t)?t:void 0}PR.exports=AX});var d0=ge((Tde,AR)=>{var RX=yl(),IX=Ha(),DX=RX(IX,"Map");AR.exports=DX});var mp=ge((Cde,RR)=>{var MX=yl(),kX=MX(Object,"create");RR.exports=kX});var MR=ge((Pde,DR)=>{var IR=mp();function NX(){this.__data__=IR?IR(null):{},this.size=0}DR.exports=NX});var NR=ge((Ade,kR)=>{function LX(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}kR.exports=LX});var jR=ge((Rde,LR)=>{var jX=mp(),BX="__lodash_hash_undefined__",FX=Object.prototype,UX=FX.hasOwnProperty;function zX(r){var e=this.__data__;if(jX){var t=e[r];return t===BX?void 0:t}return UX.call(e,r)?e[r]:void 0}LR.exports=zX});var FR=ge((Ide,BR)=>{var qX=mp(),GX=Object.prototype,VX=GX.hasOwnProperty;function WX(r){var e=this.__data__;return qX?e[r]!==void 0:VX.call(e,r)}BR.exports=WX});var zR=ge((Dde,UR)=>{var HX=mp(),YX="__lodash_hash_undefined__";function XX(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=HX&&e===void 0?YX:e,this}UR.exports=XX});var GR=ge((Mde,qR)=>{var KX=MR(),$X=NR(),ZX=jR(),QX=FR(),JX=zR();function Dh(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Dh.prototype.clear=KX;Dh.prototype.delete=$X;Dh.prototype.get=ZX;Dh.prototype.has=QX;Dh.prototype.set=JX;qR.exports=Dh});var HR=ge((kde,WR)=>{var VR=GR(),eK=pp(),tK=d0();function rK(){this.size=0,this.__data__={hash:new VR,map:new(tK||eK),string:new VR}}WR.exports=rK});var XR=ge((Nde,YR)=>{function nK(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}YR.exports=nK});var bp=ge((Lde,KR)=>{var iK=XR();function oK(r,e){var t=r.__data__;return iK(e)?t[typeof e=="string"?"string":"hash"]:t.map}KR.exports=oK});var ZR=ge((jde,$R)=>{var aK=bp();function sK(r){var e=aK(this,r).delete(r);return this.size-=e?1:0,e}$R.exports=sK});var JR=ge((Bde,QR)=>{var uK=bp();function lK(r){return uK(this,r).get(r)}QR.exports=lK});var tI=ge((Fde,eI)=>{var cK=bp();function fK(r){return cK(this,r).has(r)}eI.exports=fK});var nI=ge((Ude,rI)=>{var hK=bp();function dK(r,e){var t=hK(this,r),n=t.size;return t.set(r,e),this.size+=t.size==n?0:1,this}rI.exports=dK});var v0=ge((zde,iI)=>{var vK=HR(),pK=ZR(),gK=JR(),yK=tI(),mK=nI();function Mh(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var n=r[e];this.set(n[0],n[1])}}Mh.prototype.clear=vK;Mh.prototype.delete=pK;Mh.prototype.get=gK;Mh.prototype.has=yK;Mh.prototype.set=mK;iI.exports=Mh});var aI=ge((qde,oI)=>{var bK=pp(),_K=d0(),wK=v0(),EK=200;function xK(r,e){var t=this.__data__;if(t instanceof bK){var n=t.__data__;if(!_K||n.length<EK-1)return n.push([r,e]),this.size=++t.size,this;t=this.__data__=new wK(n)}return t.set(r,e),this.size=t.size,this}oI.exports=xK});var p0=ge((Gde,sI)=>{var OK=pp(),SK=ZA(),TK=JA(),CK=tR(),PK=nR(),AK=aI();function kh(r){var e=this.__data__=new OK(r);this.size=e.size}kh.prototype.clear=SK;kh.prototype.delete=TK;kh.prototype.get=CK;kh.prototype.has=PK;kh.prototype.set=AK;sI.exports=kh});var g0=ge((Vde,uI)=>{function RK(r,e){for(var t=-1,n=r==null?0:r.length;++t<n&&e(r[t],t,r)!==!1;);return r}uI.exports=RK});var kE=ge((Wde,lI)=>{var IK=yl(),DK=function(){try{var r=IK(Object,"defineProperty");return r({},"",{}),r}catch{}}();lI.exports=DK});var NE=ge((Hde,fI)=>{var cI=kE();function MK(r,e,t){e=="__proto__"&&cI?cI(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}fI.exports=MK});var LE=ge((Yde,hI)=>{var kK=NE(),NK=h0(),LK=Object.prototype,jK=LK.hasOwnProperty;function BK(r,e,t){var n=r[e];(!(jK.call(r,e)&&NK(n,t))||t===void 0&&!(e in r))&&kK(r,e,t)}hI.exports=BK});var _p=ge((Xde,dI)=>{var FK=LE(),UK=NE();function zK(r,e,t,n){var i=!t;t||(t={});for(var o=-1,a=e.length;++o<a;){var u=e[o],s=n?n(t[u],r[u],u,t,r):void 0;s===void 0&&(s=r[u]),i?UK(t,u,s):FK(t,u,s)}return t}dI.exports=zK});var pI=ge((Kde,vI)=>{function qK(r,e){for(var t=-1,n=Array(r);++t<r;)n[t]=e(t);return n}vI.exports=qK});var Rs=ge(($de,gI)=>{function GK(r){return r!=null&&typeof r=="object"}gI.exports=GK});var mI=ge((Zde,yI)=>{var VK=Bc(),WK=Rs(),HK="[object Arguments]";function YK(r){return WK(r)&&VK(r)==HK}yI.exports=YK});var wp=ge((Qde,wI)=>{var bI=mI(),XK=Rs(),_I=Object.prototype,KK=_I.hasOwnProperty,$K=_I.propertyIsEnumerable,ZK=bI(function(){return arguments}())?bI:function(r){return XK(r)&&KK.call(r,"callee")&&!$K.call(r,"callee")};wI.exports=ZK});var ii=ge((Jde,EI)=>{var QK=Array.isArray;EI.exports=QK});var OI=ge((eve,xI)=>{function JK(){return!1}xI.exports=JK});var Lh=ge((Ep,Nh)=>{var e$=Ha(),t$=OI(),CI=typeof Ep=="object"&&Ep&&!Ep.nodeType&&Ep,SI=CI&&typeof Nh=="object"&&Nh&&!Nh.nodeType&&Nh,r$=SI&&SI.exports===CI,TI=r$?e$.Buffer:void 0,n$=TI?TI.isBuffer:void 0,i$=n$||t$;Nh.exports=i$});var jE=ge((tve,PI)=>{var o$=9007199254740991,a$=/^(?:0|[1-9]\d*)$/;function s$(r,e){var t=typeof r;return e=e??o$,!!e&&(t=="number"||t!="symbol"&&a$.test(r))&&r>-1&&r%1==0&&r<e}PI.exports=s$});var y0=ge((rve,AI)=>{var u$=9007199254740991;function l$(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=u$}AI.exports=l$});var II=ge((nve,RI)=>{var c$=Bc(),f$=y0(),h$=Rs(),d$="[object Arguments]",v$="[object Array]",p$="[object Boolean]",g$="[object Date]",y$="[object Error]",m$="[object Function]",b$="[object Map]",_$="[object Number]",w$="[object Object]",E$="[object RegExp]",x$="[object Set]",O$="[object String]",S$="[object WeakMap]",T$="[object ArrayBuffer]",C$="[object DataView]",P$="[object Float32Array]",A$="[object Float64Array]",R$="[object Int8Array]",I$="[object Int16Array]",D$="[object Int32Array]",M$="[object Uint8Array]",k$="[object Uint8ClampedArray]",N$="[object Uint16Array]",L$="[object Uint32Array]",ln={};ln[P$]=ln[A$]=ln[R$]=ln[I$]=ln[D$]=ln[M$]=ln[k$]=ln[N$]=ln[L$]=!0;ln[d$]=ln[v$]=ln[T$]=ln[p$]=ln[C$]=ln[g$]=ln[y$]=ln[m$]=ln[b$]=ln[_$]=ln[w$]=ln[E$]=ln[x$]=ln[O$]=ln[S$]=!1;function j$(r){return h$(r)&&f$(r.length)&&!!ln[c$(r)]}RI.exports=j$});var m0=ge((ive,DI)=>{function B$(r){return function(e){return r(e)}}DI.exports=B$});var b0=ge((xp,jh)=>{var F$=IE(),MI=typeof xp=="object"&&xp&&!xp.nodeType&&xp,Op=MI&&typeof jh=="object"&&jh&&!jh.nodeType&&jh,U$=Op&&Op.exports===MI,BE=U$&&F$.process,z$=function(){try{var r=Op&&Op.require&&Op.require("util").types;return r||BE&&BE.binding&&BE.binding("util")}catch{}}();jh.exports=z$});var Sp=ge((ove,LI)=>{var q$=II(),G$=m0(),kI=b0(),NI=kI&&kI.isTypedArray,V$=NI?G$(NI):q$;LI.exports=V$});var FE=ge((ave,jI)=>{var W$=pI(),H$=wp(),Y$=ii(),X$=Lh(),K$=jE(),$$=Sp(),Z$=Object.prototype,Q$=Z$.hasOwnProperty;function J$(r,e){var t=Y$(r),n=!t&&H$(r),i=!t&&!n&&X$(r),o=!t&&!n&&!i&&$$(r),a=t||n||i||o,u=a?W$(r.length,String):[],s=u.length;for(var l in r)(e||Q$.call(r,l))&&!(a&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||K$(l,s)))&&u.push(l);return u}jI.exports=J$});var Tp=ge((sve,BI)=>{var eZ=Object.prototype;function tZ(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||eZ;return r===t}BI.exports=tZ});var UE=ge((uve,FI)=>{function rZ(r,e){return function(t){return r(e(t))}}FI.exports=rZ});var zI=ge((lve,UI)=>{var nZ=UE(),iZ=nZ(Object.keys,Object);UI.exports=iZ});var _0=ge((cve,qI)=>{var oZ=Tp(),aZ=zI(),sZ=Object.prototype,uZ=sZ.hasOwnProperty;function lZ(r){if(!oZ(r))return aZ(r);var e=[];for(var t in Object(r))uZ.call(r,t)&&t!="constructor"&&e.push(t);return e}qI.exports=lZ});var ml=ge((fve,GI)=>{var cZ=yp(),fZ=y0();function hZ(r){return r!=null&&fZ(r.length)&&!cZ(r)}GI.exports=hZ});var bl=ge((hve,VI)=>{var dZ=FE(),vZ=_0(),pZ=ml();function gZ(r){return pZ(r)?dZ(r):vZ(r)}VI.exports=gZ});var HI=ge((dve,WI)=>{var yZ=_p(),mZ=bl();function bZ(r,e){return r&&yZ(e,mZ(e),r)}WI.exports=bZ});var XI=ge((vve,YI)=>{function _Z(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}YI.exports=_Z});var $I=ge((pve,KI)=>{var wZ=gl(),EZ=Tp(),xZ=XI(),OZ=Object.prototype,SZ=OZ.hasOwnProperty;function TZ(r){if(!wZ(r))return xZ(r);var e=EZ(r),t=[];for(var n in r)n=="constructor"&&(e||!SZ.call(r,n))||t.push(n);return t}KI.exports=TZ});var w0=ge((gve,ZI)=>{var CZ=FE(),PZ=$I(),AZ=ml();function RZ(r){return AZ(r)?CZ(r,!0):PZ(r)}ZI.exports=RZ});var JI=ge((yve,QI)=>{var IZ=_p(),DZ=w0();function MZ(r,e){return r&&IZ(e,DZ(e),r)}QI.exports=MZ});var iD=ge((Cp,Bh)=>{var kZ=Ha(),nD=typeof Cp=="object"&&Cp&&!Cp.nodeType&&Cp,eD=nD&&typeof Bh=="object"&&Bh&&!Bh.nodeType&&Bh,NZ=eD&&eD.exports===nD,tD=NZ?kZ.Buffer:void 0,rD=tD?tD.allocUnsafe:void 0;function LZ(r,e){if(e)return r.slice();var t=r.length,n=rD?rD(t):new r.constructor(t);return r.copy(n),n}Bh.exports=LZ});var aD=ge((mve,oD)=>{function jZ(r,e){var t=-1,n=r.length;for(e||(e=Array(n));++t<n;)e[t]=r[t];return e}oD.exports=jZ});var zE=ge((bve,sD)=>{function BZ(r,e){for(var t=-1,n=r==null?0:r.length,i=0,o=[];++t<n;){var a=r[t];e(a,t,r)&&(o[i++]=a)}return o}sD.exports=BZ});var qE=ge((_ve,uD)=>{function FZ(){return[]}uD.exports=FZ});var E0=ge((wve,cD)=>{var UZ=zE(),zZ=qE(),qZ=Object.prototype,GZ=qZ.propertyIsEnumerable,lD=Object.getOwnPropertySymbols,VZ=lD?function(r){return r==null?[]:(r=Object(r),UZ(lD(r),function(e){return GZ.call(r,e)}))}:zZ;cD.exports=VZ});var hD=ge((Eve,fD)=>{var WZ=_p(),HZ=E0();function YZ(r,e){return WZ(r,HZ(r),e)}fD.exports=YZ});var x0=ge((xve,dD)=>{function XZ(r,e){for(var t=-1,n=e.length,i=r.length;++t<n;)r[i+t]=e[t];return r}dD.exports=XZ});var O0=ge((Ove,vD)=>{var KZ=UE(),$Z=KZ(Object.getPrototypeOf,Object);vD.exports=$Z});var GE=ge((Sve,pD)=>{var ZZ=x0(),QZ=O0(),JZ=E0(),eQ=qE(),tQ=Object.getOwnPropertySymbols,rQ=tQ?function(r){for(var e=[];r;)ZZ(e,JZ(r)),r=QZ(r);return e}:eQ;pD.exports=rQ});var yD=ge((Tve,gD)=>{var nQ=_p(),iQ=GE();function oQ(r,e){return nQ(r,iQ(r),e)}gD.exports=oQ});var VE=ge((Cve,mD)=>{var aQ=x0(),sQ=ii();function uQ(r,e,t){var n=e(r);return sQ(r)?n:aQ(n,t(r))}mD.exports=uQ});var WE=ge((Pve,bD)=>{var lQ=VE(),cQ=E0(),fQ=bl();function hQ(r){return lQ(r,fQ,cQ)}bD.exports=hQ});var wD=ge((Ave,_D)=>{var dQ=VE(),vQ=GE(),pQ=w0();function gQ(r){return dQ(r,pQ,vQ)}_D.exports=gQ});var xD=ge((Rve,ED)=>{var yQ=yl(),mQ=Ha(),bQ=yQ(mQ,"DataView");ED.exports=bQ});var SD=ge((Ive,OD)=>{var _Q=yl(),wQ=Ha(),EQ=_Q(wQ,"Promise");OD.exports=EQ});var HE=ge((Dve,TD)=>{var xQ=yl(),OQ=Ha(),SQ=xQ(OQ,"Set");TD.exports=SQ});var PD=ge((Mve,CD)=>{var TQ=yl(),CQ=Ha(),PQ=TQ(CQ,"WeakMap");CD.exports=PQ});var Uc=ge((kve,ND)=>{var YE=xD(),XE=d0(),KE=SD(),$E=HE(),ZE=PD(),kD=Bc(),Fh=ME(),AD="[object Map]",AQ="[object Object]",RD="[object Promise]",ID="[object Set]",DD="[object WeakMap]",MD="[object DataView]",RQ=Fh(YE),IQ=Fh(XE),DQ=Fh(KE),MQ=Fh($E),kQ=Fh(ZE),Fc=kD;(YE&&Fc(new YE(new ArrayBuffer(1)))!=MD||XE&&Fc(new XE)!=AD||KE&&Fc(KE.resolve())!=RD||$E&&Fc(new $E)!=ID||ZE&&Fc(new ZE)!=DD)&&(Fc=function(r){var e=kD(r),t=e==AQ?r.constructor:void 0,n=t?Fh(t):"";if(n)switch(n){case RQ:return MD;case IQ:return AD;case DQ:return RD;case MQ:return ID;case kQ:return DD}return e});ND.exports=Fc});var jD=ge((Nve,LD)=>{var NQ=Object.prototype,LQ=NQ.hasOwnProperty;function jQ(r){var e=r.length,t=new r.constructor(e);return e&&typeof r[0]=="string"&&LQ.call(r,"index")&&(t.index=r.index,t.input=r.input),t}LD.exports=jQ});var QE=ge((Lve,BD)=>{var BQ=Ha(),FQ=BQ.Uint8Array;BD.exports=FQ});var S0=ge((jve,UD)=>{var FD=QE();function UQ(r){var e=new r.constructor(r.byteLength);return new FD(e).set(new FD(r)),e}UD.exports=UQ});var qD=ge((Bve,zD)=>{var zQ=S0();function qQ(r,e){var t=e?zQ(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.byteLength)}zD.exports=qQ});var VD=ge((Fve,GD)=>{var GQ=/\w*$/;function VQ(r){var e=new r.constructor(r.source,GQ.exec(r));return e.lastIndex=r.lastIndex,e}GD.exports=VQ});var KD=ge((Uve,XD)=>{var WD=jc(),HD=WD?WD.prototype:void 0,YD=HD?HD.valueOf:void 0;function WQ(r){return YD?Object(YD.call(r)):{}}XD.exports=WQ});var ZD=ge((zve,$D)=>{var HQ=S0();function YQ(r,e){var t=e?HQ(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}$D.exports=YQ});var JD=ge((qve,QD)=>{var XQ=S0(),KQ=qD(),$Q=VD(),ZQ=KD(),QQ=ZD(),JQ="[object Boolean]",eJ="[object Date]",tJ="[object Map]",rJ="[object Number]",nJ="[object RegExp]",iJ="[object Set]",oJ="[object String]",aJ="[object Symbol]",sJ="[object ArrayBuffer]",uJ="[object DataView]",lJ="[object Float32Array]",cJ="[object Float64Array]",fJ="[object Int8Array]",hJ="[object Int16Array]",dJ="[object Int32Array]",vJ="[object Uint8Array]",pJ="[object Uint8ClampedArray]",gJ="[object Uint16Array]",yJ="[object Uint32Array]";function mJ(r,e,t){var n=r.constructor;switch(e){case sJ:return XQ(r);case JQ:case eJ:return new n(+r);case uJ:return KQ(r,t);case lJ:case cJ:case fJ:case hJ:case dJ:case vJ:case pJ:case gJ:case yJ:return QQ(r,t);case tJ:return new n;case rJ:case oJ:return new n(r);case nJ:return $Q(r);case iJ:return new n;case aJ:return ZQ(r)}}QD.exports=mJ});var JE=ge((Gve,tM)=>{var bJ=gl(),eM=Object.create,_J=function(){function r(){}return function(e){if(!bJ(e))return{};if(eM)return eM(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();tM.exports=_J});var nM=ge((Vve,rM)=>{var wJ=JE(),EJ=O0(),xJ=Tp();function OJ(r){return typeof r.constructor=="function"&&!xJ(r)?wJ(EJ(r)):{}}rM.exports=OJ});var oM=ge((Wve,iM)=>{var SJ=Uc(),TJ=Rs(),CJ="[object Map]";function PJ(r){return TJ(r)&&SJ(r)==CJ}iM.exports=PJ});var lM=ge((Hve,uM)=>{var AJ=oM(),RJ=m0(),aM=b0(),sM=aM&&aM.isMap,IJ=sM?RJ(sM):AJ;uM.exports=IJ});var fM=ge((Yve,cM)=>{var DJ=Uc(),MJ=Rs(),kJ="[object Set]";function NJ(r){return MJ(r)&&DJ(r)==kJ}cM.exports=NJ});var pM=ge((Xve,vM)=>{var LJ=fM(),jJ=m0(),hM=b0(),dM=hM&&hM.isSet,BJ=dM?jJ(dM):LJ;vM.exports=BJ});var _M=ge((Kve,bM)=>{var FJ=p0(),UJ=g0(),zJ=LE(),qJ=HI(),GJ=JI(),VJ=iD(),WJ=aD(),HJ=hD(),YJ=yD(),XJ=WE(),KJ=wD(),$J=Uc(),ZJ=jD(),QJ=JD(),JJ=nM(),eee=ii(),tee=Lh(),ree=lM(),nee=gl(),iee=pM(),oee=bl(),aee=w0(),see=1,uee=2,lee=4,gM="[object Arguments]",cee="[object Array]",fee="[object Boolean]",hee="[object Date]",dee="[object Error]",yM="[object Function]",vee="[object GeneratorFunction]",pee="[object Map]",gee="[object Number]",mM="[object Object]",yee="[object RegExp]",mee="[object Set]",bee="[object String]",_ee="[object Symbol]",wee="[object WeakMap]",Eee="[object ArrayBuffer]",xee="[object DataView]",Oee="[object Float32Array]",See="[object Float64Array]",Tee="[object Int8Array]",Cee="[object Int16Array]",Pee="[object Int32Array]",Aee="[object Uint8Array]",Ree="[object Uint8ClampedArray]",Iee="[object Uint16Array]",Dee="[object Uint32Array]",nn={};nn[gM]=nn[cee]=nn[Eee]=nn[xee]=nn[fee]=nn[hee]=nn[Oee]=nn[See]=nn[Tee]=nn[Cee]=nn[Pee]=nn[pee]=nn[gee]=nn[mM]=nn[yee]=nn[mee]=nn[bee]=nn[_ee]=nn[Aee]=nn[Ree]=nn[Iee]=nn[Dee]=!0;nn[dee]=nn[yM]=nn[wee]=!1;function T0(r,e,t,n,i,o){var a,u=e&see,s=e&uee,l=e&lee;if(t&&(a=i?t(r,n,i,o):t(r)),a!==void 0)return a;if(!nee(r))return r;var c=eee(r);if(c){if(a=ZJ(r),!u)return WJ(r,a)}else{var f=$J(r),h=f==yM||f==vee;if(tee(r))return VJ(r,u);if(f==mM||f==gM||h&&!i){if(a=s||h?{}:JJ(r),!u)return s?YJ(r,GJ(a,r)):HJ(r,qJ(a,r))}else{if(!nn[f])return i?r:{};a=QJ(r,f,u)}}o||(o=new FJ);var v=o.get(r);if(v)return v;o.set(r,a),iee(r)?r.forEach(function(p){a.add(T0(p,e,t,p,r,o))}):ree(r)&&r.forEach(function(p,g){a.set(g,T0(p,e,t,g,r,o))});var d=l?s?KJ:XJ:s?aee:oee,y=c?void 0:d(r);return UJ(y||r,function(p,g){y&&(g=p,p=r[g]),zJ(a,g,T0(p,e,t,g,r,o))}),a}bM.exports=T0});var EM=ge(($ve,wM)=>{var Mee=_M(),kee=4;function Nee(r){return Mee(r,kee)}wM.exports=Nee});var ex=ge((Zve,xM)=>{function Lee(r){return function(){return r}}xM.exports=Lee});var SM=ge((Qve,OM)=>{function jee(r){return function(e,t,n){for(var i=-1,o=Object(e),a=n(e),u=a.length;u--;){var s=a[r?u:++i];if(t(o[s],s,o)===!1)break}return e}}OM.exports=jee});var CM=ge((Jve,TM)=>{var Bee=SM(),Fee=Bee();TM.exports=Fee});var tx=ge((epe,PM)=>{var Uee=CM(),zee=bl();function qee(r,e){return r&&Uee(r,e,zee)}PM.exports=qee});var RM=ge((tpe,AM)=>{var Gee=ml();function Vee(r,e){return function(t,n){if(t==null)return t;if(!Gee(t))return r(t,n);for(var i=t.length,o=e?i:-1,a=Object(t);(e?o--:++o<i)&&n(a[o],o,a)!==!1;);return t}}AM.exports=Vee});var Pp=ge((rpe,IM)=>{var Wee=tx(),Hee=RM(),Yee=Hee(Wee);IM.exports=Yee});var Ap=ge((npe,DM)=>{function Xee(r){return r}DM.exports=Xee});var kM=ge((ipe,MM)=>{var Kee=Ap();function $ee(r){return typeof r=="function"?r:Kee}MM.exports=$ee});var LM=ge((ope,NM)=>{var Zee=g0(),Qee=Pp(),Jee=kM(),ete=ii();function tte(r,e){var t=ete(r)?Zee:Qee;return t(r,Jee(e))}NM.exports=tte});var BM=ge((ape,jM)=>{jM.exports=LM()});var UM=ge((spe,FM)=>{var rte=Pp();function nte(r,e){var t=[];return rte(r,function(n,i,o){e(n,i,o)&&t.push(n)}),t}FM.exports=nte});var qM=ge((upe,zM)=>{var ite="__lodash_hash_undefined__";function ote(r){return this.__data__.set(r,ite),this}zM.exports=ote});var VM=ge((lpe,GM)=>{function ate(r){return this.__data__.has(r)}GM.exports=ate});var rx=ge((cpe,WM)=>{var ste=v0(),ute=qM(),lte=VM();function C0(r){var e=-1,t=r==null?0:r.length;for(this.__data__=new ste;++e<t;)this.add(r[e])}C0.prototype.add=C0.prototype.push=ute;C0.prototype.has=lte;WM.exports=C0});var YM=ge((fpe,HM)=>{function cte(r,e){for(var t=-1,n=r==null?0:r.length;++t<n;)if(e(r[t],t,r))return!0;return!1}HM.exports=cte});var nx=ge((hpe,XM)=>{function fte(r,e){return r.has(e)}XM.exports=fte});var ix=ge((dpe,KM)=>{var hte=rx(),dte=YM(),vte=nx(),pte=1,gte=2;function yte(r,e,t,n,i,o){var a=t&pte,u=r.length,s=e.length;if(u!=s&&!(a&&s>u))return!1;var l=o.get(r),c=o.get(e);if(l&&c)return l==e&&c==r;var f=-1,h=!0,v=t&gte?new hte:void 0;for(o.set(r,e),o.set(e,r);++f<u;){var d=r[f],y=e[f];if(n)var p=a?n(y,d,f,e,r,o):n(d,y,f,r,e,o);if(p!==void 0){if(p)continue;h=!1;break}if(v){if(!dte(e,function(g,b){if(!vte(v,b)&&(d===g||i(d,g,t,n,o)))return v.push(b)})){h=!1;break}}else if(!(d===y||i(d,y,t,n,o))){h=!1;break}}return o.delete(r),o.delete(e),h}KM.exports=yte});var ZM=ge((vpe,$M)=>{function mte(r){var e=-1,t=Array(r.size);return r.forEach(function(n,i){t[++e]=[i,n]}),t}$M.exports=mte});var P0=ge((ppe,QM)=>{function bte(r){var e=-1,t=Array(r.size);return r.forEach(function(n){t[++e]=n}),t}QM.exports=bte});var nk=ge((gpe,rk)=>{var JM=jc(),ek=QE(),_te=h0(),wte=ix(),Ete=ZM(),xte=P0(),Ote=1,Ste=2,Tte="[object Boolean]",Cte="[object Date]",Pte="[object Error]",Ate="[object Map]",Rte="[object Number]",Ite="[object RegExp]",Dte="[object Set]",Mte="[object String]",kte="[object Symbol]",Nte="[object ArrayBuffer]",Lte="[object DataView]",tk=JM?JM.prototype:void 0,ox=tk?tk.valueOf:void 0;function jte(r,e,t,n,i,o,a){switch(t){case Lte:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case Nte:return!(r.byteLength!=e.byteLength||!o(new ek(r),new ek(e)));case Tte:case Cte:case Rte:return _te(+r,+e);case Pte:return r.name==e.name&&r.message==e.message;case Ite:case Mte:return r==e+"";case Ate:var u=Ete;case Dte:var s=n&Ote;if(u||(u=xte),r.size!=e.size&&!s)return!1;var l=a.get(r);if(l)return l==e;n|=Ste,a.set(r,e);var c=wte(u(r),u(e),n,i,o,a);return a.delete(r),c;case kte:if(ox)return ox.call(r)==ox.call(e)}return!1}rk.exports=jte});var ak=ge((ype,ok)=>{var ik=WE(),Bte=1,Fte=Object.prototype,Ute=Fte.hasOwnProperty;function zte(r,e,t,n,i,o){var a=t&Bte,u=ik(r),s=u.length,l=ik(e),c=l.length;if(s!=c&&!a)return!1;for(var f=s;f--;){var h=u[f];if(!(a?h in e:Ute.call(e,h)))return!1}var v=o.get(r),d=o.get(e);if(v&&d)return v==e&&d==r;var y=!0;o.set(r,e),o.set(e,r);for(var p=a;++f<s;){h=u[f];var g=r[h],b=e[h];if(n)var m=a?n(b,g,h,e,r,o):n(g,b,h,r,e,o);if(!(m===void 0?g===b||i(g,b,t,n,o):m)){y=!1;break}p||(p=h=="constructor")}if(y&&!p){var _=r.constructor,w=e.constructor;_!=w&&"constructor"in r&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof w=="function"&&w instanceof w)&&(y=!1)}return o.delete(r),o.delete(e),y}ok.exports=zte});var vk=ge((mpe,dk)=>{var ax=p0(),qte=ix(),Gte=nk(),Vte=ak(),sk=Uc(),uk=ii(),lk=Lh(),Wte=Sp(),Hte=1,ck="[object Arguments]",fk="[object Array]",A0="[object Object]",Yte=Object.prototype,hk=Yte.hasOwnProperty;function Xte(r,e,t,n,i,o){var a=uk(r),u=uk(e),s=a?fk:sk(r),l=u?fk:sk(e);s=s==ck?A0:s,l=l==ck?A0:l;var c=s==A0,f=l==A0,h=s==l;if(h&&lk(r)){if(!lk(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ax),a||Wte(r)?qte(r,e,t,n,i,o):Gte(r,e,s,t,n,i,o);if(!(t&Hte)){var v=c&&hk.call(r,"__wrapped__"),d=f&&hk.call(e,"__wrapped__");if(v||d){var y=v?r.value():r,p=d?e.value():e;return o||(o=new ax),i(y,p,t,n,o)}}return h?(o||(o=new ax),Vte(r,e,t,n,i,o)):!1}dk.exports=Xte});var sx=ge((bpe,yk)=>{var Kte=vk(),pk=Rs();function gk(r,e,t,n,i){return r===e?!0:r==null||e==null||!pk(r)&&!pk(e)?r!==r&&e!==e:Kte(r,e,t,n,gk,i)}yk.exports=gk});var bk=ge((_pe,mk)=>{var $te=p0(),Zte=sx(),Qte=1,Jte=2;function ere(r,e,t,n){var i=t.length,o=i,a=!n;if(r==null)return!o;for(r=Object(r);i--;){var u=t[i];if(a&&u[2]?u[1]!==r[u[0]]:!(u[0]in r))return!1}for(;++i<o;){u=t[i];var s=u[0],l=r[s],c=u[1];if(a&&u[2]){if(l===void 0&&!(s in r))return!1}else{var f=new $te;if(n)var h=n(l,c,s,r,e,f);if(!(h===void 0?Zte(c,l,Qte|Jte,n,f):h))return!1}}return!0}mk.exports=ere});var ux=ge((wpe,_k)=>{var tre=gl();function rre(r){return r===r&&!tre(r)}_k.exports=rre});var Ek=ge((Epe,wk)=>{var nre=ux(),ire=bl();function ore(r){for(var e=ire(r),t=e.length;t--;){var n=e[t],i=r[n];e[t]=[n,i,nre(i)]}return e}wk.exports=ore});var lx=ge((xpe,xk)=>{function are(r,e){return function(t){return t==null?!1:t[r]===e&&(e!==void 0||r in Object(t))}}xk.exports=are});var Sk=ge((Ope,Ok)=>{var sre=bk(),ure=Ek(),lre=lx();function cre(r){var e=ure(r);return e.length==1&&e[0][2]?lre(e[0][0],e[0][1]):function(t){return t===r||sre(t,r,e)}}Ok.exports=cre});var R0=ge((Spe,Tk)=>{var fre=Bc(),hre=Rs(),dre="[object Symbol]";function vre(r){return typeof r=="symbol"||hre(r)&&fre(r)==dre}Tk.exports=vre});var I0=ge((Tpe,Ck)=>{var pre=ii(),gre=R0(),yre=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mre=/^\w*$/;function bre(r,e){if(pre(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||gre(r)?!0:mre.test(r)||!yre.test(r)||e!=null&&r in Object(e)}Ck.exports=bre});var Rk=ge((Cpe,Ak)=>{var Pk=v0(),_re="Expected a function";function cx(r,e){if(typeof r!="function"||e!=null&&typeof e!="function")throw new TypeError(_re);var t=function(){var n=arguments,i=e?e.apply(this,n):n[0],o=t.cache;if(o.has(i))return o.get(i);var a=r.apply(this,n);return t.cache=o.set(i,a)||o,a};return t.cache=new(cx.Cache||Pk),t}cx.Cache=Pk;Ak.exports=cx});var Dk=ge((Ppe,Ik)=>{var wre=Rk(),Ere=500;function xre(r){var e=wre(r,function(n){return t.size===Ere&&t.clear(),n}),t=e.cache;return e}Ik.exports=xre});var kk=ge((Ape,Mk)=>{var Ore=Dk(),Sre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tre=/\\(\\)?/g,Cre=Ore(function(r){var e=[];return r.charCodeAt(0)===46&&e.push(""),r.replace(Sre,function(t,n,i,o){e.push(i?o.replace(Tre,"$1"):n||t)}),e});Mk.exports=Cre});var D0=ge((Rpe,Nk)=>{function Pre(r,e){for(var t=-1,n=r==null?0:r.length,i=Array(n);++t<n;)i[t]=e(r[t],t,r);return i}Nk.exports=Pre});var zk=ge((Ipe,Uk)=>{var Lk=jc(),Are=D0(),Rre=ii(),Ire=R0(),Dre=1/0,jk=Lk?Lk.prototype:void 0,Bk=jk?jk.toString:void 0;function Fk(r){if(typeof r=="string")return r;if(Rre(r))return Are(r,Fk)+"";if(Ire(r))return Bk?Bk.call(r):"";var e=r+"";return e=="0"&&1/r==-Dre?"-0":e}Uk.exports=Fk});var Gk=ge((Dpe,qk)=>{var Mre=zk();function kre(r){return r==null?"":Mre(r)}qk.exports=kre});var fx=ge((Mpe,Vk)=>{var Nre=ii(),Lre=I0(),jre=kk(),Bre=Gk();function Fre(r,e){return Nre(r)?r:Lre(r,e)?[r]:jre(Bre(r))}Vk.exports=Fre});var Rp=ge((kpe,Wk)=>{var Ure=R0(),zre=1/0;function qre(r){if(typeof r=="string"||Ure(r))return r;var e=r+"";return e=="0"&&1/r==-zre?"-0":e}Wk.exports=qre});var hx=ge((Npe,Hk)=>{var Gre=fx(),Vre=Rp();function Wre(r,e){e=Gre(e,r);for(var t=0,n=e.length;r!=null&&t<n;)r=r[Vre(e[t++])];return t&&t==n?r:void 0}Hk.exports=Wre});var Xk=ge((Lpe,Yk)=>{var Hre=hx();function Yre(r,e,t){var n=r==null?void 0:Hre(r,e);return n===void 0?t:n}Yk.exports=Yre});var $k=ge((jpe,Kk)=>{function Xre(r,e){return r!=null&&e in Object(r)}Kk.exports=Xre});var dx=ge((Bpe,Zk)=>{var Kre=fx(),$re=wp(),Zre=ii(),Qre=jE(),Jre=y0(),ene=Rp();function tne(r,e,t){e=Kre(e,r);for(var n=-1,i=e.length,o=!1;++n<i;){var a=ene(e[n]);if(!(o=r!=null&&t(r,a)))break;r=r[a]}return o||++n!=i?o:(i=r==null?0:r.length,!!i&&Jre(i)&&Qre(a,i)&&(Zre(r)||$re(r)))}Zk.exports=tne});var Jk=ge((Fpe,Qk)=>{var rne=$k(),nne=dx();function ine(r,e){return r!=null&&nne(r,e,rne)}Qk.exports=ine});var tN=ge((Upe,eN)=>{var one=sx(),ane=Xk(),sne=Jk(),une=I0(),lne=ux(),cne=lx(),fne=Rp(),hne=1,dne=2;function vne(r,e){return une(r)&&lne(e)?cne(fne(r),e):function(t){var n=ane(t,r);return n===void 0&&n===e?sne(t,r):one(e,n,hne|dne)}}eN.exports=vne});var vx=ge((zpe,rN)=>{function pne(r){return function(e){return e?.[r]}}rN.exports=pne});var iN=ge((qpe,nN)=>{var gne=hx();function yne(r){return function(e){return gne(e,r)}}nN.exports=yne});var aN=ge((Gpe,oN)=>{var mne=vx(),bne=iN(),_ne=I0(),wne=Rp();function Ene(r){return _ne(r)?mne(wne(r)):bne(r)}oN.exports=Ene});var Ip=ge((Vpe,sN)=>{var xne=Sk(),One=tN(),Sne=Ap(),Tne=ii(),Cne=aN();function Pne(r){return typeof r=="function"?r:r==null?Sne:typeof r=="object"?Tne(r)?One(r[0],r[1]):xne(r):Cne(r)}sN.exports=Pne});var lN=ge((Wpe,uN)=>{var Ane=zE(),Rne=UM(),Ine=Ip(),Dne=ii();function Mne(r,e){var t=Dne(r)?Ane:Rne;return t(r,Ine(e,3))}uN.exports=Mne});var fN=ge((Hpe,cN)=>{var kne=Object.prototype,Nne=kne.hasOwnProperty;function Lne(r,e){return r!=null&&Nne.call(r,e)}cN.exports=Lne});var dN=ge((Ype,hN)=>{var jne=fN(),Bne=dx();function Fne(r,e){return r!=null&&Bne(r,e,jne)}hN.exports=Fne});var pN=ge((Xpe,vN)=>{var Une=_0(),zne=Uc(),qne=wp(),Gne=ii(),Vne=ml(),Wne=Lh(),Hne=Tp(),Yne=Sp(),Xne="[object Map]",Kne="[object Set]",$ne=Object.prototype,Zne=$ne.hasOwnProperty;function Qne(r){if(r==null)return!0;if(Vne(r)&&(Gne(r)||typeof r=="string"||typeof r.splice=="function"||Wne(r)||Yne(r)||qne(r)))return!r.length;var e=zne(r);if(e==Xne||e==Kne)return!r.size;if(Hne(r))return!Une(r).length;for(var t in r)if(Zne.call(r,t))return!1;return!0}vN.exports=Qne});var yN=ge((Kpe,gN)=>{function Jne(r){return r===void 0}gN.exports=Jne});var bN=ge(($pe,mN)=>{var eie=Pp(),tie=ml();function rie(r,e){var t=-1,n=tie(r)?Array(r.length):[];return eie(r,function(i,o,a){n[++t]=e(i,o,a)}),n}mN.exports=rie});var wN=ge((Zpe,_N)=>{var nie=D0(),iie=Ip(),oie=bN(),aie=ii();function sie(r,e){var t=aie(r)?nie:oie;return t(r,iie(e,3))}_N.exports=sie});var xN=ge((Qpe,EN)=>{function uie(r,e,t,n){var i=-1,o=r==null?0:r.length;for(n&&o&&(t=r[++i]);++i<o;)t=e(t,r[i],i,r);return t}EN.exports=uie});var SN=ge((Jpe,ON)=>{function lie(r,e,t,n,i){return i(r,function(o,a,u){t=n?(n=!1,o):e(t,o,a,u)}),t}ON.exports=lie});var CN=ge((ege,TN)=>{var cie=xN(),fie=Pp(),hie=Ip(),die=SN(),vie=ii();function pie(r,e,t){var n=vie(r)?cie:die,i=arguments.length<3;return n(r,hie(e,4),t,i,fie)}TN.exports=pie});var AN=ge((tge,PN)=>{var gie=Bc(),yie=ii(),mie=Rs(),bie="[object String]";function _ie(r){return typeof r=="string"||!yie(r)&&mie(r)&&gie(r)==bie}PN.exports=_ie});var IN=ge((rge,RN)=>{var wie=vx(),Eie=wie("length");RN.exports=Eie});var MN=ge((nge,DN)=>{var xie="\\ud800-\\udfff",Oie="\\u0300-\\u036f",Sie="\\ufe20-\\ufe2f",Tie="\\u20d0-\\u20ff",Cie=Oie+Sie+Tie,Pie="\\ufe0e\\ufe0f",Aie="\\u200d",Rie=RegExp("["+Aie+xie+Cie+Pie+"]");function Iie(r){return Rie.test(r)}DN.exports=Iie});var qN=ge((ige,zN)=>{var NN="\\ud800-\\udfff",Die="\\u0300-\\u036f",Mie="\\ufe20-\\ufe2f",kie="\\u20d0-\\u20ff",Nie=Die+Mie+kie,Lie="\\ufe0e\\ufe0f",jie="["+NN+"]",px="["+Nie+"]",gx="\\ud83c[\\udffb-\\udfff]",Bie="(?:"+px+"|"+gx+")",LN="[^"+NN+"]",jN="(?:\\ud83c[\\udde6-\\uddff]){2}",BN="[\\ud800-\\udbff][\\udc00-\\udfff]",Fie="\\u200d",FN=Bie+"?",UN="["+Lie+"]?",Uie="(?:"+Fie+"(?:"+[LN,jN,BN].join("|")+")"+UN+FN+")*",zie=UN+FN+Uie,qie="(?:"+[LN+px+"?",px,jN,BN,jie].join("|")+")",kN=RegExp(gx+"(?="+gx+")|"+qie+zie,"g");function Gie(r){for(var e=kN.lastIndex=0;kN.test(r);)++e;return e}zN.exports=Gie});var VN=ge((oge,GN)=>{var Vie=IN(),Wie=MN(),Hie=qN();function Yie(r){return Wie(r)?Hie(r):Vie(r)}GN.exports=Yie});var HN=ge((age,WN)=>{var Xie=_0(),Kie=Uc(),$ie=ml(),Zie=AN(),Qie=VN(),Jie="[object Map]",eoe="[object Set]";function toe(r){if(r==null)return 0;if($ie(r))return Zie(r)?Qie(r):r.length;var e=Kie(r);return e==Jie||e==eoe?r.size:Xie(r).length}WN.exports=toe});var XN=ge((sge,YN)=>{var roe=g0(),noe=JE(),ioe=tx(),ooe=Ip(),aoe=O0(),soe=ii(),uoe=Lh(),loe=yp(),coe=gl(),foe=Sp();function hoe(r,e,t){var n=soe(r),i=n||uoe(r)||foe(r);if(e=ooe(e,4),t==null){var o=r&&r.constructor;i?t=n?new o:[]:coe(r)?t=loe(o)?noe(aoe(r)):{}:t={}}return(i?roe:ioe)(r,function(a,u,s){return e(t,a,u,s)}),t}YN.exports=hoe});var QN=ge((uge,ZN)=>{var KN=jc(),doe=wp(),voe=ii(),$N=KN?KN.isConcatSpreadable:void 0;function poe(r){return voe(r)||doe(r)||!!($N&&r&&r[$N])}ZN.exports=poe});var tL=ge((lge,eL)=>{var goe=x0(),yoe=QN();function JN(r,e,t,n,i){var o=-1,a=r.length;for(t||(t=yoe),i||(i=[]);++o<a;){var u=r[o];e>0&&t(u)?e>1?JN(u,e-1,t,n,i):goe(i,u):n||(i[i.length]=u)}return i}eL.exports=JN});var nL=ge((cge,rL)=>{function moe(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}rL.exports=moe});var aL=ge((fge,oL)=>{var boe=nL(),iL=Math.max;function _oe(r,e,t){return e=iL(e===void 0?r.length-1:e,0),function(){for(var n=arguments,i=-1,o=iL(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=n[i];return u[e]=t(a),boe(r,this,u)}}oL.exports=_oe});var lL=ge((hge,uL)=>{var woe=ex(),sL=kE(),Eoe=Ap(),xoe=sL?function(r,e){return sL(r,"toString",{configurable:!0,enumerable:!1,value:woe(e),writable:!0})}:Eoe;uL.exports=xoe});var fL=ge((dge,cL)=>{var Ooe=800,Soe=16,Toe=Date.now;function Coe(r){var e=0,t=0;return function(){var n=Toe(),i=Soe-(n-t);if(t=n,i>0){if(++e>=Ooe)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}cL.exports=Coe});var dL=ge((vge,hL)=>{var Poe=lL(),Aoe=fL(),Roe=Aoe(Poe);hL.exports=Roe});var pL=ge((pge,vL)=>{var Ioe=Ap(),Doe=aL(),Moe=dL();function koe(r,e){return Moe(Doe(r,e,Ioe),r+"")}vL.exports=koe});var yL=ge((gge,gL)=>{function Noe(r,e,t,n){for(var i=r.length,o=t+(n?1:-1);n?o--:++o<i;)if(e(r[o],o,r))return o;return-1}gL.exports=Noe});var bL=ge((yge,mL)=>{function Loe(r){return r!==r}mL.exports=Loe});var wL=ge((mge,_L)=>{function joe(r,e,t){for(var n=t-1,i=r.length;++n<i;)if(r[n]===e)return n;return-1}_L.exports=joe});var xL=ge((bge,EL)=>{var Boe=yL(),Foe=bL(),Uoe=wL();function zoe(r,e,t){return e===e?Uoe(r,e,t):Boe(r,Foe,t)}EL.exports=zoe});var SL=ge((_ge,OL)=>{var qoe=xL();function Goe(r,e){var t=r==null?0:r.length;return!!t&&qoe(r,e,0)>-1}OL.exports=Goe});var CL=ge((wge,TL)=>{function Voe(r,e,t){for(var n=-1,i=r==null?0:r.length;++n<i;)if(t(e,r[n]))return!0;return!1}TL.exports=Voe});var AL=ge((Ege,PL)=>{function Woe(){}PL.exports=Woe});var IL=ge((xge,RL)=>{var yx=HE(),Hoe=AL(),Yoe=P0(),Xoe=1/0,Koe=yx&&1/Yoe(new yx([,-0]))[1]==Xoe?function(r){return new yx(r)}:Hoe;RL.exports=Koe});var ML=ge((Oge,DL)=>{var $oe=rx(),Zoe=SL(),Qoe=CL(),Joe=nx(),eae=IL(),tae=P0(),rae=200;function nae(r,e,t){var n=-1,i=Zoe,o=r.length,a=!0,u=[],s=u;if(t)a=!1,i=Qoe;else if(o>=rae){var l=e?null:eae(r);if(l)return tae(l);a=!1,i=Joe,s=new $oe}else s=e?[]:u;e:for(;++n<o;){var c=r[n],f=e?e(c):c;if(c=t||c!==0?c:0,a&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;e&&s.push(f),u.push(c)}else i(s,f,t)||(s!==u&&s.push(f),u.push(c))}return u}DL.exports=nae});var NL=ge((Sge,kL)=>{var iae=ml(),oae=Rs();function aae(r){return oae(r)&&iae(r)}kL.exports=aae});var jL=ge((Tge,LL)=>{var sae=tL(),uae=pL(),lae=ML(),cae=NL(),fae=uae(function(r){return lae(sae(r,1,cae,!0))});LL.exports=fae});var FL=ge((Cge,BL)=>{var hae=D0();function dae(r,e){return hae(e,function(t){return r[t]})}BL.exports=dae});var zL=ge((Pge,UL)=>{var vae=FL(),pae=bl();function gae(r){return r==null?[]:vae(r,pae(r))}UL.exports=gae});var ea=ge((Age,qL)=>{var M0;if(typeof hT=="function")try{M0={clone:EM(),constant:ex(),each:BM(),filter:lN(),has:dN(),isArray:ii(),isEmpty:pN(),isFunction:yp(),isUndefined:yN(),keys:bl(),map:wN(),reduce:CN(),size:HN(),transform:XN(),union:jL(),values:zL()}}catch{}M0||(M0=window._);qL.exports=M0});var k0=ge((Ige,HL)=>{"use strict";var Kt=ea();HL.exports=gr;var yae="\0",zc="\0",GL="";function gr(r){this._isDirected=Kt.has(r,"directed")?r.directed:!0,this._isMultigraph=Kt.has(r,"multigraph")?r.multigraph:!1,this._isCompound=Kt.has(r,"compound")?r.compound:!1,this._label=void 0,this._defaultNodeLabelFn=Kt.constant(void 0),this._defaultEdgeLabelFn=Kt.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[zc]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}gr.prototype._nodeCount=0;gr.prototype._edgeCount=0;gr.prototype.isDirected=function(){return this._isDirected};gr.prototype.isMultigraph=function(){return this._isMultigraph};gr.prototype.isCompound=function(){return this._isCompound};gr.prototype.setGraph=function(r){return this._label=r,this};gr.prototype.graph=function(){return this._label};gr.prototype.setDefaultNodeLabel=function(r){return Kt.isFunction(r)||(r=Kt.constant(r)),this._defaultNodeLabelFn=r,this};gr.prototype.nodeCount=function(){return this._nodeCount};gr.prototype.nodes=function(){return Kt.keys(this._nodes)};gr.prototype.sources=function(){var r=this;return Kt.filter(this.nodes(),function(e){return Kt.isEmpty(r._in[e])})};gr.prototype.sinks=function(){var r=this;return Kt.filter(this.nodes(),function(e){return Kt.isEmpty(r._out[e])})};gr.prototype.setNodes=function(r,e){var t=arguments,n=this;return Kt.each(r,function(i){t.length>1?n.setNode(i,e):n.setNode(i)}),this};gr.prototype.setNode=function(r,e){return Kt.has(this._nodes,r)?(arguments.length>1&&(this._nodes[r]=e),this):(this._nodes[r]=arguments.length>1?e:this._defaultNodeLabelFn(r),this._isCompound&&(this._parent[r]=zc,this._children[r]={},this._children[zc][r]=!0),this._in[r]={},this._preds[r]={},this._out[r]={},this._sucs[r]={},++this._nodeCount,this)};gr.prototype.node=function(r){return this._nodes[r]};gr.prototype.hasNode=function(r){return Kt.has(this._nodes,r)};gr.prototype.removeNode=function(r){var e=this;if(Kt.has(this._nodes,r)){var t=function(n){e.removeEdge(e._edgeObjs[n])};delete this._nodes[r],this._isCompound&&(this._removeFromParentsChildList(r),delete this._parent[r],Kt.each(this.children(r),function(n){e.setParent(n)}),delete this._children[r]),Kt.each(Kt.keys(this._in[r]),t),delete this._in[r],delete this._preds[r],Kt.each(Kt.keys(this._out[r]),t),delete this._out[r],delete this._sucs[r],--this._nodeCount}return this};gr.prototype.setParent=function(r,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(Kt.isUndefined(e))e=zc;else{e+="";for(var t=e;!Kt.isUndefined(t);t=this.parent(t))if(t===r)throw new Error("Setting "+e+" as parent of "+r+" would create a cycle");this.setNode(e)}return this.setNode(r),this._removeFromParentsChildList(r),this._parent[r]=e,this._children[e][r]=!0,this};gr.prototype._removeFromParentsChildList=function(r){delete this._children[this._parent[r]][r]};gr.prototype.parent=function(r){if(this._isCompound){var e=this._parent[r];if(e!==zc)return e}};gr.prototype.children=function(r){if(Kt.isUndefined(r)&&(r=zc),this._isCompound){var e=this._children[r];if(e)return Kt.keys(e)}else{if(r===zc)return this.nodes();if(this.hasNode(r))return[]}};gr.prototype.predecessors=function(r){var e=this._preds[r];if(e)return Kt.keys(e)};gr.prototype.successors=function(r){var e=this._sucs[r];if(e)return Kt.keys(e)};gr.prototype.neighbors=function(r){var e=this.predecessors(r);if(e)return Kt.union(e,this.successors(r))};gr.prototype.isLeaf=function(r){var e;return this.isDirected()?e=this.successors(r):e=this.neighbors(r),e.length===0};gr.prototype.filterNodes=function(r){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var t=this;Kt.each(this._nodes,function(o,a){r(a)&&e.setNode(a,o)}),Kt.each(this._edgeObjs,function(o){e.hasNode(o.v)&&e.hasNode(o.w)&&e.setEdge(o,t.edge(o))});var n={};function i(o){var a=t.parent(o);return a===void 0||e.hasNode(a)?(n[o]=a,a):a in n?n[a]:i(a)}return this._isCompound&&Kt.each(e.nodes(),function(o){e.setParent(o,i(o))}),e};gr.prototype.setDefaultEdgeLabel=function(r){return Kt.isFunction(r)||(r=Kt.constant(r)),this._defaultEdgeLabelFn=r,this};gr.prototype.edgeCount=function(){return this._edgeCount};gr.prototype.edges=function(){return Kt.values(this._edgeObjs)};gr.prototype.setPath=function(r,e){var t=this,n=arguments;return Kt.reduce(r,function(i,o){return n.length>1?t.setEdge(i,o,e):t.setEdge(i,o),o}),this};gr.prototype.setEdge=function(){var r,e,t,n,i=!1,o=arguments[0];typeof o=="object"&&o!==null&&"v"in o?(r=o.v,e=o.w,t=o.name,arguments.length===2&&(n=arguments[1],i=!0)):(r=o,e=arguments[1],t=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),r=""+r,e=""+e,Kt.isUndefined(t)||(t=""+t);var a=Dp(this._isDirected,r,e,t);if(Kt.has(this._edgeLabels,a))return i&&(this._edgeLabels[a]=n),this;if(!Kt.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(r),this.setNode(e),this._edgeLabels[a]=i?n:this._defaultEdgeLabelFn(r,e,t);var u=mae(this._isDirected,r,e,t);return r=u.v,e=u.w,Object.freeze(u),this._edgeObjs[a]=u,VL(this._preds[e],r),VL(this._sucs[r],e),this._in[e][a]=u,this._out[r][a]=u,this._edgeCount++,this};gr.prototype.edge=function(r,e,t){var n=arguments.length===1?mx(this._isDirected,arguments[0]):Dp(this._isDirected,r,e,t);return this._edgeLabels[n]};gr.prototype.hasEdge=function(r,e,t){var n=arguments.length===1?mx(this._isDirected,arguments[0]):Dp(this._isDirected,r,e,t);return Kt.has(this._edgeLabels,n)};gr.prototype.removeEdge=function(r,e,t){var n=arguments.length===1?mx(this._isDirected,arguments[0]):Dp(this._isDirected,r,e,t),i=this._edgeObjs[n];return i&&(r=i.v,e=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],WL(this._preds[e],r),WL(this._sucs[r],e),delete this._in[e][n],delete this._out[r][n],this._edgeCount--),this};gr.prototype.inEdges=function(r,e){var t=this._in[r];if(t){var n=Kt.values(t);return e?Kt.filter(n,function(i){return i.v===e}):n}};gr.prototype.outEdges=function(r,e){var t=this._out[r];if(t){var n=Kt.values(t);return e?Kt.filter(n,function(i){return i.w===e}):n}};gr.prototype.nodeEdges=function(r,e){var t=this.inEdges(r,e);if(t)return t.concat(this.outEdges(r,e))};function VL(r,e){r[e]?r[e]++:r[e]=1}function WL(r,e){--r[e]||delete r[e]}function Dp(r,e,t,n){var i=""+e,o=""+t;if(!r&&i>o){var a=i;i=o,o=a}return i+GL+o+GL+(Kt.isUndefined(n)?yae:n)}function mae(r,e,t,n){var i=""+e,o=""+t;if(!r&&i>o){var a=i;i=o,o=a}var u={v:i,w:o};return n&&(u.name=n),u}function mx(r,e){return Dp(r,e.v,e.w,e.name)}});var XL=ge((Dge,YL)=>{YL.exports="2.1.8"});var $L=ge((Mge,KL)=>{KL.exports={Graph:k0(),version:XL()}});var QL=ge((kge,ZL)=>{var Is=ea(),bae=k0();ZL.exports={write:_ae,read:xae};function _ae(r){var e={options:{directed:r.isDirected(),multigraph:r.isMultigraph(),compound:r.isCompound()},nodes:wae(r),edges:Eae(r)};return Is.isUndefined(r.graph())||(e.value=Is.clone(r.graph())),e}function wae(r){return Is.map(r.nodes(),function(e){var t=r.node(e),n=r.parent(e),i={v:e};return Is.isUndefined(t)||(i.value=t),Is.isUndefined(n)||(i.parent=n),i})}function Eae(r){return Is.map(r.edges(),function(e){var t=r.edge(e),n={v:e.v,w:e.w};return Is.isUndefined(e.name)||(n.name=e.name),Is.isUndefined(t)||(n.value=t),n})}function xae(r){var e=new bae(r.options).setGraph(r.value);return Is.each(r.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),Is.each(r.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}});var ej=ge((Nge,JL)=>{var N0=ea();JL.exports=Oae;function Oae(r){var e={},t=[],n;function i(o){N0.has(e,o)||(e[o]=!0,n.push(o),N0.each(r.successors(o),i),N0.each(r.predecessors(o),i))}return N0.each(r.nodes(),function(o){n=[],i(o),n.length&&t.push(n)}),t}});var bx=ge((Lge,rj)=>{var tj=ea();rj.exports=Oa;function Oa(){this._arr=[],this._keyIndices={}}Oa.prototype.size=function(){return this._arr.length};Oa.prototype.keys=function(){return this._arr.map(function(r){return r.key})};Oa.prototype.has=function(r){return tj.has(this._keyIndices,r)};Oa.prototype.priority=function(r){var e=this._keyIndices[r];if(e!==void 0)return this._arr[e].priority};Oa.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key};Oa.prototype.add=function(r,e){var t=this._keyIndices;if(r=String(r),!tj.has(t,r)){var n=this._arr,i=n.length;return t[r]=i,n.push({key:r,priority:e}),this._decrease(i),!0}return!1};Oa.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var r=this._arr.pop();return delete this._keyIndices[r.key],this._heapify(0),r.key};Oa.prototype.decrease=function(r,e){var t=this._keyIndices[r];if(e>this._arr[t].priority)throw new Error("New priority is greater than current priority. Key: "+r+" Old: "+this._arr[t].priority+" New: "+e);this._arr[t].priority=e,this._decrease(t)};Oa.prototype._heapify=function(r){var e=this._arr,t=2*r,n=t+1,i=r;t<e.length&&(i=e[t].priority<e[i].priority?t:i,n<e.length&&(i=e[n].priority<e[i].priority?n:i),i!==r&&(this._swap(r,i),this._heapify(i)))};Oa.prototype._decrease=function(r){for(var e=this._arr,t=e[r].priority,n;r!==0&&(n=r>>1,!(e[n].priority<t));)this._swap(r,n),r=n};Oa.prototype._swap=function(r,e){var t=this._arr,n=this._keyIndices,i=t[r],o=t[e];t[r]=o,t[e]=i,n[o.key]=r,n[i.key]=e}});var _x=ge((jge,nj)=>{var Sae=ea(),Tae=bx();nj.exports=Pae;var Cae=Sae.constant(1);function Pae(r,e,t,n){return Aae(r,String(e),t||Cae,n||function(i){return r.outEdges(i)})}function Aae(r,e,t,n){var i={},o=new Tae,a,u,s=function(l){var c=l.v!==a?l.v:l.w,f=i[c],h=t(l),v=u.distance+h;if(h<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+l+" Weight: "+h);v<f.distance&&(f.distance=v,f.predecessor=a,o.decrease(c,v))};for(r.nodes().forEach(function(l){var c=l===e?0:Number.POSITIVE_INFINITY;i[l]={distance:c},o.add(l,c)});o.size()>0&&(a=o.removeMin(),u=i[a],u.distance!==Number.POSITIVE_INFINITY);)n(a).forEach(s);return i}});var oj=ge((Bge,ij)=>{var Rae=_x(),Iae=ea();ij.exports=Dae;function Dae(r,e,t){return Iae.transform(r.nodes(),function(n,i){n[i]=Rae(r,i,e,t)},{})}});var wx=ge((Fge,sj)=>{var aj=ea();sj.exports=Mae;function Mae(r){var e=0,t=[],n={},i=[];function o(a){var u=n[a]={onStack:!0,lowlink:e,index:e++};if(t.push(a),r.successors(a).forEach(function(c){aj.has(n,c)?n[c].onStack&&(u.lowlink=Math.min(u.lowlink,n[c].index)):(o(c),u.lowlink=Math.min(u.lowlink,n[c].lowlink))}),u.lowlink===u.index){var s=[],l;do l=t.pop(),n[l].onStack=!1,s.push(l);while(a!==l);i.push(s)}}return r.nodes().forEach(function(a){aj.has(n,a)||o(a)}),i}});var lj=ge((Uge,uj)=>{var kae=ea(),Nae=wx();uj.exports=Lae;function Lae(r){return kae.filter(Nae(r),function(e){return e.length>1||e.length===1&&r.hasEdge(e[0],e[0])})}});var fj=ge((zge,cj)=>{var jae=ea();cj.exports=Fae;var Bae=jae.constant(1);function Fae(r,e,t){return Uae(r,e||Bae,t||function(n){return r.outEdges(n)})}function Uae(r,e,t){var n={},i=r.nodes();return i.forEach(function(o){n[o]={},n[o][o]={distance:0},i.forEach(function(a){o!==a&&(n[o][a]={distance:Number.POSITIVE_INFINITY})}),t(o).forEach(function(a){var u=a.v===o?a.w:a.v,s=e(a);n[o][u]={distance:s,predecessor:o}})}),i.forEach(function(o){var a=n[o];i.forEach(function(u){var s=n[u];i.forEach(function(l){var c=s[o],f=a[l],h=s[l],v=c.distance+f.distance;v<h.distance&&(h.distance=v,h.predecessor=f.predecessor)})})}),n}});var Ex=ge((qge,dj)=>{var Mp=ea();dj.exports=hj;hj.CycleException=L0;function hj(r){var e={},t={},n=[];function i(o){if(Mp.has(t,o))throw new L0;Mp.has(e,o)||(t[o]=!0,e[o]=!0,Mp.each(r.predecessors(o),i),delete t[o],n.push(o))}if(Mp.each(r.sinks(),i),Mp.size(e)!==r.nodeCount())throw new L0;return n}function L0(){}L0.prototype=new Error});var gj=ge((Gge,pj)=>{var vj=Ex();pj.exports=zae;function zae(r){try{vj(r)}catch(e){if(e instanceof vj.CycleException)return!1;throw e}return!0}});var xx=ge((Vge,mj)=>{var j0=ea();mj.exports=qae;function qae(r,e,t){j0.isArray(e)||(e=[e]);var n=(r.isDirected()?r.successors:r.neighbors).bind(r),i=[],o={};return j0.each(e,function(a){if(!r.hasNode(a))throw new Error("Graph does not have node: "+a);yj(r,a,t==="post",o,n,i)}),i}function yj(r,e,t,n,i,o){j0.has(n,e)||(n[e]=!0,t||o.push(e),j0.each(i(e),function(a){yj(r,a,t,n,i,o)}),t&&o.push(e))}});var _j=ge((Wge,bj)=>{var Gae=xx();bj.exports=Vae;function Vae(r,e){return Gae(r,e,"post")}});var Ej=ge((Hge,wj)=>{var Wae=xx();wj.exports=Hae;function Hae(r,e){return Wae(r,e,"pre")}});var Sj=ge((Yge,Oj)=>{var xj=ea(),Yae=k0(),Xae=bx();Oj.exports=Kae;function Kae(r,e){var t=new Yae,n={},i=new Xae,o;function a(s){var l=s.v===o?s.w:s.v,c=i.priority(l);if(c!==void 0){var f=e(s);f<c&&(n[l]=o,i.decrease(l,f))}}if(r.nodeCount()===0)return t;xj.each(r.nodes(),function(s){i.add(s,Number.POSITIVE_INFINITY),t.setNode(s)}),i.decrease(r.nodes()[0],0);for(var u=!1;i.size()>0;){if(o=i.removeMin(),xj.has(n,o))t.setEdge(o,n[o]);else{if(u)throw new Error("Input graph is not connected: "+r);u=!0}r.nodeEdges(o).forEach(a)}return t}});var Cj=ge((Xge,Tj)=>{Tj.exports={components:ej(),dijkstra:_x(),dijkstraAll:oj(),findCycles:lj(),floydWarshall:fj(),isAcyclic:gj(),postorder:_j(),preorder:Ej(),prim:Sj(),tarjan:wx(),topsort:Ex()}});var ta=ge((Kge,Aj)=>{var Pj=$L();Aj.exports={Graph:Pj.Graph,json:QL(),alg:Cj(),version:Pj.version}});var Qr=ge((Uh,kp)=>{(function(){var r,e="4.17.23",t=200,n="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",i="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",u=500,s="__lodash_placeholder__",l=1,c=2,f=4,h=1,v=2,d=1,y=2,p=4,g=8,b=16,m=32,_=64,w=128,O=256,E=512,S=30,P="...",I=800,R=16,D=1,k=2,N=3,B=1/0,z=9007199254740991,F=17976931348623157e292,U=NaN,W=4294967295,Y=W-1,X=W>>>1,Q=[["ary",w],["bind",d],["bindKey",y],["curry",g],["curryRight",b],["flip",E],["partial",m],["partialRight",_],["rearg",O]],ue="[object Arguments]",ce="[object Array]",ae="[object AsyncFunction]",pe="[object Boolean]",fe="[object Date]",he="[object DOMException]",ee="[object Error]",K="[object Function]",J="[object GeneratorFunction]",ie="[object Map]",de="[object Number]",_e="[object Null]",Ce="[object Object]",Ae="[object Promise]",xe="[object Proxy]",j="[object RegExp]",G="[object Set]",H="[object String]",oe="[object Symbol]",ve="[object Undefined]",ye="[object WeakMap]",we="[object WeakSet]",je="[object ArrayBuffer]",ze="[object DataView]",rt="[object Float32Array]",Ze="[object Float64Array]",Je="[object Int8Array]",tt="[object Int16Array]",Xe="[object Int32Array]",ke="[object Uint8Array]",te="[object Uint8ClampedArray]",Se="[object Uint16Array]",De="[object Uint32Array]",Me=/\b__p \+= '';/g,Ne=/\b(__p \+=) '' \+/g,nt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,ot=/[&<>"']/g,Qe=RegExp(Be.source),it=RegExp(ot.source),gt=/<%-([\s\S]+?)%>/g,Pt=/<%([\s\S]+?)%>/g,lt=/<%=([\s\S]+?)%>/g,Lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,Qt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yt=/[\\^$.*+?()[\]{}|]/g,Rt=RegExp(Yt.source),wt=/^\s+/,dr=/\s/,ir=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vr=/\{\n\/\* \[wrapped with (.+)\] \*/,wr=/,? & /,Er=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Pr=/[()=,{}\[\]\/\s]/,Vr=/\\(\\)?/g,cn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Dn=/\w*$/,On=/^[-+]0x[0-9a-f]+$/i,xr=/^0b[01]+$/i,mr=/^\[object .+?Constructor\]$/,Wr=/^0o[0-7]+$/i,fn=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mn=/($^)/,Sn=/['\n\r\u2028\u2029\\]/g,ut="\\ud800-\\udfff",jt="\\u0300-\\u036f",kn="\\ufe20-\\ufe2f",co="\\u20d0-\\u20ff",fo=jt+kn+co,Vn="\\u2700-\\u27bf",oi="a-z\\xdf-\\xf6\\xf8-\\xff",pr="\\xac\\xb1\\xd7\\xf7",Xt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Mi="\\u2000-\\u206f",es=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Tu="A-Z\\xc0-\\xd6\\xd8-\\xde",Wn="\\ufe0e\\ufe0f",ts=pr+Xt+Mi+es,en="['\u2019]",aa="["+ut+"]",Tn="["+ts+"]",Ia="["+fo+"]",Us="\\d+",ai="["+Vn+"]",ql="["+oi+"]",Gl="[^"+ut+ts+Us+Vn+oi+Tu+"]",Cu="\\ud83c[\\udffb-\\udfff]",sf="(?:"+Ia+"|"+Cu+")",Vl="[^"+ut+"]",Pu="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",rs="["+Tu+"]",yi="\\u200d",uf="(?:"+ql+"|"+Gl+")",lf="(?:"+rs+"|"+Gl+")",ko="(?:"+en+"(?:d|ll|m|re|s|t|ve))?",zs="(?:"+en+"(?:D|LL|M|RE|S|T|VE))?",Au=sf+"?",Hr="["+Wn+"]?",sa="(?:"+yi+"(?:"+[Vl,Pu,Hn].join("|")+")"+Hr+Au+")*",Wl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",yd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ru=Hr+Au+sa,md="(?:"+[ai,Pu,Hn].join("|")+")"+Ru,cf="(?:"+[Vl+Ia+"?",Ia,Pu,Hn,aa].join("|")+")",Iu=RegExp(en,"g"),ns=RegExp(Ia,"g"),Hl=RegExp(Cu+"(?="+Cu+")|"+cf+Ru,"g"),ff=RegExp([rs+"?"+ql+"+"+ko+"(?="+[Tn,rs,"$"].join("|")+")",lf+"+"+zs+"(?="+[Tn,rs+uf,"$"].join("|")+")",rs+"?"+uf+"+"+ko,rs+"+"+zs,yd,Wl,Us,md].join("|"),"g"),hf=RegExp("["+yi+ut+fo+Wn+"]"),Yl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xl=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],df=-1,jr={};jr[rt]=jr[Ze]=jr[Je]=jr[tt]=jr[Xe]=jr[ke]=jr[te]=jr[Se]=jr[De]=!0,jr[ue]=jr[ce]=jr[je]=jr[pe]=jr[ze]=jr[fe]=jr[ee]=jr[K]=jr[ie]=jr[de]=jr[Ce]=jr[j]=jr[G]=jr[H]=jr[ye]=!1;var kr={};kr[ue]=kr[ce]=kr[je]=kr[ze]=kr[pe]=kr[fe]=kr[rt]=kr[Ze]=kr[Je]=kr[tt]=kr[Xe]=kr[ie]=kr[de]=kr[Ce]=kr[j]=kr[G]=kr[H]=kr[oe]=kr[ke]=kr[te]=kr[Se]=kr[De]=!0,kr[ee]=kr[K]=kr[ye]=!1;var vf={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},mi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kl={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qs={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pf=parseFloat,gf=parseInt,yf=typeof global=="object"&&global&&global.Object===Object&&global,bd=typeof self=="object"&&self&&self.Object===Object&&self,Cn=yf||bd||Function("return this")(),ua=typeof Uh=="object"&&Uh&&!Uh.nodeType&&Uh,No=ua&&typeof kp=="object"&&kp&&!kp.nodeType&&kp,$l=No&&No.exports===ua,ho=$l&&yf.process,Yn=function(){try{var Te=No&&No.require&&No.require("util").types;return Te||ho&&ho.binding&&ho.binding("util")}catch{}}(),mf=Yn&&Yn.isArrayBuffer,Da=Yn&&Yn.isDate,Nn=Yn&&Yn.isMap,la=Yn&&Yn.isRegExp,vo=Yn&&Yn.isSet,Hi=Yn&&Yn.isTypedArray;function Re(Te,Fe,Le){switch(Le.length){case 0:return Te.call(Fe);case 1:return Te.call(Fe,Le[0]);case 2:return Te.call(Fe,Le[0],Le[1]);case 3:return Te.call(Fe,Le[0],Le[1],Le[2])}return Te.apply(Fe,Le)}function He(Te,Fe,Le,pt){for(var Gt=-1,Ar=Te==null?0:Te.length;++Gt<Ar;){var vn=Te[Gt];Fe(pt,vn,Le(vn),Te)}return pt}function Ue(Te,Fe){for(var Le=-1,pt=Te==null?0:Te.length;++Le<pt&&Fe(Te[Le],Le,Te)!==!1;);return Te}function ft(Te,Fe){for(var Le=Te==null?0:Te.length;Le--&&Fe(Te[Le],Le,Te)!==!1;);return Te}function zt(Te,Fe){for(var Le=-1,pt=Te==null?0:Te.length;++Le<pt;)if(!Fe(Te[Le],Le,Te))return!1;return!0}function er(Te,Fe){for(var Le=-1,pt=Te==null?0:Te.length,Gt=0,Ar=[];++Le<pt;){var vn=Te[Le];Fe(vn,Le,Te)&&(Ar[Gt++]=vn)}return Ar}function hn(Te,Fe){var Le=Te==null?0:Te.length;return!!Le&&ku(Te,Fe,0)>-1}function po(Te,Fe,Le){for(var pt=-1,Gt=Te==null?0:Te.length;++pt<Gt;)if(Le(Fe,Te[pt]))return!0;return!1}function Bt(Te,Fe){for(var Le=-1,pt=Te==null?0:Te.length,Gt=Array(pt);++Le<pt;)Gt[Le]=Fe(Te[Le],Le,Te);return Gt}function ca(Te,Fe){for(var Le=-1,pt=Fe.length,Gt=Te.length;++Le<pt;)Te[Gt+Le]=Fe[Le];return Te}function _d(Te,Fe,Le,pt){var Gt=-1,Ar=Te==null?0:Te.length;for(pt&&Ar&&(Le=Te[++Gt]);++Gt<Ar;)Le=Fe(Le,Te[Gt],Gt,Te);return Le}function go(Te,Fe,Le,pt){var Gt=Te==null?0:Te.length;for(pt&&Gt&&(Le=Te[--Gt]);Gt--;)Le=Fe(Le,Te[Gt],Gt,Te);return Le}function Du(Te,Fe){for(var Le=-1,pt=Te==null?0:Te.length;++Le<pt;)if(Fe(Te[Le],Le,Te))return!0;return!1}var Zb=wd("length");function Mu(Te){return Te.split("")}function bf(Te){return Te.match(Er)||[]}function Zl(Te,Fe,Le){var pt;return Le(Te,function(Gt,Ar,vn){if(Fe(Gt,Ar,vn))return pt=Ar,!1}),pt}function Or(Te,Fe,Le,pt){for(var Gt=Te.length,Ar=Le+(pt?1:-1);pt?Ar--:++Ar<Gt;)if(Fe(Te[Ar],Ar,Te))return Ar;return-1}function ku(Te,Fe,Le){return Fe===Fe?r_(Te,Fe,Le):Or(Te,Ql,Le)}function Qg(Te,Fe,Le,pt){for(var Gt=Le-1,Ar=Te.length;++Gt<Ar;)if(pt(Te[Gt],Fe))return Gt;return-1}function Ql(Te){return Te!==Te}function Jg(Te,Fe){var Le=Te==null?0:Te.length;return Le?Nu(Te,Fe)/Le:U}function wd(Te){return function(Fe){return Fe==null?r:Fe[Te]}}function Ed(Te){return function(Fe){return Te==null?r:Te[Fe]}}function Jl(Te,Fe,Le,pt,Gt){return Gt(Te,function(Ar,vn,Rr){Le=pt?(pt=!1,Ar):Fe(Le,Ar,vn,Rr)}),Le}function is(Te,Fe){var Le=Te.length;for(Te.sort(Fe);Le--;)Te[Le]=Te[Le].value;return Te}function Nu(Te,Fe){for(var Le,pt=-1,Gt=Te.length;++pt<Gt;){var Ar=Fe(Te[pt]);Ar!==r&&(Le=Le===r?Ar:Le+Ar)}return Le}function _f(Te,Fe){for(var Le=-1,pt=Array(Te);++Le<Te;)pt[Le]=Fe(Le);return pt}function wf(Te,Fe){return Bt(Fe,function(Le){return[Le,Te[Le]]})}function xd(Te){return Te&&Te.slice(0,Sf(Te)+1).replace(wt,"")}function ki(Te){return function(Fe){return Te(Fe)}}function Lu(Te,Fe){return Bt(Fe,function(Le){return Te[Le]})}function ju(Te,Fe){return Te.has(Fe)}function Bu(Te,Fe){for(var Le=-1,pt=Te.length;++Le<pt&&ku(Fe,Te[Le],0)>-1;);return Le}function os(Te,Fe){for(var Le=Te.length;Le--&&ku(Fe,Te[Le],0)>-1;);return Le}function Ef(Te,Fe){for(var Le=Te.length,pt=0;Le--;)Te[Le]===Fe&&++pt;return pt}var Qb=Ed(vf),Jb=Ed(mi);function e_(Te){return"\\"+qs[Te]}function xf(Te,Fe){return Te==null?r:Te[Fe]}function Ma(Te){return hf.test(Te)}function Od(Te){return Yl.test(Te)}function t_(Te){for(var Fe,Le=[];!(Fe=Te.next()).done;)Le.push(Fe.value);return Le}function Of(Te){var Fe=-1,Le=Array(Te.size);return Te.forEach(function(pt,Gt){Le[++Fe]=[Gt,pt]}),Le}function ey(Te,Fe){return function(Le){return Te(Fe(Le))}}function as(Te,Fe){for(var Le=-1,pt=Te.length,Gt=0,Ar=[];++Le<pt;){var vn=Te[Le];(vn===Fe||vn===s)&&(Te[Le]=s,Ar[Gt++]=Le)}return Ar}function dn(Te){var Fe=-1,Le=Array(Te.size);return Te.forEach(function(pt){Le[++Fe]=pt}),Le}function si(Te){var Fe=-1,Le=Array(Te.size);return Te.forEach(function(pt){Le[++Fe]=[pt,pt]}),Le}function r_(Te,Fe,Le){for(var pt=Le-1,Gt=Te.length;++pt<Gt;)if(Te[pt]===Fe)return pt;return-1}function n_(Te,Fe,Le){for(var pt=Le+1;pt--;)if(Te[pt]===Fe)return pt;return pt}function Gs(Te){return Ma(Te)?Sd(Te):Zb(Te)}function Lo(Te){return Ma(Te)?Fu(Te):Mu(Te)}function Sf(Te){for(var Fe=Te.length;Fe--&&dr.test(Te.charAt(Fe)););return Fe}var ec=Ed(Kl);function Sd(Te){for(var Fe=Hl.lastIndex=0;Hl.test(Te);)++Fe;return Fe}function Fu(Te){return Te.match(Hl)||[]}function tc(Te){return Te.match(ff)||[]}var rc=function Te(Fe){Fe=Fe==null?Cn:jo.defaults(Cn.Object(),Fe,jo.pick(Cn,Xl));var Le=Fe.Array,pt=Fe.Date,Gt=Fe.Error,Ar=Fe.Function,vn=Fe.Math,Rr=Fe.Object,Tf=Fe.RegExp,ne=Fe.String,Xn=Fe.TypeError,Vs=Le.prototype,yo=Ar.prototype,tr=Rr.prototype,fa=Fe["__core-js_shared__"],mo=yo.toString,ur=tr.hasOwnProperty,Ws=0,bo=function(){var x=/[^.]+$/.exec(fa&&fa.keys&&fa.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),nc=tr.toString,ty=mo.call(Rr),i_=Cn._,o_=Tf("^"+mo.call(ur).replace(Yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Uu=$l?Fe.Buffer:r,_o=Fe.Symbol,Hs=Fe.Uint8Array,ry=Uu?Uu.allocUnsafe:r,ic=ey(Rr.getPrototypeOf,Rr),ha=Rr.create,Cf=tr.propertyIsEnumerable,da=Vs.splice,Yi=_o?_o.isConcatSpreadable:r,zu=_o?_o.iterator:r,ss=_o?_o.toStringTag:r,us=function(){try{var x=xi(Rr,"defineProperty");return x({},"",{}),x}catch{}}(),ls=Fe.clearTimeout!==Cn.clearTimeout&&Fe.clearTimeout,ny=pt&&pt.now!==Cn.Date.now&&pt.now,a_=Fe.setTimeout!==Cn.setTimeout&&Fe.setTimeout,Ys=vn.ceil,oc=vn.floor,Ln=Rr.getOwnPropertySymbols,Td=Uu?Uu.isBuffer:r,Cd=Fe.isFinite,va=Vs.join,Pd=ey(Rr.keys,Rr),pn=vn.max,gn=vn.min,iy=pt.now,bi=Fe.parseInt,Pf=vn.random,s_=Vs.reverse,Ad=xi(Fe,"DataView"),Xs=xi(Fe,"Map"),Ks=xi(Fe,"Promise"),$s=xi(Fe,"Set"),ka=xi(Fe,"WeakMap"),Zs=xi(Rr,"create"),ac=ka&&new ka,Qs={},Rd=ws(Ad),Id=ws(Xs),oy=ws(Ks),ay=ws($s),sy=ws(ka),Js=_o?_o.prototype:r,qu=Js?Js.valueOf:r,Dd=Js?Js.toString:r;function re(x){if(Pn(x)&&!nr(x)&&!(x instanceof lr)){if(x instanceof Ni)return x;if(ur.call(x,"__wrapped__"))return eh(x)}return new Ni(x)}var cs=function(){function x(){}return function(C){if(!En(C))return{};if(ha)return ha(C);x.prototype=C;var M=new x;return x.prototype=r,M}}();function sc(){}function Ni(x,C){this.__wrapped__=x,this.__actions__=[],this.__chain__=!!C,this.__index__=0,this.__values__=r}re.templateSettings={escape:gt,evaluate:Pt,interpolate:lt,variable:"",imports:{_:re}},re.prototype=sc.prototype,re.prototype.constructor=re,Ni.prototype=cs(sc.prototype),Ni.prototype.constructor=Ni;function lr(x){this.__wrapped__=x,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=W,this.__views__=[]}function or(){var x=new lr(this.__wrapped__);return x.__actions__=Bi(this.__actions__),x.__dir__=this.__dir__,x.__filtered__=this.__filtered__,x.__iteratees__=Bi(this.__iteratees__),x.__takeCount__=this.__takeCount__,x.__views__=Bi(this.__views__),x}function u_(){if(this.__filtered__){var x=new lr(this);x.__dir__=-1,x.__filtered__=!0}else x=this.clone(),x.__dir__*=-1;return x}function l_(){var x=this.__wrapped__.value(),C=this.__dir__,M=nr(x),q=C<0,$=M?x.length:0,se=Nr(0,$,this.__views__),me=se.start,Ee=se.end,Pe=Ee-me,Ge=q?Ee:me-1,We=this.__iteratees__,Ke=We.length,ht=0,bt=gn(Pe,this.__takeCount__);if(!M||!q&&$==Pe&&bt==Pe)return ov(x,this.__actions__);var Ft=[];e:for(;Pe--&&ht<bt;){Ge+=C;for(var cr=-1,Ut=x[Ge];++cr<Ke;){var br=We[cr],Sr=br.iteratee,Zo=br.type,Qi=Sr(Ut);if(Zo==k)Ut=Qi;else if(!Qi){if(Zo==D)continue e;break e}}Ft[ht++]=Ut}return Ft}lr.prototype=cs(sc.prototype),lr.prototype.constructor=lr;function Bo(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var q=x[C];this.set(q[0],q[1])}}function uy(){this.__data__=Zs?Zs(null):{},this.size=0}function c_(x){var C=this.has(x)&&delete this.__data__[x];return this.size-=C?1:0,C}function f_(x){var C=this.__data__;if(Zs){var M=C[x];return M===a?r:M}return ur.call(C,x)?C[x]:r}function wo(x){var C=this.__data__;return Zs?C[x]!==r:ur.call(C,x)}function h_(x,C){var M=this.__data__;return this.size+=this.has(x)?0:1,M[x]=Zs&&C===r?a:C,this}Bo.prototype.clear=uy,Bo.prototype.delete=c_,Bo.prototype.get=f_,Bo.prototype.has=wo,Bo.prototype.set=h_;function Eo(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var q=x[C];this.set(q[0],q[1])}}function Md(){this.__data__=[],this.size=0}function ly(x){var C=this.__data__,M=La(C,x);if(M<0)return!1;var q=C.length-1;return M==q?C.pop():da.call(C,M,1),--this.size,!0}function cy(x){var C=this.__data__,M=La(C,x);return M<0?r:C[M][1]}function Xi(x){return La(this.__data__,x)>-1}function fs(x,C){var M=this.__data__,q=La(M,x);return q<0?(++this.size,M.push([x,C])):M[q][1]=C,this}Eo.prototype.clear=Md,Eo.prototype.delete=ly,Eo.prototype.get=cy,Eo.prototype.has=Xi,Eo.prototype.set=fs;function Fo(x){var C=-1,M=x==null?0:x.length;for(this.clear();++C<M;){var q=x[C];this.set(q[0],q[1])}}function fy(){this.size=0,this.__data__={hash:new Bo,map:new(Xs||Eo),string:new Bo}}function Af(x){var C=Yf(this,x).delete(x);return this.size-=C?1:0,C}function hy(x){return Yf(this,x).get(x)}function kd(x){return Yf(this,x).has(x)}function dy(x,C){var M=Yf(this,x),q=M.size;return M.set(x,C),this.size+=M.size==q?0:1,this}Fo.prototype.clear=fy,Fo.prototype.delete=Af,Fo.prototype.get=hy,Fo.prototype.has=kd,Fo.prototype.set=dy;function Na(x){var C=-1,M=x==null?0:x.length;for(this.__data__=new Fo;++C<M;)this.add(x[C])}function Nd(x){return this.__data__.set(x,a),this}function hs(x){return this.__data__.has(x)}Na.prototype.add=Na.prototype.push=Nd,Na.prototype.has=hs;function Uo(x){var C=this.__data__=new Eo(x);this.size=C.size}function ds(){this.__data__=new Eo,this.size=0}function vy(x){var C=this.__data__,M=C.delete(x);return this.size=C.size,M}function py(x){return this.__data__.get(x)}function Ld(x){return this.__data__.has(x)}function gy(x,C){var M=this.__data__;if(M instanceof Eo){var q=M.__data__;if(!Xs||q.length<t-1)return q.push([x,C]),this.size=++M.size,this;M=this.__data__=new Fo(q)}return M.set(x,C),this.size=M.size,this}Uo.prototype.clear=ds,Uo.prototype.delete=vy,Uo.prototype.get=py,Uo.prototype.has=Ld,Uo.prototype.set=gy;function jd(x,C){var M=nr(x),q=!M&&_c(x),$=!M&&!q&&$u(x),se=!M&&!q&&!$&&oh(x),me=M||q||$||se,Ee=me?_f(x.length,ne):[],Pe=Ee.length;for(var Ge in x)(C||ur.call(x,Ge))&&!(me&&(Ge=="length"||$&&(Ge=="offset"||Ge=="parent")||se&&(Ge=="buffer"||Ge=="byteLength"||Ge=="byteOffset")||Xo(Ge,Pe)))&&Ee.push(Ge);return Ee}function Bd(x){var C=x.length;return C?x[ja(0,C-1)]:r}function yy(x,C){return Qf(Bi(x),ps(C,0,x.length))}function Li(x){return Qf(Bi(x))}function xo(x,C,M){(M!==r&&!za(x[C],M)||M===r&&!(C in x))&&ji(x,C,M)}function vs(x,C,M){var q=x[C];(!(ur.call(x,C)&&za(q,M))||M===r&&!(C in x))&&ji(x,C,M)}function La(x,C){for(var M=x.length;M--;)if(za(x[M][0],C))return M;return-1}function my(x,C,M,q){return zo(x,function($,se,me){C(q,$,M($),me)}),q}function Fd(x,C){return x&&pa(C,hi(C),x)}function by(x,C){return x&&pa(C,Co(C),x)}function ji(x,C,M){C=="__proto__"&&us?us(x,C,{configurable:!0,enumerable:!0,value:M,writable:!0}):x[C]=M}function eu(x,C){for(var M=-1,q=C.length,$=Le(q),se=x==null;++M<q;)$[M]=se?r:K_(x,C[M]);return $}function ps(x,C,M){return x===x&&(M!==r&&(x=x<=M?x:M),C!==r&&(x=x>=C?x:C)),x}function Ki(x,C,M,q,$,se){var me,Ee=C&l,Pe=C&c,Ge=C&f;if(M&&(me=$?M(x,q,$,se):M(x)),me!==r)return me;if(!En(x))return x;var We=nr(x);if(We){if(me=$f(x),!Ee)return Bi(x,me)}else{var Ke=Qn(x),ht=Ke==K||Ke==J;if($u(x))return Ry(x,Ee);if(Ke==Ce||Ke==ue||ht&&!$){if(me=Pe||ht?{}:Fy(x),!Ee)return Pe?ky(x,by(me,x)):zf(x,Fd(me,x))}else{if(!kr[Ke])return $?x:{};me=T_(x,Ke,Ee)}}se||(se=new Uo);var bt=se.get(x);if(bt)return bt;se.set(x,me),ZS(x)?x.forEach(function(Ut){me.add(Ki(Ut,C,M,Ut,x,se))}):KS(x)&&x.forEach(function(Ut,br){me.set(br,Ki(Ut,C,M,br,x,se))});var Ft=Ge?Pe?Hf:gc:Pe?Co:hi,cr=We?r:Ft(x);return Ue(cr||x,function(Ut,br){cr&&(br=Ut,Ut=x[br]),vs(me,br,Ki(Ut,C,M,br,x,se))}),me}function Rf(x){var C=hi(x);return function(M){return Ud(M,x,C)}}function Ud(x,C,M){var q=M.length;if(x==null)return!q;for(x=Rr(x);q--;){var $=M[q],se=C[$],me=x[$];if(me===r&&!($ in x)||!se(me))return!1}return!0}function uc(x,C,M){if(typeof x!="function")throw new Xn(i);return mc(function(){x.apply(r,M)},C)}function tu(x,C,M,q){var $=-1,se=hn,me=!0,Ee=x.length,Pe=[],Ge=C.length;if(!Ee)return Pe;M&&(C=Bt(C,ki(M))),q?(se=po,me=!1):C.length>=t&&(se=ju,me=!1,C=new Na(C));e:for(;++$<Ee;){var We=x[$],Ke=M==null?We:M(We);if(We=q||We!==0?We:0,me&&Ke===Ke){for(var ht=Ge;ht--;)if(C[ht]===Ke)continue e;Pe.push(We)}else se(C,Ke,q)||Pe.push(We)}return Pe}var zo=fv(Go),zd=fv(Vd,!0);function If(x,C){var M=!0;return zo(x,function(q,$,se){return M=!!C(q,$,se),M}),M}function lc(x,C,M){for(var q=-1,$=x.length;++q<$;){var se=x[q],me=C(se);if(me!=null&&(Ee===r?me===me&&!$o(me):M(me,Ee)))var Ee=me,Pe=se}return Pe}function qd(x,C,M,q){var $=x.length;for(M=sr(M),M<0&&(M=-M>$?0:$+M),q=q===r||q>$?$:sr(q),q<0&&(q+=$),q=M>q?0:JS(q);M<q;)x[M++]=C;return x}function _y(x,C){var M=[];return zo(x,function(q,$,se){C(q,$,se)&&M.push(q)}),M}function Un(x,C,M,q,$){var se=-1,me=x.length;for(M||(M=P_),$||($=[]);++se<me;){var Ee=x[se];C>0&&M(Ee)?C>1?Un(Ee,C-1,M,q,$):ca($,Ee):q||($[$.length]=Ee)}return $}var qo=hv(),Gd=hv(!0);function Go(x,C){return x&&qo(x,C,hi)}function Vd(x,C){return x&&Gd(x,C,hi)}function cc(x,C){return er(C,function(M){return nu(x[M])})}function _i(x,C){C=ms(C,x);for(var M=0,q=C.length;x!=null&&M<q;)x=x[Ko(C[M++])];return M&&M==q?x:r}function Df(x,C,M){var q=C(x);return nr(x)?q:ca(q,M(x))}function Kn(x){return x==null?x===r?ve:_e:ss&&ss in Rr(x)?rr(x):Gy(x)}function fc(x,C){return x>C}function Mf(x,C){return x!=null&&ur.call(x,C)}function Gu(x,C){return x!=null&&C in Rr(x)}function It(x,C,M){return x>=gn(C,M)&&x<pn(C,M)}function Vu(x,C,M){for(var q=M?po:hn,$=x[0].length,se=x.length,me=se,Ee=Le(se),Pe=1/0,Ge=[];me--;){var We=x[me];me&&C&&(We=Bt(We,ki(C))),Pe=gn(We.length,Pe),Ee[me]=!M&&(C||$>=120&&We.length>=120)?new Na(me&&We):r}We=x[0];var Ke=-1,ht=Ee[0];e:for(;++Ke<$&&Ge.length<Pe;){var bt=We[Ke],Ft=C?C(bt):bt;if(bt=M||bt!==0?bt:0,!(ht?ju(ht,Ft):q(Ge,Ft,M))){for(me=se;--me;){var cr=Ee[me];if(!(cr?ju(cr,Ft):q(x[me],Ft,M)))continue e}ht&&ht.push(Ft),Ge.push(bt)}}return Ge}function Wd(x,C,M,q){return Go(x,function($,se,me){C(q,M($),se,me)}),q}function Vo(x,C,M){C=ms(C,x),x=Vy(x,C);var q=x==null?x:x[Ko(T(C))];return q==null?r:Re(q,x,M)}function kf(x){return Pn(x)&&Kn(x)==ue}function wy(x){return Pn(x)&&Kn(x)==je}function ui(x){return Pn(x)&&Kn(x)==fe}function Wu(x,C,M,q,$){return x===C?!0:x==null||C==null||!Pn(x)&&!Pn(C)?x!==x&&C!==C:Ey(x,C,M,q,Wu,$)}function Ey(x,C,M,q,$,se){var me=nr(x),Ee=nr(C),Pe=me?ce:Qn(x),Ge=Ee?ce:Qn(C);Pe=Pe==ue?Ce:Pe,Ge=Ge==ue?Ce:Ge;var We=Pe==Ce,Ke=Ge==Ce,ht=Pe==Ge;if(ht&&$u(x)){if(!$u(C))return!1;me=!0,We=!1}if(ht&&!We)return se||(se=new Uo),me||oh(x)?sn(x,C,M,q,$,se):jy(x,C,Pe,M,q,$,se);if(!(M&h)){var bt=We&&ur.call(x,"__wrapped__"),Ft=Ke&&ur.call(C,"__wrapped__");if(bt||Ft){var cr=bt?x.value():x,Ut=Ft?C.value():C;return se||(se=new Uo),$(cr,Ut,M,q,se)}}return ht?(se||(se=new Uo),By(x,C,M,q,$,se)):!1}function d_(x){return Pn(x)&&Qn(x)==ie}function Wo(x,C,M,q){var $=M.length,se=$,me=!q;if(x==null)return!se;for(x=Rr(x);$--;){var Ee=M[$];if(me&&Ee[2]?Ee[1]!==x[Ee[0]]:!(Ee[0]in x))return!1}for(;++$<se;){Ee=M[$];var Pe=Ee[0],Ge=x[Pe],We=Ee[1];if(me&&Ee[2]){if(Ge===r&&!(Pe in x))return!1}else{var Ke=new Uo;if(q)var ht=q(Ge,We,Pe,x,C,Ke);if(!(ht===r?Wu(We,Ge,h|v,q,Ke):ht))return!1}}return!0}function li(x){if(!En(x)||zn(x))return!1;var C=nu(x)?o_:mr;return C.test(ws(x))}function Hd(x){return Pn(x)&&Kn(x)==j}function Yd(x){return Pn(x)&&Qn(x)==G}function v_(x){return Pn(x)&&am(x.length)&&!!jr[Kn(x)]}function Hu(x){return typeof x=="function"?x:x==null?Po:typeof x=="object"?nr(x)?Kd(x[0],x[1]):jf(x):cT(x)}function Nf(x){if(!yc(x))return Pd(x);var C=[];for(var M in Rr(x))ur.call(x,M)&&M!="constructor"&&C.push(M);return C}function xy(x){if(!En(x))return qy(x);var C=yc(x),M=[];for(var q in x)q=="constructor"&&(C||!ur.call(x,q))||M.push(q);return M}function Lf(x,C){return x<C}function Xd(x,C){var M=-1,q=To(x)?Le(x.length):[];return zo(x,function($,se,me){q[++M]=C($,se,me)}),q}function jf(x){var C=Xf(x);return C.length==1&&C[0][2]?Uy(C[0][0],C[0][1]):function(M){return M===x||Wo(M,x,C)}}function Kd(x,C){return yv(x)&&bv(C)?Uy(Ko(x),C):function(M){var q=K_(M,x);return q===r&&q===C?$_(M,x):Wu(C,q,h|v)}}function gs(x,C,M,q,$){x!==C&&qo(C,function(se,me){if($||($=new Uo),En(se))$d(x,C,me,M,gs,q,$);else{var Ee=q?q(Zf(x,me),se,me+"",x,C,$):r;Ee===r&&(Ee=se),xo(x,me,Ee)}},Co)}function $d(x,C,M,q,$,se,me){var Ee=Zf(x,M),Pe=Zf(C,M),Ge=me.get(Pe);if(Ge){xo(x,M,Ge);return}var We=se?se(Ee,Pe,M+"",x,C,me):r,Ke=We===r;if(Ke){var ht=nr(Pe),bt=!ht&&$u(Pe),Ft=!ht&&!bt&&oh(Pe);We=Pe,ht||bt||Ft?nr(Ee)?We=Ee:Bn(Ee)?We=Bi(Ee):bt?(Ke=!1,We=Ry(Pe,!0)):Ft?(Ke=!1,We=cv(Pe,!0)):We=[]:Av(Pe)||_c(Pe)?(We=Ee,_c(Ee)?We=eT(Ee):(!En(Ee)||nu(Ee))&&(We=Fy(Pe))):Ke=!1}Ke&&(me.set(Pe,We),$(We,Pe,q,se,me),me.delete(Pe)),xo(x,M,We)}function Zd(x,C){var M=x.length;if(M)return C+=C<0?M:0,Xo(C,M)?x[C]:r}function Qd(x,C,M){C.length?C=Bt(C,function(se){return nr(se)?function(me){return _i(me,se.length===1?se[0]:se)}:se}):C=[Po];var q=-1;C=Bt(C,ki(Dt()));var $=Xd(x,function(se,me,Ee){var Pe=Bt(C,function(Ge){return Ge(se)});return{criteria:Pe,index:++q,value:se}});return is($,function(se,me){return w_(se,me,M)})}function Bf(x,C){return Ff(x,C,function(M,q){return $_(x,q)})}function Ff(x,C,M){for(var q=-1,$=C.length,se={};++q<$;){var me=C[q],Ee=_i(x,me);M(Ee,me)&&Yu(se,ms(me,x),Ee)}return se}function Jd(x){return function(C){return _i(C,x)}}function Uf(x,C,M,q){var $=q?Qg:ku,se=-1,me=C.length,Ee=x;for(x===C&&(C=Bi(C)),M&&(Ee=Bt(x,ki(M)));++se<me;)for(var Pe=0,Ge=C[se],We=M?M(Ge):Ge;(Pe=$(Ee,We,Pe,q))>-1;)Ee!==x&&da.call(Ee,Pe,1),da.call(x,Pe,1);return x}function Ho(x,C){for(var M=x?C.length:0,q=M-1;M--;){var $=C[M];if(M==q||$!==se){var se=$;Xo($)?da.call(x,$,1):iv(x,$)}}return x}function ja(x,C){return x+oc(Pf()*(C-x+1))}function Oy(x,C,M,q){for(var $=-1,se=pn(Ys((C-x)/(M||1)),0),me=Le(se);se--;)me[q?se:++$]=x,x+=M;return me}function ev(x,C){var M="";if(!x||C<1||C>z)return M;do C%2&&(M+=x),C=oc(C/2),C&&(x+=x);while(C);return M}function ar(x,C){return _v(ru(x,C,Po),x+"")}function p_(x){return Bd(ah(x))}function Sy(x,C){var M=ah(x);return Qf(M,ps(C,0,M.length))}function Yu(x,C,M,q){if(!En(x))return x;C=ms(C,x);for(var $=-1,se=C.length,me=se-1,Ee=x;Ee!=null&&++$<se;){var Pe=Ko(C[$]),Ge=M;if(Pe==="__proto__"||Pe==="constructor"||Pe==="prototype")return x;if($!=me){var We=Ee[Pe];Ge=q?q(We,Pe,Ee):r,Ge===r&&(Ge=En(We)?We:Xo(C[$+1])?[]:{})}vs(Ee,Pe,Ge),Ee=Ee[Pe]}return x}var tv=ac?function(x,C){return ac.set(x,C),x}:Po,Ty=us?function(x,C){return us(x,"toString",{configurable:!0,enumerable:!1,value:Q_(C),writable:!0})}:Po;function g_(x){return Qf(ah(x))}function Oo(x,C,M){var q=-1,$=x.length;C<0&&(C=-C>$?0:$+C),M=M>$?$:M,M<0&&(M+=$),$=C>M?0:M-C>>>0,C>>>=0;for(var se=Le($);++q<$;)se[q]=x[q+C];return se}function y_(x,C){var M;return zo(x,function(q,$,se){return M=C(q,$,se),!M}),!!M}function wi(x,C,M){var q=0,$=x==null?q:x.length;if(typeof C=="number"&&C===C&&$<=X){for(;q<$;){var se=q+$>>>1,me=x[se];me!==null&&!$o(me)&&(M?me<=C:me<C)?q=se+1:$=se}return $}return rv(x,C,Po,M)}function rv(x,C,M,q){var $=0,se=x==null?0:x.length;if(se===0)return 0;C=M(C);for(var me=C!==C,Ee=C===null,Pe=$o(C),Ge=C===r;$<se;){var We=oc(($+se)/2),Ke=M(x[We]),ht=Ke!==r,bt=Ke===null,Ft=Ke===Ke,cr=$o(Ke);if(me)var Ut=q||Ft;else Ge?Ut=Ft&&(q||ht):Ee?Ut=Ft&&ht&&(q||!bt):Pe?Ut=Ft&&ht&&!bt&&(q||!cr):bt||cr?Ut=!1:Ut=q?Ke<=C:Ke<C;Ut?$=We+1:se=We}return gn(se,Y)}function nv(x,C){for(var M=-1,q=x.length,$=0,se=[];++M<q;){var me=x[M],Ee=C?C(me):me;if(!M||!za(Ee,Pe)){var Pe=Ee;se[$++]=me===0?0:me}}return se}function Cy(x){return typeof x=="number"?x:$o(x)?U:+x}function Ei(x){if(typeof x=="string")return x;if(nr(x))return Bt(x,Ei)+"";if($o(x))return Dd?Dd.call(x):"";var C=x+"";return C=="0"&&1/x==-B?"-0":C}function ys(x,C,M){var q=-1,$=hn,se=x.length,me=!0,Ee=[],Pe=Ee;if(M)me=!1,$=po;else if(se>=t){var Ge=C?null:O_(x);if(Ge)return dn(Ge);me=!1,$=ju,Pe=new Na}else Pe=C?[]:Ee;e:for(;++q<se;){var We=x[q],Ke=C?C(We):We;if(We=M||We!==0?We:0,me&&Ke===Ke){for(var ht=Pe.length;ht--;)if(Pe[ht]===Ke)continue e;C&&Pe.push(Ke),Ee.push(We)}else $(Pe,Ke,M)||(Pe!==Ee&&Pe.push(Ke),Ee.push(We))}return Ee}function iv(x,C){C=ms(C,x);var M=-1,q=C.length;if(!q)return!0;for(var $=x==null||typeof x!="object"&&typeof x!="function";++M<q;){var se=C[M];if(typeof se=="string"){if(se==="__proto__"&&!ur.call(x,"__proto__"))return!1;if(se==="constructor"&&M+1<q&&typeof C[M+1]=="string"&&C[M+1]==="prototype"){if($&&M===0)continue;return!1}}}var me=Vy(x,C);return me==null||delete me[Ko(T(C))]}function Py(x,C,M,q){return Yu(x,C,M(_i(x,C)),q)}function Xu(x,C,M,q){for(var $=x.length,se=q?$:-1;(q?se--:++se<$)&&C(x[se],se,x););return M?Oo(x,q?0:se,q?se+1:$):Oo(x,q?se+1:0,q?$:se)}function ov(x,C){var M=x;return M instanceof lr&&(M=M.value()),_d(C,function(q,$){return $.func.apply($.thisArg,ca([q],$.args))},M)}function av(x,C,M){var q=x.length;if(q<2)return q?ys(x[0]):[];for(var $=-1,se=Le(q);++$<q;)for(var me=x[$],Ee=-1;++Ee<q;)Ee!=$&&(se[$]=tu(se[$]||me,x[Ee],C,M));return ys(Un(se,1),C,M)}function Ay(x,C,M){for(var q=-1,$=x.length,se=C.length,me={};++q<$;){var Ee=q<se?C[q]:r;M(me,x[q],Ee)}return me}function sv(x){return Bn(x)?x:[]}function uv(x){return typeof x=="function"?x:Po}function ms(x,C){return nr(x)?x:yv(x,C)?[x]:Jf(zr(x))}var m_=ar;function Ba(x,C,M){var q=x.length;return M=M===r?q:M,!C&&M>=q?x:Oo(x,C,M)}var hc=ls||function(x){return Cn.clearTimeout(x)};function Ry(x,C){if(C)return x.slice();var M=x.length,q=ry?ry(M):new x.constructor(M);return x.copy(q),q}function lv(x){var C=new x.constructor(x.byteLength);return new Hs(C).set(new Hs(x)),C}function b_(x,C){var M=C?lv(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.byteLength)}function __(x){var C=new x.constructor(x.source,Dn.exec(x));return C.lastIndex=x.lastIndex,C}function Iy(x){return qu?Rr(qu.call(x)):{}}function cv(x,C){var M=C?lv(x.buffer):x.buffer;return new x.constructor(M,x.byteOffset,x.length)}function Dy(x,C){if(x!==C){var M=x!==r,q=x===null,$=x===x,se=$o(x),me=C!==r,Ee=C===null,Pe=C===C,Ge=$o(C);if(!Ee&&!Ge&&!se&&x>C||se&&me&&Pe&&!Ee&&!Ge||q&&me&&Pe||!M&&Pe||!$)return 1;if(!q&&!se&&!Ge&&x<C||Ge&&M&&$&&!q&&!se||Ee&&M&&$||!me&&$||!Pe)return-1}return 0}function w_(x,C,M){for(var q=-1,$=x.criteria,se=C.criteria,me=$.length,Ee=M.length;++q<me;){var Pe=Dy($[q],se[q]);if(Pe){if(q>=Ee)return Pe;var Ge=M[q];return Pe*(Ge=="desc"?-1:1)}}return x.index-C.index}function My(x,C,M,q){for(var $=-1,se=x.length,me=M.length,Ee=-1,Pe=C.length,Ge=pn(se-me,0),We=Le(Pe+Ge),Ke=!q;++Ee<Pe;)We[Ee]=C[Ee];for(;++$<me;)(Ke||$<se)&&(We[M[$]]=x[$]);for(;Ge--;)We[Ee++]=x[$++];return We}function dc(x,C,M,q){for(var $=-1,se=x.length,me=-1,Ee=M.length,Pe=-1,Ge=C.length,We=pn(se-Ee,0),Ke=Le(We+Ge),ht=!q;++$<We;)Ke[$]=x[$];for(var bt=$;++Pe<Ge;)Ke[bt+Pe]=C[Pe];for(;++me<Ee;)(ht||$<se)&&(Ke[bt+M[me]]=x[$++]);return Ke}function Bi(x,C){var M=-1,q=x.length;for(C||(C=Le(q));++M<q;)C[M]=x[M];return C}function pa(x,C,M,q){var $=!M;M||(M={});for(var se=-1,me=C.length;++se<me;){var Ee=C[se],Pe=q?q(M[Ee],x[Ee],Ee,M,x):r;Pe===r&&(Pe=x[Ee]),$?ji(M,Ee,Pe):vs(M,Ee,Pe)}return M}function zf(x,C){return pa(x,Kf(x),C)}function ky(x,C){return pa(x,Zi(x),C)}function vc(x,C){return function(M,q){var $=nr(M)?He:my,se=C?C():{};return $(M,x,Dt(q,2),se)}}function bs(x){return ar(function(C,M){var q=-1,$=M.length,se=$>1?M[$-1]:r,me=$>2?M[2]:r;for(se=x.length>3&&typeof se=="function"?($--,se):r,me&&Jn(M[0],M[1],me)&&(se=$<3?r:se,$=1),C=Rr(C);++q<$;){var Ee=M[q];Ee&&x(C,Ee,q,se)}return C})}function fv(x,C){return function(M,q){if(M==null)return M;if(!To(M))return x(M,q);for(var $=M.length,se=C?$:-1,me=Rr(M);(C?se--:++se<$)&&q(me[se],se,me)!==!1;);return M}}function hv(x){return function(C,M,q){for(var $=-1,se=Rr(C),me=q(C),Ee=me.length;Ee--;){var Pe=me[x?Ee:++$];if(M(se[Pe],Pe,se)===!1)break}return C}}function E_(x,C,M){var q=C&d,$=_s(x);function se(){var me=this&&this!==Cn&&this instanceof se?$:x;return me.apply(q?M:this,arguments)}return se}function Ny(x){return function(C){C=zr(C);var M=Ma(C)?Lo(C):r,q=M?M[0]:C.charAt(0),$=M?Ba(M,1).join(""):C.slice(1);return q[x]()+$}}function Fa(x){return function(C){return _d(uT(sT(C).replace(Iu,"")),x,"")}}function _s(x){return function(){var C=arguments;switch(C.length){case 0:return new x;case 1:return new x(C[0]);case 2:return new x(C[0],C[1]);case 3:return new x(C[0],C[1],C[2]);case 4:return new x(C[0],C[1],C[2],C[3]);case 5:return new x(C[0],C[1],C[2],C[3],C[4]);case 6:return new x(C[0],C[1],C[2],C[3],C[4],C[5]);case 7:return new x(C[0],C[1],C[2],C[3],C[4],C[5],C[6])}var M=cs(x.prototype),q=x.apply(M,C);return En(q)?q:M}}function x_(x,C,M){var q=_s(x);function $(){for(var se=arguments.length,me=Le(se),Ee=se,Pe=Yo($);Ee--;)me[Ee]=arguments[Ee];var Ge=se<3&&me[0]!==Pe&&me[se-1]!==Pe?[]:as(me,Pe);if(se-=Ge.length,se<M)return yn(x,C,Gf,$.placeholder,r,me,Ge,r,r,M-se);var We=this&&this!==Cn&&this instanceof $?q:x;return Re(We,this,me)}return $}function qf(x){return function(C,M,q){var $=Rr(C);if(!To(C)){var se=Dt(M,3);C=hi(C),M=function(Ee){return se($[Ee],Ee,$)}}var me=x(C,M,q);return me>-1?$[se?C[me]:me]:r}}function dv(x){return $i(function(C){var M=C.length,q=M,$=Ni.prototype.thru;for(x&&C.reverse();q--;){var se=C[q];if(typeof se!="function")throw new Xn(i);if($&&!me&&ci(se)=="wrapper")var me=new Ni([],!0)}for(q=me?q:M;++q<M;){se=C[q];var Ee=ci(se),Pe=Ee=="wrapper"?Ku(se):r;Pe&&mv(Pe[0])&&Pe[1]==(w|g|m|O)&&!Pe[4].length&&Pe[9]==1?me=me[ci(Pe[0])].apply(me,Pe[3]):me=se.length==1&&mv(se)?me[Ee]():me.thru(se)}return function(){var Ge=arguments,We=Ge[0];if(me&&Ge.length==1&&nr(We))return me.plant(We).value();for(var Ke=0,ht=M?C[Ke].apply(this,Ge):We;++Ke<M;)ht=C[Ke].call(this,ht);return ht}})}function Gf(x,C,M,q,$,se,me,Ee,Pe,Ge){var We=C&w,Ke=C&d,ht=C&y,bt=C&(g|b),Ft=C&E,cr=ht?r:_s(x);function Ut(){for(var br=arguments.length,Sr=Le(br),Zo=br;Zo--;)Sr[Zo]=arguments[Zo];if(bt)var Qi=Yo(Ut),Qo=Ef(Sr,Qi);if(q&&(Sr=My(Sr,q,$,bt)),se&&(Sr=dc(Sr,se,me,bt)),br-=Qo,bt&&br<Ge){var Fn=as(Sr,Qi);return yn(x,C,Gf,Ut.placeholder,M,Sr,Fn,Ee,Pe,Ge-br)}var qa=Ke?M:this,ou=ht?qa[x]:x;return br=Sr.length,Ee?Sr=Wy(Sr,Ee):Ft&&br>1&&Sr.reverse(),We&&Pe<br&&(Sr.length=Pe),this&&this!==Cn&&this instanceof Ut&&(ou=cr||_s(ou)),ou.apply(qa,Sr)}return Ut}function So(x,C){return function(M,q){return Wd(M,x,C(q),{})}}function Vf(x,C){return function(M,q){var $;if(M===r&&q===r)return C;if(M!==r&&($=M),q!==r){if($===r)return q;typeof M=="string"||typeof q=="string"?(M=Ei(M),q=Ei(q)):(M=Cy(M),q=Cy(q)),$=x(M,q)}return $}}function vv(x){return $i(function(C){return C=Bt(C,ki(Dt())),ar(function(M){var q=this;return x(C,function($){return Re($,q,M)})})})}function ga(x,C){C=C===r?" ":Ei(C);var M=C.length;if(M<2)return M?ev(C,x):C;var q=ev(C,Ys(x/Gs(C)));return Ma(C)?Ba(Lo(q),0,x).join(""):q.slice(0,x)}function Ht(x,C,M,q){var $=C&d,se=_s(x);function me(){for(var Ee=-1,Pe=arguments.length,Ge=-1,We=q.length,Ke=Le(We+Pe),ht=this&&this!==Cn&&this instanceof me?se:x;++Ge<We;)Ke[Ge]=q[Ge];for(;Pe--;)Ke[Ge++]=arguments[++Ee];return Re(ht,$?M:this,Ke)}return me}function Ly(x){return function(C,M,q){return q&&typeof q!="number"&&Jn(C,M,q)&&(M=q=r),C=iu(C),M===r?(M=C,C=0):M=iu(M),q=q===r?C<M?1:-1:iu(q),Oy(C,M,q,x)}}function $n(x){return function(C,M){return typeof C=="string"&&typeof M=="string"||(C=_a(C),M=_a(M)),x(C,M)}}function yn(x,C,M,q,$,se,me,Ee,Pe,Ge){var We=C&g,Ke=We?me:r,ht=We?r:me,bt=We?se:r,Ft=We?r:se;C|=We?m:_,C&=~(We?_:m),C&p||(C&=~(d|y));var cr=[x,C,$,bt,Ke,Ft,ht,Ee,Pe,Ge],Ut=M.apply(r,cr);return mv(x)&&Hy(Ut,cr),Ut.placeholder=q,Yy(Ut,x,C)}function ya(x){var C=vn[x];return function(M,q){if(M=_a(M),q=q==null?0:gn(sr(q),292),q&&Cd(M)){var $=(zr(M)+"e").split("e"),se=C($[0]+"e"+(+$[1]+q));return $=(zr(se)+"e").split("e"),+($[0]+"e"+(+$[1]-q))}return C(M)}}var O_=$s&&1/dn(new $s([,-0]))[1]==B?function(x){return new $s(x)}:t1;function Wf(x){return function(C){var M=Qn(C);return M==ie?Of(C):M==G?si(C):wf(C,x(C))}}function Zn(x,C,M,q,$,se,me,Ee){var Pe=C&y;if(!Pe&&typeof x!="function")throw new Xn(i);var Ge=q?q.length:0;if(Ge||(C&=~(m|_),q=$=r),me=me===r?me:pn(sr(me),0),Ee=Ee===r?Ee:sr(Ee),Ge-=$?$.length:0,C&_){var We=q,Ke=$;q=$=r}var ht=Pe?r:Ku(x),bt=[x,C,M,q,$,We,Ke,se,me,Ee];if(ht&&zy(bt,ht),x=bt[0],C=bt[1],M=bt[2],q=bt[3],$=bt[4],Ee=bt[9]=bt[9]===r?Pe?0:x.length:pn(bt[9]-Ge,0),!Ee&&C&(g|b)&&(C&=~(g|b)),!C||C==d)var Ft=E_(x,C,M);else C==g||C==b?Ft=x_(x,C,Ee):(C==m||C==(d|m))&&!$.length?Ft=Ht(x,C,M,q):Ft=Gf.apply(r,bt);var cr=ht?tv:Hy;return Yy(cr(Ft,bt),x,C)}function pv(x,C,M,q){return x===r||za(x,tr[M])&&!ur.call(q,M)?C:x}function pc(x,C,M,q,$,se){return En(x)&&En(C)&&(se.set(C,x),gs(x,C,r,pc,se),se.delete(C)),x}function an(x){return Av(x)?r:x}function sn(x,C,M,q,$,se){var me=M&h,Ee=x.length,Pe=C.length;if(Ee!=Pe&&!(me&&Pe>Ee))return!1;var Ge=se.get(x),We=se.get(C);if(Ge&&We)return Ge==C&&We==x;var Ke=-1,ht=!0,bt=M&v?new Na:r;for(se.set(x,C),se.set(C,x);++Ke<Ee;){var Ft=x[Ke],cr=C[Ke];if(q)var Ut=me?q(cr,Ft,Ke,C,x,se):q(Ft,cr,Ke,x,C,se);if(Ut!==r){if(Ut)continue;ht=!1;break}if(bt){if(!Du(C,function(br,Sr){if(!ju(bt,Sr)&&(Ft===br||$(Ft,br,M,q,se)))return bt.push(Sr)})){ht=!1;break}}else if(!(Ft===cr||$(Ft,cr,M,q,se))){ht=!1;break}}return se.delete(x),se.delete(C),ht}function jy(x,C,M,q,$,se,me){switch(M){case ze:if(x.byteLength!=C.byteLength||x.byteOffset!=C.byteOffset)return!1;x=x.buffer,C=C.buffer;case je:return!(x.byteLength!=C.byteLength||!se(new Hs(x),new Hs(C)));case pe:case fe:case de:return za(+x,+C);case ee:return x.name==C.name&&x.message==C.message;case j:case H:return x==C+"";case ie:var Ee=Of;case G:var Pe=q&h;if(Ee||(Ee=dn),x.size!=C.size&&!Pe)return!1;var Ge=me.get(x);if(Ge)return Ge==C;q|=v,me.set(x,C);var We=sn(Ee(x),Ee(C),q,$,se,me);return me.delete(x),We;case oe:if(qu)return qu.call(x)==qu.call(C)}return!1}function By(x,C,M,q,$,se){var me=M&h,Ee=gc(x),Pe=Ee.length,Ge=gc(C),We=Ge.length;if(Pe!=We&&!me)return!1;for(var Ke=Pe;Ke--;){var ht=Ee[Ke];if(!(me?ht in C:ur.call(C,ht)))return!1}var bt=se.get(x),Ft=se.get(C);if(bt&&Ft)return bt==C&&Ft==x;var cr=!0;se.set(x,C),se.set(C,x);for(var Ut=me;++Ke<Pe;){ht=Ee[Ke];var br=x[ht],Sr=C[ht];if(q)var Zo=me?q(Sr,br,ht,C,x,se):q(br,Sr,ht,x,C,se);if(!(Zo===r?br===Sr||$(br,Sr,M,q,se):Zo)){cr=!1;break}Ut||(Ut=ht=="constructor")}if(cr&&!Ut){var Qi=x.constructor,Qo=C.constructor;Qi!=Qo&&"constructor"in x&&"constructor"in C&&!(typeof Qi=="function"&&Qi instanceof Qi&&typeof Qo=="function"&&Qo instanceof Qo)&&(cr=!1)}return se.delete(x),se.delete(C),cr}function $i(x){return _v(ru(x,r,$y),x+"")}function gc(x){return Df(x,hi,Kf)}function Hf(x){return Df(x,Co,Zi)}var Ku=ac?function(x){return ac.get(x)}:t1;function ci(x){for(var C=x.name+"",M=Qs[C],q=ur.call(Qs,C)?M.length:0;q--;){var $=M[q],se=$.func;if(se==null||se==x)return $.name}return C}function Yo(x){var C=ur.call(re,"placeholder")?re:x;return C.placeholder}function Dt(){var x=re.iteratee||J_;return x=x===J_?Hu:x,arguments.length?x(arguments[0],arguments[1]):x}function Yf(x,C){var M=x.__data__;return A_(C)?M[typeof C=="string"?"string":"hash"]:M.map}function Xf(x){for(var C=hi(x),M=C.length;M--;){var q=C[M],$=x[q];C[M]=[q,$,bv($)]}return C}function xi(x,C){var M=xf(x,C);return li(M)?M:r}function rr(x){var C=ur.call(x,ss),M=x[ss];try{x[ss]=r;var q=!0}catch{}var $=nc.call(x);return q&&(C?x[ss]=M:delete x[ss]),$}var Kf=Ln?function(x){return x==null?[]:(x=Rr(x),er(Ln(x),function(C){return Cf.call(x,C)}))}:r1,Zi=Ln?function(x){for(var C=[];x;)ca(C,Kf(x)),x=ic(x);return C}:r1,Qn=Kn;(Ad&&Qn(new Ad(new ArrayBuffer(1)))!=ze||Xs&&Qn(new Xs)!=ie||Ks&&Qn(Ks.resolve())!=Ae||$s&&Qn(new $s)!=G||ka&&Qn(new ka)!=ye)&&(Qn=function(x){var C=Kn(x),M=C==Ce?x.constructor:r,q=M?ws(M):"";if(q)switch(q){case Rd:return ze;case Id:return ie;case oy:return Ae;case ay:return G;case sy:return ye}return C});function Nr(x,C,M){for(var q=-1,$=M.length;++q<$;){var se=M[q],me=se.size;switch(se.type){case"drop":x+=me;break;case"dropRight":C-=me;break;case"take":C=gn(C,x+me);break;case"takeRight":x=pn(x,C-me);break}}return{start:x,end:C}}function S_(x){var C=x.match(vr);return C?C[1].split(wr):[]}function gv(x,C,M){C=ms(C,x);for(var q=-1,$=C.length,se=!1;++q<$;){var me=Ko(C[q]);if(!(se=x!=null&&M(x,me)))break;x=x[me]}return se||++q!=$?se:($=x==null?0:x.length,!!$&&am($)&&Xo(me,$)&&(nr(x)||_c(x)))}function $f(x){var C=x.length,M=new x.constructor(C);return C&&typeof x[0]=="string"&&ur.call(x,"index")&&(M.index=x.index,M.input=x.input),M}function Fy(x){return typeof x.constructor=="function"&&!yc(x)?cs(ic(x)):{}}function T_(x,C,M){var q=x.constructor;switch(C){case je:return lv(x);case pe:case fe:return new q(+x);case ze:return b_(x,M);case rt:case Ze:case Je:case tt:case Xe:case ke:case te:case Se:case De:return cv(x,M);case ie:return new q;case de:case H:return new q(x);case j:return __(x);case G:return new q;case oe:return Iy(x)}}function C_(x,C){var M=C.length;if(!M)return x;var q=M-1;return C[q]=(M>1?"& ":"")+C[q],C=C.join(M>2?", ":" "),x.replace(ir,`{
/* [wrapped with `+C+`] */
`)}function P_(x){return nr(x)||_c(x)||!!(Yi&&x&&x[Yi])}function Xo(x,C){var M=typeof x;return C=C??z,!!C&&(M=="number"||M!="symbol"&&fn.test(x))&&x>-1&&x%1==0&&x<C}function Jn(x,C,M){if(!En(M))return!1;var q=typeof C;return(q=="number"?To(M)&&Xo(C,M.length):q=="string"&&C in M)?za(M[C],x):!1}function yv(x,C){if(nr(x))return!1;var M=typeof x;return M=="number"||M=="symbol"||M=="boolean"||x==null||$o(x)?!0:dt.test(x)||!Lt.test(x)||C!=null&&x in Rr(C)}function A_(x){var C=typeof x;return C=="string"||C=="number"||C=="symbol"||C=="boolean"?x!=="__proto__":x===null}function mv(x){var C=ci(x),M=re[C];if(typeof M!="function"||!(C in lr.prototype))return!1;if(x===M)return!0;var q=Ku(M);return!!q&&x===q[0]}function zn(x){return!!bo&&bo in x}var Fi=fa?nu:n1;function yc(x){var C=x&&x.constructor,M=typeof C=="function"&&C.prototype||tr;return x===M}function bv(x){return x===x&&!En(x)}function Uy(x,C){return function(M){return M==null?!1:M[x]===C&&(C!==r||x in Rr(M))}}function R_(x){var C=im(x,function(q){return M.size===u&&M.clear(),q}),M=C.cache;return C}function zy(x,C){var M=x[1],q=C[1],$=M|q,se=$<(d|y|w),me=q==w&&M==g||q==w&&M==O&&x[7].length<=C[8]||q==(w|O)&&C[7].length<=C[8]&&M==g;if(!(se||me))return x;q&d&&(x[2]=C[2],$|=M&d?0:p);var Ee=C[3];if(Ee){var Pe=x[3];x[3]=Pe?My(Pe,Ee,C[4]):Ee,x[4]=Pe?as(x[3],s):C[4]}return Ee=C[5],Ee&&(Pe=x[5],x[5]=Pe?dc(Pe,Ee,C[6]):Ee,x[6]=Pe?as(x[5],s):C[6]),Ee=C[7],Ee&&(x[7]=Ee),q&w&&(x[8]=x[8]==null?C[8]:gn(x[8],C[8])),x[9]==null&&(x[9]=C[9]),x[0]=C[0],x[1]=$,x}function qy(x){var C=[];if(x!=null)for(var M in Rr(x))C.push(M);return C}function Gy(x){return nc.call(x)}function ru(x,C,M){return C=pn(C===r?x.length-1:C,0),function(){for(var q=arguments,$=-1,se=pn(q.length-C,0),me=Le(se);++$<se;)me[$]=q[C+$];$=-1;for(var Ee=Le(C+1);++$<C;)Ee[$]=q[$];return Ee[C]=M(me),Re(x,this,Ee)}}function Vy(x,C){return C.length<2?x:_i(x,Oo(C,0,-1))}function Wy(x,C){for(var M=x.length,q=gn(C.length,M),$=Bi(x);q--;){var se=C[q];x[q]=Xo(se,M)?$[se]:r}return x}function Zf(x,C){if(!(C==="constructor"&&typeof x[C]=="function")&&C!="__proto__")return x[C]}var Hy=Xy(tv),mc=a_||function(x,C){return Cn.setTimeout(x,C)},_v=Xy(Ty);function Yy(x,C,M){var q=C+"";return _v(x,C_(q,I_(S_(q),M)))}function Xy(x){var C=0,M=0;return function(){var q=iy(),$=R-(q-M);if(M=q,$>0){if(++C>=I)return arguments[0]}else C=0;return x.apply(r,arguments)}}function Qf(x,C){var M=-1,q=x.length,$=q-1;for(C=C===r?q:C;++M<C;){var se=ja(M,$),me=x[se];x[se]=x[M],x[M]=me}return x.length=C,x}var Jf=R_(function(x){var C=[];return x.charCodeAt(0)===46&&C.push(""),x.replace(Qt,function(M,q,$,se){C.push($?se.replace(Vr,"$1"):q||M)}),C});function Ko(x){if(typeof x=="string"||$o(x))return x;var C=x+"";return C=="0"&&1/x==-B?"-0":C}function ws(x){if(x!=null){try{return mo.call(x)}catch{}try{return x+""}catch{}}return""}function I_(x,C){return Ue(Q,function(M){var q="_."+M[0];C&M[1]&&!hn(x,q)&&x.push(q)}),x.sort()}function eh(x){if(x instanceof lr)return x.clone();var C=new Ni(x.__wrapped__,x.__chain__);return C.__actions__=Bi(x.__actions__),C.__index__=x.__index__,C.__values__=x.__values__,C}function D_(x,C,M){(M?Jn(x,C,M):C===r)?C=1:C=pn(sr(C),0);var q=x==null?0:x.length;if(!q||C<1)return[];for(var $=0,se=0,me=Le(Ys(q/C));$<q;)me[se++]=Oo(x,$,$+=C);return me}function M_(x){for(var C=-1,M=x==null?0:x.length,q=0,$=[];++C<M;){var se=x[C];se&&($[q++]=se)}return $}function Ui(){var x=arguments.length;if(!x)return[];for(var C=Le(x-1),M=arguments[0],q=x;q--;)C[q-1]=arguments[q];return ca(nr(M)?Bi(M):[M],Un(C,1))}var wv=ar(function(x,C){return Bn(x)?tu(x,Un(C,1,Bn,!0)):[]}),k_=ar(function(x,C){var M=T(C);return Bn(M)&&(M=r),Bn(x)?tu(x,Un(C,1,Bn,!0),Dt(M,2)):[]}),N_=ar(function(x,C){var M=T(C);return Bn(M)&&(M=r),Bn(x)?tu(x,Un(C,1,Bn,!0),r,M):[]});function Ev(x,C,M){var q=x==null?0:x.length;return q?(C=M||C===r?1:sr(C),Oo(x,C<0?0:C,q)):[]}function xv(x,C,M){var q=x==null?0:x.length;return q?(C=M||C===r?1:sr(C),C=q-C,Oo(x,0,C<0?0:C)):[]}function L_(x,C){return x&&x.length?Xu(x,Dt(C,3),!0,!0):[]}function j_(x,C){return x&&x.length?Xu(x,Dt(C,3),!0):[]}function B_(x,C,M,q){var $=x==null?0:x.length;return $?(M&&typeof M!="number"&&Jn(x,C,M)&&(M=0,q=$),qd(x,C,M,q)):[]}function Ov(x,C,M){var q=x==null?0:x.length;if(!q)return-1;var $=M==null?0:sr(M);return $<0&&($=pn(q+$,0)),Or(x,Dt(C,3),$)}function Ky(x,C,M){var q=x==null?0:x.length;if(!q)return-1;var $=q-1;return M!==r&&($=sr(M),$=M<0?pn(q+$,0):gn($,q-1)),Or(x,Dt(C,3),$,!0)}function $y(x){var C=x==null?0:x.length;return C?Un(x,1):[]}function Sv(x){var C=x==null?0:x.length;return C?Un(x,B):[]}function Tv(x,C){var M=x==null?0:x.length;return M?(C=C===r?1:sr(C),Un(x,C)):[]}function Cv(x){for(var C=-1,M=x==null?0:x.length,q={};++C<M;){var $=x[C];q[$[0]]=$[1]}return q}function Zy(x){return x&&x.length?x[0]:r}function F_(x,C,M){var q=x==null?0:x.length;if(!q)return-1;var $=M==null?0:sr(M);return $<0&&($=pn(q+$,0)),ku(x,C,$)}function U_(x){var C=x==null?0:x.length;return C?Oo(x,0,-1):[]}var z_=ar(function(x){var C=Bt(x,sv);return C.length&&C[0]===x[0]?Vu(C):[]}),q_=ar(function(x){var C=T(x),M=Bt(x,sv);return C===T(M)?C=r:M.pop(),M.length&&M[0]===x[0]?Vu(M,Dt(C,2)):[]}),G_=ar(function(x){var C=T(x),M=Bt(x,sv);return C=typeof C=="function"?C:r,C&&M.pop(),M.length&&M[0]===x[0]?Vu(M,r,C):[]});function V_(x,C){return x==null?"":va.call(x,C)}function T(x){var C=x==null?0:x.length;return C?x[C-1]:r}function A(x,C,M){var q=x==null?0:x.length;if(!q)return-1;var $=q;return M!==r&&($=sr(M),$=$<0?pn(q+$,0):gn($,q-1)),C===C?n_(x,C,$):Or(x,Ql,$,!0)}function L(x,C){return x&&x.length?Zd(x,sr(C)):r}var V=ar(Z);function Z(x,C){return x&&x.length&&C&&C.length?Uf(x,C):x}function le(x,C,M){return x&&x.length&&C&&C.length?Uf(x,C,Dt(M,2)):x}function be(x,C,M){return x&&x.length&&C&&C.length?Uf(x,C,r,M):x}var Oe=$i(function(x,C){var M=x==null?0:x.length,q=eu(x,C);return Ho(x,Bt(C,function($){return Xo($,M)?+$:$}).sort(Dy)),q});function Ie(x,C){var M=[];if(!(x&&x.length))return M;var q=-1,$=[],se=x.length;for(C=Dt(C,3);++q<se;){var me=x[q];C(me,q,x)&&(M.push(me),$.push(q))}return Ho(x,$),M}function qe(x){return x==null?x:s_.call(x)}function Ve(x,C,M){var q=x==null?0:x.length;return q?(M&&typeof M!="number"&&Jn(x,C,M)?(C=0,M=q):(C=C==null?0:sr(C),M=M===r?q:sr(M)),Oo(x,C,M)):[]}function $e(x,C){return wi(x,C)}function vt(x,C,M){return rv(x,C,Dt(M,2))}function mt(x,C){var M=x==null?0:x.length;if(M){var q=wi(x,C);if(q<M&&za(x[q],C))return q}return-1}function At(x,C){return wi(x,C,!0)}function Ye(x,C,M){return rv(x,C,Dt(M,2),!0)}function et(x,C){var M=x==null?0:x.length;if(M){var q=wi(x,C,!0)-1;if(za(x[q],C))return q}return-1}function Ot(x){return x&&x.length?nv(x):[]}function ct(x,C){return x&&x.length?nv(x,Dt(C,2)):[]}function Vt(x){var C=x==null?0:x.length;return C?Oo(x,1,C):[]}function qt(x,C,M){return x&&x.length?(C=M||C===r?1:sr(C),Oo(x,0,C<0?0:C)):[]}function Cr(x,C,M){var q=x==null?0:x.length;return q?(C=M||C===r?1:sr(C),C=q-C,Oo(x,C<0?0:C,q)):[]}function _t(x,C){return x&&x.length?Xu(x,Dt(C,3),!1,!0):[]}function Mt(x,C){return x&&x.length?Xu(x,Dt(C,3)):[]}var jn=ar(function(x){return ys(Un(x,1,Bn,!0))}),wn=ar(function(x){var C=T(x);return Bn(C)&&(C=r),ys(Un(x,1,Bn,!0),Dt(C,2))}),Oi=ar(function(x){var C=T(x);return C=typeof C=="function"?C:r,ys(Un(x,1,Bn,!0),r,C)});function $r(x){return x&&x.length?ys(x):[]}function fi(x,C){return x&&x.length?ys(x,Dt(C,2)):[]}function ma(x,C){return C=typeof C=="function"?C:r,x&&x.length?ys(x,r,C):[]}function ba(x){if(!(x&&x.length))return[];var C=0;return x=er(x,function(M){if(Bn(M))return C=pn(M.length,C),!0}),_f(C,function(M){return Bt(x,wd(M))})}function Es(x,C){if(!(x&&x.length))return[];var M=ba(x);return C==null?M:Bt(M,function(q){return Re(C,r,q)})}var Ua=ar(function(x,C){return Bn(x)?tu(x,C):[]}),Qy=ar(function(x){return av(er(x,Bn))}),Jy=ar(function(x){var C=T(x);return Bn(C)&&(C=r),av(er(x,Bn),Dt(C,2))}),th=ar(function(x){var C=T(x);return C=typeof C=="function"?C:r,av(er(x,Bn),r,C)}),Pv=ar(ba);function rh(x,C){return Ay(x||[],C||[],vs)}function nh(x,C){return Ay(x||[],C||[],Yu)}var em=ar(function(x){var C=x.length,M=C>1?x[C-1]:r;return M=typeof M=="function"?(x.pop(),M):r,Es(x,M)});function bc(x){var C=re(x);return C.__chain__=!0,C}function ih(x,C){return C(x),x}function tm(x,C){return C(x)}var m6=$i(function(x){var C=x.length,M=C?x[0]:0,q=this.__wrapped__,$=function(se){return eu(se,x)};return C>1||this.__actions__.length||!(q instanceof lr)||!Xo(M)?this.thru($):(q=q.slice(M,+M+(C?1:0)),q.__actions__.push({func:tm,args:[$],thisArg:r}),new Ni(q,this.__chain__).thru(function(se){return C&&!se.length&&se.push(r),se}))});function b6(){return bc(this)}function _6(){return new Ni(this.value(),this.__chain__)}function w6(){this.__values__===r&&(this.__values__=QS(this.value()));var x=this.__index__>=this.__values__.length,C=x?r:this.__values__[this.__index__++];return{done:x,value:C}}function E6(){return this}function x6(x){for(var C,M=this;M instanceof sc;){var q=eh(M);q.__index__=0,q.__values__=r,C?$.__wrapped__=q:C=q;var $=q;M=M.__wrapped__}return $.__wrapped__=x,C}function O6(){var x=this.__wrapped__;if(x instanceof lr){var C=x;return this.__actions__.length&&(C=new lr(this)),C=C.reverse(),C.__actions__.push({func:tm,args:[qe],thisArg:r}),new Ni(C,this.__chain__)}return this.thru(qe)}function S6(){return ov(this.__wrapped__,this.__actions__)}var T6=vc(function(x,C,M){ur.call(x,M)?++x[M]:ji(x,M,1)});function C6(x,C,M){var q=nr(x)?zt:If;return M&&Jn(x,C,M)&&(C=r),q(x,Dt(C,3))}function P6(x,C){var M=nr(x)?er:_y;return M(x,Dt(C,3))}var A6=qf(Ov),R6=qf(Ky);function I6(x,C){return Un(rm(x,C),1)}function D6(x,C){return Un(rm(x,C),B)}function M6(x,C,M){return M=M===r?1:sr(M),Un(rm(x,C),M)}function FS(x,C){var M=nr(x)?Ue:zo;return M(x,Dt(C,3))}function US(x,C){var M=nr(x)?ft:zd;return M(x,Dt(C,3))}var k6=vc(function(x,C,M){ur.call(x,M)?x[M].push(C):ji(x,M,[C])});function N6(x,C,M,q){x=To(x)?x:ah(x),M=M&&!q?sr(M):0;var $=x.length;return M<0&&(M=pn($+M,0)),sm(x)?M<=$&&x.indexOf(C,M)>-1:!!$&&ku(x,C,M)>-1}var L6=ar(function(x,C,M){var q=-1,$=typeof C=="function",se=To(x)?Le(x.length):[];return zo(x,function(me){se[++q]=$?Re(C,me,M):Vo(me,C,M)}),se}),j6=vc(function(x,C,M){ji(x,M,C)});function rm(x,C){var M=nr(x)?Bt:Xd;return M(x,Dt(C,3))}function B6(x,C,M,q){return x==null?[]:(nr(C)||(C=C==null?[]:[C]),M=q?r:M,nr(M)||(M=M==null?[]:[M]),Qd(x,C,M))}var F6=vc(function(x,C,M){x[M?0:1].push(C)},function(){return[[],[]]});function U6(x,C,M){var q=nr(x)?_d:Jl,$=arguments.length<3;return q(x,Dt(C,4),M,$,zo)}function z6(x,C,M){var q=nr(x)?go:Jl,$=arguments.length<3;return q(x,Dt(C,4),M,$,zd)}function q6(x,C){var M=nr(x)?er:_y;return M(x,om(Dt(C,3)))}function G6(x){var C=nr(x)?Bd:p_;return C(x)}function V6(x,C,M){(M?Jn(x,C,M):C===r)?C=1:C=sr(C);var q=nr(x)?yy:Sy;return q(x,C)}function W6(x){var C=nr(x)?Li:g_;return C(x)}function H6(x){if(x==null)return 0;if(To(x))return sm(x)?Gs(x):x.length;var C=Qn(x);return C==ie||C==G?x.size:Nf(x).length}function Y6(x,C,M){var q=nr(x)?Du:y_;return M&&Jn(x,C,M)&&(C=r),q(x,Dt(C,3))}var X6=ar(function(x,C){if(x==null)return[];var M=C.length;return M>1&&Jn(x,C[0],C[1])?C=[]:M>2&&Jn(C[0],C[1],C[2])&&(C=[C[0]]),Qd(x,Un(C,1),[])}),nm=ny||function(){return Cn.Date.now()};function K6(x,C){if(typeof C!="function")throw new Xn(i);return x=sr(x),function(){if(--x<1)return C.apply(this,arguments)}}function zS(x,C,M){return C=M?r:C,C=x&&C==null?x.length:C,Zn(x,w,r,r,r,r,C)}function qS(x,C){var M;if(typeof C!="function")throw new Xn(i);return x=sr(x),function(){return--x>0&&(M=C.apply(this,arguments)),x<=1&&(C=r),M}}var W_=ar(function(x,C,M){var q=d;if(M.length){var $=as(M,Yo(W_));q|=m}return Zn(x,q,C,M,$)}),GS=ar(function(x,C,M){var q=d|y;if(M.length){var $=as(M,Yo(GS));q|=m}return Zn(C,q,x,M,$)});function VS(x,C,M){C=M?r:C;var q=Zn(x,g,r,r,r,r,r,C);return q.placeholder=VS.placeholder,q}function WS(x,C,M){C=M?r:C;var q=Zn(x,b,r,r,r,r,r,C);return q.placeholder=WS.placeholder,q}function HS(x,C,M){var q,$,se,me,Ee,Pe,Ge=0,We=!1,Ke=!1,ht=!0;if(typeof x!="function")throw new Xn(i);C=_a(C)||0,En(M)&&(We=!!M.leading,Ke="maxWait"in M,se=Ke?pn(_a(M.maxWait)||0,C):se,ht="trailing"in M?!!M.trailing:ht);function bt(Fn){var qa=q,ou=$;return q=$=r,Ge=Fn,me=x.apply(ou,qa),me}function Ft(Fn){return Ge=Fn,Ee=mc(br,C),We?bt(Fn):me}function cr(Fn){var qa=Fn-Pe,ou=Fn-Ge,fT=C-qa;return Ke?gn(fT,se-ou):fT}function Ut(Fn){var qa=Fn-Pe,ou=Fn-Ge;return Pe===r||qa>=C||qa<0||Ke&&ou>=se}function br(){var Fn=nm();if(Ut(Fn))return Sr(Fn);Ee=mc(br,cr(Fn))}function Sr(Fn){return Ee=r,ht&&q?bt(Fn):(q=$=r,me)}function Zo(){Ee!==r&&hc(Ee),Ge=0,q=Pe=$=Ee=r}function Qi(){return Ee===r?me:Sr(nm())}function Qo(){var Fn=nm(),qa=Ut(Fn);if(q=arguments,$=this,Pe=Fn,qa){if(Ee===r)return Ft(Pe);if(Ke)return hc(Ee),Ee=mc(br,C),bt(Pe)}return Ee===r&&(Ee=mc(br,C)),me}return Qo.cancel=Zo,Qo.flush=Qi,Qo}var $6=ar(function(x,C){return uc(x,1,C)}),Z6=ar(function(x,C,M){return uc(x,_a(C)||0,M)});function Q6(x){return Zn(x,E)}function im(x,C){if(typeof x!="function"||C!=null&&typeof C!="function")throw new Xn(i);var M=function(){var q=arguments,$=C?C.apply(this,q):q[0],se=M.cache;if(se.has($))return se.get($);var me=x.apply(this,q);return M.cache=se.set($,me)||se,me};return M.cache=new(im.Cache||Fo),M}im.Cache=Fo;function om(x){if(typeof x!="function")throw new Xn(i);return function(){var C=arguments;switch(C.length){case 0:return!x.call(this);case 1:return!x.call(this,C[0]);case 2:return!x.call(this,C[0],C[1]);case 3:return!x.call(this,C[0],C[1],C[2])}return!x.apply(this,C)}}function J6(x){return qS(2,x)}var e8=m_(function(x,C){C=C.length==1&&nr(C[0])?Bt(C[0],ki(Dt())):Bt(Un(C,1),ki(Dt()));var M=C.length;return ar(function(q){for(var $=-1,se=gn(q.length,M);++$<se;)q[$]=C[$].call(this,q[$]);return Re(x,this,q)})}),H_=ar(function(x,C){var M=as(C,Yo(H_));return Zn(x,m,r,C,M)}),YS=ar(function(x,C){var M=as(C,Yo(YS));return Zn(x,_,r,C,M)}),t8=$i(function(x,C){return Zn(x,O,r,r,r,C)});function r8(x,C){if(typeof x!="function")throw new Xn(i);return C=C===r?C:sr(C),ar(x,C)}function n8(x,C){if(typeof x!="function")throw new Xn(i);return C=C==null?0:pn(sr(C),0),ar(function(M){var q=M[C],$=Ba(M,0,C);return q&&ca($,q),Re(x,this,$)})}function i8(x,C,M){var q=!0,$=!0;if(typeof x!="function")throw new Xn(i);return En(M)&&(q="leading"in M?!!M.leading:q,$="trailing"in M?!!M.trailing:$),HS(x,C,{leading:q,maxWait:C,trailing:$})}function o8(x){return zS(x,1)}function a8(x,C){return H_(uv(C),x)}function s8(){if(!arguments.length)return[];var x=arguments[0];return nr(x)?x:[x]}function u8(x){return Ki(x,f)}function l8(x,C){return C=typeof C=="function"?C:r,Ki(x,f,C)}function c8(x){return Ki(x,l|f)}function f8(x,C){return C=typeof C=="function"?C:r,Ki(x,l|f,C)}function h8(x,C){return C==null||Ud(x,C,hi(C))}function za(x,C){return x===C||x!==x&&C!==C}var d8=$n(fc),v8=$n(function(x,C){return x>=C}),_c=kf(function(){return arguments}())?kf:function(x){return Pn(x)&&ur.call(x,"callee")&&!Cf.call(x,"callee")},nr=Le.isArray,p8=mf?ki(mf):wy;function To(x){return x!=null&&am(x.length)&&!nu(x)}function Bn(x){return Pn(x)&&To(x)}function g8(x){return x===!0||x===!1||Pn(x)&&Kn(x)==pe}var $u=Td||n1,y8=Da?ki(Da):ui;function m8(x){return Pn(x)&&x.nodeType===1&&!Av(x)}function b8(x){if(x==null)return!0;if(To(x)&&(nr(x)||typeof x=="string"||typeof x.splice=="function"||$u(x)||oh(x)||_c(x)))return!x.length;var C=Qn(x);if(C==ie||C==G)return!x.size;if(yc(x))return!Nf(x).length;for(var M in x)if(ur.call(x,M))return!1;return!0}function _8(x,C){return Wu(x,C)}function w8(x,C,M){M=typeof M=="function"?M:r;var q=M?M(x,C):r;return q===r?Wu(x,C,r,M):!!q}function Y_(x){if(!Pn(x))return!1;var C=Kn(x);return C==ee||C==he||typeof x.message=="string"&&typeof x.name=="string"&&!Av(x)}function E8(x){return typeof x=="number"&&Cd(x)}function nu(x){if(!En(x))return!1;var C=Kn(x);return C==K||C==J||C==ae||C==xe}function XS(x){return typeof x=="number"&&x==sr(x)}function am(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=z}function En(x){var C=typeof x;return x!=null&&(C=="object"||C=="function")}function Pn(x){return x!=null&&typeof x=="object"}var KS=Nn?ki(Nn):d_;function x8(x,C){return x===C||Wo(x,C,Xf(C))}function O8(x,C,M){return M=typeof M=="function"?M:r,Wo(x,C,Xf(C),M)}function S8(x){return $S(x)&&x!=+x}function T8(x){if(Fi(x))throw new Gt(n);return li(x)}function C8(x){return x===null}function P8(x){return x==null}function $S(x){return typeof x=="number"||Pn(x)&&Kn(x)==de}function Av(x){if(!Pn(x)||Kn(x)!=Ce)return!1;var C=ic(x);if(C===null)return!0;var M=ur.call(C,"constructor")&&C.constructor;return typeof M=="function"&&M instanceof M&&mo.call(M)==ty}var X_=la?ki(la):Hd;function A8(x){return XS(x)&&x>=-z&&x<=z}var ZS=vo?ki(vo):Yd;function sm(x){return typeof x=="string"||!nr(x)&&Pn(x)&&Kn(x)==H}function $o(x){return typeof x=="symbol"||Pn(x)&&Kn(x)==oe}var oh=Hi?ki(Hi):v_;function R8(x){return x===r}function I8(x){return Pn(x)&&Qn(x)==ye}function D8(x){return Pn(x)&&Kn(x)==we}var M8=$n(Lf),k8=$n(function(x,C){return x<=C});function QS(x){if(!x)return[];if(To(x))return sm(x)?Lo(x):Bi(x);if(zu&&x[zu])return t_(x[zu]());var C=Qn(x),M=C==ie?Of:C==G?dn:ah;return M(x)}function iu(x){if(!x)return x===0?x:0;if(x=_a(x),x===B||x===-B){var C=x<0?-1:1;return C*F}return x===x?x:0}function sr(x){var C=iu(x),M=C%1;return C===C?M?C-M:C:0}function JS(x){return x?ps(sr(x),0,W):0}function _a(x){if(typeof x=="number")return x;if($o(x))return U;if(En(x)){var C=typeof x.valueOf=="function"?x.valueOf():x;x=En(C)?C+"":C}if(typeof x!="string")return x===0?x:+x;x=xd(x);var M=xr.test(x);return M||Wr.test(x)?gf(x.slice(2),M?2:8):On.test(x)?U:+x}function eT(x){return pa(x,Co(x))}function N8(x){return x?ps(sr(x),-z,z):x===0?x:0}function zr(x){return x==null?"":Ei(x)}var L8=bs(function(x,C){if(yc(C)||To(C)){pa(C,hi(C),x);return}for(var M in C)ur.call(C,M)&&vs(x,M,C[M])}),tT=bs(function(x,C){pa(C,Co(C),x)}),um=bs(function(x,C,M,q){pa(C,Co(C),x,q)}),j8=bs(function(x,C,M,q){pa(C,hi(C),x,q)}),B8=$i(eu);function F8(x,C){var M=cs(x);return C==null?M:Fd(M,C)}var U8=ar(function(x,C){x=Rr(x);var M=-1,q=C.length,$=q>2?C[2]:r;for($&&Jn(C[0],C[1],$)&&(q=1);++M<q;)for(var se=C[M],me=Co(se),Ee=-1,Pe=me.length;++Ee<Pe;){var Ge=me[Ee],We=x[Ge];(We===r||za(We,tr[Ge])&&!ur.call(x,Ge))&&(x[Ge]=se[Ge])}return x}),z8=ar(function(x){return x.push(r,pc),Re(rT,r,x)});function q8(x,C){return Zl(x,Dt(C,3),Go)}function G8(x,C){return Zl(x,Dt(C,3),Vd)}function V8(x,C){return x==null?x:qo(x,Dt(C,3),Co)}function W8(x,C){return x==null?x:Gd(x,Dt(C,3),Co)}function H8(x,C){return x&&Go(x,Dt(C,3))}function Y8(x,C){return x&&Vd(x,Dt(C,3))}function X8(x){return x==null?[]:cc(x,hi(x))}function K8(x){return x==null?[]:cc(x,Co(x))}function K_(x,C,M){var q=x==null?r:_i(x,C);return q===r?M:q}function $8(x,C){return x!=null&&gv(x,C,Mf)}function $_(x,C){return x!=null&&gv(x,C,Gu)}var Z8=So(function(x,C,M){C!=null&&typeof C.toString!="function"&&(C=nc.call(C)),x[C]=M},Q_(Po)),Q8=So(function(x,C,M){C!=null&&typeof C.toString!="function"&&(C=nc.call(C)),ur.call(x,C)?x[C].push(M):x[C]=[M]},Dt),J8=ar(Vo);function hi(x){return To(x)?jd(x):Nf(x)}function Co(x){return To(x)?jd(x,!0):xy(x)}function ez(x,C){var M={};return C=Dt(C,3),Go(x,function(q,$,se){ji(M,C(q,$,se),q)}),M}function tz(x,C){var M={};return C=Dt(C,3),Go(x,function(q,$,se){ji(M,$,C(q,$,se))}),M}var rz=bs(function(x,C,M){gs(x,C,M)}),rT=bs(function(x,C,M,q){gs(x,C,M,q)}),nz=$i(function(x,C){var M={};if(x==null)return M;var q=!1;C=Bt(C,function(se){return se=ms(se,x),q||(q=se.length>1),se}),pa(x,Hf(x),M),q&&(M=Ki(M,l|c|f,an));for(var $=C.length;$--;)iv(M,C[$]);return M});function iz(x,C){return nT(x,om(Dt(C)))}var oz=$i(function(x,C){return x==null?{}:Bf(x,C)});function nT(x,C){if(x==null)return{};var M=Bt(Hf(x),function(q){return[q]});return C=Dt(C),Ff(x,M,function(q,$){return C(q,$[0])})}function az(x,C,M){C=ms(C,x);var q=-1,$=C.length;for($||($=1,x=r);++q<$;){var se=x==null?r:x[Ko(C[q])];se===r&&(q=$,se=M),x=nu(se)?se.call(x):se}return x}function sz(x,C,M){return x==null?x:Yu(x,C,M)}function uz(x,C,M,q){return q=typeof q=="function"?q:r,x==null?x:Yu(x,C,M,q)}var iT=Wf(hi),oT=Wf(Co);function lz(x,C,M){var q=nr(x),$=q||$u(x)||oh(x);if(C=Dt(C,4),M==null){var se=x&&x.constructor;$?M=q?new se:[]:En(x)?M=nu(se)?cs(ic(x)):{}:M={}}return($?Ue:Go)(x,function(me,Ee,Pe){return C(M,me,Ee,Pe)}),M}function cz(x,C){return x==null?!0:iv(x,C)}function fz(x,C,M){return x==null?x:Py(x,C,uv(M))}function hz(x,C,M,q){return q=typeof q=="function"?q:r,x==null?x:Py(x,C,uv(M),q)}function ah(x){return x==null?[]:Lu(x,hi(x))}function dz(x){return x==null?[]:Lu(x,Co(x))}function vz(x,C,M){return M===r&&(M=C,C=r),M!==r&&(M=_a(M),M=M===M?M:0),C!==r&&(C=_a(C),C=C===C?C:0),ps(_a(x),C,M)}function pz(x,C,M){return C=iu(C),M===r?(M=C,C=0):M=iu(M),x=_a(x),It(x,C,M)}function gz(x,C,M){if(M&&typeof M!="boolean"&&Jn(x,C,M)&&(C=M=r),M===r&&(typeof C=="boolean"?(M=C,C=r):typeof x=="boolean"&&(M=x,x=r)),x===r&&C===r?(x=0,C=1):(x=iu(x),C===r?(C=x,x=0):C=iu(C)),x>C){var q=x;x=C,C=q}if(M||x%1||C%1){var $=Pf();return gn(x+$*(C-x+pf("1e-"+(($+"").length-1))),C)}return ja(x,C)}var yz=Fa(function(x,C,M){return C=C.toLowerCase(),x+(M?aT(C):C)});function aT(x){return Z_(zr(x).toLowerCase())}function sT(x){return x=zr(x),x&&x.replace(Jt,Qb).replace(ns,"")}function mz(x,C,M){x=zr(x),C=Ei(C);var q=x.length;M=M===r?q:ps(sr(M),0,q);var $=M;return M-=C.length,M>=0&&x.slice(M,$)==C}function bz(x){return x=zr(x),x&&it.test(x)?x.replace(ot,Jb):x}function _z(x){return x=zr(x),x&&Rt.test(x)?x.replace(Yt,"\\$&"):x}var wz=Fa(function(x,C,M){return x+(M?"-":"")+C.toLowerCase()}),Ez=Fa(function(x,C,M){return x+(M?" ":"")+C.toLowerCase()}),xz=Ny("toLowerCase");function Oz(x,C,M){x=zr(x),C=sr(C);var q=C?Gs(x):0;if(!C||q>=C)return x;var $=(C-q)/2;return ga(oc($),M)+x+ga(Ys($),M)}function Sz(x,C,M){x=zr(x),C=sr(C);var q=C?Gs(x):0;return C&&q<C?x+ga(C-q,M):x}function Tz(x,C,M){x=zr(x),C=sr(C);var q=C?Gs(x):0;return C&&q<C?ga(C-q,M)+x:x}function Cz(x,C,M){return M||C==null?C=0:C&&(C=+C),bi(zr(x).replace(wt,""),C||0)}function Pz(x,C,M){return(M?Jn(x,C,M):C===r)?C=1:C=sr(C),ev(zr(x),C)}function Az(){var x=arguments,C=zr(x[0]);return x.length<3?C:C.replace(x[1],x[2])}var Rz=Fa(function(x,C,M){return x+(M?"_":"")+C.toLowerCase()});function Iz(x,C,M){return M&&typeof M!="number"&&Jn(x,C,M)&&(C=M=r),M=M===r?W:M>>>0,M?(x=zr(x),x&&(typeof C=="string"||C!=null&&!X_(C))&&(C=Ei(C),!C&&Ma(x))?Ba(Lo(x),0,M):x.split(C,M)):[]}var Dz=Fa(function(x,C,M){return x+(M?" ":"")+Z_(C)});function Mz(x,C,M){return x=zr(x),M=M==null?0:ps(sr(M),0,x.length),C=Ei(C),x.slice(M,M+C.length)==C}function kz(x,C,M){var q=re.templateSettings;M&&Jn(x,C,M)&&(C=r),x=zr(x),C=um({},C,q,pv);var $=um({},C.imports,q.imports,pv),se=hi($),me=Lu($,se),Ee,Pe,Ge=0,We=C.interpolate||Mn,Ke="__p += '",ht=Tf((C.escape||Mn).source+"|"+We.source+"|"+(We===lt?cn:Mn).source+"|"+(C.evaluate||Mn).source+"|$","g"),bt="//# sourceURL="+(ur.call(C,"sourceURL")?(C.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++df+"]")+`
`;x.replace(ht,function(Ut,br,Sr,Zo,Qi,Qo){return Sr||(Sr=Zo),Ke+=x.slice(Ge,Qo).replace(Sn,e_),br&&(Ee=!0,Ke+=`' +
__e(`+br+`) +
'`),Qi&&(Pe=!0,Ke+=`';
`+Qi+`;
__p += '`),Sr&&(Ke+=`' +
((__t = (`+Sr+`)) == null ? '' : __t) +
'`),Ge=Qo+Ut.length,Ut}),Ke+=`';
`;var Ft=ur.call(C,"variable")&&C.variable;if(!Ft)Ke=`with (obj) {
`+Ke+`
}
`;else if(Pr.test(Ft))throw new Gt(o);Ke=(Pe?Ke.replace(Me,""):Ke).replace(Ne,"$1").replace(nt,"$1;"),Ke="function("+(Ft||"obj")+`) {
`+(Ft?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ee?", __e = _.escape":"")+(Pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ke+`return __p
}`;var cr=lT(function(){return Ar(se,bt+"return "+Ke).apply(r,me)});if(cr.source=Ke,Y_(cr))throw cr;return cr}function Nz(x){return zr(x).toLowerCase()}function Lz(x){return zr(x).toUpperCase()}function jz(x,C,M){if(x=zr(x),x&&(M||C===r))return xd(x);if(!x||!(C=Ei(C)))return x;var q=Lo(x),$=Lo(C),se=Bu(q,$),me=os(q,$)+1;return Ba(q,se,me).join("")}function Bz(x,C,M){if(x=zr(x),x&&(M||C===r))return x.slice(0,Sf(x)+1);if(!x||!(C=Ei(C)))return x;var q=Lo(x),$=os(q,Lo(C))+1;return Ba(q,0,$).join("")}function Fz(x,C,M){if(x=zr(x),x&&(M||C===r))return x.replace(wt,"");if(!x||!(C=Ei(C)))return x;var q=Lo(x),$=Bu(q,Lo(C));return Ba(q,$).join("")}function Uz(x,C){var M=S,q=P;if(En(C)){var $="separator"in C?C.separator:$;M="length"in C?sr(C.length):M,q="omission"in C?Ei(C.omission):q}x=zr(x);var se=x.length;if(Ma(x)){var me=Lo(x);se=me.length}if(M>=se)return x;var Ee=M-Gs(q);if(Ee<1)return q;var Pe=me?Ba(me,0,Ee).join(""):x.slice(0,Ee);if($===r)return Pe+q;if(me&&(Ee+=Pe.length-Ee),X_($)){if(x.slice(Ee).search($)){var Ge,We=Pe;for($.global||($=Tf($.source,zr(Dn.exec($))+"g")),$.lastIndex=0;Ge=$.exec(We);)var Ke=Ge.index;Pe=Pe.slice(0,Ke===r?Ee:Ke)}}else if(x.indexOf(Ei($),Ee)!=Ee){var ht=Pe.lastIndexOf($);ht>-1&&(Pe=Pe.slice(0,ht))}return Pe+q}function zz(x){return x=zr(x),x&&Qe.test(x)?x.replace(Be,ec):x}var qz=Fa(function(x,C,M){return x+(M?" ":"")+C.toUpperCase()}),Z_=Ny("toUpperCase");function uT(x,C,M){return x=zr(x),C=M?r:C,C===r?Od(x)?tc(x):bf(x):x.match(C)||[]}var lT=ar(function(x,C){try{return Re(x,r,C)}catch(M){return Y_(M)?M:new Gt(M)}}),Gz=$i(function(x,C){return Ue(C,function(M){M=Ko(M),ji(x,M,W_(x[M],x))}),x});function Vz(x){var C=x==null?0:x.length,M=Dt();return x=C?Bt(x,function(q){if(typeof q[1]!="function")throw new Xn(i);return[M(q[0]),q[1]]}):[],ar(function(q){for(var $=-1;++$<C;){var se=x[$];if(Re(se[0],this,q))return Re(se[1],this,q)}})}function Wz(x){return Rf(Ki(x,l))}function Q_(x){return function(){return x}}function Hz(x,C){return x==null||x!==x?C:x}var Yz=dv(),Xz=dv(!0);function Po(x){return x}function J_(x){return Hu(typeof x=="function"?x:Ki(x,l))}function Kz(x){return jf(Ki(x,l))}function $z(x,C){return Kd(x,Ki(C,l))}var Zz=ar(function(x,C){return function(M){return Vo(M,x,C)}}),Qz=ar(function(x,C){return function(M){return Vo(x,M,C)}});function e1(x,C,M){var q=hi(C),$=cc(C,q);M==null&&!(En(C)&&($.length||!q.length))&&(M=C,C=x,x=this,$=cc(C,hi(C)));var se=!(En(M)&&"chain"in M)||!!M.chain,me=nu(x);return Ue($,function(Ee){var Pe=C[Ee];x[Ee]=Pe,me&&(x.prototype[Ee]=function(){var Ge=this.__chain__;if(se||Ge){var We=x(this.__wrapped__),Ke=We.__actions__=Bi(this.__actions__);return Ke.push({func:Pe,args:arguments,thisArg:x}),We.__chain__=Ge,We}return Pe.apply(x,ca([this.value()],arguments))})}),x}function Jz(){return Cn._===this&&(Cn._=i_),this}function t1(){}function eq(x){return x=sr(x),ar(function(C){return Zd(C,x)})}var tq=vv(Bt),rq=vv(zt),nq=vv(Du);function cT(x){return yv(x)?wd(Ko(x)):Jd(x)}function iq(x){return function(C){return x==null?r:_i(x,C)}}var oq=Ly(),aq=Ly(!0);function r1(){return[]}function n1(){return!1}function sq(){return{}}function uq(){return""}function lq(){return!0}function cq(x,C){if(x=sr(x),x<1||x>z)return[];var M=W,q=gn(x,W);C=Dt(C),x-=W;for(var $=_f(q,C);++M<x;)C(M);return $}function fq(x){return nr(x)?Bt(x,Ko):$o(x)?[x]:Bi(Jf(zr(x)))}function hq(x){var C=++Ws;return zr(x)+C}var dq=Vf(function(x,C){return x+C},0),vq=ya("ceil"),pq=Vf(function(x,C){return x/C},1),gq=ya("floor");function yq(x){return x&&x.length?lc(x,Po,fc):r}function mq(x,C){return x&&x.length?lc(x,Dt(C,2),fc):r}function bq(x){return Jg(x,Po)}function _q(x,C){return Jg(x,Dt(C,2))}function wq(x){return x&&x.length?lc(x,Po,Lf):r}function Eq(x,C){return x&&x.length?lc(x,Dt(C,2),Lf):r}var xq=Vf(function(x,C){return x*C},1),Oq=ya("round"),Sq=Vf(function(x,C){return x-C},0);function Tq(x){return x&&x.length?Nu(x,Po):0}function Cq(x,C){return x&&x.length?Nu(x,Dt(C,2)):0}return re.after=K6,re.ary=zS,re.assign=L8,re.assignIn=tT,re.assignInWith=um,re.assignWith=j8,re.at=B8,re.before=qS,re.bind=W_,re.bindAll=Gz,re.bindKey=GS,re.castArray=s8,re.chain=bc,re.chunk=D_,re.compact=M_,re.concat=Ui,re.cond=Vz,re.conforms=Wz,re.constant=Q_,re.countBy=T6,re.create=F8,re.curry=VS,re.curryRight=WS,re.debounce=HS,re.defaults=U8,re.defaultsDeep=z8,re.defer=$6,re.delay=Z6,re.difference=wv,re.differenceBy=k_,re.differenceWith=N_,re.drop=Ev,re.dropRight=xv,re.dropRightWhile=L_,re.dropWhile=j_,re.fill=B_,re.filter=P6,re.flatMap=I6,re.flatMapDeep=D6,re.flatMapDepth=M6,re.flatten=$y,re.flattenDeep=Sv,re.flattenDepth=Tv,re.flip=Q6,re.flow=Yz,re.flowRight=Xz,re.fromPairs=Cv,re.functions=X8,re.functionsIn=K8,re.groupBy=k6,re.initial=U_,re.intersection=z_,re.intersectionBy=q_,re.intersectionWith=G_,re.invert=Z8,re.invertBy=Q8,re.invokeMap=L6,re.iteratee=J_,re.keyBy=j6,re.keys=hi,re.keysIn=Co,re.map=rm,re.mapKeys=ez,re.mapValues=tz,re.matches=Kz,re.matchesProperty=$z,re.memoize=im,re.merge=rz,re.mergeWith=rT,re.method=Zz,re.methodOf=Qz,re.mixin=e1,re.negate=om,re.nthArg=eq,re.omit=nz,re.omitBy=iz,re.once=J6,re.orderBy=B6,re.over=tq,re.overArgs=e8,re.overEvery=rq,re.overSome=nq,re.partial=H_,re.partialRight=YS,re.partition=F6,re.pick=oz,re.pickBy=nT,re.property=cT,re.propertyOf=iq,re.pull=V,re.pullAll=Z,re.pullAllBy=le,re.pullAllWith=be,re.pullAt=Oe,re.range=oq,re.rangeRight=aq,re.rearg=t8,re.reject=q6,re.remove=Ie,re.rest=r8,re.reverse=qe,re.sampleSize=V6,re.set=sz,re.setWith=uz,re.shuffle=W6,re.slice=Ve,re.sortBy=X6,re.sortedUniq=Ot,re.sortedUniqBy=ct,re.split=Iz,re.spread=n8,re.tail=Vt,re.take=qt,re.takeRight=Cr,re.takeRightWhile=_t,re.takeWhile=Mt,re.tap=ih,re.throttle=i8,re.thru=tm,re.toArray=QS,re.toPairs=iT,re.toPairsIn=oT,re.toPath=fq,re.toPlainObject=eT,re.transform=lz,re.unary=o8,re.union=jn,re.unionBy=wn,re.unionWith=Oi,re.uniq=$r,re.uniqBy=fi,re.uniqWith=ma,re.unset=cz,re.unzip=ba,re.unzipWith=Es,re.update=fz,re.updateWith=hz,re.values=ah,re.valuesIn=dz,re.without=Ua,re.words=uT,re.wrap=a8,re.xor=Qy,re.xorBy=Jy,re.xorWith=th,re.zip=Pv,re.zipObject=rh,re.zipObjectDeep=nh,re.zipWith=em,re.entries=iT,re.entriesIn=oT,re.extend=tT,re.extendWith=um,e1(re,re),re.add=dq,re.attempt=lT,re.camelCase=yz,re.capitalize=aT,re.ceil=vq,re.clamp=vz,re.clone=u8,re.cloneDeep=c8,re.cloneDeepWith=f8,re.cloneWith=l8,re.conformsTo=h8,re.deburr=sT,re.defaultTo=Hz,re.divide=pq,re.endsWith=mz,re.eq=za,re.escape=bz,re.escapeRegExp=_z,re.every=C6,re.find=A6,re.findIndex=Ov,re.findKey=q8,re.findLast=R6,re.findLastIndex=Ky,re.findLastKey=G8,re.floor=gq,re.forEach=FS,re.forEachRight=US,re.forIn=V8,re.forInRight=W8,re.forOwn=H8,re.forOwnRight=Y8,re.get=K_,re.gt=d8,re.gte=v8,re.has=$8,re.hasIn=$_,re.head=Zy,re.identity=Po,re.includes=N6,re.indexOf=F_,re.inRange=pz,re.invoke=J8,re.isArguments=_c,re.isArray=nr,re.isArrayBuffer=p8,re.isArrayLike=To,re.isArrayLikeObject=Bn,re.isBoolean=g8,re.isBuffer=$u,re.isDate=y8,re.isElement=m8,re.isEmpty=b8,re.isEqual=_8,re.isEqualWith=w8,re.isError=Y_,re.isFinite=E8,re.isFunction=nu,re.isInteger=XS,re.isLength=am,re.isMap=KS,re.isMatch=x8,re.isMatchWith=O8,re.isNaN=S8,re.isNative=T8,re.isNil=P8,re.isNull=C8,re.isNumber=$S,re.isObject=En,re.isObjectLike=Pn,re.isPlainObject=Av,re.isRegExp=X_,re.isSafeInteger=A8,re.isSet=ZS,re.isString=sm,re.isSymbol=$o,re.isTypedArray=oh,re.isUndefined=R8,re.isWeakMap=I8,re.isWeakSet=D8,re.join=V_,re.kebabCase=wz,re.last=T,re.lastIndexOf=A,re.lowerCase=Ez,re.lowerFirst=xz,re.lt=M8,re.lte=k8,re.max=yq,re.maxBy=mq,re.mean=bq,re.meanBy=_q,re.min=wq,re.minBy=Eq,re.stubArray=r1,re.stubFalse=n1,re.stubObject=sq,re.stubString=uq,re.stubTrue=lq,re.multiply=xq,re.nth=L,re.noConflict=Jz,re.noop=t1,re.now=nm,re.pad=Oz,re.padEnd=Sz,re.padStart=Tz,re.parseInt=Cz,re.random=gz,re.reduce=U6,re.reduceRight=z6,re.repeat=Pz,re.replace=Az,re.result=az,re.round=Oq,re.runInContext=Te,re.sample=G6,re.size=H6,re.snakeCase=Rz,re.some=Y6,re.sortedIndex=$e,re.sortedIndexBy=vt,re.sortedIndexOf=mt,re.sortedLastIndex=At,re.sortedLastIndexBy=Ye,re.sortedLastIndexOf=et,re.startCase=Dz,re.startsWith=Mz,re.subtract=Sq,re.sum=Tq,re.sumBy=Cq,re.template=kz,re.times=cq,re.toFinite=iu,re.toInteger=sr,re.toLength=JS,re.toLower=Nz,re.toNumber=_a,re.toSafeInteger=N8,re.toString=zr,re.toUpper=Lz,re.trim=jz,re.trimEnd=Bz,re.trimStart=Fz,re.truncate=Uz,re.unescape=zz,re.uniqueId=hq,re.upperCase=qz,re.upperFirst=Z_,re.each=FS,re.eachRight=US,re.first=Zy,e1(re,function(){var x={};return Go(re,function(C,M){ur.call(re.prototype,M)||(x[M]=C)}),x}(),{chain:!1}),re.VERSION=e,Ue(["bind","bindKey","curry","curryRight","partial","partialRight"],function(x){re[x].placeholder=re}),Ue(["drop","take"],function(x,C){lr.prototype[x]=function(M){M=M===r?1:pn(sr(M),0);var q=this.__filtered__&&!C?new lr(this):this.clone();return q.__filtered__?q.__takeCount__=gn(M,q.__takeCount__):q.__views__.push({size:gn(M,W),type:x+(q.__dir__<0?"Right":"")}),q},lr.prototype[x+"Right"]=function(M){return this.reverse()[x](M).reverse()}}),Ue(["filter","map","takeWhile"],function(x,C){var M=C+1,q=M==D||M==N;lr.prototype[x]=function($){var se=this.clone();return se.__iteratees__.push({iteratee:Dt($,3),type:M}),se.__filtered__=se.__filtered__||q,se}}),Ue(["head","last"],function(x,C){var M="take"+(C?"Right":"");lr.prototype[x]=function(){return this[M](1).value()[0]}}),Ue(["initial","tail"],function(x,C){var M="drop"+(C?"":"Right");lr.prototype[x]=function(){return this.__filtered__?new lr(this):this[M](1)}}),lr.prototype.compact=function(){return this.filter(Po)},lr.prototype.find=function(x){return this.filter(x).head()},lr.prototype.findLast=function(x){return this.reverse().find(x)},lr.prototype.invokeMap=ar(function(x,C){return typeof x=="function"?new lr(this):this.map(function(M){return Vo(M,x,C)})}),lr.prototype.reject=function(x){return this.filter(om(Dt(x)))},lr.prototype.slice=function(x,C){x=sr(x);var M=this;return M.__filtered__&&(x>0||C<0)?new lr(M):(x<0?M=M.takeRight(-x):x&&(M=M.drop(x)),C!==r&&(C=sr(C),M=C<0?M.dropRight(-C):M.take(C-x)),M)},lr.prototype.takeRightWhile=function(x){return this.reverse().takeWhile(x).reverse()},lr.prototype.toArray=function(){return this.take(W)},Go(lr.prototype,function(x,C){var M=/^(?:filter|find|map|reject)|While$/.test(C),q=/^(?:head|last)$/.test(C),$=re[q?"take"+(C=="last"?"Right":""):C],se=q||/^find/.test(C);$&&(re.prototype[C]=function(){var me=this.__wrapped__,Ee=q?[1]:arguments,Pe=me instanceof lr,Ge=Ee[0],We=Pe||nr(me),Ke=function(br){var Sr=$.apply(re,ca([br],Ee));return q&&ht?Sr[0]:Sr};We&&M&&typeof Ge=="function"&&Ge.length!=1&&(Pe=We=!1);var ht=this.__chain__,bt=!!this.__actions__.length,Ft=se&&!ht,cr=Pe&&!bt;if(!se&&We){me=cr?me:new lr(this);var Ut=x.apply(me,Ee);return Ut.__actions__.push({func:tm,args:[Ke],thisArg:r}),new Ni(Ut,ht)}return Ft&&cr?x.apply(this,Ee):(Ut=this.thru(Ke),Ft?q?Ut.value()[0]:Ut.value():Ut)})}),Ue(["pop","push","shift","sort","splice","unshift"],function(x){var C=Vs[x],M=/^(?:push|sort|unshift)$/.test(x)?"tap":"thru",q=/^(?:pop|shift)$/.test(x);re.prototype[x]=function(){var $=arguments;if(q&&!this.__chain__){var se=this.value();return C.apply(nr(se)?se:[],$)}return this[M](function(me){return C.apply(nr(me)?me:[],$)})}}),Go(lr.prototype,function(x,C){var M=re[C];if(M){var q=M.name+"";ur.call(Qs,q)||(Qs[q]=[]),Qs[q].push({name:C,func:M})}}),Qs[Gf(r,y).name]=[{name:"wrapper",func:r}],lr.prototype.clone=or,lr.prototype.reverse=u_,lr.prototype.value=l_,re.prototype.at=m6,re.prototype.chain=b6,re.prototype.commit=_6,re.prototype.next=w6,re.prototype.plant=x6,re.prototype.reverse=O6,re.prototype.toJSON=re.prototype.valueOf=re.prototype.value=S6,re.prototype.first=re.prototype.head,zu&&(re.prototype[zu]=E6),re},jo=rc();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Cn._=jo,define(function(){return jo})):No?((No.exports=jo)._=jo,ua._=jo):Cn._=jo}).call(Uh)});var Dj=ge(($ge,Ij)=>{Ij.exports=B0;function B0(){var r={};r._next=r._prev=r,this._sentinel=r}B0.prototype.dequeue=function(){var r=this._sentinel,e=r._prev;if(e!==r)return Rj(e),e};B0.prototype.enqueue=function(r){var e=this._sentinel;r._prev&&r._next&&Rj(r),r._next=e._next,e._next._prev=r,e._next=r,r._prev=e};B0.prototype.toString=function(){for(var r=[],e=this._sentinel,t=e._prev;t!==e;)r.push(JSON.stringify(t,$ae)),t=t._prev;return"["+r.join(", ")+"]"};function Rj(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function $ae(r,e){if(r!=="_next"&&r!=="_prev")return e}});var kj=ge((Zge,Mj)=>{var vu=Qr(),Zae=ta().Graph,Qae=Dj();Mj.exports=ese;var Jae=vu.constant(1);function ese(r,e){if(r.nodeCount()<=1)return[];var t=rse(r,e||Jae),n=tse(t.graph,t.buckets,t.zeroIdx);return vu.flatten(vu.map(n,function(i){return r.outEdges(i.v,i.w)}),!0)}function tse(r,e,t){for(var n=[],i=e[e.length-1],o=e[0],a;r.nodeCount();){for(;a=o.dequeue();)Ox(r,e,t,a);for(;a=i.dequeue();)Ox(r,e,t,a);if(r.nodeCount()){for(var u=e.length-2;u>0;--u)if(a=e[u].dequeue(),a){n=n.concat(Ox(r,e,t,a,!0));break}}}return n}function Ox(r,e,t,n,i){var o=i?[]:void 0;return vu.forEach(r.inEdges(n.v),function(a){var u=r.edge(a),s=r.node(a.v);i&&o.push({v:a.v,w:a.w}),s.out-=u,Sx(e,t,s)}),vu.forEach(r.outEdges(n.v),function(a){var u=r.edge(a),s=a.w,l=r.node(s);l.in-=u,Sx(e,t,l)}),r.removeNode(n.v),o}function rse(r,e){var t=new Zae,n=0,i=0;vu.forEach(r.nodes(),function(u){t.setNode(u,{v:u,in:0,out:0})}),vu.forEach(r.edges(),function(u){var s=t.edge(u.v,u.w)||0,l=e(u),c=s+l;t.setEdge(u.v,u.w,c),i=Math.max(i,t.node(u.v).out+=l),n=Math.max(n,t.node(u.w).in+=l)});var o=vu.range(i+n+3).map(function(){return new Qae}),a=n+1;return vu.forEach(t.nodes(),function(u){Sx(o,a,t.node(u))}),{graph:t,buckets:o,zeroIdx:a}}function Sx(r,e,t){t.out?t.in?r[t.out-t.in+e].enqueue(t):r[r.length-1].enqueue(t):r[0].enqueue(t)}});var Lj=ge((Qge,Nj)=>{"use strict";var qc=Qr(),nse=kj();Nj.exports={run:ise,undo:ase};function ise(r){var e=r.graph().acyclicer==="greedy"?nse(r,t(r)):ose(r);qc.forEach(e,function(n){var i=r.edge(n);r.removeEdge(n),i.forwardName=n.name,i.reversed=!0,r.setEdge(n.w,n.v,i,qc.uniqueId("rev"))});function t(n){return function(i){return n.edge(i).weight}}}function ose(r){var e=[],t={},n={};function i(o){qc.has(n,o)||(n[o]=!0,t[o]=!0,qc.forEach(r.outEdges(o),function(a){qc.has(t,a.w)?e.push(a):i(a.w)}),delete t[o])}return qc.forEach(r.nodes(),i),e}function ase(r){qc.forEach(r.edges(),function(e){var t=r.edge(e);if(t.reversed){r.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,r.setEdge(e.w,e.v,t,n)}})}});var ro=ge((Jge,Uj)=>{"use strict";var Br=Qr(),jj=ta().Graph;Uj.exports={addDummyNode:Bj,simplify:sse,asNonCompoundGraph:use,successorWeights:lse,predecessorWeights:cse,intersectRect:fse,buildLayerMatrix:hse,normalizeRanks:dse,removeEmptyRanks:vse,addBorderNode:pse,maxRank:Fj,partition:gse,time:yse,notime:mse};function Bj(r,e,t,n){var i;do i=Br.uniqueId(n);while(r.hasNode(i));return t.dummy=e,r.setNode(i,t),i}function sse(r){var e=new jj().setGraph(r.graph());return Br.forEach(r.nodes(),function(t){e.setNode(t,r.node(t))}),Br.forEach(r.edges(),function(t){var n=e.edge(t.v,t.w)||{weight:0,minlen:1},i=r.edge(t);e.setEdge(t.v,t.w,{weight:n.weight+i.weight,minlen:Math.max(n.minlen,i.minlen)})}),e}function use(r){var e=new jj({multigraph:r.isMultigraph()}).setGraph(r.graph());return Br.forEach(r.nodes(),function(t){r.children(t).length||e.setNode(t,r.node(t))}),Br.forEach(r.edges(),function(t){e.setEdge(t,r.edge(t))}),e}function lse(r){var e=Br.map(r.nodes(),function(t){var n={};return Br.forEach(r.outEdges(t),function(i){n[i.w]=(n[i.w]||0)+r.edge(i).weight}),n});return Br.zipObject(r.nodes(),e)}function cse(r){var e=Br.map(r.nodes(),function(t){var n={};return Br.forEach(r.inEdges(t),function(i){n[i.v]=(n[i.v]||0)+r.edge(i).weight}),n});return Br.zipObject(r.nodes(),e)}function fse(r,e){var t=r.x,n=r.y,i=e.x-t,o=e.y-n,a=r.width/2,u=r.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var s,l;return Math.abs(o)*a>Math.abs(i)*u?(o<0&&(u=-u),s=u*i/o,l=u):(i<0&&(a=-a),s=a,l=a*o/i),{x:t+s,y:n+l}}function hse(r){var e=Br.map(Br.range(Fj(r)+1),function(){return[]});return Br.forEach(r.nodes(),function(t){var n=r.node(t),i=n.rank;Br.isUndefined(i)||(e[i][n.order]=t)}),e}function dse(r){var e=Br.min(Br.map(r.nodes(),function(t){return r.node(t).rank}));Br.forEach(r.nodes(),function(t){var n=r.node(t);Br.has(n,"rank")&&(n.rank-=e)})}function vse(r){var e=Br.min(Br.map(r.nodes(),function(o){return r.node(o).rank})),t=[];Br.forEach(r.nodes(),function(o){var a=r.node(o).rank-e;t[a]||(t[a]=[]),t[a].push(o)});var n=0,i=r.graph().nodeRankFactor;Br.forEach(t,function(o,a){Br.isUndefined(o)&&a%i!==0?--n:n&&Br.forEach(o,function(u){r.node(u).rank+=n})})}function pse(r,e,t,n){var i={width:0,height:0};return arguments.length>=4&&(i.rank=t,i.order=n),Bj(r,"border",i,e)}function Fj(r){return Br.max(Br.map(r.nodes(),function(e){var t=r.node(e).rank;if(!Br.isUndefined(t))return t}))}function gse(r,e){var t={lhs:[],rhs:[]};return Br.forEach(r,function(n){e(n)?t.lhs.push(n):t.rhs.push(n)}),t}function yse(r,e){var t=Br.now();try{return e()}finally{console.log(r+" time: "+(Br.now()-t)+"ms")}}function mse(r,e){return e()}});var Gj=ge((eye,qj)=>{"use strict";var zj=Qr(),bse=ro();qj.exports={run:_se,undo:Ese};function _se(r){r.graph().dummyChains=[],zj.forEach(r.edges(),function(e){wse(r,e)})}function wse(r,e){var t=e.v,n=r.node(t).rank,i=e.w,o=r.node(i).rank,a=e.name,u=r.edge(e),s=u.labelRank;if(o!==n+1){r.removeEdge(e);var l,c,f;for(f=0,++n;n<o;++f,++n)u.points=[],c={width:0,height:0,edgeLabel:u,edgeObj:e,rank:n},l=bse.addDummyNode(r,"edge",c,"_d"),n===s&&(c.width=u.width,c.height=u.height,c.dummy="edge-label",c.labelpos=u.labelpos),r.setEdge(t,l,{weight:u.weight},a),f===0&&r.graph().dummyChains.push(l),t=l;r.setEdge(t,i,{weight:u.weight},a)}}function Ese(r){zj.forEach(r.graph().dummyChains,function(e){var t=r.node(e),n=t.edgeLabel,i;for(r.setEdge(t.edgeObj,n);t.dummy;)i=r.successors(e)[0],r.removeNode(e),n.points.push({x:t.x,y:t.y}),t.dummy==="edge-label"&&(n.x=t.x,n.y=t.y,n.width=t.width,n.height=t.height),e=i,t=r.node(e)})}});var Np=ge((tye,Vj)=>{"use strict";var F0=Qr();Vj.exports={longestPath:xse,slack:Ose};function xse(r){var e={};function t(n){var i=r.node(n);if(F0.has(e,n))return i.rank;e[n]=!0;var o=F0.min(F0.map(r.outEdges(n),function(a){return t(a.w)-r.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}F0.forEach(r.sources(),t)}function Ose(r,e){return r.node(e.w).rank-r.node(e.v).rank-r.edge(e).minlen}});var Tx=ge((rye,Wj)=>{"use strict";var U0=Qr(),Sse=ta().Graph,z0=Np().slack;Wj.exports=Tse;function Tse(r){var e=new Sse({directed:!1}),t=r.nodes()[0],n=r.nodeCount();e.setNode(t,{});for(var i,o;Cse(e,r)<n;)i=Pse(e,r),o=e.hasNode(i.v)?z0(r,i):-z0(r,i),Ase(e,r,o);return e}function Cse(r,e){function t(n){U0.forEach(e.nodeEdges(n),function(i){var o=i.v,a=n===o?i.w:o;!r.hasNode(a)&&!z0(e,i)&&(r.setNode(a,{}),r.setEdge(n,a,{}),t(a))})}return U0.forEach(r.nodes(),t),r.nodeCount()}function Pse(r,e){return U0.minBy(e.edges(),function(t){if(r.hasNode(t.v)!==r.hasNode(t.w))return z0(e,t)})}function Ase(r,e,t){U0.forEach(r.nodes(),function(n){e.node(n).rank+=t})}});var Jj=ge((nye,Qj)=>{"use strict";var pu=Qr(),Rse=Tx(),Ise=Np().slack,Dse=Np().longestPath,Mse=ta().alg.preorder,kse=ta().alg.postorder,Nse=ro().simplify;Qj.exports=Gc;Gc.initLowLimValues=Px;Gc.initCutValues=Cx;Gc.calcCutValue=Yj;Gc.leaveEdge=Kj;Gc.enterEdge=$j;Gc.exchangeEdges=Zj;function Gc(r){r=Nse(r),Dse(r);var e=Rse(r);Px(e),Cx(e,r);for(var t,n;t=Kj(e);)n=$j(e,r,t),Zj(e,r,t,n)}function Cx(r,e){var t=kse(r,r.nodes());t=t.slice(0,t.length-1),pu.forEach(t,function(n){Lse(r,e,n)})}function Lse(r,e,t){var n=r.node(t),i=n.parent;r.edge(t,i).cutvalue=Yj(r,e,t)}function Yj(r,e,t){var n=r.node(t),i=n.parent,o=!0,a=e.edge(t,i),u=0;return a||(o=!1,a=e.edge(i,t)),u=a.weight,pu.forEach(e.nodeEdges(t),function(s){var l=s.v===t,c=l?s.w:s.v;if(c!==i){var f=l===o,h=e.edge(s).weight;if(u+=f?h:-h,Bse(r,t,c)){var v=r.edge(t,c).cutvalue;u+=f?-v:v}}}),u}function Px(r,e){arguments.length<2&&(e=r.nodes()[0]),Xj(r,{},1,e)}function Xj(r,e,t,n,i){var o=t,a=r.node(n);return e[n]=!0,pu.forEach(r.neighbors(n),function(u){pu.has(e,u)||(t=Xj(r,e,t,u,n))}),a.low=o,a.lim=t++,i?a.parent=i:delete a.parent,t}function Kj(r){return pu.find(r.edges(),function(e){return r.edge(e).cutvalue<0})}function $j(r,e,t){var n=t.v,i=t.w;e.hasEdge(n,i)||(n=t.w,i=t.v);var o=r.node(n),a=r.node(i),u=o,s=!1;o.lim>a.lim&&(u=a,s=!0);var l=pu.filter(e.edges(),function(c){return s===Hj(r,r.node(c.v),u)&&s!==Hj(r,r.node(c.w),u)});return pu.minBy(l,function(c){return Ise(e,c)})}function Zj(r,e,t,n){var i=t.v,o=t.w;r.removeEdge(i,o),r.setEdge(n.v,n.w,{}),Px(r),Cx(r,e),jse(r,e)}function jse(r,e){var t=pu.find(r.nodes(),function(i){return!e.node(i).parent}),n=Mse(r,t);n=n.slice(1),pu.forEach(n,function(i){var o=r.node(i).parent,a=e.edge(i,o),u=!1;a||(a=e.edge(o,i),u=!0),e.node(i).rank=e.node(o).rank+(u?a.minlen:-a.minlen)})}function Bse(r,e,t){return r.hasEdge(e,t)}function Hj(r,e,t){return t.low<=e.lim&&e.lim<=t.lim}});var n5=ge((iye,r5)=>{"use strict";var Fse=Np(),t5=Fse.longestPath,Use=Tx(),zse=Jj();r5.exports=qse;function qse(r){switch(r.graph().ranker){case"network-simplex":e5(r);break;case"tight-tree":Vse(r);break;case"longest-path":Gse(r);break;default:e5(r)}}var Gse=t5;function Vse(r){t5(r),Use(r)}function e5(r){zse(r)}});var o5=ge((oye,i5)=>{var Ax=Qr();i5.exports=Wse;function Wse(r){var e=Yse(r);Ax.forEach(r.graph().dummyChains,function(t){for(var n=r.node(t),i=n.edgeObj,o=Hse(r,e,i.v,i.w),a=o.path,u=o.lca,s=0,l=a[s],c=!0;t!==i.w;){if(n=r.node(t),c){for(;(l=a[s])!==u&&r.node(l).maxRank<n.rank;)s++;l===u&&(c=!1)}if(!c){for(;s<a.length-1&&r.node(l=a[s+1]).minRank<=n.rank;)s++;l=a[s]}r.setParent(t,l),t=r.successors(t)[0]}})}function Hse(r,e,t,n){var i=[],o=[],a=Math.min(e[t].low,e[n].low),u=Math.max(e[t].lim,e[n].lim),s,l;s=t;do s=r.parent(s),i.push(s);while(s&&(e[s].low>a||u>e[s].lim));for(l=s,s=n;(s=r.parent(s))!==l;)o.push(s);return{path:i.concat(o.reverse()),lca:l}}function Yse(r){var e={},t=0;function n(i){var o=t;Ax.forEach(r.children(i),n),e[i]={low:o,lim:t++}}return Ax.forEach(r.children(),n),e}});var u5=ge((aye,s5)=>{var gu=Qr(),Rx=ro();s5.exports={run:Xse,cleanup:Zse};function Xse(r){var e=Rx.addDummyNode(r,"root",{},"_root"),t=Kse(r),n=gu.max(gu.values(t))-1,i=2*n+1;r.graph().nestingRoot=e,gu.forEach(r.edges(),function(a){r.edge(a).minlen*=i});var o=$se(r)+1;gu.forEach(r.children(),function(a){a5(r,e,i,o,n,t,a)}),r.graph().nodeRankFactor=i}function a5(r,e,t,n,i,o,a){var u=r.children(a);if(!u.length){a!==e&&r.setEdge(e,a,{weight:0,minlen:t});return}var s=Rx.addBorderNode(r,"_bt"),l=Rx.addBorderNode(r,"_bb"),c=r.node(a);r.setParent(s,a),c.borderTop=s,r.setParent(l,a),c.borderBottom=l,gu.forEach(u,function(f){a5(r,e,t,n,i,o,f);var h=r.node(f),v=h.borderTop?h.borderTop:f,d=h.borderBottom?h.borderBottom:f,y=h.borderTop?n:2*n,p=v!==d?1:i-o[a]+1;r.setEdge(s,v,{weight:y,minlen:p,nestingEdge:!0}),r.setEdge(d,l,{weight:y,minlen:p,nestingEdge:!0})}),r.parent(a)||r.setEdge(e,s,{weight:0,minlen:i+o[a]})}function Kse(r){var e={};function t(n,i){var o=r.children(n);o&&o.length&&gu.forEach(o,function(a){t(a,i+1)}),e[n]=i}return gu.forEach(r.children(),function(n){t(n,1)}),e}function $se(r){return gu.reduce(r.edges(),function(e,t){return e+r.edge(t).weight},0)}function Zse(r){var e=r.graph();r.removeNode(e.nestingRoot),delete e.nestingRoot,gu.forEach(r.edges(),function(t){var n=r.edge(t);n.nestingEdge&&r.removeEdge(t)})}});var f5=ge((sye,c5)=>{var Ix=Qr(),Qse=ro();c5.exports=Jse;function Jse(r){function e(t){var n=r.children(t),i=r.node(t);if(n.length&&Ix.forEach(n,e),Ix.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)l5(r,"borderLeft","_bl",t,i,o),l5(r,"borderRight","_br",t,i,o)}}Ix.forEach(r.children(),e)}function l5(r,e,t,n,i,o){var a={width:0,height:0,rank:o,borderType:e},u=i[e][o-1],s=Qse.addDummyNode(r,"border",a,t);i[e][o]=s,r.setParent(s,n),u&&r.setEdge(u,s,{weight:1})}});var p5=ge((uye,v5)=>{"use strict";var Ds=Qr();v5.exports={adjust:eue,undo:tue};function eue(r){var e=r.graph().rankdir.toLowerCase();(e==="lr"||e==="rl")&&d5(r)}function tue(r){var e=r.graph().rankdir.toLowerCase();(e==="bt"||e==="rl")&&rue(r),(e==="lr"||e==="rl")&&(nue(r),d5(r))}function d5(r){Ds.forEach(r.nodes(),function(e){h5(r.node(e))}),Ds.forEach(r.edges(),function(e){h5(r.edge(e))})}function h5(r){var e=r.width;r.width=r.height,r.height=e}function rue(r){Ds.forEach(r.nodes(),function(e){Dx(r.node(e))}),Ds.forEach(r.edges(),function(e){var t=r.edge(e);Ds.forEach(t.points,Dx),Ds.has(t,"y")&&Dx(t)})}function Dx(r){r.y=-r.y}function nue(r){Ds.forEach(r.nodes(),function(e){Mx(r.node(e))}),Ds.forEach(r.edges(),function(e){var t=r.edge(e);Ds.forEach(t.points,Mx),Ds.has(t,"x")&&Mx(t)})}function Mx(r){var e=r.x;r.x=r.y,r.y=e}});var y5=ge((lye,g5)=>{"use strict";var yu=Qr();g5.exports=iue;function iue(r){var e={},t=yu.filter(r.nodes(),function(u){return!r.children(u).length}),n=yu.max(yu.map(t,function(u){return r.node(u).rank})),i=yu.map(yu.range(n+1),function(){return[]});function o(u){if(!yu.has(e,u)){e[u]=!0;var s=r.node(u);i[s.rank].push(u),yu.forEach(r.successors(u),o)}}var a=yu.sortBy(t,function(u){return r.node(u).rank});return yu.forEach(a,o),i}});var b5=ge((cye,m5)=>{"use strict";var _l=Qr();m5.exports=oue;function oue(r,e){for(var t=0,n=1;n<e.length;++n)t+=aue(r,e[n-1],e[n]);return t}function aue(r,e,t){for(var n=_l.zipObject(t,_l.map(t,function(l,c){return c})),i=_l.flatten(_l.map(e,function(l){return _l.sortBy(_l.map(r.outEdges(l),function(c){return{pos:n[c.w],weight:r.edge(c).weight}}),"pos")}),!0),o=1;o<t.length;)o<<=1;var a=2*o-1;o-=1;var u=_l.map(new Array(a),function(){return 0}),s=0;return _l.forEach(i.forEach(function(l){var c=l.pos+o;u[c]+=l.weight;for(var f=0;c>0;)c%2&&(f+=u[c+1]),c=c-1>>1,u[c]+=l.weight;s+=l.weight*f})),s}});var E5=ge((fye,w5)=>{var _5=Qr();w5.exports=sue;function sue(r,e){return _5.map(e,function(t){var n=r.inEdges(t);if(n.length){var i=_5.reduce(n,function(o,a){var u=r.edge(a),s=r.node(a.v);return{sum:o.sum+u.weight*s.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:t,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:t}})}});var O5=ge((hye,x5)=>{"use strict";var ra=Qr();x5.exports=uue;function uue(r,e){var t={};ra.forEach(r,function(i,o){var a=t[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};ra.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),ra.forEach(e.edges(),function(i){var o=t[i.v],a=t[i.w];!ra.isUndefined(o)&&!ra.isUndefined(a)&&(a.indegree++,o.out.push(t[i.w]))});var n=ra.filter(t,function(i){return!i.indegree});return lue(n)}function lue(r){var e=[];function t(o){return function(a){a.merged||(ra.isUndefined(a.barycenter)||ra.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&cue(o,a)}}function n(o){return function(a){a.in.push(o),--a.indegree===0&&r.push(a)}}for(;r.length;){var i=r.pop();e.push(i),ra.forEach(i.in.reverse(),t(i)),ra.forEach(i.out,n(i))}return ra.map(ra.filter(e,function(o){return!o.merged}),function(o){return ra.pick(o,["vs","i","barycenter","weight"])})}function cue(r,e){var t=0,n=0;r.weight&&(t+=r.barycenter*r.weight,n+=r.weight),e.weight&&(t+=e.barycenter*e.weight,n+=e.weight),r.vs=e.vs.concat(r.vs),r.barycenter=t/n,r.weight=n,r.i=Math.min(e.i,r.i),e.merged=!0}});var C5=ge((dye,T5)=>{var Lp=Qr(),fue=ro();T5.exports=hue;function hue(r,e){var t=fue.partition(r,function(c){return Lp.has(c,"barycenter")}),n=t.lhs,i=Lp.sortBy(t.rhs,function(c){return-c.i}),o=[],a=0,u=0,s=0;n.sort(due(!!e)),s=S5(o,i,s),Lp.forEach(n,function(c){s+=c.vs.length,o.push(c.vs),a+=c.barycenter*c.weight,u+=c.weight,s=S5(o,i,s)});var l={vs:Lp.flatten(o,!0)};return u&&(l.barycenter=a/u,l.weight=u),l}function S5(r,e,t){for(var n;e.length&&(n=Lp.last(e)).i<=t;)e.pop(),r.push(n.vs),t++;return t}function due(r){return function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:r?t.i-e.i:e.i-t.i}}});var R5=ge((vye,A5)=>{var wl=Qr(),vue=E5(),pue=O5(),gue=C5();A5.exports=P5;function P5(r,e,t,n){var i=r.children(e),o=r.node(e),a=o?o.borderLeft:void 0,u=o?o.borderRight:void 0,s={};a&&(i=wl.filter(i,function(d){return d!==a&&d!==u}));var l=vue(r,i);wl.forEach(l,function(d){if(r.children(d.v).length){var y=P5(r,d.v,t,n);s[d.v]=y,wl.has(y,"barycenter")&&mue(d,y)}});var c=pue(l,t);yue(c,s);var f=gue(c,n);if(a&&(f.vs=wl.flatten([a,f.vs,u],!0),r.predecessors(a).length)){var h=r.node(r.predecessors(a)[0]),v=r.node(r.predecessors(u)[0]);wl.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+h.order+v.order)/(f.weight+2),f.weight+=2}return f}function yue(r,e){wl.forEach(r,function(t){t.vs=wl.flatten(t.vs.map(function(n){return e[n]?e[n].vs:n}),!0)})}function mue(r,e){wl.isUndefined(r.barycenter)?(r.barycenter=e.barycenter,r.weight=e.weight):(r.barycenter=(r.barycenter*r.weight+e.barycenter*e.weight)/(r.weight+e.weight),r.weight+=e.weight)}});var D5=ge((pye,I5)=>{var jp=Qr(),bue=ta().Graph;I5.exports=_ue;function _ue(r,e,t){var n=wue(r),i=new bue({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(o){return r.node(o)});return jp.forEach(r.nodes(),function(o){var a=r.node(o),u=r.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,u||n),jp.forEach(r[t](o),function(s){var l=s.v===o?s.w:s.v,c=i.edge(l,o),f=jp.isUndefined(c)?0:c.weight;i.setEdge(l,o,{weight:r.edge(s).weight+f})}),jp.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i}function wue(r){for(var e;r.hasNode(e=jp.uniqueId("_root")););return e}});var k5=ge((gye,M5)=>{var Eue=Qr();M5.exports=xue;function xue(r,e,t){var n={},i;Eue.forEach(t,function(o){for(var a=r.parent(o),u,s;a;){if(u=r.parent(a),u?(s=n[u],n[u]=a):(s=i,i=a),s&&s!==a){e.setEdge(s,a);return}a=u}})}});var F5=ge((yye,B5)=>{"use strict";var El=Qr(),Oue=y5(),Sue=b5(),Tue=R5(),Cue=D5(),Pue=k5(),Aue=ta().Graph,N5=ro();B5.exports=Rue;function Rue(r){var e=N5.maxRank(r),t=L5(r,El.range(1,e+1),"inEdges"),n=L5(r,El.range(e-1,-1,-1),"outEdges"),i=Oue(r);j5(r,i);for(var o=Number.POSITIVE_INFINITY,a,u=0,s=0;s<4;++u,++s){Iue(u%2?t:n,u%4>=2),i=N5.buildLayerMatrix(r);var l=Sue(r,i);l<o&&(s=0,a=El.cloneDeep(i),o=l)}j5(r,a)}function L5(r,e,t){return El.map(e,function(n){return Cue(r,n,t)})}function Iue(r,e){var t=new Aue;El.forEach(r,function(n){var i=n.graph().root,o=Tue(n,i,t,e);El.forEach(o.vs,function(a,u){n.node(a).order=u}),Pue(n,t,o.vs)})}function j5(r,e){El.forEach(e,function(t){El.forEach(t,function(n,i){r.node(n).order=i})})}});var K5=ge((mye,X5)=>{"use strict";var $t=Qr(),Due=ta().Graph,Mue=ro();X5.exports={positionX:Lue,findType1Conflicts:U5,findType2Conflicts:z5,addConflict:kx,hasConflict:q5,verticalAlignment:G5,horizontalCompaction:V5,alignCoordinates:H5,findSmallestWidthAlignment:W5,balance:Y5};function U5(r,e){var t={};function n(i,o){var a=0,u=0,s=i.length,l=$t.last(o);return $t.forEach(o,function(c,f){var h=kue(r,c),v=h?r.node(h).order:s;(h||c===l)&&($t.forEach(o.slice(u,f+1),function(d){$t.forEach(r.predecessors(d),function(y){var p=r.node(y),g=p.order;(g<a||v<g)&&!(p.dummy&&r.node(d).dummy)&&kx(t,y,d)})}),u=f+1,a=v)}),o}return $t.reduce(e,n),t}function z5(r,e){var t={};if(r.nodeCount()>1e3)return t;function n(o,a,u,s,l){var c;$t.forEach($t.range(a,u),function(f){c=o[f],r.node(c).dummy&&$t.forEach(r.predecessors(c),function(h){var v=r.node(h);v.dummy&&(v.order<s||v.order>l)&&kx(t,h,c)})})}function i(o,a){var u=-1,s,l=0;return $t.forEach(a,function(c,f){if(r.node(c).dummy==="border"){var h=r.predecessors(c);h.length&&(s=r.node(h[0]).order,n(a,l,f,u,s),l=f,u=s)}n(a,l,a.length,s,o.length)}),a}return $t.reduce(e,i),t}function kue(r,e){if(r.node(e).dummy)return $t.find(r.predecessors(e),function(t){return r.node(t).dummy})}function kx(r,e,t){if(e>t){var n=e;e=t,t=n}var i=r[e];i||(r[e]=i={}),i[t]=!0}function q5(r,e,t){if(e>t){var n=e;e=t,t=n}return $t.has(r[e],t)}function G5(r,e,t,n){var i={},o={},a={};return $t.forEach(e,function(u){$t.forEach(u,function(s,l){i[s]=s,o[s]=s,a[s]=l})}),$t.forEach(e,function(u){var s=-1;$t.forEach(u,function(l){var c=n(l);if(c.length){c=$t.sortBy(c,function(y){return a[y]});for(var f=(c.length-1)/2,h=Math.floor(f),v=Math.ceil(f);h<=v;++h){var d=c[h];o[l]===l&&s<a[d]&&!q5(t,l,d)&&(o[d]=l,o[l]=i[l]=i[d],s=a[d])}}})}),{root:i,align:o}}function V5(r,e,t,n,i){var o={},a=Nue(r,e,t,i),u=i?"borderLeft":"borderRight";function s(f,h){for(var v=a.nodes(),d=v.pop(),y={};d;)y[d]?f(d):(y[d]=!0,v.push(d),v=v.concat(h(d))),d=v.pop()}function l(f){o[f]=a.inEdges(f).reduce(function(h,v){return Math.max(h,o[v.v]+a.edge(v))},0)}function c(f){var h=a.outEdges(f).reduce(function(d,y){return Math.min(d,o[y.w]-a.edge(y))},Number.POSITIVE_INFINITY),v=r.node(f);h!==Number.POSITIVE_INFINITY&&v.borderType!==u&&(o[f]=Math.max(o[f],h))}return s(l,a.predecessors.bind(a)),s(c,a.successors.bind(a)),$t.forEach(n,function(f){o[f]=o[t[f]]}),o}function Nue(r,e,t,n){var i=new Due,o=r.graph(),a=jue(o.nodesep,o.edgesep,n);return $t.forEach(e,function(u){var s;$t.forEach(u,function(l){var c=t[l];if(i.setNode(c),s){var f=t[s],h=i.edge(f,c);i.setEdge(f,c,Math.max(a(r,l,s),h||0))}s=l})}),i}function W5(r,e){return $t.minBy($t.values(e),function(t){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return $t.forIn(t,function(o,a){var u=Bue(r,a)/2;n=Math.max(o+u,n),i=Math.min(o-u,i)}),n-i})}function H5(r,e){var t=$t.values(e),n=$t.min(t),i=$t.max(t);$t.forEach(["u","d"],function(o){$t.forEach(["l","r"],function(a){var u=o+a,s=r[u],l;if(s!==e){var c=$t.values(s);l=a==="l"?n-$t.min(c):i-$t.max(c),l&&(r[u]=$t.mapValues(s,function(f){return f+l}))}})})}function Y5(r,e){return $t.mapValues(r.ul,function(t,n){if(e)return r[e.toLowerCase()][n];var i=$t.sortBy($t.map(r,n));return(i[1]+i[2])/2})}function Lue(r){var e=Mue.buildLayerMatrix(r),t=$t.merge(U5(r,e),z5(r,e)),n={},i;$t.forEach(["u","d"],function(a){i=a==="u"?e:$t.values(e).reverse(),$t.forEach(["l","r"],function(u){u==="r"&&(i=$t.map(i,function(f){return $t.values(f).reverse()}));var s=(a==="u"?r.predecessors:r.successors).bind(r),l=G5(r,i,t,s),c=V5(r,i,l.root,l.align,u==="r");u==="r"&&(c=$t.mapValues(c,function(f){return-f})),n[a+u]=c})});var o=W5(r,n);return H5(n,o),Y5(n,r.graph().align)}function jue(r,e,t){return function(n,i,o){var a=n.node(i),u=n.node(o),s=0,l;if(s+=a.width/2,$t.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=-a.width/2;break;case"r":l=a.width/2;break}if(l&&(s+=t?l:-l),l=0,s+=(a.dummy?e:r)/2,s+=(u.dummy?e:r)/2,s+=u.width/2,$t.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":l=u.width/2;break;case"r":l=-u.width/2;break}return l&&(s+=t?l:-l),l=0,s}}function Bue(r,e){return r.node(e).width}});var Q5=ge((bye,Z5)=>{"use strict";var Bp=Qr(),$5=ro(),Fue=K5().positionX;Z5.exports=Uue;function Uue(r){r=$5.asNonCompoundGraph(r),zue(r),Bp.forEach(Fue(r),function(e,t){r.node(t).x=e})}function zue(r){var e=$5.buildLayerMatrix(r),t=r.graph().ranksep,n=0;Bp.forEach(e,function(i){var o=Bp.max(Bp.map(i,function(a){return r.node(a).height}));Bp.forEach(i,function(a){r.node(a).y=n+o/2}),n+=o+t})}});var i3=ge((_ye,n3)=>{"use strict";var hr=Qr(),J5=Lj(),e3=Gj(),que=n5(),Gue=ro().normalizeRanks,Vue=o5(),Wue=ro().removeEmptyRanks,t3=u5(),Hue=f5(),r3=p5(),Yue=F5(),Xue=Q5(),xl=ro(),Kue=ta().Graph;n3.exports=$ue;function $ue(r,e){var t=e&&e.debugTiming?xl.time:xl.notime,n=t("layout",function(){return n=t("  buildLayoutGraph",function(){return sle(r)}),t("  runLayout",function(){Zue(n,t)}),t("  updateInputGraph",function(){Que(r,n)}),n});return n}function Zue(r,e){e("    makeSpaceForEdgeLabels",function(){ule(r)}),e("    removeSelfEdges",function(){yle(r)}),e("    acyclic",function(){J5.run(r)}),e("    nestingGraph.run",function(){t3.run(r)}),e("    rank",function(){que(xl.asNonCompoundGraph(r))}),e("    injectEdgeLabelProxies",function(){lle(r)}),e("    removeEmptyRanks",function(){Wue(r)}),e("    nestingGraph.cleanup",function(){t3.cleanup(r)}),e("    normalizeRanks",function(){Gue(r)}),e("    assignRankMinMax",function(){cle(r)}),e("    removeEdgeLabelProxies",function(){fle(r)}),e("    normalize.run",function(){e3.run(r)}),e("    parentDummyChains",function(){Vue(r)}),e("    addBorderSegments",function(){Hue(r)}),e("    order",function(){Yue(r)}),e("    insertSelfEdges",function(){mle(r)}),e("    adjustCoordinateSystem",function(){r3.adjust(r)}),e("    position",function(){Xue(r)}),e("    positionSelfEdges",function(){ble(r)}),e("    removeBorderNodes",function(){gle(r)}),e("    normalize.undo",function(){e3.undo(r)}),e("    fixupEdgeLabelCoords",function(){vle(r)}),e("    undoCoordinateSystem",function(){r3.undo(r)}),e("    translateGraph",function(){hle(r)}),e("    assignNodeIntersects",function(){dle(r)}),e("    reversePoints",function(){ple(r)}),e("    acyclic.undo",function(){J5.undo(r)})}function Que(r,e){hr.forEach(r.nodes(),function(t){var n=r.node(t),i=e.node(t);n&&(n.x=i.x,n.y=i.y,e.children(t).length&&(n.width=i.width,n.height=i.height))}),hr.forEach(r.edges(),function(t){var n=r.edge(t),i=e.edge(t);n.points=i.points,hr.has(i,"x")&&(n.x=i.x,n.y=i.y)}),r.graph().width=e.graph().width,r.graph().height=e.graph().height}var Jue=["nodesep","edgesep","ranksep","marginx","marginy"],ele={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},tle=["acyclicer","ranker","rankdir","align"],rle=["width","height"],nle={width:0,height:0},ile=["minlen","weight","width","height","labeloffset"],ole={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},ale=["labelpos"];function sle(r){var e=new Kue({multigraph:!0,compound:!0}),t=Lx(r.graph());return e.setGraph(hr.merge({},ele,Nx(t,Jue),hr.pick(t,tle))),hr.forEach(r.nodes(),function(n){var i=Lx(r.node(n));e.setNode(n,hr.defaults(Nx(i,rle),nle)),e.setParent(n,r.parent(n))}),hr.forEach(r.edges(),function(n){var i=Lx(r.edge(n));e.setEdge(n,hr.merge({},ole,Nx(i,ile),hr.pick(i,ale)))}),e}function ule(r){var e=r.graph();e.ranksep/=2,hr.forEach(r.edges(),function(t){var n=r.edge(t);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(e.rankdir==="TB"||e.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function lle(r){hr.forEach(r.edges(),function(e){var t=r.edge(e);if(t.width&&t.height){var n=r.node(e.v),i=r.node(e.w),o={rank:(i.rank-n.rank)/2+n.rank,e};xl.addDummyNode(r,"edge-proxy",o,"_ep")}})}function cle(r){var e=0;hr.forEach(r.nodes(),function(t){var n=r.node(t);n.borderTop&&(n.minRank=r.node(n.borderTop).rank,n.maxRank=r.node(n.borderBottom).rank,e=hr.max(e,n.maxRank))}),r.graph().maxRank=e}function fle(r){hr.forEach(r.nodes(),function(e){var t=r.node(e);t.dummy==="edge-proxy"&&(r.edge(t.e).labelRank=t.rank,r.removeNode(e))})}function hle(r){var e=Number.POSITIVE_INFINITY,t=0,n=Number.POSITIVE_INFINITY,i=0,o=r.graph(),a=o.marginx||0,u=o.marginy||0;function s(l){var c=l.x,f=l.y,h=l.width,v=l.height;e=Math.min(e,c-h/2),t=Math.max(t,c+h/2),n=Math.min(n,f-v/2),i=Math.max(i,f+v/2)}hr.forEach(r.nodes(),function(l){s(r.node(l))}),hr.forEach(r.edges(),function(l){var c=r.edge(l);hr.has(c,"x")&&s(c)}),e-=a,n-=u,hr.forEach(r.nodes(),function(l){var c=r.node(l);c.x-=e,c.y-=n}),hr.forEach(r.edges(),function(l){var c=r.edge(l);hr.forEach(c.points,function(f){f.x-=e,f.y-=n}),hr.has(c,"x")&&(c.x-=e),hr.has(c,"y")&&(c.y-=n)}),o.width=t-e+a,o.height=i-n+u}function dle(r){hr.forEach(r.edges(),function(e){var t=r.edge(e),n=r.node(e.v),i=r.node(e.w),o,a;t.points?(o=t.points[0],a=t.points[t.points.length-1]):(t.points=[],o=i,a=n),t.points.unshift(xl.intersectRect(n,o)),t.points.push(xl.intersectRect(i,a))})}function vle(r){hr.forEach(r.edges(),function(e){var t=r.edge(e);if(hr.has(t,"x"))switch((t.labelpos==="l"||t.labelpos==="r")&&(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset;break}})}function ple(r){hr.forEach(r.edges(),function(e){var t=r.edge(e);t.reversed&&t.points.reverse()})}function gle(r){hr.forEach(r.nodes(),function(e){if(r.children(e).length){var t=r.node(e),n=r.node(t.borderTop),i=r.node(t.borderBottom),o=r.node(hr.last(t.borderLeft)),a=r.node(hr.last(t.borderRight));t.width=Math.abs(a.x-o.x),t.height=Math.abs(i.y-n.y),t.x=o.x+t.width/2,t.y=n.y+t.height/2}}),hr.forEach(r.nodes(),function(e){r.node(e).dummy==="border"&&r.removeNode(e)})}function yle(r){hr.forEach(r.edges(),function(e){if(e.v===e.w){var t=r.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e,label:r.edge(e)}),r.removeEdge(e)}})}function mle(r){var e=xl.buildLayerMatrix(r);hr.forEach(e,function(t){var n=0;hr.forEach(t,function(i,o){var a=r.node(i);a.order=o+n,hr.forEach(a.selfEdges,function(u){xl.addDummyNode(r,"selfedge",{width:u.label.width,height:u.label.height,rank:a.rank,order:o+ ++n,e:u.e,label:u.label},"_se")}),delete a.selfEdges})})}function ble(r){hr.forEach(r.nodes(),function(e){var t=r.node(e);if(t.dummy==="selfedge"){var n=r.node(t.e.v),i=n.x+n.width/2,o=n.y,a=t.x-i,u=n.height/2;r.setEdge(t.e,t.label),r.removeNode(e),t.label.points=[{x:i+2*a/3,y:o-u},{x:i+5*a/6,y:o-u},{x:i+a,y:o},{x:i+5*a/6,y:o+u},{x:i+2*a/3,y:o+u}],t.label.x=t.x,t.label.y=t.y}})}function Nx(r,e){return hr.mapValues(hr.pick(r,e),Number)}function Lx(r){var e={};return hr.forEach(r,function(t,n){e[n.toLowerCase()]=t}),e}});var a3=ge((wye,o3)=>{var q0=Qr(),_le=ro(),wle=ta().Graph;o3.exports={debugOrdering:Ele};function Ele(r){var e=_le.buildLayerMatrix(r),t=new wle({compound:!0,multigraph:!0}).setGraph({});return q0.forEach(r.nodes(),function(n){t.setNode(n,{label:n}),t.setParent(n,"layer"+r.node(n).rank)}),q0.forEach(r.edges(),function(n){t.setEdge(n.v,n.w,{},n.name)}),q0.forEach(e,function(n,i){var o="layer"+i;t.setNode(o,{rank:"same"}),q0.reduce(n,function(a,u){return t.setEdge(a,u,{style:"invis"}),u})}),t}});var u3=ge((Eye,s3)=>{s3.exports="0.8.14"});var c3=ge((xye,l3)=>{l3.exports={graphlib:ta(),layout:i3(),debug:a3(),util:{time:ro().time,notime:ro().notime},version:u3()}});var d3=ge((Oye,h3)=>{var f3=function(){};f3.prototype={fit:function(r){var e,t,n,i=r.length,o,a=i>0?r[0].width:0,u=i>0?r[0].height:0;for(this.root={x:0,y:0,width:a,height:u},e=0;e<i;e++)n=r[e],(t=this.findNode(this.root,n.width,n.height))?(o=this.splitNode(t,n.width,n.height),n.x=o.x,n.y=o.y):(o=this.growNode(n.width,n.height),n.x=o.x,n.y=o.y)},findNode:function(r,e,t){return r.used?this.findNode(r.right,e,t)||this.findNode(r.down,e,t):e<=r.width&&t<=r.height?r:null},splitNode:function(r,e,t){return r.used=!0,r.down={x:r.x,y:r.y+t,width:r.width,height:r.height-t},r.right={x:r.x+e,y:r.y,width:r.width-e,height:t},r},growNode:function(r,e){var t=r<=this.root.width,n=e<=this.root.height,i=n&&this.root.height>=this.root.width+r,o=t&&this.root.width>=this.root.height+e;return i?this.growRight(r,e):o?this.growDown(r,e):n?this.growRight(r,e):t?this.growDown(r,e):null},growRight:function(r,e){this.root={used:!0,x:0,y:0,width:this.root.width+r,height:this.root.height,down:this.root,right:{x:this.root.width,y:0,width:r,height:this.root.height}};var t;return(t=this.findNode(this.root,r,e))?this.splitNode(t,r,e):null},growDown:function(r,e){this.root={used:!0,x:0,y:0,width:this.root.width,height:this.root.height+e,down:{x:0,y:this.root.height,width:this.root.width,height:e},right:this.root};var t;return(t=this.findNode(this.root,r,e))?this.splitNode(t,r,e):null}};h3.exports=f3});var p3=ge((Sye,v3)=>{"use strict";var xle=d3();v3.exports=function(r,e){e=e||{};var t=new xle,n=e.inPlace||!1,i=r.map(function(s){return n?s:{width:s.width,height:s.height,item:s}});i=i.sort(function(s,l){return l.width*l.height-s.width*s.height}),t.fit(i);var o=i.reduce(function(s,l){return Math.max(s,l.x+l.width)},0),a=i.reduce(function(s,l){return Math.max(s,l.y+l.height)},0),u={width:o,height:a};return n||(u.items=i),u}});var JU=ge((IS,DS)=>{(function(r,e){typeof IS=="object"&&typeof DS<"u"?DS.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self).RBush=e()})(IS,function(){"use strict";function r(p,g,b,m,_){(function w(O,E,S,P,I){for(;P>S;){if(P-S>600){var R=P-S+1,D=E-S+1,k=Math.log(R),N=.5*Math.exp(2*k/3),B=.5*Math.sqrt(k*N*(R-N)/R)*(D-R/2<0?-1:1),z=Math.max(S,Math.floor(E-D*N/R+B)),F=Math.min(P,Math.floor(E+(R-D)*N/R+B));w(O,E,z,F,I)}var U=O[E],W=S,Y=P;for(e(O,S,E),I(O[P],U)>0&&e(O,S,P);W<Y;){for(e(O,W,Y),W++,Y--;I(O[W],U)<0;)W++;for(;I(O[Y],U)>0;)Y--}I(O[S],U)===0?e(O,S,Y):e(O,++Y,P),Y<=E&&(S=Y+1),E<=Y&&(P=Y-1)}})(p,g,b||0,m||p.length-1,_||t)}function e(p,g,b){var m=p[g];p[g]=p[b],p[b]=m}function t(p,g){return p<g?-1:p>g?1:0}var n=function(p){p===void 0&&(p=9),this._maxEntries=Math.max(4,p),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(p,g,b){if(!b)return g.indexOf(p);for(var m=0;m<g.length;m++)if(b(p,g[m]))return m;return-1}function o(p,g){a(p,0,p.children.length,g,p)}function a(p,g,b,m,_){_||(_=d(null)),_.minX=1/0,_.minY=1/0,_.maxX=-1/0,_.maxY=-1/0;for(var w=g;w<b;w++){var O=p.children[w];u(_,p.leaf?m(O):O)}return _}function u(p,g){return p.minX=Math.min(p.minX,g.minX),p.minY=Math.min(p.minY,g.minY),p.maxX=Math.max(p.maxX,g.maxX),p.maxY=Math.max(p.maxY,g.maxY),p}function s(p,g){return p.minX-g.minX}function l(p,g){return p.minY-g.minY}function c(p){return(p.maxX-p.minX)*(p.maxY-p.minY)}function f(p){return p.maxX-p.minX+(p.maxY-p.minY)}function h(p,g){return p.minX<=g.minX&&p.minY<=g.minY&&g.maxX<=p.maxX&&g.maxY<=p.maxY}function v(p,g){return g.minX<=p.maxX&&g.minY<=p.maxY&&g.maxX>=p.minX&&g.maxY>=p.minY}function d(p){return{children:p,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(p,g,b,m,_){for(var w=[g,b];w.length;)if(!((b=w.pop())-(g=w.pop())<=m)){var O=g+Math.ceil((b-g)/m/2)*m;r(p,O,g,b,_),w.push(g,O,O,b)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(p){var g=this.data,b=[];if(!v(p,g))return b;for(var m=this.toBBox,_=[];g;){for(var w=0;w<g.children.length;w++){var O=g.children[w],E=g.leaf?m(O):O;v(p,E)&&(g.leaf?b.push(O):h(p,E)?this._all(O,b):_.push(O))}g=_.pop()}return b},n.prototype.collides=function(p){var g=this.data;if(!v(p,g))return!1;for(var b=[];g;){for(var m=0;m<g.children.length;m++){var _=g.children[m],w=g.leaf?this.toBBox(_):_;if(v(p,w)){if(g.leaf||h(p,w))return!0;b.push(_)}}g=b.pop()}return!1},n.prototype.load=function(p){if(!p||!p.length)return this;if(p.length<this._minEntries){for(var g=0;g<p.length;g++)this.insert(p[g]);return this}var b=this._build(p.slice(),0,p.length-1,0);if(this.data.children.length)if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){var m=this.data;this.data=b,b=m}this._insert(b,this.data.height-b.height-1,!0)}else this.data=b;return this},n.prototype.insert=function(p){return p&&this._insert(p,this.data.height-1),this},n.prototype.clear=function(){return this.data=d([]),this},n.prototype.remove=function(p,g){if(!p)return this;for(var b,m,_,w=this.data,O=this.toBBox(p),E=[],S=[];w||E.length;){if(w||(w=E.pop(),m=E[E.length-1],b=S.pop(),_=!0),w.leaf){var P=i(p,w.children,g);if(P!==-1)return w.children.splice(P,1),E.push(w),this._condense(E),this}_||w.leaf||!h(w,O)?m?(b++,w=m.children[b],_=!1):w=null:(E.push(w),S.push(b),b=0,m=w,w=w.children[0])}return this},n.prototype.toBBox=function(p){return p},n.prototype.compareMinX=function(p,g){return p.minX-g.minX},n.prototype.compareMinY=function(p,g){return p.minY-g.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(p){return this.data=p,this},n.prototype._all=function(p,g){for(var b=[];p;)p.leaf?g.push.apply(g,p.children):b.push.apply(b,p.children),p=b.pop();return g},n.prototype._build=function(p,g,b,m){var _,w=b-g+1,O=this._maxEntries;if(w<=O)return o(_=d(p.slice(g,b+1)),this.toBBox),_;m||(m=Math.ceil(Math.log(w)/Math.log(O)),O=Math.ceil(w/Math.pow(O,m-1))),(_=d([])).leaf=!1,_.height=m;var E=Math.ceil(w/O),S=E*Math.ceil(Math.sqrt(O));y(p,g,b,S,this.compareMinX);for(var P=g;P<=b;P+=S){var I=Math.min(P+S-1,b);y(p,P,I,E,this.compareMinY);for(var R=P;R<=I;R+=E){var D=Math.min(R+E-1,I);_.children.push(this._build(p,R,D,m-1))}}return o(_,this.toBBox),_},n.prototype._chooseSubtree=function(p,g,b,m){for(;m.push(g),!g.leaf&&m.length-1!==b;){for(var _=1/0,w=1/0,O=void 0,E=0;E<g.children.length;E++){var S=g.children[E],P=c(S),I=(R=p,D=S,(Math.max(D.maxX,R.maxX)-Math.min(D.minX,R.minX))*(Math.max(D.maxY,R.maxY)-Math.min(D.minY,R.minY))-P);I<w?(w=I,_=P<_?P:_,O=S):I===w&&P<_&&(_=P,O=S)}g=O||g.children[0]}var R,D;return g},n.prototype._insert=function(p,g,b){var m=b?p:this.toBBox(p),_=[],w=this._chooseSubtree(m,this.data,g,_);for(w.children.push(p),u(w,m);g>=0&&_[g].children.length>this._maxEntries;)this._split(_,g),g--;this._adjustParentBBoxes(m,_,g)},n.prototype._split=function(p,g){var b=p[g],m=b.children.length,_=this._minEntries;this._chooseSplitAxis(b,_,m);var w=this._chooseSplitIndex(b,_,m),O=d(b.children.splice(w,b.children.length-w));O.height=b.height,O.leaf=b.leaf,o(b,this.toBBox),o(O,this.toBBox),g?p[g-1].children.push(O):this._splitRoot(b,O)},n.prototype._splitRoot=function(p,g){this.data=d([p,g]),this.data.height=p.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(p,g,b){for(var m,_,w,O,E,S,P,I=1/0,R=1/0,D=g;D<=b-g;D++){var k=a(p,0,D,this.toBBox),N=a(p,D,b,this.toBBox),B=(_=k,w=N,O=void 0,E=void 0,S=void 0,P=void 0,O=Math.max(_.minX,w.minX),E=Math.max(_.minY,w.minY),S=Math.min(_.maxX,w.maxX),P=Math.min(_.maxY,w.maxY),Math.max(0,S-O)*Math.max(0,P-E)),z=c(k)+c(N);B<I?(I=B,m=D,R=z<R?z:R):B===I&&z<R&&(R=z,m=D)}return m||b-g},n.prototype._chooseSplitAxis=function(p,g,b){var m=p.leaf?this.compareMinX:s,_=p.leaf?this.compareMinY:l;this._allDistMargin(p,g,b,m)<this._allDistMargin(p,g,b,_)&&p.children.sort(m)},n.prototype._allDistMargin=function(p,g,b,m){p.children.sort(m);for(var _=this.toBBox,w=a(p,0,g,_),O=a(p,b-g,b,_),E=f(w)+f(O),S=g;S<b-g;S++){var P=p.children[S];u(w,p.leaf?_(P):P),E+=f(w)}for(var I=b-g-1;I>=g;I--){var R=p.children[I];u(O,p.leaf?_(R):R),E+=f(O)}return E},n.prototype._adjustParentBBoxes=function(p,g,b){for(var m=b;m>=0;m--)u(g[m],p)},n.prototype._condense=function(p){for(var g=p.length-1,b=void 0;g>=0;g--)p[g].children.length===0?g>0?(b=p[g-1].children).splice(b.indexOf(p[g]),1):this.clear():o(p[g],this.toBBox)},n})});var e6=ge((MS,kS)=>{(function(r,e){typeof MS=="object"&&typeof kS<"u"?kS.exports=e():typeof define=="function"&&define.amd?define(e):(r=r||self,r.TinyQueue=e())})(MS,function(){"use strict";var r=function(n,i){if(n===void 0&&(n=[]),i===void 0&&(i=e),this.data=n,this.length=this.data.length,this.compare=i,this.length>0)for(var o=(this.length>>1)-1;o>=0;o--)this._down(o)};r.prototype.push=function(n){this.data.push(n),this.length++,this._up(this.length-1)},r.prototype.pop=function(){if(this.length!==0){var n=this.data[0],i=this.data.pop();return this.length--,this.length>0&&(this.data[0]=i,this._down(0)),n}},r.prototype.peek=function(){return this.data[0]},r.prototype._up=function(n){for(var i=this,o=i.data,a=i.compare,u=o[n];n>0;){var s=n-1>>1,l=o[s];if(a(u,l)>=0)break;o[n]=l,n=s}o[n]=u},r.prototype._down=function(n){for(var i=this,o=i.data,a=i.compare,u=this.length>>1,s=o[n];n<u;){var l=(n<<1)+1,c=o[l],f=l+1;if(f<this.length&&a(o[f],c)<0&&(l=f,c=o[f]),a(c,s)>=0)break;o[n]=c,n=l}o[n]=s};function e(t,n){return t<n?-1:t>n?1:0}return r})});var r6=ge((yme,t6)=>{t6.exports=function(e,t,n,i){var o=e[0],a=e[1],u=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var s=(i-n)/2,l=0,c=s-1;l<s;c=l++){var f=t[n+l*2+0],h=t[n+l*2+1],v=t[n+c*2+0],d=t[n+c*2+1],y=h>a!=d>a&&o<(v-f)*(a-h)/(d-h)+f;y&&(u=!u)}return u}});var i6=ge((mme,n6)=>{n6.exports=function(e,t,n,i){var o=e[0],a=e[1],u=!1;n===void 0&&(n=0),i===void 0&&(i=t.length);for(var s=i-n,l=0,c=s-1;l<s;c=l++){var f=t[l+n][0],h=t[l+n][1],v=t[c+n][0],d=t[c+n][1],y=h>a!=d>a&&o<(v-f)*(a-h)/(d-h)+f;y&&(u=!u)}return u}});var s6=ge((bme,Wb)=>{var o6=r6(),a6=i6();Wb.exports=function(e,t,n,i){return t.length>0&&Array.isArray(t[0])?a6(e,t,n,i):o6(e,t,n,i)};Wb.exports.nested=a6;Wb.exports.flat=o6});var l6=ge((Hb,u6)=>{(function(r,e){typeof Hb=="object"&&typeof u6<"u"?e(Hb):typeof define=="function"&&define.amd?define(["exports"],e):e((r=r||self).predicates={})})(Hb,function(r){"use strict";let t=33306690738754706e-32;function n(v,d,y,p,g){let b,m,_,w,O=d[0],E=p[0],S=0,P=0;E>O==E>-O?(b=O,O=d[++S]):(b=E,E=p[++P]);let I=0;if(S<v&&P<y)for(E>O==E>-O?(_=b-((m=O+b)-O),O=d[++S]):(_=b-((m=E+b)-E),E=p[++P]),b=m,_!==0&&(g[I++]=_);S<v&&P<y;)E>O==E>-O?(_=b-((m=b+O)-(w=m-b))+(O-w),O=d[++S]):(_=b-((m=b+E)-(w=m-b))+(E-w),E=p[++P]),b=m,_!==0&&(g[I++]=_);for(;S<v;)_=b-((m=b+O)-(w=m-b))+(O-w),O=d[++S],b=m,_!==0&&(g[I++]=_);for(;P<y;)_=b-((m=b+E)-(w=m-b))+(E-w),E=p[++P],b=m,_!==0&&(g[I++]=_);return b===0&&I!==0||(g[I++]=b),I}function i(v){return new Float64Array(v)}let o=33306690738754716e-32,a=22204460492503146e-32,u=11093356479670487e-47,s=i(4),l=i(8),c=i(12),f=i(16),h=i(4);r.orient2d=function(v,d,y,p,g,b){let m=(d-b)*(y-g),_=(v-g)*(p-b),w=m-_;if(m===0||_===0||m>0!=_>0)return w;let O=Math.abs(m+_);return Math.abs(w)>=o*O?w:-function(E,S,P,I,R,D,k){let N,B,z,F,U,W,Y,X,Q,ue,ce,ae,pe,fe,he,ee,K,J,ie=E-R,de=P-R,_e=S-D,Ce=I-D;U=(he=(X=ie-(Y=(W=134217729*ie)-(W-ie)))*(ue=Ce-(Q=(W=134217729*Ce)-(W-Ce)))-((fe=ie*Ce)-Y*Q-X*Q-Y*ue))-(ce=he-(K=(X=_e-(Y=(W=134217729*_e)-(W-_e)))*(ue=de-(Q=(W=134217729*de)-(W-de)))-((ee=_e*de)-Y*Q-X*Q-Y*ue))),s[0]=he-(ce+U)+(U-K),U=(pe=fe-((ae=fe+ce)-(U=ae-fe))+(ce-U))-(ce=pe-ee),s[1]=pe-(ce+U)+(U-ee),U=(J=ae+ce)-ae,s[2]=ae-(J-U)+(ce-U),s[3]=J;let Ae=function(oe,ve){let ye=ve[0];for(let we=1;we<oe;we++)ye+=ve[we];return ye}(4,s),xe=a*k;if(Ae>=xe||-Ae>=xe||(N=E-(ie+(U=E-ie))+(U-R),z=P-(de+(U=P-de))+(U-R),B=S-(_e+(U=S-_e))+(U-D),F=I-(Ce+(U=I-Ce))+(U-D),N===0&&B===0&&z===0&&F===0)||(xe=u*k+t*Math.abs(Ae),(Ae+=ie*F+Ce*N-(_e*z+de*B))>=xe||-Ae>=xe))return Ae;U=(he=(X=N-(Y=(W=134217729*N)-(W-N)))*(ue=Ce-(Q=(W=134217729*Ce)-(W-Ce)))-((fe=N*Ce)-Y*Q-X*Q-Y*ue))-(ce=he-(K=(X=B-(Y=(W=134217729*B)-(W-B)))*(ue=de-(Q=(W=134217729*de)-(W-de)))-((ee=B*de)-Y*Q-X*Q-Y*ue))),h[0]=he-(ce+U)+(U-K),U=(pe=fe-((ae=fe+ce)-(U=ae-fe))+(ce-U))-(ce=pe-ee),h[1]=pe-(ce+U)+(U-ee),U=(J=ae+ce)-ae,h[2]=ae-(J-U)+(ce-U),h[3]=J;let j=n(4,s,4,h,l);U=(he=(X=ie-(Y=(W=134217729*ie)-(W-ie)))*(ue=F-(Q=(W=134217729*F)-(W-F)))-((fe=ie*F)-Y*Q-X*Q-Y*ue))-(ce=he-(K=(X=_e-(Y=(W=134217729*_e)-(W-_e)))*(ue=z-(Q=(W=134217729*z)-(W-z)))-((ee=_e*z)-Y*Q-X*Q-Y*ue))),h[0]=he-(ce+U)+(U-K),U=(pe=fe-((ae=fe+ce)-(U=ae-fe))+(ce-U))-(ce=pe-ee),h[1]=pe-(ce+U)+(U-ee),U=(J=ae+ce)-ae,h[2]=ae-(J-U)+(ce-U),h[3]=J;let G=n(j,l,4,h,c);U=(he=(X=N-(Y=(W=134217729*N)-(W-N)))*(ue=F-(Q=(W=134217729*F)-(W-F)))-((fe=N*F)-Y*Q-X*Q-Y*ue))-(ce=he-(K=(X=B-(Y=(W=134217729*B)-(W-B)))*(ue=z-(Q=(W=134217729*z)-(W-z)))-((ee=B*z)-Y*Q-X*Q-Y*ue))),h[0]=he-(ce+U)+(U-K),U=(pe=fe-((ae=fe+ce)-(U=ae-fe))+(ce-U))-(ce=pe-ee),h[1]=pe-(ce+U)+(U-ee),U=(J=ae+ce)-ae,h[2]=ae-(J-U)+(ce-U),h[3]=J;let H=n(G,c,4,h,f);return f[H-1]}(v,d,y,p,g,b,O)},r.orient2dfast=function(v,d,y,p,g,b){return(d-b)*(y-g)-(v-g)*(p-b)},Object.defineProperty(r,"__esModule",{value:!0})})});var p6=ge((_me,BS)=>{"use strict";var c6=JU(),Xb=e6(),jhe=s6(),Bhe=l6().orient2d;Xb.default&&(Xb=Xb.default);BS.exports=v6;BS.exports.default=v6;function v6(r,e,t){e=Math.max(0,e===void 0?2:e),t=t||0;var n=Ghe(r),i=new c6(16);i.toBBox=function(b){return{minX:b[0],minY:b[1],maxX:b[0],maxY:b[1]}},i.compareMinX=function(b,m){return b[0]-m[0]},i.compareMinY=function(b,m){return b[1]-m[1]},i.load(r);for(var o=[],a=0,u;a<n.length;a++){var s=n[a];i.remove(s),u=d6(s,u),o.push(u)}var l=new c6(16);for(a=0;a<o.length;a++)l.insert(NS(o[a]));for(var c=e*e,f=t*t;o.length;){var h=o.shift(),v=h.p,d=h.next.p,y=LS(v,d);if(!(y<f)){var p=y/c;s=Fhe(i,h.prev.p,v,d,h.next.next.p,p,l),s&&Math.min(LS(s,v),LS(s,d))<=p&&(o.push(h),o.push(d6(s,h)),i.remove(s),l.remove(h),l.insert(NS(h)),l.insert(NS(h.next)))}}h=u;var g=[];do g.push(h.p),h=h.next;while(h!==u);return g.push(h.p),g}function Fhe(r,e,t,n,i,o,a){for(var u=new Xb([],Uhe),s=r.data;s;){for(var l=0;l<s.children.length;l++){var c=s.children[l],f=s.leaf?jS(c,t,n):zhe(t,n,c);f>o||u.push({node:c,dist:f})}for(;u.length&&!u.peek().node.children;){var h=u.pop(),v=h.node,d=jS(v,e,t),y=jS(v,n,i);if(h.dist<d&&h.dist<y&&h6(t,v,a)&&h6(n,v,a))return v}s=u.pop(),s&&(s=s.node)}return null}function Uhe(r,e){return r.dist-e.dist}function zhe(r,e,t){if(f6(r,t)||f6(e,t))return 0;var n=Yb(r[0],r[1],e[0],e[1],t.minX,t.minY,t.maxX,t.minY);if(n===0)return 0;var i=Yb(r[0],r[1],e[0],e[1],t.minX,t.minY,t.minX,t.maxY);if(i===0)return 0;var o=Yb(r[0],r[1],e[0],e[1],t.maxX,t.minY,t.maxX,t.maxY);if(o===0)return 0;var a=Yb(r[0],r[1],e[0],e[1],t.minX,t.maxY,t.maxX,t.maxY);return a===0?0:Math.min(n,i,o,a)}function f6(r,e){return r[0]>=e.minX&&r[0]<=e.maxX&&r[1]>=e.minY&&r[1]<=e.maxY}function h6(r,e,t){for(var n=Math.min(r[0],e[0]),i=Math.min(r[1],e[1]),o=Math.max(r[0],e[0]),a=Math.max(r[1],e[1]),u=t.search({minX:n,minY:i,maxX:o,maxY:a}),s=0;s<u.length;s++)if(qhe(u[s].p,u[s].next.p,r,e))return!1;return!0}function gd(r,e,t){return Bhe(r[0],r[1],e[0],e[1],t[0],t[1])}function qhe(r,e,t,n){return r!==n&&e!==t&&gd(r,e,t)>0!=gd(r,e,n)>0&&gd(t,n,r)>0!=gd(t,n,e)>0}function NS(r){var e=r.p,t=r.next.p;return r.minX=Math.min(e[0],t[0]),r.minY=Math.min(e[1],t[1]),r.maxX=Math.max(e[0],t[0]),r.maxY=Math.max(e[1],t[1]),r}function Ghe(r){for(var e=r[0],t=r[0],n=r[0],i=r[0],o=0;o<r.length;o++){var a=r[o];a[0]<e[0]&&(e=a),a[0]>n[0]&&(n=a),a[1]<t[1]&&(t=a),a[1]>i[1]&&(i=a)}var u=[e,t,n,i],s=u.slice();for(o=0;o<r.length;o++)jhe(r[o],u)||s.push(r[o]);return Whe(s)}function d6(r,e){var t={p:r,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(t.next=e.next,t.prev=e,e.next.prev=t,e.next=t):(t.prev=t,t.next=t),t}function LS(r,e){var t=r[0]-e[0],n=r[1]-e[1];return t*t+n*n}function jS(r,e,t){var n=e[0],i=e[1],o=t[0]-n,a=t[1]-i;if(o!==0||a!==0){var u=((r[0]-n)*o+(r[1]-i)*a)/(o*o+a*a);u>1?(n=t[0],i=t[1]):u>0&&(n+=o*u,i+=a*u)}return o=r[0]-n,a=r[1]-i,o*o+a*a}function Yb(r,e,t,n,i,o,a,u){var s=t-r,l=n-e,c=a-i,f=u-o,h=r-i,v=e-o,d=s*s+l*l,y=s*c+l*f,p=c*c+f*f,g=s*h+l*v,b=c*h+f*v,m=d*p-y*y,_,w,O,E,S=m,P=m;m===0?(w=0,S=1,E=b,P=p):(w=y*b-p*g,E=d*b-y*g,w<0?(w=0,E=b,P=p):w>S&&(w=S,E=b+y,P=p)),E<0?(E=0,-g<0?w=0:-g>d?w=S:(w=-g,S=d)):E>P&&(E=P,-g+y<0?w=0:-g+y>d?w=S:(w=-g+y,S=d)),_=w===0?0:w/S,O=E===0?0:E/P;var I=(1-_)*r+_*t,R=(1-_)*e+_*n,D=(1-O)*i+O*a,k=(1-O)*o+O*u,N=D-I,B=k-R;return N*N+B*B}function Vhe(r,e){return r[0]===e[0]?r[1]-e[1]:r[0]-e[0]}function Whe(r){r.sort(Vhe);for(var e=[],t=0;t<r.length;t++){for(;e.length>=2&&gd(e[e.length-2],e[e.length-1],r[t])<=0;)e.pop();e.push(r[t])}for(var n=[],i=r.length-1;i>=0;i--){for(;n.length>=2&&gd(n[n.length-2],n[n.length-1],r[i])<=0;)n.pop();n.push(r[i])}return n.pop(),e.pop(),e.concat(n)}});var Gx={};kq(Gx,{coseBilkentLayoutFallbackWorker:()=>NA,createCoseBilkentLayoutWorker:()=>LA,createHierarchicalLayoutWorker:()=>P3,hierarchicalLayoutFallbackWorker:()=>C3});function kw(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Lq(r){if(Array.isArray(r))return r}function jq(r){if(Array.isArray(r))return kw(r)}function fl(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Bq(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,q2(n.key),n)}}function hl(r,e,t){return e&&Bq(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function Io(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=eE(r))||e){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function z2(r,e,t){return(e=q2(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Fq(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function Uq(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,o,a,u=[],s=!0,l=!1;try{if(o=(t=t.call(r)).next,e===0){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(u.push(n.value),u.length!==e);s=!0);}catch(c){l=!0,i=c}finally{try{if(!s&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}function zq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gn(r,e){return Lq(r)||Uq(r,e)||eE(r,e)||zq()}function km(r){return jq(r)||Fq(r)||eE(r)||qq()}function Gq(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function q2(r){var e=Gq(r,"string");return typeof e=="symbol"?e:e+""}function ri(r){"@babel/helpers - typeof";return ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(r)}function eE(r,e){if(r){if(typeof r=="string")return kw(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?kw(r,e):void 0}}var ei=typeof window>"u"?null:window,dT=ei?ei.navigator:null;ei&&ei.document;var Vq=ri(""),G2=ri({}),Wq=ri(function(){}),Hq=typeof HTMLElement>"u"?"undefined":ri(HTMLElement),Jv=function(e){return e&&e.instanceString&&xn(e.instanceString)?e.instanceString():null},St=function(e){return e!=null&&ri(e)==Vq},xn=function(e){return e!=null&&ri(e)===Wq},Zr=function(e){return!Jo(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Dr=function(e){return e!=null&&ri(e)===G2&&!Zr(e)&&e.constructor===Object},Yq=function(e){return e!=null&&ri(e)===G2},at=function(e){return e!=null&&ri(e)===ri(1)&&!isNaN(e)},Xq=function(e){return at(e)&&Math.floor(e)===e},Nm=function(e){if(Hq!=="undefined")return e!=null&&e instanceof HTMLElement},Jo=function(e){return ep(e)||V2(e)},ep=function(e){return Jv(e)==="collection"&&e._private.single},V2=function(e){return Jv(e)==="collection"&&!e._private.single},tE=function(e){return Jv(e)==="core"},W2=function(e){return Jv(e)==="stylesheet"},Kq=function(e){return Jv(e)==="event"},ol=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},$q=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Zq=function(e){return Dr(e)&&at(e.x1)&&at(e.x2)&&at(e.y1)&&at(e.y2)},Qq=function(e){return Yq(e)&&xn(e.then)},Jq=function(){return dT&&dT.userAgent.match(/msie|trident|edge/i)},Eh=function(e,t){t||(t=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);return o.join("$")});var n=function(){var o=this,a=arguments,u,s=t.apply(o,a),l=n.cache;return(u=l[s])||(u=l[s]=e.apply(o,a)),u};return n.cache={},n},rE=Eh(function(r){return r.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),Xm=Eh(function(r){return r.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),H2=Eh(function(r,e){return r+e[0].toUpperCase()+e.substring(1)},function(r,e){return r+"$"+e}),vT=function(e){return ol(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},el=function(e,t){return e.slice(-1*t.length)===t},ti="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",e9="rgb[a]?\\(("+ti+"[%]?)\\s*,\\s*("+ti+"[%]?)\\s*,\\s*("+ti+"[%]?)(?:\\s*,\\s*("+ti+"))?\\)",t9="rgb[a]?\\((?:"+ti+"[%]?)\\s*,\\s*(?:"+ti+"[%]?)\\s*,\\s*(?:"+ti+"[%]?)(?:\\s*,\\s*(?:"+ti+"))?\\)",r9="hsl[a]?\\(("+ti+")\\s*,\\s*("+ti+"[%])\\s*,\\s*("+ti+"[%])(?:\\s*,\\s*("+ti+"))?\\)",n9="hsl[a]?\\((?:"+ti+")\\s*,\\s*(?:"+ti+"[%])\\s*,\\s*(?:"+ti+"[%])(?:\\s*,\\s*(?:"+ti+"))?\\)",i9="\\#[0-9a-fA-F]{3}",o9="\\#[0-9a-fA-F]{6}",Y2=function(e,t){return e<t?-1:e>t?1:0},a9=function(e,t){return-1*Y2(e,t)},Nt=Object.assign!=null?Object.assign.bind(Object):function(r){for(var e=arguments,t=1;t<e.length;t++){var n=e[t];if(n!=null)for(var i=Object.keys(n),o=0;o<i.length;o++){var a=i[o];r[a]=n[a]}}return r},s9=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var t=e.length===4,n,i,o,a=16;return t?(n=parseInt(e[1]+e[1],a),i=parseInt(e[2]+e[2],a),o=parseInt(e[3]+e[3],a)):(n=parseInt(e[1]+e[2],a),i=parseInt(e[3]+e[4],a),o=parseInt(e[5]+e[6],a)),[n,i,o]}},u9=function(e){var t,n,i,o,a,u,s,l;function c(d,y,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?d+(y-d)*6*p:p<1/2?y:p<2/3?d+(y-d)*(2/3-p)*6:d}var f=new RegExp("^"+r9+"$").exec(e);if(f){if(n=parseInt(f[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,i=parseFloat(f[2]),i<0||i>100||(i=i/100,o=parseFloat(f[3]),o<0||o>100)||(o=o/100,a=f[4],a!==void 0&&(a=parseFloat(a),a<0||a>1)))return;if(i===0)u=s=l=Math.round(o*255);else{var h=o<.5?o*(1+i):o+i-o*i,v=2*o-h;u=Math.round(255*c(v,h,n+1/3)),s=Math.round(255*c(v,h,n)),l=Math.round(255*c(v,h,n-1/3))}t=[u,s,l,a]}return t},l9=function(e){var t,n=new RegExp("^"+e9+"$").exec(e);if(n){t=[];for(var i=[],o=1;o<=3;o++){var a=n[o];if(a[a.length-1]==="%"&&(i[o]=!0),a=parseFloat(a),i[o]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var u=i[1]||i[2]||i[3],s=i[1]&&i[2]&&i[3];if(u&&!s)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;t.push(l)}}return t},c9=function(e){return f9[e.toLowerCase()]},X2=function(e){return(Zr(e)?e:null)||c9(e)||s9(e)||l9(e)||u9(e)},f9={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},K2=function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(Dr(a))throw Error("Tried to set map with object key");o<n.length-1?(t[a]==null&&(t[a]={}),t=t[a]):t[a]=e.value}},$2=function(e){for(var t=e.map,n=e.keys,i=n.length,o=0;o<i;o++){var a=n[o];if(Dr(a))throw Error("Tried to get map with object key");if(t=t[a],t==null)return t}return t},cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tp(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var i1,pT;function rp(){if(pT)return i1;pT=1;function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}return i1=r,i1}var o1,gT;function h9(){if(gT)return o1;gT=1;var r=typeof cm=="object"&&cm&&cm.Object===Object&&cm;return o1=r,o1}var a1,yT;function Km(){if(yT)return a1;yT=1;var r=h9(),e=typeof self=="object"&&self&&self.Object===Object&&self,t=r||e||Function("return this")();return a1=t,a1}var s1,mT;function d9(){if(mT)return s1;mT=1;var r=Km(),e=function(){return r.Date.now()};return s1=e,s1}var u1,bT;function v9(){if(bT)return u1;bT=1;var r=/\s/;function e(t){for(var n=t.length;n--&&r.test(t.charAt(n)););return n}return u1=e,u1}var l1,_T;function p9(){if(_T)return l1;_T=1;var r=v9(),e=/^\s+/;function t(n){return n&&n.slice(0,r(n)+1).replace(e,"")}return l1=t,l1}var c1,wT;function nE(){if(wT)return c1;wT=1;var r=Km(),e=r.Symbol;return c1=e,c1}var f1,ET;function g9(){if(ET)return f1;ET=1;var r=nE(),e=Object.prototype,t=e.hasOwnProperty,n=e.toString,i=r?r.toStringTag:void 0;function o(a){var u=t.call(a,i),s=a[i];try{a[i]=void 0;var l=!0}catch{}var c=n.call(a);return l&&(u?a[i]=s:delete a[i]),c}return f1=o,f1}var h1,xT;function y9(){if(xT)return h1;xT=1;var r=Object.prototype,e=r.toString;function t(n){return e.call(n)}return h1=t,h1}var d1,OT;function Z2(){if(OT)return d1;OT=1;var r=nE(),e=g9(),t=y9(),n="[object Null]",i="[object Undefined]",o=r?r.toStringTag:void 0;function a(u){return u==null?u===void 0?i:n:o&&o in Object(u)?e(u):t(u)}return d1=a,d1}var v1,ST;function m9(){if(ST)return v1;ST=1;function r(e){return e!=null&&typeof e=="object"}return v1=r,v1}var p1,TT;function np(){if(TT)return p1;TT=1;var r=Z2(),e=m9(),t="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&r(i)==t}return p1=n,p1}var g1,CT;function b9(){if(CT)return g1;CT=1;var r=p9(),e=rp(),t=np(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,u=parseInt;function s(l){if(typeof l=="number")return l;if(t(l))return n;if(e(l)){var c=typeof l.valueOf=="function"?l.valueOf():l;l=e(c)?c+"":c}if(typeof l!="string")return l===0?l:+l;l=r(l);var f=o.test(l);return f||a.test(l)?u(l.slice(2),f?2:8):i.test(l)?n:+l}return g1=s,g1}var y1,PT;function _9(){if(PT)return y1;PT=1;var r=rp(),e=d9(),t=b9(),n="Expected a function",i=Math.max,o=Math.min;function a(u,s,l){var c,f,h,v,d,y,p=0,g=!1,b=!1,m=!0;if(typeof u!="function")throw new TypeError(n);s=t(s)||0,r(l)&&(g=!!l.leading,b="maxWait"in l,h=b?i(t(l.maxWait)||0,s):h,m="trailing"in l?!!l.trailing:m);function _(k){var N=c,B=f;return c=f=void 0,p=k,v=u.apply(B,N),v}function w(k){return p=k,d=setTimeout(S,s),g?_(k):v}function O(k){var N=k-y,B=k-p,z=s-N;return b?o(z,h-B):z}function E(k){var N=k-y,B=k-p;return y===void 0||N>=s||N<0||b&&B>=h}function S(){var k=e();if(E(k))return P(k);d=setTimeout(S,O(k))}function P(k){return d=void 0,m&&c?_(k):(c=f=void 0,v)}function I(){d!==void 0&&clearTimeout(d),p=0,c=y=f=d=void 0}function R(){return d===void 0?v:P(e())}function D(){var k=e(),N=E(k);if(c=arguments,f=this,y=k,N){if(d===void 0)return w(y);if(b)return clearTimeout(d),d=setTimeout(S,s),_(y)}return d===void 0&&(d=setTimeout(S,s)),v}return D.cancel=I,D.flush=R,D}return y1=a,y1}var w9=_9(),ip=tp(w9),m1=ei?ei.performance:null,Q2=m1&&m1.now?function(){return m1.now()}:function(){return Date.now()},E9=function(){if(ei){if(ei.requestAnimationFrame)return function(r){ei.requestAnimationFrame(r)};if(ei.mozRequestAnimationFrame)return function(r){ei.mozRequestAnimationFrame(r)};if(ei.webkitRequestAnimationFrame)return function(r){ei.webkitRequestAnimationFrame(r)};if(ei.msRequestAnimationFrame)return function(r){ei.msRequestAnimationFrame(r)}}return function(r){r&&setTimeout(function(){r(Q2())},1e3/60)}}(),Lm=function(e){return E9(e)},lu=Q2,Cc=9261,J2=65599,vh=5381,eP=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cc,n=t,i;i=e.next(),!i.done;)n=n*J2+i.value|0;return n},Gv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Cc;return t*J2+e|0},Vv=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vh;return(t<<5)+t+e|0},x9=function(e,t){return e*2097152+t},Zu=function(e){return e[0]*2097152+e[1]},fm=function(e,t){return[Gv(e[0],t[0]),Vv(e[1],t[1])]},AT=function(e,t){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e[i++]:n.done=!0,n}};return eP(a,t)},Rc=function(e,t){var n={value:0,done:!1},i=0,o=e.length,a={next:function(){return i<o?n.value=e.charCodeAt(i++):n.done=!0,n}};return eP(a,t)},tP=function(){return O9(arguments)},O9=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];n===0?t=Rc(i):t=Rc(i,t)}return t};function S9(r,e,t,n,i){var o=i*Math.PI/180,a=Math.cos(o)*(r-t)-Math.sin(o)*(e-n)+t,u=Math.sin(o)*(r-t)+Math.cos(o)*(e-n)+n;return{x:a,y:u}}var T9=function(e,t,n,i,o,a){return{x:(e-n)*o+n,y:(t-i)*a+i}};function C9(r,e,t){if(t===0)return r;var n=(e.x1+e.x2)/2,i=(e.y1+e.y2)/2,o=e.w/e.h,a=1/o,u=S9(r.x,r.y,n,i,t),s=T9(u.x,u.y,n,i,o,a);return{x:s.x,y:s.y}}var RT=!0,P9=console.warn!=null,A9=console.trace!=null,iE=Number.MAX_SAFE_INTEGER||9007199254740991,rP=function(){return!0},jm=function(){return!1},IT=function(){return 0},oE=function(){},mn=function(e){throw new Error(e)},nP=function(e){if(e!==void 0)RT=!!e;else return RT},Gr=function(e){nP()&&(P9?console.warn(e):(console.log(e),A9&&console.trace()))},R9=function(e){return Nt({},e)},Ts=function(e){return e==null?e:Zr(e)?e.slice():Dr(e)?R9(e):e},I9=function(e){return e.slice()},iP=function(e,t){for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t},D9={},oP=function(){return D9},Ci=function(e){var t=Object.keys(e);return function(n){for(var i={},o=0;o<t.length;o++){var a=t[o],u=n?.[a];i[a]=u===void 0?e[a]:u}return i}},al=function(e,t,n){for(var i=e.length-1;i>=0;i--)e[i]===t&&e.splice(i,1)},aE=function(e){e.splice(0,e.length)},M9=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}},Ao=function(e,t,n){return n&&(t=H2(n,t)),e[t]},su=function(e,t,n,i){n&&(t=H2(n,t)),e[t]=i},k9=function(){function r(){fl(this,r),this._obj={}}return hl(r,[{key:"set",value:function(t,n){return this._obj[t]=n,this}},{key:"delete",value:function(t){return this._obj[t]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(t){return this._obj[t]!==void 0}},{key:"get",value:function(t){return this._obj[t]}}])}(),uu=typeof Map<"u"?Map:k9,N9="undefined",L9=function(){function r(e){if(fl(this,r),this._obj=Object.create(null),this.size=0,e!=null){var t;e.instanceString!=null&&e.instanceString()===this.instanceString()?t=e.toArray():t=e;for(var n=0;n<t.length;n++)this.add(t[n])}}return hl(r,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(t){var n=this._obj;n[t]!==1&&(n[t]=1,this.size++)}},{key:"delete",value:function(t){var n=this._obj;n[t]===1&&(n[t]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(t){return this._obj[t]===1}},{key:"toArray",value:function(){var t=this;return Object.keys(this._obj).filter(function(n){return t.has(n)})}},{key:"forEach",value:function(t,n){return this.toArray().forEach(t,n)}}])}(),Sh=(typeof Set>"u"?"undefined":ri(Set))!==N9?Set:L9,$m=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||t===void 0||!tE(e)){mn("An element must have a core reference and parameters set");return}var i=t.group;if(i==null&&(t.data&&t.data.source!=null&&t.data.target!=null?i="edges":i="nodes"),i!=="nodes"&&i!=="edges"){mn("An element must be of type `nodes` or `edges`; you specified `"+i+"`");return}this.length=1,this[0]=this;var o=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:t.selectable===void 0?!0:!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:t.grabbable===void 0?!0:!!t.grabbable,pannable:t.pannable===void 0?i==="edges":!!t.pannable,active:!1,classes:new Sh,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(o.position.x==null&&(o.position.x=0),o.position.y==null&&(o.position.y=0),t.renderedPosition){var a=t.renderedPosition,u=e.pan(),s=e.zoom();o.position={x:(a.x-u.x)/s,y:(a.y-u.y)/s}}var l=[];Zr(t.classes)?l=t.classes:St(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,f=l.length;c<f;c++){var h=l[c];!h||h===""||o.classes.add(h)}this.createEmitter(),(n===void 0||n)&&this.restore();var v=t.style||t.css;v&&(Gr("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(v))},DT=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,i,o){var a;Dr(n)&&!Jo(n)&&(a=n,n=a.roots||a.root,i=a.visit,o=a.directed),o=arguments.length===2&&!xn(i)?i:o,i=xn(i)?i:function(){};for(var u=this._private.cy,s=n=St(n)?this.filter(n):n,l=[],c=[],f={},h={},v={},d=0,y,p=this.byGroup(),g=p.nodes,b=p.edges,m=0;m<s.length;m++){var _=s[m],w=_.id();_.isNode()&&(l.unshift(_),e.bfs&&(v[w]=!0,c.push(_)),h[w]=0)}for(var O=function(){var k=e.bfs?l.shift():l.pop(),N=k.id();if(e.dfs){if(v[N])return 0;v[N]=!0,c.push(k)}var B=h[N],z=f[N],F=z!=null?z.source():null,U=z!=null?z.target():null,W=z==null?void 0:k.same(F)?U[0]:F[0],Y;if(Y=i(k,z,W,d++,B),Y===!0)return y=k,1;if(Y===!1)return 1;for(var X=k.connectedEdges().filter(function(pe){return(!o||pe.source().same(k))&&b.has(pe)}),Q=0;Q<X.length;Q++){var ue=X[Q],ce=ue.connectedNodes().filter(function(pe){return!pe.same(k)&&g.has(pe)}),ae=ce.id();ce.length!==0&&!v[ae]&&(ce=ce[0],l.push(ce),e.bfs&&(v[ae]=!0,c.push(ce)),f[ae]=ue,h[ae]=h[N]+1)}},E;l.length!==0&&(E=O(),!(E!==0&&E===1)););for(var S=u.collection(),P=0;P<c.length;P++){var I=c[P],R=f[I.id()];R!=null&&S.push(R),S.push(I)}return{path:u.collection(S),found:u.collection(y)}}},Wv={breadthFirstSearch:DT({bfs:!0}),depthFirstSearch:DT({dfs:!0})};Wv.bfs=Wv.breadthFirstSearch;Wv.dfs=Wv.depthFirstSearch;var xm={exports:{}},j9=xm.exports,MT;function B9(){return MT||(MT=1,function(r,e){(function(){var t,n,i,o,a,u,s,l,c,f,h,v,d,y,p;i=Math.floor,f=Math.min,n=function(g,b){return g<b?-1:g>b?1:0},c=function(g,b,m,_,w){var O;if(m==null&&(m=0),w==null&&(w=n),m<0)throw new Error("lo must be non-negative");for(_==null&&(_=g.length);m<_;)O=i((m+_)/2),w(b,g[O])<0?_=O:m=O+1;return[].splice.apply(g,[m,m-m].concat(b)),b},u=function(g,b,m){return m==null&&(m=n),g.push(b),y(g,0,g.length-1,m)},a=function(g,b){var m,_;return b==null&&(b=n),m=g.pop(),g.length?(_=g[0],g[0]=m,p(g,0,b)):_=m,_},l=function(g,b,m){var _;return m==null&&(m=n),_=g[0],g[0]=b,p(g,0,m),_},s=function(g,b,m){var _;return m==null&&(m=n),g.length&&m(g[0],b)<0&&(_=[g[0],b],b=_[0],g[0]=_[1],p(g,0,m)),b},o=function(g,b){var m,_,w,O,E,S;for(b==null&&(b=n),O=function(){S=[];for(var P=0,I=i(g.length/2);0<=I?P<I:P>I;0<=I?P++:P--)S.push(P);return S}.apply(this).reverse(),E=[],_=0,w=O.length;_<w;_++)m=O[_],E.push(p(g,m,b));return E},d=function(g,b,m){var _;if(m==null&&(m=n),_=g.indexOf(b),_!==-1)return y(g,0,_,m),p(g,_,m)},h=function(g,b,m){var _,w,O,E,S;if(m==null&&(m=n),w=g.slice(0,b),!w.length)return w;for(o(w,m),S=g.slice(b),O=0,E=S.length;O<E;O++)_=S[O],s(w,_,m);return w.sort(m).reverse()},v=function(g,b,m){var _,w,O,E,S,P,I,R,D;if(m==null&&(m=n),b*10<=g.length){if(O=g.slice(0,b).sort(m),!O.length)return O;for(w=O[O.length-1],I=g.slice(b),E=0,P=I.length;E<P;E++)_=I[E],m(_,w)<0&&(c(O,_,0,null,m),O.pop(),w=O[O.length-1]);return O}for(o(g,m),D=[],S=0,R=f(b,g.length);0<=R?S<R:S>R;0<=R?++S:--S)D.push(a(g,m));return D},y=function(g,b,m,_){var w,O,E;for(_==null&&(_=n),w=g[m];m>b;){if(E=m-1>>1,O=g[E],_(w,O)<0){g[m]=O,m=E;continue}break}return g[m]=w},p=function(g,b,m){var _,w,O,E,S;for(m==null&&(m=n),w=g.length,S=b,O=g[b],_=2*b+1;_<w;)E=_+1,E<w&&!(m(g[_],g[E])<0)&&(_=E),g[b]=g[_],b=_,_=2*b+1;return g[b]=O,y(g,S,b,m)},t=function(){g.push=u,g.pop=a,g.replace=l,g.pushpop=s,g.heapify=o,g.updateItem=d,g.nlargest=h,g.nsmallest=v;function g(b){this.cmp=b??n,this.nodes=[]}return g.prototype.push=function(b){return u(this.nodes,b,this.cmp)},g.prototype.pop=function(){return a(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(b){return this.nodes.indexOf(b)!==-1},g.prototype.replace=function(b){return l(this.nodes,b,this.cmp)},g.prototype.pushpop=function(b){return s(this.nodes,b,this.cmp)},g.prototype.heapify=function(){return o(this.nodes,this.cmp)},g.prototype.updateItem=function(b){return d(this.nodes,b,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var b;return b=new g,b.nodes=this.nodes.slice(0),b},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,b){return r.exports=b()}(this,function(){return t})}).call(j9)}(xm)),xm.exports}var b1,kT;function F9(){return kT||(kT=1,b1=B9()),b1}var U9=F9(),op=tp(U9),z9=Ci({root:null,weight:function(e){return 1},directed:!1}),q9={dijkstra:function(e){if(!Dr(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=z9(e),i=n.root,o=n.weight,a=n.directed,u=this,s=o,l=St(i)?this.filter(i)[0]:i[0],c={},f={},h={},v=this.byGroup(),d=v.nodes,y=v.edges;y.unmergeBy(function(B){return B.isLoop()});for(var p=function(z){return c[z.id()]},g=function(z,F){c[z.id()]=F,b.updateItem(z)},b=new op(function(B,z){return p(B)-p(z)}),m=0;m<d.length;m++){var _=d[m];c[_.id()]=_.same(l)?0:1/0,b.push(_)}for(var w=function(z,F){for(var U=(a?z.edgesTo(F):z.edgesWith(F)).intersect(y),W=1/0,Y,X=0;X<U.length;X++){var Q=U[X],ue=s(Q);(ue<W||!Y)&&(W=ue,Y=Q)}return{edge:Y,dist:W}};b.size()>0;){var O=b.pop(),E=p(O),S=O.id();if(h[S]=E,E!==1/0)for(var P=O.neighborhood().intersect(d),I=0;I<P.length;I++){var R=P[I],D=R.id(),k=w(O,R),N=E+k.dist;N<p(R)&&(g(R,N),f[D]={node:O,edge:k.edge})}}return{distanceTo:function(z){var F=St(z)?d.filter(z)[0]:z[0];return h[F.id()]},pathTo:function(z){var F=St(z)?d.filter(z)[0]:z[0],U=[],W=F,Y=W.id();if(F.length>0)for(U.unshift(F);f[Y];){var X=f[Y];U.unshift(X.edge),U.unshift(X.node),W=X.node,Y=W.id()}return u.spawn(U)}}}},G9={kruskal:function(e){e=e||function(m){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,o=n.length,a=new Array(o),u=n,s=function(_){for(var w=0;w<a.length;w++){var O=a[w];if(O.has(_))return w}},l=0;l<o;l++)a[l]=this.spawn(n[l]);for(var c=i.sort(function(m,_){return e(m)-e(_)}),f=0;f<c.length;f++){var h=c[f],v=h.source()[0],d=h.target()[0],y=s(v),p=s(d),g=a[y],b=a[p];y!==p&&(u.merge(h),g.merge(b),a.splice(p,1))}return u}},V9=Ci({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),W9={aStar:function(e){var t=this.cy(),n=V9(e),i=n.root,o=n.goal,a=n.heuristic,u=n.directed,s=n.weight;i=t.collection(i)[0],o=t.collection(o)[0];var l=i.id(),c=o.id(),f={},h={},v={},d=new op(function(Y,X){return h[Y.id()]-h[X.id()]}),y=new Sh,p={},g={},b=function(X,Q){d.push(X),y.add(Q)},m,_,w=function(){m=d.pop(),_=m.id(),y.delete(_)},O=function(X){return y.has(X)};b(i,l),f[l]=0,h[l]=a(i);for(var E=0;d.size()>0;){if(w(),E++,_===c){for(var S=[],P=o,I=c,R=g[I];S.unshift(P),R!=null&&S.unshift(R),P=p[I],P!=null;)I=P.id(),R=g[I];return{found:!0,distance:f[_],path:this.spawn(S),steps:E}}v[_]=!0;for(var D=m._private.edges,k=0;k<D.length;k++){var N=D[k];if(this.hasElementWithId(N.id())&&!(u&&N.data("source")!==_)){var B=N.source(),z=N.target(),F=B.id()!==_?B:z,U=F.id();if(this.hasElementWithId(U)&&!v[U]){var W=f[_]+s(N);if(!O(U)){f[U]=W,h[U]=W+a(F),b(F,U),p[U]=m,g[U]=N;continue}W<f[U]&&(f[U]=W,h[U]=W+a(F),p[U]=m,g[U]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:E}}},H9=Ci({weight:function(e){return 1},directed:!1}),Y9={floydWarshall:function(e){for(var t=this.cy(),n=H9(e),i=n.weight,o=n.directed,a=i,u=this.byGroup(),s=u.nodes,l=u.edges,c=s.length,f=c*c,h=function(ue){return s.indexOf(ue)},v=function(ue){return s[ue]},d=new Array(f),y=0;y<f;y++){var p=y%c,g=(y-p)/c;g===p?d[y]=0:d[y]=1/0}for(var b=new Array(f),m=new Array(f),_=0;_<l.length;_++){var w=l[_],O=w.source()[0],E=w.target()[0];if(O!==E){var S=h(O),P=h(E),I=S*c+P,R=a(w);if(d[I]>R&&(d[I]=R,b[I]=P,m[I]=w),!o){var D=P*c+S;!o&&d[D]>R&&(d[D]=R,b[D]=S,m[D]=w)}}}for(var k=0;k<c;k++)for(var N=0;N<c;N++)for(var B=N*c+k,z=0;z<c;z++){var F=N*c+z,U=k*c+z;d[B]+d[U]<d[F]&&(d[F]=d[B]+d[U],b[F]=b[B])}var W=function(ue){return(St(ue)?t.filter(ue):ue)[0]},Y=function(ue){return h(W(ue))},X={distance:function(ue,ce){var ae=Y(ue),pe=Y(ce);return d[ae*c+pe]},path:function(ue,ce){var ae=Y(ue),pe=Y(ce),fe=v(ae);if(ae===pe)return fe.collection();if(b[ae*c+pe]==null)return t.collection();var he=t.collection(),ee=ae,K;for(he.merge(fe);ae!==pe;)ee=ae,ae=b[ae*c+pe],K=m[ee*c+ae],he.merge(K),he.merge(v(ae));return he}};return X}},X9=Ci({weight:function(e){return 1},directed:!1,root:null}),K9={bellmanFord:function(e){var t=this,n=X9(e),i=n.weight,o=n.directed,a=n.root,u=i,s=this,l=this.cy(),c=this.byGroup(),f=c.edges,h=c.nodes,v=h.length,d=new uu,y=!1,p=[];a=l.collection(a)[0],f.unmergeBy(function(xe){return xe.isLoop()});for(var g=f.length,b=function(j){var G=d.get(j.id());return G||(G={},d.set(j.id(),G)),G},m=function(j){return(St(j)?l.$(j):j)[0]},_=function(j){return b(m(j)).dist},w=function(j){for(var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a,H=m(j),oe=[],ve=H;;){if(ve==null)return t.spawn();var ye=b(ve),we=ye.edge,je=ye.pred;if(oe.unshift(ve[0]),ve.same(G)&&oe.length>0)break;we!=null&&oe.unshift(we),ve=je}return s.spawn(oe)},O=0;O<v;O++){var E=h[O],S=b(E);E.same(a)?S.dist=0:S.dist=1/0,S.pred=null,S.edge=null}for(var P=!1,I=function(j,G,H,oe,ve,ye){var we=oe.dist+ye;we<ve.dist&&!H.same(oe.edge)&&(ve.dist=we,ve.pred=j,ve.edge=H,P=!0)},R=1;R<v;R++){P=!1;for(var D=0;D<g;D++){var k=f[D],N=k.source(),B=k.target(),z=u(k),F=b(N),U=b(B);I(N,B,k,F,U,z),o||I(B,N,k,U,F,z)}if(!P)break}if(P)for(var W=[],Y=0;Y<g;Y++){var X=f[Y],Q=X.source(),ue=X.target(),ce=u(X),ae=b(Q).dist,pe=b(ue).dist;if(ae+ce<pe||!o&&pe+ce<ae)if(y||(Gr("Graph contains a negative weight cycle for Bellman-Ford"),y=!0),e.findNegativeWeightCycles!==!1){var fe=[];ae+ce<pe&&fe.push(Q),!o&&pe+ce<ae&&fe.push(ue);for(var he=fe.length,ee=0;ee<he;ee++){var K=fe[ee],J=[K];J.push(b(K).edge);for(var ie=b(K).pred;J.indexOf(ie)===-1;)J.push(ie),J.push(b(ie).edge),ie=b(ie).pred;J=J.slice(J.indexOf(ie));for(var de=J[0].id(),_e=0,Ce=2;Ce<J.length;Ce+=2)J[Ce].id()<de&&(de=J[Ce].id(),_e=Ce);J=J.slice(_e).concat(J.slice(0,_e)),J.push(J[0]);var Ae=J.map(function(xe){return xe.id()}).join(",");W.indexOf(Ae)===-1&&(p.push(s.spawn(J)),W.push(Ae))}}else break}return{distanceTo:_,pathTo:w,hasNegativeWeightCycle:y,negativeWeightCycles:p}}},$9=Math.sqrt(2),Z9=function(e,t,n){n.length===0&&mn("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],o=i[1],a=i[2],u=t[o],s=t[a],l=n,c=l.length-1;c>=0;c--){var f=l[c],h=f[1],v=f[2];(t[h]===u&&t[v]===s||t[h]===s&&t[v]===u)&&l.splice(c,1)}for(var d=0;d<l.length;d++){var y=l[d];y[1]===s?(l[d]=y.slice(),l[d][1]=u):y[2]===s&&(l[d]=y.slice(),l[d][2]=u)}for(var p=0;p<t.length;p++)t[p]===s&&(t[p]=u);return l},_1=function(e,t,n,i){for(;n>i;){var o=Math.floor(Math.random()*t.length);t=Z9(o,e,t),n--}return t},Q9={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy(function(U){return U.isLoop()});var o=n.length,a=i.length,u=Math.ceil(Math.pow(Math.log(o)/Math.LN2,2)),s=Math.floor(o/$9);if(o<2){mn("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],c=0;c<a;c++){var f=i[c];l.push([c,n.indexOf(f.source()),n.indexOf(f.target())])}for(var h=1/0,v=[],d=new Array(o),y=new Array(o),p=new Array(o),g=function(W,Y){for(var X=0;X<o;X++)Y[X]=W[X]},b=0;b<=u;b++){for(var m=0;m<o;m++)y[m]=m;var _=_1(y,l.slice(),o,s),w=_.slice();g(y,p);var O=_1(y,_,s,2),E=_1(p,w,s,2);O.length<=E.length&&O.length<h?(h=O.length,v=O,g(y,d)):E.length<=O.length&&E.length<h&&(h=E.length,v=E,g(p,d))}for(var S=this.spawn(v.map(function(U){return i[U[0]]})),P=this.spawn(),I=this.spawn(),R=d[0],D=0;D<d.length;D++){var k=d[D],N=n[D];k===R?P.merge(N):I.merge(N)}var B=function(W){var Y=e.spawn();return W.forEach(function(X){Y.merge(X),X.connectedEdges().forEach(function(Q){e.contains(Q)&&!S.contains(Q)&&Y.merge(Q)})}),Y},z=[B(P),B(I)],F={cut:S,components:z,partition1:P,partition2:I};return F}},w1,J9=function(e){return{x:e.x,y:e.y}},Zm=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},aP=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},ph=function(e){return{x:e[0],y:e[1]}},eG=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=1/0,o=t;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.min(a,i))}return i},tG=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=-1/0,o=t;o<n;o++){var a=e[o];isFinite(a)&&(i=Math.max(a,i))}return i},rG=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=0,o=0,a=t;a<n;a++){var u=e[a];isFinite(u)&&(i+=u,o++)}return i/o},nG=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var u=0,s=e.length-1;s>=0;s--){var l=e[s];a?isFinite(l)||(e[s]=-1/0,u++):e.splice(s,1)}o&&e.sort(function(h,v){return h-v});var c=e.length,f=Math.floor(c/2);return c%2!==0?e[f+1+u]:(e[f-1+u]+e[f+u])/2},iG=function(e){return Math.PI*e/180},hm=function(e,t){return Math.atan2(t,e)-Math.PI/2},sE=Math.log2||function(r){return Math.log(r)/Math.log(2)},uE=function(e){return e>0?1:e<0?-1:0},Ic=function(e,t){return Math.sqrt(Sc(e,t))},Sc=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},oG=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var o=0;o<t;o++)e[o]=e[o]/n;return e},di=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},mh=function(e,t,n,i){return{x:di(e.x,t.x,n.x,i),y:di(e.y,t.y,n.y,i)}},aG=function(e,t,n,i){var o={x:t.x-e.x,y:t.y-e.y},a=Ic(e,t),u={x:o.x/a,y:o.y/a};return n=n??0,i=i??n*a,{x:e.x+u.x*i,y:e.y+u.y*i}},Hv=function(e,t,n){return Math.max(e,Math.min(n,t))},eo=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},sG=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},uG=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},lG=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},sP=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Om=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Sm=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,i,o,a;if(t.length===1)n=i=o=a=t[0];else if(t.length===2)n=o=t[0],a=i=t[1];else if(t.length===4){var u=Gn(t,4);n=u[0],i=u[1],o=u[2],a=u[3]}return e.x1-=a,e.x2+=i,e.y1-=n,e.y2+=o,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},NT=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},lE=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},tl=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},LT=function(e,t){return tl(e,t.x,t.y)},uP=function(e,t){return tl(e,t.x1,t.y1)&&tl(e,t.x2,t.y2)},cG=(w1=Math.hypot)!==null&&w1!==void 0?w1:function(r,e){return Math.sqrt(r*r+e*e)};function fG(r,e){if(r.length<3)throw new Error("Need at least 3 vertices");var t=function(S,P){return{x:S.x+P.x,y:S.y+P.y}},n=function(S,P){return{x:S.x-P.x,y:S.y-P.y}},i=function(S,P){return{x:S.x*P,y:S.y*P}},o=function(S,P){return S.x*P.y-S.y*P.x},a=function(S){var P=cG(S.x,S.y);return P===0?{x:0,y:0}:{x:S.x/P,y:S.y/P}},u=function(S){for(var P=0,I=0;I<S.length;I++){var R=S[I],D=S[(I+1)%S.length];P+=R.x*D.y-D.x*R.y}return P/2},s=function(S,P,I,R){var D=n(P,S),k=n(R,I),N=o(D,k);if(Math.abs(N)<1e-9)return t(S,i(D,.5));var B=o(n(I,S),k)/N;return t(S,i(D,B))},l=r.map(function(E){return{x:E.x,y:E.y}});u(l)<0&&l.reverse();for(var c=l.length,f=[],h=0;h<c;h++){var v=l[h],d=l[(h+1)%c],y=n(d,v),p=a({x:y.y,y:-y.x});f.push(p)}for(var g=f.map(function(E,S){var P=t(l[S],i(E,e)),I=t(l[(S+1)%c],i(E,e));return{p1:P,p2:I}}),b=[],m=0;m<c;m++){var _=g[(m-1+c)%c],w=g[m],O=s(_.p1,_.p2,w.p1,w.p2);b.push(O)}return b}function hG(r,e,t,n,i,o){var a=wG(r,e,t,n,i),u=fG(a,o),s=eo();return u.forEach(function(l){return sP(s,l.x,l.y)}),s}var lP=function(e,t,n,i,o,a,u){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=s==="auto"?sl(o,a):s,c=o/2,f=a/2;l=Math.min(l,c,f);var h=l!==c,v=l!==f,d;if(h){var y=n-c+l-u,p=i-f-u,g=n+c-l+u,b=p;if(d=rl(e,t,n,i,y,p,g,b,!1),d.length>0)return d}if(v){var m=n+c+u,_=i-f+l-u,w=m,O=i+f-l+u;if(d=rl(e,t,n,i,m,_,w,O,!1),d.length>0)return d}if(h){var E=n-c+l-u,S=i+f+u,P=n+c-l+u,I=S;if(d=rl(e,t,n,i,E,S,P,I,!1),d.length>0)return d}if(v){var R=n-c-u,D=i-f+l-u,k=R,N=i+f-l+u;if(d=rl(e,t,n,i,R,D,k,N,!1),d.length>0)return d}var B;{var z=n-c+l,F=i-f+l;if(B=jv(e,t,n,i,z,F,l+u),B.length>0&&B[0]<=z&&B[1]<=F)return[B[0],B[1]]}{var U=n+c-l,W=i-f+l;if(B=jv(e,t,n,i,U,W,l+u),B.length>0&&B[0]>=U&&B[1]<=W)return[B[0],B[1]]}{var Y=n+c-l,X=i+f-l;if(B=jv(e,t,n,i,Y,X,l+u),B.length>0&&B[0]>=Y&&B[1]>=X)return[B[0],B[1]]}{var Q=n-c+l,ue=i+f-l;if(B=jv(e,t,n,i,Q,ue,l+u),B.length>0&&B[0]<=Q&&B[1]>=ue)return[B[0],B[1]]}return[]},dG=function(e,t,n,i,o,a,u){var s=u,l=Math.min(n,o),c=Math.max(n,o),f=Math.min(i,a),h=Math.max(i,a);return l-s<=e&&e<=c+s&&f-s<=t&&t<=h+s},vG=function(e,t,n,i,o,a,u,s,l){var c={x1:Math.min(n,u,o)-l,x2:Math.max(n,u,o)+l,y1:Math.min(i,s,a)-l,y2:Math.max(i,s,a)+l};return!(e<c.x1||e>c.x2||t<c.y1||t>c.y2)},pG=function(e,t,n,i){n-=i;var o=t*t-4*e*n;if(o<0)return[];var a=Math.sqrt(o),u=2*e,s=(-t+a)/u,l=(-t-a)/u;return[s,l]},gG=function(e,t,n,i,o){var a=1e-5;e===0&&(e=a),t/=e,n/=e,i/=e;var u,s,l,c,f,h,v,d;if(s=(3*n-t*t)/9,l=-(27*i)+t*(9*n-2*(t*t)),l/=54,u=s*s*s+l*l,o[1]=0,v=t/3,u>0){f=l+Math.sqrt(u),f=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),h=l-Math.sqrt(u),h=h<0?-Math.pow(-h,1/3):Math.pow(h,1/3),o[0]=-v+f+h,v+=(f+h)/2,o[4]=o[2]=-v,v=Math.sqrt(3)*(-h+f)/2,o[3]=v,o[5]=-v;return}if(o[5]=o[3]=0,u===0){d=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),o[0]=-v+2*d,o[4]=o[2]=-(d+v);return}s=-s,c=s*s*s,c=Math.acos(l/Math.sqrt(c)),d=2*Math.sqrt(s),o[0]=-v+d*Math.cos(c/3),o[2]=-v+d*Math.cos((c+2*Math.PI)/3),o[4]=-v+d*Math.cos((c+4*Math.PI)/3)},yG=function(e,t,n,i,o,a,u,s){var l=1*n*n-4*n*o+2*n*u+4*o*o-4*o*u+u*u+i*i-4*i*a+2*i*s+4*a*a-4*a*s+s*s,c=1*9*n*o-3*n*n-3*n*u-6*o*o+3*o*u+9*i*a-3*i*i-3*i*s-6*a*a+3*a*s,f=1*3*n*n-6*n*o+n*u-n*e+2*o*o+2*o*e-u*e+3*i*i-6*i*a+i*s-i*t+2*a*a+2*a*t-s*t,h=1*n*o-n*n+n*e-o*e+i*a-i*i+i*t-a*t,v=[];gG(l,c,f,h,v);for(var d=1e-7,y=[],p=0;p<6;p+=2)Math.abs(v[p+1])<d&&v[p]>=0&&v[p]<=1&&y.push(v[p]);y.push(1),y.push(0);for(var g=-1,b,m,_,w=0;w<y.length;w++)b=Math.pow(1-y[w],2)*n+2*(1-y[w])*y[w]*o+y[w]*y[w]*u,m=Math.pow(1-y[w],2)*i+2*(1-y[w])*y[w]*a+y[w]*y[w]*s,_=Math.pow(b-e,2)+Math.pow(m-t,2),g>=0?_<g&&(g=_):g=_;return g},mG=function(e,t,n,i,o,a){var u=[e-n,t-i],s=[o-n,a-i],l=s[0]*s[0]+s[1]*s[1],c=u[0]*u[0]+u[1]*u[1],f=u[0]*s[0]+u[1]*s[1],h=f*f/l;return f<0?c:h>l?(e-o)*(e-o)+(t-a)*(t-a):c-h},Ro=function(e,t,n){for(var i,o,a,u,s,l=0,c=0;c<n.length/2;c++)if(i=n[c*2],o=n[c*2+1],c+1<n.length/2?(a=n[(c+1)*2],u=n[(c+1)*2+1]):(a=n[(c+1-n.length/2)*2],u=n[(c+1-n.length/2)*2+1]),!(i==e&&a==e))if(i>=e&&e>=a||i<=e&&e<=a)s=(e-i)/(a-i)*(u-o)+o,s>t&&l++;else continue;return l%2!==0},cu=function(e,t,n,i,o,a,u,s,l){var c=new Array(n.length),f;s[0]!=null?(f=Math.atan(s[1]/s[0]),s[0]<0?f=f+Math.PI/2:f=-f-Math.PI/2):f=s;for(var h=Math.cos(-f),v=Math.sin(-f),d=0;d<c.length/2;d++)c[d*2]=a/2*(n[d*2]*h-n[d*2+1]*v),c[d*2+1]=u/2*(n[d*2+1]*h+n[d*2]*v),c[d*2]+=i,c[d*2+1]+=o;var y;if(l>0){var p=Fm(c,-l);y=Bm(p)}else y=c;return Ro(e,t,y)},bG=function(e,t,n,i,o,a,u,s){for(var l=new Array(n.length*2),c=0;c<s.length;c++){var f=s[c];l[c*4+0]=f.startX,l[c*4+1]=f.startY,l[c*4+2]=f.stopX,l[c*4+3]=f.stopY;var h=Math.pow(f.cx-e,2)+Math.pow(f.cy-t,2);if(h<=Math.pow(f.radius,2))return!0}return Ro(e,t,l)},Bm=function(e){for(var t=new Array(e.length/2),n,i,o,a,u,s,l,c,f=0;f<e.length/4;f++){n=e[f*4],i=e[f*4+1],o=e[f*4+2],a=e[f*4+3],f<e.length/4-1?(u=e[(f+1)*4],s=e[(f+1)*4+1],l=e[(f+1)*4+2],c=e[(f+1)*4+3]):(u=e[0],s=e[1],l=e[2],c=e[3]);var h=rl(n,i,o,a,u,s,l,c,!0);t[f*2]=h[0],t[f*2+1]=h[1]}return t},Fm=function(e,t){for(var n=new Array(e.length*2),i,o,a,u,s=0;s<e.length/2;s++){i=e[s*2],o=e[s*2+1],s<e.length/2-1?(a=e[(s+1)*2],u=e[(s+1)*2+1]):(a=e[0],u=e[1]);var l=u-o,c=-(a-i),f=Math.sqrt(l*l+c*c),h=l/f,v=c/f;n[s*4]=i+h*t,n[s*4+1]=o+v*t,n[s*4+2]=a+h*t,n[s*4+3]=u+v*t}return n},_G=function(e,t,n,i,o,a){var u=n-e,s=i-t;u/=o,s/=a;var l=Math.sqrt(u*u+s*s),c=l-1;if(c<0)return[];var f=c/l;return[(n-e)*f+e,(i-t)*f+t]},Ac=function(e,t,n,i,o,a,u){return e-=o,t-=a,e/=n/2+u,t/=i/2+u,e*e+t*t<=1},jv=function(e,t,n,i,o,a,u){var s=[n-e,i-t],l=[e-o,t-a],c=s[0]*s[0]+s[1]*s[1],f=2*(l[0]*s[0]+l[1]*s[1]),h=l[0]*l[0]+l[1]*l[1]-u*u,v=f*f-4*c*h;if(v<0)return[];var d=(-f+Math.sqrt(v))/(2*c),y=(-f-Math.sqrt(v))/(2*c),p=Math.min(d,y),g=Math.max(d,y),b=[];if(p>=0&&p<=1&&b.push(p),g>=0&&g<=1&&b.push(g),b.length===0)return[];var m=b[0]*s[0]+e,_=b[0]*s[1]+t;if(b.length>1){if(b[0]==b[1])return[m,_];var w=b[1]*s[0]+e,O=b[1]*s[1]+t;return[m,_,w,O]}else return[m,_]},E1=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},rl=function(e,t,n,i,o,a,u,s,l){var c=e-o,f=n-e,h=u-o,v=t-a,d=i-t,y=s-a,p=h*v-y*c,g=f*v-d*c,b=y*f-h*d;if(b!==0){var m=p/b,_=g/b,w=.001,O=0-w,E=1+w;return O<=m&&m<=E&&O<=_&&_<=E?[e+m*f,t+m*d]:l?[e+m*f,t+m*d]:[]}else return p===0||g===0?E1(e,n,u)===u?[u,s]:E1(e,n,o)===o?[o,a]:E1(o,u,n)===n?[n,i]:[]:[]},wG=function(e,t,n,i,o){var a=[],u=i/2,s=o/2,l=t,c=n;a.push({x:l+u*e[0],y:c+s*e[1]});for(var f=1;f<e.length/2;f++)a.push({x:l+u*e[f*2],y:c+s*e[f*2+1]});return a},Yv=function(e,t,n,i,o,a,u,s){var l=[],c,f=new Array(n.length),h=!0;a==null&&(h=!1);var v;if(h){for(var d=0;d<f.length/2;d++)f[d*2]=n[d*2]*a+i,f[d*2+1]=n[d*2+1]*u+o;if(s>0){var y=Fm(f,-s);v=Bm(y)}else v=f}else v=n;for(var p,g,b,m,_=0;_<v.length/2;_++)p=v[_*2],g=v[_*2+1],_<v.length/2-1?(b=v[(_+1)*2],m=v[(_+1)*2+1]):(b=v[0],m=v[1]),c=rl(e,t,i,o,p,g,b,m),c.length!==0&&l.push(c[0],c[1]);return l},EG=function(e,t,n,i,o,a,u,s,l){var c=[],f,h=new Array(n.length*2);l.forEach(function(b,m){m===0?(h[h.length-2]=b.startX,h[h.length-1]=b.startY):(h[m*4-2]=b.startX,h[m*4-1]=b.startY),h[m*4]=b.stopX,h[m*4+1]=b.stopY,f=jv(e,t,i,o,b.cx,b.cy,b.radius),f.length!==0&&c.push(f[0],f[1])});for(var v=0;v<h.length/4;v++)f=rl(e,t,i,o,h[v*4],h[v*4+1],h[v*4+2],h[v*4+3],!1),f.length!==0&&c.push(f[0],f[1]);if(c.length>2){for(var d=[c[0],c[1]],y=Math.pow(d[0]-e,2)+Math.pow(d[1]-t,2),p=1;p<c.length/2;p++){var g=Math.pow(c[p*2]-e,2)+Math.pow(c[p*2+1]-t,2);g<=y&&(d[0]=c[p*2],d[1]=c[p*2+1],y=g)}return d}return c},dm=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),a=(o-n)/o;return a<0&&(a=1e-5),[t[0]+a*i[0],t[1]+a*i[1]]},Ji=function(e,t){var n=Nw(e,t);return n=cP(n),n},cP=function(e){for(var t,n,i=e.length/2,o=1/0,a=1/0,u=-1/0,s=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],o=Math.min(o,t),u=Math.max(u,t),a=Math.min(a,n),s=Math.max(s,n);for(var c=2/(u-o),f=2/(s-a),h=0;h<i;h++)t=e[2*h]=e[2*h]*c,n=e[2*h+1]=e[2*h+1]*f,o=Math.min(o,t),u=Math.max(u,t),a=Math.min(a,n),s=Math.max(s,n);if(a<-1)for(var v=0;v<i;v++)n=e[2*v+1]=e[2*v+1]+(-1-a);return e},Nw=function(e,t){var n=1/e*2*Math.PI,i=e%2===0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var o=new Array(e*2),a,u=0;u<e;u++)a=u*n+i,o[2*u]=Math.cos(a),o[2*u+1]=Math.sin(-a);return o},sl=function(e,t){return Math.min(e/4,t/4,8)},fP=function(e,t){return Math.min(e/10,t/10,8)},cE=function(){return 8},xG=function(e,t,n){return[e-2*t+n,2*(t-e),e]},Lw=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function x1(r,e){function t(f){for(var h=[],v=0;v<f.length;v++){var d=f[v],y=f[(v+1)%f.length],p={x:y.x-d.x,y:y.y-d.y},g={x:-p.y,y:p.x},b=Math.sqrt(g.x*g.x+g.y*g.y);h.push({x:g.x/b,y:g.y/b})}return h}function n(f,h){var v=1/0,d=-1/0,y=Io(f),p;try{for(y.s();!(p=y.n()).done;){var g=p.value,b=g.x*h.x+g.y*h.y;v=Math.min(v,b),d=Math.max(d,b)}}catch(m){y.e(m)}finally{y.f()}return{min:v,max:d}}function i(f,h){return!(f.max<h.min||h.max<f.min)}var o=[].concat(km(t(r)),km(t(e))),a=Io(o),u;try{for(a.s();!(u=a.n()).done;){var s=u.value,l=n(r,s),c=n(e,s);if(!i(l,c))return!1}}catch(f){a.e(f)}finally{a.f()}return!0}var OG=Ci({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),SG={pageRank:function(e){for(var t=OG(e),n=t.dampingFactor,i=t.precision,o=t.iterations,a=t.weight,u=this._private.cy,s=this.byGroup(),l=s.nodes,c=s.edges,f=l.length,h=f*f,v=c.length,d=new Array(h),y=new Array(f),p=(1-n)/f,g=0;g<f;g++){for(var b=0;b<f;b++){var m=g*f+b;d[m]=0}y[g]=0}for(var _=0;_<v;_++){var w=c[_],O=w.data("source"),E=w.data("target");if(O!==E){var S=l.indexOfId(O),P=l.indexOfId(E),I=a(w),R=P*f+S;d[R]+=I,y[S]+=I}}for(var D=1/f+p,k=0;k<f;k++)if(y[k]===0)for(var N=0;N<f;N++){var B=N*f+k;d[B]=D}else for(var z=0;z<f;z++){var F=z*f+k;d[F]=d[F]/y[k]+p}for(var U=new Array(f),W=new Array(f),Y,X=0;X<f;X++)U[X]=1;for(var Q=0;Q<o;Q++){for(var ue=0;ue<f;ue++)W[ue]=0;for(var ce=0;ce<f;ce++)for(var ae=0;ae<f;ae++){var pe=ce*f+ae;W[ce]+=d[pe]*U[ae]}oG(W),Y=U,U=W,W=Y;for(var fe=0,he=0;he<f;he++){var ee=Y[he]-U[he];fe+=ee*ee}if(fe<i)break}var K={rank:function(ie){return ie=u.collection(ie)[0],U[l.indexOf(ie)]}};return K}},jT=Ci({root:null,weight:function(e){return 1},directed:!1,alpha:0}),bh={degreeCentralityNormalized:function(e){e=jT(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var c={},f={},h=0,v=0,d=0;d<i;d++){var y=n[d],p=y.id();e.root=y;var g=this.degreeCentrality(e);h<g.indegree&&(h=g.indegree),v<g.outdegree&&(v=g.outdegree),c[p]=g.indegree,f[p]=g.outdegree}return{indegree:function(m){return h==0?0:(St(m)&&(m=t.filter(m)),c[m.id()]/h)},outdegree:function(m){return v===0?0:(St(m)&&(m=t.filter(m)),f[m.id()]/v)}}}else{for(var o={},a=0,u=0;u<i;u++){var s=n[u];e.root=s;var l=this.degreeCentrality(e);a<l.degree&&(a=l.degree),o[s.id()]=l.degree}return{degree:function(m){return a===0?0:(St(m)&&(m=t.filter(m)),o[m.id()]/a)}}}},degreeCentrality:function(e){e=jT(e);var t=this.cy(),n=this,i=e,o=i.root,a=i.weight,u=i.directed,s=i.alpha;if(o=t.collection(o)[0],u){for(var v=o.connectedEdges(),d=v.filter(function(O){return O.target().same(o)&&n.has(O)}),y=v.filter(function(O){return O.source().same(o)&&n.has(O)}),p=d.length,g=y.length,b=0,m=0,_=0;_<d.length;_++)b+=a(d[_]);for(var w=0;w<y.length;w++)m+=a(y[w]);return{indegree:Math.pow(p,1-s)*Math.pow(b,s),outdegree:Math.pow(g,1-s)*Math.pow(m,s)}}else{for(var l=o.connectedEdges().intersection(n),c=l.length,f=0,h=0;h<l.length;h++)f+=a(l[h]);return{degree:Math.pow(c,1-s)*Math.pow(f,s)}}}};bh.dc=bh.degreeCentrality;bh.dcn=bh.degreeCentralityNormalised=bh.degreeCentralityNormalized;var BT=Ci({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),_h={closenessCentralityNormalized:function(e){for(var t=BT(e),n=t.harmonic,i=t.weight,o=t.directed,a=this.cy(),u={},s=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:o}),f=0;f<l.length;f++){for(var h=0,v=l[f],d=0;d<l.length;d++)if(f!==d){var y=c.distance(v,l[d]);n?h+=1/y:h+=y}n||(h=1/h),s<h&&(s=h),u[v.id()]=h}return{closeness:function(g){return s==0?0:(St(g)?g=a.filter(g)[0].id():g=g.id(),u[g]/s)}}},closenessCentrality:function(e){var t=BT(e),n=t.root,i=t.weight,o=t.directed,a=t.harmonic;n=this.filter(n)[0];for(var u=this.dijkstra({root:n,weight:i,directed:o}),s=0,l=this.nodes(),c=0;c<l.length;c++){var f=l[c];if(!f.same(n)){var h=u.distanceTo(f);a?s+=1/h:s+=h}}return a?s:1/s}};_h.cc=_h.closenessCentrality;_h.ccn=_h.closenessCentralityNormalised=_h.closenessCentralityNormalized;var TG=Ci({weight:null,directed:!1}),jw={betweennessCentrality:function(e){for(var t=TG(e),n=t.directed,i=t.weight,o=i!=null,a=this.cy(),u=this.nodes(),s={},l={},c=0,f={set:function(m,_){l[m]=_,_>c&&(c=_)},get:function(m){return l[m]}},h=0;h<u.length;h++){var v=u[h],d=v.id();n?s[d]=v.outgoers().nodes():s[d]=v.openNeighborhood().nodes(),f.set(d,0)}for(var y=function(){for(var m=u[p].id(),_=[],w={},O={},E={},S=new op(function(ce,ae){return E[ce]-E[ae]}),P=0;P<u.length;P++){var I=u[P].id();w[I]=[],O[I]=0,E[I]=1/0}for(O[m]=1,E[m]=0,S.push(m);!S.empty();){var R=S.pop();if(_.push(R),o)for(var D=0;D<s[R].length;D++){var k=s[R][D],N=a.getElementById(R),B=void 0;N.edgesTo(k).length>0?B=N.edgesTo(k)[0]:B=k.edgesTo(N)[0];var z=i(B);k=k.id(),E[k]>E[R]+z&&(E[k]=E[R]+z,S.nodes.indexOf(k)<0?S.push(k):S.updateItem(k),O[k]=0,w[k]=[]),E[k]==E[R]+z&&(O[k]=O[k]+O[R],w[k].push(R))}else for(var F=0;F<s[R].length;F++){var U=s[R][F].id();E[U]==1/0&&(S.push(U),E[U]=E[R]+1),E[U]==E[R]+1&&(O[U]=O[U]+O[R],w[U].push(R))}}for(var W={},Y=0;Y<u.length;Y++)W[u[Y].id()]=0;for(;_.length>0;){for(var X=_.pop(),Q=0;Q<w[X].length;Q++){var ue=w[X][Q];W[ue]=W[ue]+O[ue]/O[X]*(1+W[X])}X!=u[p].id()&&f.set(X,f.get(X)+W[X])}},p=0;p<u.length;p++)y();var g={betweenness:function(m){var _=a.collection(m).id();return f.get(_)},betweennessNormalized:function(m){if(c==0)return 0;var _=a.collection(m).id();return f.get(_)/c}};return g.betweennessNormalised=g.betweennessNormalized,g}};jw.bc=jw.betweennessCentrality;var CG=Ci({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(r){return 1}]}),PG=function(e){return CG(e)},AG=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},RG=function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n},hP=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var o=0;o<t;o++)n+=e[o*t+i];for(var a=0;a<t;a++)e[a*t+i]=e[a*t+i]/n}},IG=function(e,t,n){for(var i=new Array(n*n),o=0;o<n;o++){for(var a=0;a<n;a++)i[o*n+a]=0;for(var u=0;u<n;u++)for(var s=0;s<n;s++)i[o*n+s]+=e[o*n+u]*t[u*n+s]}return i},DG=function(e,t,n){for(var i=e.slice(0),o=1;o<n;o++)e=IG(e,i,t);return e},MG=function(e,t,n){for(var i=new Array(t*t),o=0;o<t*t;o++)i[o]=Math.pow(e[o],n);return hP(i,t),i},kG=function(e,t,n,i){for(var o=0;o<n;o++){var a=Math.round(e[o]*Math.pow(10,i))/Math.pow(10,i),u=Math.round(t[o]*Math.pow(10,i))/Math.pow(10,i);if(a!==u)return!1}return!0},NG=function(e,t,n,i){for(var o=[],a=0;a<t;a++){for(var u=[],s=0;s<t;s++)Math.round(e[a*t+s]*1e3)/1e3>0&&u.push(n[s]);u.length!==0&&o.push(i.collection(u))}return o},LG=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},jG=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&LG(e[t],e[n])&&e.splice(n,1);return e},FT=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),o=PG(e),a={},u=0;u<t.length;u++)a[t[u].id()]=u;for(var s=t.length,l=s*s,c=new Array(l),f,h=0;h<l;h++)c[h]=0;for(var v=0;v<n.length;v++){var d=n[v],y=a[d.source().id()],p=a[d.target().id()],g=AG(d,o.attributes);c[y*s+p]+=g,c[p*s+y]+=g}RG(c,s,o.multFactor),hP(c,s);for(var b=!0,m=0;b&&m<o.maxIterations;)b=!1,f=DG(c,s,o.expandFactor),c=MG(f,s,o.inflateFactor),kG(c,f,l,4)||(b=!0),m++;var _=NG(c,s,t,i);return _=jG(_),_},BG={markovClustering:FT,mcl:FT},FG=function(e){return e},dP=function(e,t){return Math.abs(t-e)},UT=function(e,t,n){return e+dP(t,n)},zT=function(e,t,n){return e+Math.pow(n-t,2)},UG=function(e){return Math.sqrt(e)},zG=function(e,t,n){return Math.max(e,dP(t,n))},Rv=function(e,t,n,i,o){for(var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:FG,u=i,s,l,c=0;c<e;c++)s=t(c),l=n(c),u=o(u,s,l);return a(u)},xh={euclidean:function(e,t,n){return e>=2?Rv(e,t,n,0,zT,UG):Rv(e,t,n,0,UT)},squaredEuclidean:function(e,t,n){return Rv(e,t,n,0,zT)},manhattan:function(e,t,n){return Rv(e,t,n,0,UT)},max:function(e,t,n){return Rv(e,t,n,-1/0,zG)}};xh["squared-euclidean"]=xh.squaredEuclidean;xh.squaredeuclidean=xh.squaredEuclidean;function Qm(r,e,t,n,i,o){var a;return xn(r)?a=r:a=xh[r]||xh.euclidean,e===0&&xn(r)?a(i,o):a(e,t,n,i,o)}var qG=Ci({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),fE=function(e){return qG(e)},Um=function(e,t,n,i,o){var a=o!=="kMedoids",u=a?function(f){return n[f]}:function(f){return i[f](n)},s=function(h){return i[h](t)},l=n,c=t;return Qm(e,i.length,u,s,l,c)},O1=function(e,t,n){for(var i=n.length,o=new Array(i),a=new Array(i),u=new Array(t),s=null,l=0;l<i;l++)o[l]=e.min(n[l]).value,a[l]=e.max(n[l]).value;for(var c=0;c<t;c++){s=[];for(var f=0;f<i;f++)s[f]=Math.random()*(a[f]-o[f])+o[f];u[c]=s}return u},vP=function(e,t,n,i,o){for(var a=1/0,u=0,s=0;s<t.length;s++){var l=Um(n,e,t[s],i,o);l<a&&(a=l,u=s)}return u},pP=function(e,t,n){for(var i=[],o=null,a=0;a<t.length;a++)o=t[a],n[o.id()]===e&&i.push(o);return i},GG=function(e,t,n){return Math.abs(t-e)<=n},VG=function(e,t,n){for(var i=0;i<e.length;i++)for(var o=0;o<e[i].length;o++){var a=Math.abs(e[i][o]-t[i][o]);if(a>n)return!1}return!0},WG=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},qT=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var o=e[Math.floor(Math.random()*e.length)];WG(o,n,i);)o=e[Math.floor(Math.random()*e.length)];n[i]=o}else for(var a=0;a<t;a++)n[a]=e[Math.floor(Math.random()*e.length)];return n},GT=function(e,t,n){for(var i=0,o=0;o<t.length;o++)i+=Um("manhattan",t[o],e,n,"kMedoids");return i},HG=function(e){var t=this.cy(),n=this.nodes(),i=null,o=fE(e),a=new Array(o.k),u={},s;o.testMode?typeof o.testCentroids=="number"?(o.testCentroids,s=O1(n,o.k,o.attributes)):ri(o.testCentroids)==="object"?s=o.testCentroids:s=O1(n,o.k,o.attributes):s=O1(n,o.k,o.attributes);for(var l=!0,c=0;l&&c<o.maxIterations;){for(var f=0;f<n.length;f++)i=n[f],u[i.id()]=vP(i,s,o.distance,o.attributes,"kMeans");l=!1;for(var h=0;h<o.k;h++){var v=pP(h,n,u);if(v.length!==0){for(var d=o.attributes.length,y=s[h],p=new Array(d),g=new Array(d),b=0;b<d;b++){g[b]=0;for(var m=0;m<v.length;m++)i=v[m],g[b]+=o.attributes[b](i);p[b]=g[b]/v.length,GG(p[b],y[b],o.sensitivityThreshold)||(l=!0)}s[h]=p,a[h]=t.collection(v)}}c++}return a},YG=function(e){var t=this.cy(),n=this.nodes(),i=null,o=fE(e),a=new Array(o.k),u,s={},l,c=new Array(o.k);o.testMode?typeof o.testCentroids=="number"||(ri(o.testCentroids)==="object"?u=o.testCentroids:u=qT(n,o.k)):u=qT(n,o.k);for(var f=!0,h=0;f&&h<o.maxIterations;){for(var v=0;v<n.length;v++)i=n[v],s[i.id()]=vP(i,u,o.distance,o.attributes,"kMedoids");f=!1;for(var d=0;d<u.length;d++){var y=pP(d,n,s);if(y.length!==0){c[d]=GT(u[d],y,o.attributes);for(var p=0;p<y.length;p++)l=GT(y[p],y,o.attributes),l<c[d]&&(c[d]=l,u[d]=y[p],f=!0);a[d]=t.collection(y)}}h++}return a},XG=function(e,t,n,i,o){for(var a,u,s=0;s<t.length;s++)for(var l=0;l<e.length;l++)i[s][l]=Math.pow(n[s][l],o.m);for(var c=0;c<e.length;c++)for(var f=0;f<o.attributes.length;f++){a=0,u=0;for(var h=0;h<t.length;h++)a+=i[h][c]*o.attributes[f](t[h]),u+=i[h][c];e[c][f]=a/u}},KG=function(e,t,n,i,o){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var u,s,l,c=2/(o.m-1),f=0;f<n.length;f++)for(var h=0;h<i.length;h++){u=0;for(var v=0;v<n.length;v++)s=Um(o.distance,i[h],n[f],o.attributes,"cmeans"),l=Um(o.distance,i[h],n[v],o.attributes,"cmeans"),u+=Math.pow(s/l,c);e[h][f]=1/u}},$G=function(e,t,n,i){for(var o=new Array(n.k),a=0;a<o.length;a++)o[a]=[];for(var u,s,l=0;l<t.length;l++){u=-1/0,s=-1;for(var c=0;c<t[0].length;c++)t[l][c]>u&&(u=t[l][c],s=c);o[s].push(e[l])}for(var f=0;f<o.length;f++)o[f]=i.collection(o[f]);return o},VT=function(e){var t=this.cy(),n=this.nodes(),i=fE(e),o,a,u,s,l;s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(i.k);u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(i.k);for(var h=0;h<n.length;h++){for(var v=0,d=0;d<i.k;d++)u[h][d]=Math.random(),v+=u[h][d];for(var y=0;y<i.k;y++)u[h][y]=u[h][y]/v}a=new Array(i.k);for(var p=0;p<i.k;p++)a[p]=new Array(i.attributes.length);l=new Array(n.length);for(var g=0;g<n.length;g++)l[g]=new Array(i.k);for(var b=!0,m=0;b&&m<i.maxIterations;)b=!1,XG(a,n,u,l,i),KG(u,s,a,n,i),VG(u,s,i.sensitivityThreshold)||(b=!0),m++;return o=$G(n,u,i,t),{clusters:o,degreeOfMembership:u}},ZG={kMeans:HG,kMedoids:YG,fuzzyCMeans:VT,fcm:VT},QG=Ci({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),JG={single:"min",complete:"max"},eV=function(e){var t=QG(e),n=JG[t.linkage];return n!=null&&(t.linkage=n),t},WT=function(e,t,n,i,o){for(var a=0,u=1/0,s,l=o.attributes,c=function(P,I){return Qm(o.distance,l.length,function(R){return l[R](P)},function(R){return l[R](I)},P,I)},f=0;f<e.length;f++){var h=e[f].key,v=n[h][i[h]];v<u&&(a=h,u=v)}if(o.mode==="threshold"&&u>=o.threshold||o.mode==="dendrogram"&&e.length===1)return!1;var d=t[a],y=t[i[a]],p;o.mode==="dendrogram"?p={left:d,right:y,key:d.key}:p={value:d.value.concat(y.value),key:d.key},e[d.index]=p,e.splice(y.index,1),t[d.key]=p;for(var g=0;g<e.length;g++){var b=e[g];d.key===b.key?s=1/0:o.linkage==="min"?(s=n[d.key][b.key],n[d.key][b.key]>n[y.key][b.key]&&(s=n[y.key][b.key])):o.linkage==="max"?(s=n[d.key][b.key],n[d.key][b.key]<n[y.key][b.key]&&(s=n[y.key][b.key])):o.linkage==="mean"?s=(n[d.key][b.key]*d.size+n[y.key][b.key]*y.size)/(d.size+y.size):o.mode==="dendrogram"?s=c(b.value,d.value):s=c(b.value[0],d.value[0]),n[d.key][b.key]=n[b.key][d.key]=s}for(var m=0;m<e.length;m++){var _=e[m].key;if(i[_]===d.key||i[_]===y.key){for(var w=_,O=0;O<e.length;O++){var E=e[O].key;n[_][E]<n[_][w]&&(w=E)}i[_]=w}e[m].index=m}return d.key=y.key=d.index=y.index=null,!0},gh=function(e,t,n){e&&(e.value?t.push(e.value):(e.left&&gh(e.left,t),e.right&&gh(e.right,t)))},Bw=function(e,t){if(!e)return"";if(e.left&&e.right){var n=Bw(e.left,t),i=Bw(e.right,t),o=t.add({group:"nodes",data:{id:n+","+i}});return t.add({group:"edges",data:{source:n,target:o.id()}}),t.add({group:"edges",data:{source:i,target:o.id()}}),o.id()}else if(e.value)return e.value.id()},Fw=function(e,t,n){if(!e)return[];var i=[],o=[],a=[];return t===0?(e.left&&gh(e.left,i),e.right&&gh(e.right,o),a=i.concat(o),[n.collection(a)]):t===1?e.value?[n.collection(e.value)]:(e.left&&gh(e.left,i),e.right&&gh(e.right,o),[n.collection(i),n.collection(o)]):e.value?[n.collection(e.value)]:(e.left&&(i=Fw(e.left,t-1,n)),e.right&&(o=Fw(e.right,t-1,n)),i.concat(o))},HT=function(e){for(var t=this.cy(),n=this.nodes(),i=eV(e),o=i.attributes,a=function(m,_){return Qm(i.distance,o.length,function(w){return o[w](m)},function(w){return o[w](_)},m,_)},u=[],s=[],l=[],c=[],f=0;f<n.length;f++){var h={value:i.mode==="dendrogram"?n[f]:[n[f]],key:f,index:f};u[f]=h,c[f]=h,s[f]=[],l[f]=0}for(var v=0;v<u.length;v++)for(var d=0;d<=v;d++){var y=void 0;i.mode==="dendrogram"?y=v===d?1/0:a(u[v].value,u[d].value):y=v===d?1/0:a(u[v].value[0],u[d].value[0]),s[v][d]=y,s[d][v]=y,y<s[v][l[v]]&&(l[v]=d)}for(var p=WT(u,c,s,l,i);p;)p=WT(u,c,s,l,i);var g;return i.mode==="dendrogram"?(g=Fw(u[0],i.dendrogramDepth,t),i.addDendrogram&&Bw(u[0],t)):(g=new Array(u.length),u.forEach(function(b,m){b.key=b.index=null,g[m]=t.collection(b.value)})),g},tV={hierarchicalClustering:HT,hca:HT},rV=Ci({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),nV=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||mn("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some(function(o){return o===n})||at(n)||mn("Preference must be one of [".concat(i.map(function(o){return"'".concat(o,"'")}).join(", "),"] or a number.  Got: ").concat(n)),rV(e)},iV=function(e,t,n,i){var o=function(u,s){return i[s](u)};return-Qm(e,i.length,function(a){return o(t,a)},function(a){return o(n,a)},t,n)},oV=function(e,t){var n=null;return t==="median"?n=nG(e):t==="mean"?n=rG(e):t==="min"?n=eG(e):t==="max"?n=tG(e):n=t,n},aV=function(e,t,n){for(var i=[],o=0;o<e;o++)t[o*e+o]+n[o*e+o]>0&&i.push(o);return i},YT=function(e,t,n){for(var i=[],o=0;o<e;o++){for(var a=-1,u=-1/0,s=0;s<n.length;s++){var l=n[s];t[o*e+l]>u&&(a=l,u=t[o*e+l])}a>0&&i.push(a)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},sV=function(e,t,n){for(var i=YT(e,t,n),o=0;o<n.length;o++){for(var a=[],u=0;u<i.length;u++)i[u]===n[o]&&a.push(u);for(var s=-1,l=-1/0,c=0;c<a.length;c++){for(var f=0,h=0;h<a.length;h++)f+=t[a[h]*e+a[c]];f>l&&(s=c,l=f)}n[o]=a[s]}return i=YT(e,t,n),i},XT=function(e){for(var t=this.cy(),n=this.nodes(),i=nV(e),o={},a=0;a<n.length;a++)o[n[a].id()]=a;var u,s,l,c,f,h;u=n.length,s=u*u,l=new Array(s);for(var v=0;v<s;v++)l[v]=-1/0;for(var d=0;d<u;d++)for(var y=0;y<u;y++)d!==y&&(l[d*u+y]=iV(i.distance,n[d],n[y],i.attributes));c=oV(l,i.preference);for(var p=0;p<u;p++)l[p*u+p]=c;f=new Array(s);for(var g=0;g<s;g++)f[g]=0;h=new Array(s);for(var b=0;b<s;b++)h[b]=0;for(var m=new Array(u),_=new Array(u),w=new Array(u),O=0;O<u;O++)m[O]=0,_[O]=0,w[O]=0;for(var E=new Array(u*i.minIterations),S=0;S<E.length;S++)E[S]=0;var P;for(P=0;P<i.maxIterations;P++){for(var I=0;I<u;I++){for(var R=-1/0,D=-1/0,k=-1,N=0,B=0;B<u;B++)m[B]=f[I*u+B],N=h[I*u+B]+l[I*u+B],N>=R?(D=R,R=N,k=B):N>D&&(D=N);for(var z=0;z<u;z++)f[I*u+z]=(1-i.damping)*(l[I*u+z]-R)+i.damping*m[z];f[I*u+k]=(1-i.damping)*(l[I*u+k]-D)+i.damping*m[k]}for(var F=0;F<u;F++){for(var U=0,W=0;W<u;W++)m[W]=h[W*u+F],_[W]=Math.max(0,f[W*u+F]),U+=_[W];U-=_[F],_[F]=f[F*u+F],U+=_[F];for(var Y=0;Y<u;Y++)h[Y*u+F]=(1-i.damping)*Math.min(0,U-_[Y])+i.damping*m[Y];h[F*u+F]=(1-i.damping)*(U-_[F])+i.damping*m[F]}for(var X=0,Q=0;Q<u;Q++){var ue=h[Q*u+Q]+f[Q*u+Q]>0?1:0;E[P%i.minIterations*u+Q]=ue,X+=ue}if(X>0&&(P>=i.minIterations-1||P==i.maxIterations-1)){for(var ce=0,ae=0;ae<u;ae++){w[ae]=0;for(var pe=0;pe<i.minIterations;pe++)w[ae]+=E[pe*u+ae];(w[ae]===0||w[ae]===i.minIterations)&&ce++}if(ce===u)break}}for(var fe=aV(u,f,h),he=sV(u,l,fe),ee={},K=0;K<fe.length;K++)ee[fe[K]]=[];for(var J=0;J<n.length;J++){var ie=o[n[J].id()],de=he[ie];de!=null&&ee[de].push(n[J])}for(var _e=new Array(fe.length),Ce=0;Ce<fe.length;Ce++)_e[Ce]=t.collection(ee[fe[Ce]]);return _e},uV={affinityPropagation:XT,ap:XT},lV=Ci({root:void 0,directed:!1}),cV={hierholzer:function(e){if(!Dr(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n=lV(e),i=n.root,o=n.directed,a=this,u=!1,s,l,c;i&&(c=St(i)?this.filter(i)[0].id():i[0].id());var f={},h={};o?a.forEach(function(b){var m=b.id();if(b.isNode()){var _=b.indegree(!0),w=b.outdegree(!0),O=_-w,E=w-_;O==1?s?u=!0:s=m:E==1?l?u=!0:l=m:(E>1||O>1)&&(u=!0),f[m]=[],b.outgoers().forEach(function(S){S.isEdge()&&f[m].push(S.id())})}else h[m]=[void 0,b.target().id()]}):a.forEach(function(b){var m=b.id();if(b.isNode()){var _=b.degree(!0);_%2&&(s?l?u=!0:l=m:s=m),f[m]=[],b.connectedEdges().forEach(function(w){return f[m].push(w.id())})}else h[m]=[b.source().id(),b.target().id()]});var v={found:!1,trail:void 0};if(u)return v;if(l&&s)if(o){if(c&&l!=c)return v;c=l}else{if(c&&l!=c&&s!=c)return v;c||(c=l)}else c||(c=a[0].id());var d=function(m){for(var _=m,w=[m],O,E,S;f[_].length;)O=f[_].shift(),E=h[O][0],S=h[O][1],_!=S?(f[S]=f[S].filter(function(P){return P!=O}),_=S):!o&&_!=E&&(f[E]=f[E].filter(function(P){return P!=O}),_=E),w.unshift(O),w.unshift(_);return w},y=[],p=[];for(p=d(c);p.length!=1;)f[p[0]].length==0?(y.unshift(a.getElementById(p.shift())),y.unshift(a.getElementById(p.shift()))):p=d(p.shift()).concat(p);y.unshift(a.getElementById(p.shift()));for(var g in f)if(f[g].length)return v;return v.found=!0,v.trail=this.spawn(y,!0),v}},vm=function(){var e=this,t={},n=0,i=0,o=[],a=[],u={},s=function(h,v){for(var d=a.length-1,y=[],p=e.spawn();a[d].x!=h||a[d].y!=v;)y.push(a.pop().edge),d--;y.push(a.pop().edge),y.forEach(function(g){var b=g.connectedNodes().intersection(e);p.merge(g),b.forEach(function(m){var _=m.id(),w=m.connectedEdges().intersection(e);p.merge(m),t[_].cutVertex?p.merge(w.filter(function(O){return O.isLoop()})):p.merge(w)})}),o.push(p)},l=function(h,v,d){h===d&&(i+=1),t[v]={id:n,low:n++,cutVertex:!1};var y=e.getElementById(v).connectedEdges().intersection(e);if(y.size()===0)o.push(e.spawn(e.getElementById(v)));else{var p,g,b,m;y.forEach(function(_){p=_.source().id(),g=_.target().id(),b=p===v?g:p,b!==d&&(m=_.id(),u[m]||(u[m]=!0,a.push({x:v,y:b,edge:_})),b in t?t[v].low=Math.min(t[v].low,t[b].id):(l(h,b,v),t[v].low=Math.min(t[v].low,t[b].low),t[v].id<=t[b].low&&(t[v].cutVertex=!0,s(v,b))))})}};e.forEach(function(f){if(f.isNode()){var h=f.id();h in t||(i=0,l(h,h),t[h].cutVertex=i>1)}});var c=Object.keys(t).filter(function(f){return t[f].cutVertex}).map(function(f){return e.getElementById(f)});return{cut:e.spawn(c),components:o}},fV={hopcroftTarjanBiconnected:vm,htbc:vm,htb:vm,hopcroftTarjanBiconnectedComponents:vm},pm=function(){var e=this,t={},n=0,i=[],o=[],a=e.spawn(e),u=function(l){o.push(l),t[l]={index:n,low:n++,explored:!1};var c=e.getElementById(l).connectedEdges().intersection(e);if(c.forEach(function(y){var p=y.target().id();p!==l&&(p in t||u(p),t[p].explored||(t[l].low=Math.min(t[l].low,t[p].low)))}),t[l].index===t[l].low){for(var f=e.spawn();;){var h=o.pop();if(f.merge(e.getElementById(h)),t[h].low=t[l].index,t[h].explored=!0,h===l)break}var v=f.edgesWith(f),d=f.merge(v);i.push(d),a=a.difference(d)}};return e.forEach(function(s){if(s.isNode()){var l=s.id();l in t||u(l)}}),{cut:a,components:i}},hV={tarjanStronglyConnected:pm,tsc:pm,tscc:pm,tarjanStronglyConnectedComponents:pm},gP={};[Wv,q9,G9,W9,Y9,K9,Q9,SG,bh,_h,jw,BG,ZG,tV,uV,cV,fV,hV].forEach(function(r){Nt(gP,r)});var yP=0,mP=1,bP=2,Wa=function(e){if(!(this instanceof Wa))return new Wa(e);this.id="Thenable/1.0.7",this.state=yP,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Wa.prototype={fulfill:function(e){return KT(this,mP,"fulfillValue",e)},reject:function(e){return KT(this,bP,"rejectReason",e)},then:function(e,t){var n=this,i=new Wa;return n.onFulfilled.push(ZT(e,i,"fulfill")),n.onRejected.push(ZT(t,i,"reject")),_P(n),i.proxy}};var KT=function(e,t,n,i){return e.state===yP&&(e.state=t,e[n]=i,_P(e)),e},_P=function(e){e.state===mP?$T(e,"onFulfilled",e.fulfillValue):e.state===bP&&$T(e,"onRejected",e.rejectReason)},$T=function(e,t,n){if(e[t].length!==0){var i=e[t];e[t]=[];var o=function(){for(var u=0;u<i.length;u++)i[u](n)};typeof setImmediate=="function"?setImmediate(o):setTimeout(o,0)}},ZT=function(e,t,n){return function(i){if(typeof e!="function")t[n].call(t,i);else{var o;try{o=e(i)}catch(a){t.reject(a);return}wP(t,o)}}},wP=function(e,t){if(e===t||e.proxy===t){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(ri(t)==="object"&&t!==null||typeof t=="function")try{n=t.then}catch(o){e.reject(o);return}if(typeof n=="function"){var i=!1;try{n.call(t,function(o){i||(i=!0,o===t?e.reject(new TypeError("circular thenable chain")):wP(e,o))},function(o){i||(i=!0,e.reject(o))})}catch(o){i||e.reject(o)}return}e.fulfill(t)};Wa.all=function(r){return new Wa(function(e,t){for(var n=new Array(r.length),i=0,o=function(s,l){n[s]=l,i++,i===r.length&&e(n)},a=0;a<r.length;a++)(function(u){var s=r[u],l=s!=null&&s.then!=null;if(l)s.then(function(f){o(u,f)},function(f){t(f)});else{var c=s;o(u,c)}})(a)})};Wa.resolve=function(r){return new Wa(function(e,t){e(r)})};Wa.reject=function(r){return new Wa(function(e,t){t(r)})};var Th=typeof Promise<"u"?Promise:Wa,Uw=function(e,t,n){var i=tE(e),o=!i,a=this._private=Nt({duration:1e3},t,n);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&xn(a.complete)&&a.completes.push(a.complete),o){var u=e.position();a.startPosition=a.startPosition||{x:u.x,y:u.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(i){var s=e.pan();a.startPan={x:s.x,y:s.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},Dc=Uw.prototype;Nt(Dc,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t,n=e.target._private.animation;e.queue?t=n.queue:t=n.current,t.push(this),Jo(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return e===void 0?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return e===void 0?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(l,c){var f=e[l];f!=null&&(e[l]=e[c],e[c]=f)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var o=e.style[i],a=o.name,u=e.startStyle[a];e.startStyle[a]=o,e.style[i]=u}return t&&this.play(),this},promise:function(e){var t=this._private,n;switch(e){case"frame":n=t.frames;break;default:case"complete":case"completed":n=t.completes}return new Th(function(i,o){n.push(function(){i()})})}});Dc.complete=Dc.completed;Dc.run=Dc.play;Dc.running=Dc.playing;var dV={animated:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return!1;var a=i[0];if(a)return a._private.animation.current.length>0}},clearQueue:function(){return function(){var t=this,n=t.length!==void 0,i=n?t:[t],o=this._private.cy||this;if(!o.styleEnabled())return this;for(var a=0;a<i.length;a++){var u=i[a];u._private.animation.queue=[]}return this}},delay:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animate({delay:t,duration:t,complete:n}):this}},delayAnimation:function(){return function(t,n){var i=this._private.cy||this;return i.styleEnabled()?this.animation({delay:t,duration:t,complete:n}):this}},animation:function(){return function(t,n){var i=this,o=i.length!==void 0,a=o?i:[i],u=this._private.cy||this,s=!o,l=!s;if(!u.styleEnabled())return this;var c=u.style();t=Nt({},t,n);var f=Object.keys(t).length===0;if(f)return new Uw(a[0],t);switch(t.duration===void 0&&(t.duration=400),t.duration){case"slow":t.duration=600;break;case"fast":t.duration=200;break}if(l&&(t.style=c.getPropsList(t.style||t.css),t.css=void 0),l&&t.renderedPosition!=null){var h=t.renderedPosition,v=u.pan(),d=u.zoom();t.position=aP(h,d,v)}if(s&&t.panBy!=null){var y=t.panBy,p=u.pan();t.pan={x:p.x+y.x,y:p.y+y.y}}var g=t.center||t.centre;if(s&&g!=null){var b=u.getCenterPan(g.eles,t.zoom);b!=null&&(t.pan=b)}if(s&&t.fit!=null){var m=t.fit,_=u.getFitViewport(m.eles||m.boundingBox,m.padding);_!=null&&(t.pan=_.pan,t.zoom=_.zoom)}if(s&&Dr(t.zoom)){var w=u.getZoomedViewport(t.zoom);w!=null?(w.zoomed&&(t.zoom=w.zoom),w.panned&&(t.pan=w.pan)):t.zoom=null}return new Uw(a[0],t)}},animate:function(){return function(t,n){var i=this,o=i.length!==void 0,a=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;n&&(t=Nt({},t,n));for(var s=0;s<a.length;s++){var l=a[s],c=l.animated()&&(t.queue===void 0||t.queue),f=l.animation(t,c?{queue:!0}:void 0);f.play()}return this}},stop:function(){return function(t,n){var i=this,o=i.length!==void 0,a=o?i:[i],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<a.length;s++){for(var l=a[s],c=l._private,f=c.animation.current,h=0;h<f.length;h++){var v=f[h],d=v._private;n&&(d.duration=0)}t&&(c.animation.queue=[]),n||(c.animation.current=[])}return u.notify("draw"),this}}},S1,QT;function Jm(){if(QT)return S1;QT=1;var r=Array.isArray;return S1=r,S1}var T1,JT;function vV(){if(JT)return T1;JT=1;var r=Jm(),e=np(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,a){if(r(o))return!1;var u=typeof o;return u=="number"||u=="symbol"||u=="boolean"||o==null||e(o)?!0:n.test(o)||!t.test(o)||a!=null&&o in Object(a)}return T1=i,T1}var C1,eC;function pV(){if(eC)return C1;eC=1;var r=Z2(),e=rp(),t="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(u){if(!e(u))return!1;var s=r(u);return s==n||s==i||s==t||s==o}return C1=a,C1}var P1,tC;function gV(){if(tC)return P1;tC=1;var r=Km(),e=r["__core-js_shared__"];return P1=e,P1}var A1,rC;function yV(){if(rC)return A1;rC=1;var r=gV(),e=function(){var n=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function t(n){return!!e&&e in n}return A1=t,A1}var R1,nC;function mV(){if(nC)return R1;nC=1;var r=Function.prototype,e=r.toString;function t(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return R1=t,R1}var I1,iC;function bV(){if(iC)return I1;iC=1;var r=pV(),e=yV(),t=rp(),n=mV(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,u=Object.prototype,s=a.toString,l=u.hasOwnProperty,c=RegExp("^"+s.call(l).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(h){if(!t(h)||e(h))return!1;var v=r(h)?c:o;return v.test(n(h))}return I1=f,I1}var D1,oC;function _V(){if(oC)return D1;oC=1;function r(e,t){return e?.[t]}return D1=r,D1}var M1,aC;function hE(){if(aC)return M1;aC=1;var r=bV(),e=_V();function t(n,i){var o=e(n,i);return r(o)?o:void 0}return M1=t,M1}var k1,sC;function e0(){if(sC)return k1;sC=1;var r=hE(),e=r(Object,"create");return k1=e,k1}var N1,uC;function wV(){if(uC)return N1;uC=1;var r=e0();function e(){this.__data__=r?r(null):{},this.size=0}return N1=e,N1}var L1,lC;function EV(){if(lC)return L1;lC=1;function r(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}return L1=r,L1}var j1,cC;function xV(){if(cC)return j1;cC=1;var r=e0(),e="__lodash_hash_undefined__",t=Object.prototype,n=t.hasOwnProperty;function i(o){var a=this.__data__;if(r){var u=a[o];return u===e?void 0:u}return n.call(a,o)?a[o]:void 0}return j1=i,j1}var B1,fC;function OV(){if(fC)return B1;fC=1;var r=e0(),e=Object.prototype,t=e.hasOwnProperty;function n(i){var o=this.__data__;return r?o[i]!==void 0:t.call(o,i)}return B1=n,B1}var F1,hC;function SV(){if(hC)return F1;hC=1;var r=e0(),e="__lodash_hash_undefined__";function t(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=r&&i===void 0?e:i,this}return F1=t,F1}var U1,dC;function TV(){if(dC)return U1;dC=1;var r=wV(),e=EV(),t=xV(),n=OV(),i=SV();function o(a){var u=-1,s=a==null?0:a.length;for(this.clear();++u<s;){var l=a[u];this.set(l[0],l[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,U1=o,U1}var z1,vC;function CV(){if(vC)return z1;vC=1;function r(){this.__data__=[],this.size=0}return z1=r,z1}var q1,pC;function EP(){if(pC)return q1;pC=1;function r(e,t){return e===t||e!==e&&t!==t}return q1=r,q1}var G1,gC;function t0(){if(gC)return G1;gC=1;var r=EP();function e(t,n){for(var i=t.length;i--;)if(r(t[i][0],n))return i;return-1}return G1=e,G1}var V1,yC;function PV(){if(yC)return V1;yC=1;var r=t0(),e=Array.prototype,t=e.splice;function n(i){var o=this.__data__,a=r(o,i);if(a<0)return!1;var u=o.length-1;return a==u?o.pop():t.call(o,a,1),--this.size,!0}return V1=n,V1}var W1,mC;function AV(){if(mC)return W1;mC=1;var r=t0();function e(t){var n=this.__data__,i=r(n,t);return i<0?void 0:n[i][1]}return W1=e,W1}var H1,bC;function RV(){if(bC)return H1;bC=1;var r=t0();function e(t){return r(this.__data__,t)>-1}return H1=e,H1}var Y1,_C;function IV(){if(_C)return Y1;_C=1;var r=t0();function e(t,n){var i=this.__data__,o=r(i,t);return o<0?(++this.size,i.push([t,n])):i[o][1]=n,this}return Y1=e,Y1}var X1,wC;function DV(){if(wC)return X1;wC=1;var r=CV(),e=PV(),t=AV(),n=RV(),i=IV();function o(a){var u=-1,s=a==null?0:a.length;for(this.clear();++u<s;){var l=a[u];this.set(l[0],l[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,X1=o,X1}var K1,EC;function MV(){if(EC)return K1;EC=1;var r=hE(),e=Km(),t=r(e,"Map");return K1=t,K1}var $1,xC;function kV(){if(xC)return $1;xC=1;var r=TV(),e=DV(),t=MV();function n(){this.size=0,this.__data__={hash:new r,map:new(t||e),string:new r}}return $1=n,$1}var Z1,OC;function NV(){if(OC)return Z1;OC=1;function r(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}return Z1=r,Z1}var Q1,SC;function r0(){if(SC)return Q1;SC=1;var r=NV();function e(t,n){var i=t.__data__;return r(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Q1=e,Q1}var J1,TC;function LV(){if(TC)return J1;TC=1;var r=r0();function e(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}return J1=e,J1}var ew,CC;function jV(){if(CC)return ew;CC=1;var r=r0();function e(t){return r(this,t).get(t)}return ew=e,ew}var tw,PC;function BV(){if(PC)return tw;PC=1;var r=r0();function e(t){return r(this,t).has(t)}return tw=e,tw}var rw,AC;function FV(){if(AC)return rw;AC=1;var r=r0();function e(t,n){var i=r(this,t),o=i.size;return i.set(t,n),this.size+=i.size==o?0:1,this}return rw=e,rw}var nw,RC;function UV(){if(RC)return nw;RC=1;var r=kV(),e=LV(),t=jV(),n=BV(),i=FV();function o(a){var u=-1,s=a==null?0:a.length;for(this.clear();++u<s;){var l=a[u];this.set(l[0],l[1])}}return o.prototype.clear=r,o.prototype.delete=e,o.prototype.get=t,o.prototype.has=n,o.prototype.set=i,nw=o,nw}var iw,IC;function zV(){if(IC)return iw;IC=1;var r=UV(),e="Expected a function";function t(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var a=arguments,u=i?i.apply(this,a):a[0],s=o.cache;if(s.has(u))return s.get(u);var l=n.apply(this,a);return o.cache=s.set(u,l)||s,l};return o.cache=new(t.Cache||r),o}return t.Cache=r,iw=t,iw}var ow,DC;function qV(){if(DC)return ow;DC=1;var r=zV(),e=500;function t(n){var i=r(n,function(a){return o.size===e&&o.clear(),a}),o=i.cache;return i}return ow=t,ow}var aw,MC;function xP(){if(MC)return aw;MC=1;var r=qV(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,n=r(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(a,u,s,l){o.push(s?l.replace(t,"$1"):u||a)}),o});return aw=n,aw}var sw,kC;function OP(){if(kC)return sw;kC=1;function r(e,t){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}return sw=r,sw}var uw,NC;function GV(){if(NC)return uw;NC=1;var r=nE(),e=OP(),t=Jm(),n=np(),i=r?r.prototype:void 0,o=i?i.toString:void 0;function a(u){if(typeof u=="string")return u;if(t(u))return e(u,a)+"";if(n(u))return o?o.call(u):"";var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}return uw=a,uw}var lw,LC;function SP(){if(LC)return lw;LC=1;var r=GV();function e(t){return t==null?"":r(t)}return lw=e,lw}var cw,jC;function TP(){if(jC)return cw;jC=1;var r=Jm(),e=vV(),t=xP(),n=SP();function i(o,a){return r(o)?o:e(o,a)?[o]:t(n(o))}return cw=i,cw}var fw,BC;function dE(){if(BC)return fw;BC=1;var r=np();function e(t){if(typeof t=="string"||r(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}return fw=e,fw}var hw,FC;function VV(){if(FC)return hw;FC=1;var r=TP(),e=dE();function t(n,i){i=r(i,n);for(var o=0,a=i.length;n!=null&&o<a;)n=n[e(i[o++])];return o&&o==a?n:void 0}return hw=t,hw}var dw,UC;function WV(){if(UC)return dw;UC=1;var r=VV();function e(t,n,i){var o=t==null?void 0:r(t,n);return o===void 0?i:o}return dw=e,dw}var HV=WV(),YV=tp(HV),vw,zC;function XV(){if(zC)return vw;zC=1;var r=hE(),e=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch{}}();return vw=e,vw}var pw,qC;function KV(){if(qC)return pw;qC=1;var r=XV();function e(t,n,i){n=="__proto__"&&r?r(t,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[n]=i}return pw=e,pw}var gw,GC;function $V(){if(GC)return gw;GC=1;var r=KV(),e=EP(),t=Object.prototype,n=t.hasOwnProperty;function i(o,a,u){var s=o[a];(!(n.call(o,a)&&e(s,u))||u===void 0&&!(a in o))&&r(o,a,u)}return gw=i,gw}var yw,VC;function ZV(){if(VC)return yw;VC=1;var r=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function t(n,i){var o=typeof n;return i=i??r,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return yw=t,yw}var mw,WC;function QV(){if(WC)return mw;WC=1;var r=$V(),e=TP(),t=ZV(),n=rp(),i=dE();function o(a,u,s,l){if(!n(a))return a;u=e(u,a);for(var c=-1,f=u.length,h=f-1,v=a;v!=null&&++c<f;){var d=i(u[c]),y=s;if(d==="__proto__"||d==="constructor"||d==="prototype")return a;if(c!=h){var p=v[d];y=l?l(p,d,v):void 0,y===void 0&&(y=n(p)?p:t(u[c+1])?[]:{})}r(v,d,y),v=v[d]}return a}return mw=o,mw}var bw,HC;function JV(){if(HC)return bw;HC=1;var r=QV();function e(t,n,i){return t==null?t:r(t,n,i)}return bw=e,bw}var e7=JV(),t7=tp(e7),_w,YC;function r7(){if(YC)return _w;YC=1;function r(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}return _w=r,_w}var ww,XC;function n7(){if(XC)return ww;XC=1;var r=OP(),e=r7(),t=Jm(),n=np(),i=xP(),o=dE(),a=SP();function u(s){return t(s)?r(s,o):n(s)?[s]:e(i(a(s)))}return ww=u,ww}var i7=n7(),o7=tp(i7),a7={data:function(e){var t={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(i){},beforeSet:function(i,o){},onSet:function(i){},canSet:function(i){return!0}};return e=Nt({},t,e),function(i,o){var a=e,u=this,s=u.length!==void 0,l=s?u:[u],c=s?u[0]:u;if(St(i)){var f=i.indexOf(".")!==-1,h=f&&o7(i);if(a.allowGetting&&o===void 0){var v;return c&&(a.beforeGet(c),h&&c._private[a.field][i]===void 0?v=YV(c._private[a.field],h):v=c._private[a.field][i]),v}else if(a.allowSetting&&o!==void 0){var d=!a.immutableKeys[i];if(d){var y=z2({},i,o);a.beforeSet(u,y);for(var p=0,g=l.length;p<g;p++){var b=l[p];a.canSet(b)&&(h&&c._private[a.field][i]===void 0?t7(b._private[a.field],h,o):b._private[a.field][i]=o)}a.updateStyle&&u.updateStyle(),a.onSet(u),a.settingTriggersEvent&&u[a.triggerFnName](a.settingEvent)}}}else if(a.allowSetting&&Dr(i)){var m=i,_,w,O=Object.keys(m);a.beforeSet(u,m);for(var E=0;E<O.length;E++){_=O[E],w=m[_];var S=!a.immutableKeys[_];if(S)for(var P=0;P<l.length;P++){var I=l[P];a.canSet(I)&&(I._private[a.field][_]=w)}}a.updateStyle&&u.updateStyle(),a.onSet(u),a.settingTriggersEvent&&u[a.triggerFnName](a.settingEvent)}else if(a.allowBinding&&xn(i)){var R=i;u.on(a.bindingEvent,R)}else if(a.allowGetting&&i===void 0){var D;return c&&(a.beforeGet(c),D=c._private[a.field]),D}return u}},removeData:function(e){var t={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=Nt({},t,e),function(i){var o=e,a=this,u=a.length!==void 0,s=u?a:[a];if(St(i)){for(var l=i.split(/\s+/),c=l.length,f=0;f<c;f++){var h=l[f];if(!ol(h)){var v=!o.immutableKeys[h];if(v)for(var d=0,y=s.length;d<y;d++)s[d]._private[o.field][h]=void 0}}o.triggerEvent&&a[o.triggerFnName](o.event)}else if(i===void 0){for(var p=0,g=s.length;p<g;p++)for(var b=s[p]._private[o.field],m=Object.keys(b),_=0;_<m.length;_++){var w=m[_],O=!o.immutableKeys[w];O&&(b[w]=void 0)}o.triggerEvent&&a[o.triggerFnName](o.event)}return a}}},s7={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(n,i){var o=this,a=Array.prototype.slice.call(arguments,0);return new Th(function(u,s){var l=function(v){o.off.apply(o,f),u(v)},c=a.concat([l]),f=c.concat([]);o.on.apply(o,c)})}}},qr={};[dV,a7,s7].forEach(function(r){Nt(qr,r)});var u7={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop()},Tm={classes:function(e){var t=this;if(e===void 0){var n=[];return t[0]._private.classes.forEach(function(d){return n.push(d)}),n}else Zr(e)||(e=(e||"").match(/\S+/g)||[]);for(var i=[],o=new Sh(e),a=0;a<t.length;a++){for(var u=t[a],s=u._private,l=s.classes,c=!1,f=0;f<e.length;f++){var h=e[f],v=l.has(h);if(!v){c=!0;break}}c||(c=l.size!==e.length),c&&(s.classes=o,i.push(u))}return i.length>0&&this.spawn(i).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return t!=null&&t._private.classes.has(e)},toggleClass:function(e,t){Zr(e)||(e=e.match(/\S+/g)||[]);for(var n=this,i=t===void 0,o=[],a=0,u=n.length;a<u;a++)for(var s=n[a],l=s._private.classes,c=!1,f=0;f<e.length;f++){var h=e[f],v=l.has(h),d=!1;t||i&&!v?(l.add(h),d=!0):(!t||i&&v)&&(l.delete(h),d=!0),!c&&d&&(o.push(s),c=!0)}return o.length>0&&this.spawn(o).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(t==null)t=250;else if(t===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},t),n}};Tm.className=Tm.classNames=Tm.classes;var Ir={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:ti,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Ir.variable="(?:[\\w-.]|(?:\\\\"+Ir.metaChar+"))+";Ir.className="(?:[\\w-]|(?:\\\\"+Ir.metaChar+"))+";Ir.value=Ir.string+"|"+Ir.number;Ir.id=Ir.variable;(function(){var r,e,t;for(r=Ir.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],Ir.comparatorOp+="|@"+e;for(r=Ir.comparatorOp.split("|"),t=0;t<r.length;t++)e=r[t],!(e.indexOf("!")>=0)&&e!=="="&&(Ir.comparatorOp+="|\\!"+e)})();var Yr=function(){return{checks:[]}},yt={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},zw=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(r,e){return a9(r.selector,e.selector)}),l7=function(){for(var r={},e,t=0;t<zw.length;t++)e=zw[t],r[e.selector]=e.matches;return r}(),c7=function(e,t){return l7[e](t)},f7="("+zw.map(function(r){return r.selector}).join("|")+")",sh=function(e){return e.replace(new RegExp("\\\\("+Ir.metaChar+")","g"),function(t,n){return n})},Qu=function(e,t,n){e[e.length-1]=n},qw=[{name:"group",query:!0,regex:"("+Ir.group+")",populate:function(e,t,n){var i=Gn(n,1),o=i[0];t.checks.push({type:yt.GROUP,value:o==="*"?o:o+"s"})}},{name:"state",query:!0,regex:f7,populate:function(e,t,n){var i=Gn(n,1),o=i[0];t.checks.push({type:yt.STATE,value:o})}},{name:"id",query:!0,regex:"\\#("+Ir.id+")",populate:function(e,t,n){var i=Gn(n,1),o=i[0];t.checks.push({type:yt.ID,value:sh(o)})}},{name:"className",query:!0,regex:"\\.("+Ir.className+")",populate:function(e,t,n){var i=Gn(n,1),o=i[0];t.checks.push({type:yt.CLASS,value:sh(o)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Ir.variable+")\\s*\\]",populate:function(e,t,n){var i=Gn(n,1),o=i[0];t.checks.push({type:yt.DATA_EXIST,field:sh(o)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Ir.variable+")\\s*("+Ir.comparatorOp+")\\s*("+Ir.value+")\\s*\\]",populate:function(e,t,n){var i=Gn(n,3),o=i[0],a=i[1],u=i[2],s=new RegExp("^"+Ir.string+"$").exec(u)!=null;s?u=u.substring(1,u.length-1):u=parseFloat(u),t.checks.push({type:yt.DATA_COMPARE,field:sh(o),operator:a,value:u})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Ir.boolOp+")\\s*("+Ir.variable+")\\s*\\]",populate:function(e,t,n){var i=Gn(n,2),o=i[0],a=i[1];t.checks.push({type:yt.DATA_BOOL,field:sh(a),operator:o})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Ir.meta+")\\s*("+Ir.comparatorOp+")\\s*("+Ir.number+")\\s*\\]\\]",populate:function(e,t,n){var i=Gn(n,3),o=i[0],a=i[1],u=i[2];t.checks.push({type:yt.META_COMPARE,field:sh(o),operator:a,value:parseFloat(u)})}},{name:"nextQuery",separator:!0,regex:Ir.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,o=e.compoundCount,a=e[e.length-1];n!=null&&(a.subject=n,e.currentSubject=null),a.edgeCount=i,a.compoundCount=o,e.edgeCount=0,e.compoundCount=0;var u=e[e.length++]=Yr();return u}},{name:"directedEdge",separator:!0,regex:Ir.directedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Yr(),i=t,o=Yr();return n.checks.push({type:yt.DIRECTED_EDGE,source:i,target:o}),Qu(e,t,n),e.edgeCount++,o}else{var a=Yr(),u=t,s=Yr();return a.checks.push({type:yt.NODE_SOURCE,source:u,target:s}),Qu(e,t,a),e.edgeCount++,s}}},{name:"undirectedEdge",separator:!0,regex:Ir.undirectedEdge,populate:function(e,t){if(e.currentSubject==null){var n=Yr(),i=t,o=Yr();return n.checks.push({type:yt.UNDIRECTED_EDGE,nodes:[i,o]}),Qu(e,t,n),e.edgeCount++,o}else{var a=Yr(),u=t,s=Yr();return a.checks.push({type:yt.NODE_NEIGHBOR,node:u,neighbor:s}),Qu(e,t,a),s}}},{name:"child",separator:!0,regex:Ir.child,populate:function(e,t){if(e.currentSubject==null){var n=Yr(),i=Yr(),o=e[e.length-1];return n.checks.push({type:yt.CHILD,parent:o,child:i}),Qu(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var a=Yr(),u=e[e.length-1],s=Yr(),l=Yr(),c=Yr(),f=Yr();return a.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:yt.TRUE}],f.checks.push({type:yt.TRUE}),s.checks.push({type:yt.PARENT,parent:f,child:c}),Qu(e,u,a),e.currentSubject=l,e.compoundCount++,c}else{var h=Yr(),v=Yr(),d=[{type:yt.PARENT,parent:h,child:v}];return h.checks=t.checks,t.checks=d,e.compoundCount++,v}}},{name:"descendant",separator:!0,regex:Ir.descendant,populate:function(e,t){if(e.currentSubject==null){var n=Yr(),i=Yr(),o=e[e.length-1];return n.checks.push({type:yt.DESCENDANT,ancestor:o,descendant:i}),Qu(e,t,n),e.compoundCount++,i}else if(e.currentSubject===t){var a=Yr(),u=e[e.length-1],s=Yr(),l=Yr(),c=Yr(),f=Yr();return a.checks.push({type:yt.COMPOUND_SPLIT,left:u,right:s,subject:l}),l.checks=t.checks,t.checks=[{type:yt.TRUE}],f.checks.push({type:yt.TRUE}),s.checks.push({type:yt.ANCESTOR,ancestor:f,descendant:c}),Qu(e,u,a),e.currentSubject=l,e.compoundCount++,c}else{var h=Yr(),v=Yr(),d=[{type:yt.ANCESTOR,ancestor:h,descendant:v}];return h.checks=t.checks,t.checks=d,e.compoundCount++,v}}},{name:"subject",modifier:!0,regex:Ir.subject,populate:function(e,t){if(e.currentSubject!=null&&e.currentSubject!==t)return Gr("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1],i=n.checks[0],o=i==null?null:i.type;o===yt.DIRECTED_EDGE?i.type=yt.NODE_TARGET:o===yt.UNDIRECTED_EDGE&&(i.type=yt.NODE_NEIGHBOR,i.node=i.nodes[1],i.neighbor=i.nodes[0],i.nodes=null)}}];qw.forEach(function(r){return r.regexObj=new RegExp("^"+r.regex)});var h7=function(e){for(var t,n,i,o=0;o<qw.length;o++){var a=qw[o],u=a.name,s=e.match(a.regexObj);if(s!=null){n=s,t=a,i=u;var l=s[0];e=e.substring(l.length);break}}return{expr:t,match:n,name:i,remaining:e}},d7=function(e){var t=e.match(/^\s+/);if(t){var n=t[0];e=e.substring(n.length)}return e},v7=function(e){var t=this,n=t.inputText=e,i=t[0]=Yr();for(t.length=1,n=d7(n);;){var o=h7(n);if(o.expr==null)return Gr("The selector `"+e+"`is invalid"),!1;var a=o.match.slice(1),u=o.expr.populate(t,i,a);if(u===!1)return!1;if(u!=null&&(i=u),n=o.remaining,n.match(/^\s*$/))break}var s=t[t.length-1];t.currentSubject!=null&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var l=0;l<t.length;l++){var c=t[l];if(c.compoundCount>0&&c.edgeCount>0)return Gr("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(c.edgeCount>1)return Gr("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;c.edgeCount===1&&Gr("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},p7=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(c){return c??""},t=function(c){return St(c)?'"'+c+'"':e(c)},n=function(c){return" "+c+" "},i=function(c,f){var h=c.type,v=c.value;switch(h){case yt.GROUP:{var d=e(v);return d.substring(0,d.length-1)}case yt.DATA_COMPARE:{var y=c.field,p=c.operator;return"["+y+n(e(p))+t(v)+"]"}case yt.DATA_BOOL:{var g=c.operator,b=c.field;return"["+e(g)+b+"]"}case yt.DATA_EXIST:{var m=c.field;return"["+m+"]"}case yt.META_COMPARE:{var _=c.operator,w=c.field;return"[["+w+n(e(_))+t(v)+"]]"}case yt.STATE:return v;case yt.ID:return"#"+v;case yt.CLASS:return"."+v;case yt.PARENT:case yt.CHILD:return o(c.parent,f)+n(">")+o(c.child,f);case yt.ANCESTOR:case yt.DESCENDANT:return o(c.ancestor,f)+" "+o(c.descendant,f);case yt.COMPOUND_SPLIT:{var O=o(c.left,f),E=o(c.subject,f),S=o(c.right,f);return O+(O.length>0?" ":"")+E+S}case yt.TRUE:return""}},o=function(c,f){return c.checks.reduce(function(h,v,d){return h+(f===c&&d===0?"$":"")+i(v,f)},"")},a="",u=0;u<this.length;u++){var s=this[u];a+=o(s,s.subject),this.length>1&&u<this.length-1&&(a+=", ")}return this.toStringCache=a,a},g7={parse:v7,toString:p7},CP=function(e,t,n){var i,o=St(e),a=at(e),u=St(n),s,l,c=!1,f=!1,h=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),f=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(o||u||c)&&(s=!o&&!a?"":""+e,l=""+n),c&&(e=s=s.toLowerCase(),n=l=l.toLowerCase()),t){case"*=":i=s.indexOf(l)>=0;break;case"$=":i=s.indexOf(l,s.length-l.length)>=0;break;case"^=":i=s.indexOf(l)===0;break;case"=":i=e===n;break;case">":h=!0,i=e>n;break;case">=":h=!0,i=e>=n;break;case"<":h=!0,i=e<n;break;case"<=":h=!0,i=e<=n;break;default:i=!1;break}return f&&(e!=null||!h)&&(i=!i),i},y7=function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},m7=function(e){return e!==void 0},vE=function(e,t){return e.data(t)},b7=function(e,t){return e[t]()},An=[],un=function(e,t){return e.checks.every(function(n){return An[n.type](n,t)})};An[yt.GROUP]=function(r,e){var t=r.value;return t==="*"||t===e.group()};An[yt.STATE]=function(r,e){var t=r.value;return c7(t,e)};An[yt.ID]=function(r,e){var t=r.value;return e.id()===t};An[yt.CLASS]=function(r,e){var t=r.value;return e.hasClass(t)};An[yt.META_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return CP(b7(e,t),n,i)};An[yt.DATA_COMPARE]=function(r,e){var t=r.field,n=r.operator,i=r.value;return CP(vE(e,t),n,i)};An[yt.DATA_BOOL]=function(r,e){var t=r.field,n=r.operator;return y7(vE(e,t),n)};An[yt.DATA_EXIST]=function(r,e){var t=r.field;return r.operator,m7(vE(e,t))};An[yt.UNDIRECTED_EDGE]=function(r,e){var t=r.nodes[0],n=r.nodes[1],i=e.source(),o=e.target();return un(t,i)&&un(n,o)||un(n,i)&&un(t,o)};An[yt.NODE_NEIGHBOR]=function(r,e){return un(r.node,e)&&e.neighborhood().some(function(t){return t.isNode()&&un(r.neighbor,t)})};An[yt.DIRECTED_EDGE]=function(r,e){return un(r.source,e.source())&&un(r.target,e.target())};An[yt.NODE_SOURCE]=function(r,e){return un(r.source,e)&&e.outgoers().some(function(t){return t.isNode()&&un(r.target,t)})};An[yt.NODE_TARGET]=function(r,e){return un(r.target,e)&&e.incomers().some(function(t){return t.isNode()&&un(r.source,t)})};An[yt.CHILD]=function(r,e){return un(r.child,e)&&un(r.parent,e.parent())};An[yt.PARENT]=function(r,e){return un(r.parent,e)&&e.children().some(function(t){return un(r.child,t)})};An[yt.DESCENDANT]=function(r,e){return un(r.descendant,e)&&e.ancestors().some(function(t){return un(r.ancestor,t)})};An[yt.ANCESTOR]=function(r,e){return un(r.ancestor,e)&&e.descendants().some(function(t){return un(r.descendant,t)})};An[yt.COMPOUND_SPLIT]=function(r,e){return un(r.subject,e)&&un(r.left,e)&&un(r.right,e)};An[yt.TRUE]=function(){return!0};An[yt.COLLECTION]=function(r,e){var t=r.value;return t.has(e)};An[yt.FILTER]=function(r,e){var t=r.value;return t(e)};var _7=function(e){var t=this;if(t.length===1&&t[0].checks.length===1&&t[0].checks[0].type===yt.ID)return e.getElementById(t[0].checks[0].value).collection();var n=function(o){for(var a=0;a<t.length;a++){var u=t[a];if(un(u,o))return!0}return!1};return t.text()==null&&(n=function(){return!0}),e.filter(n)},w7=function(e){for(var t=this,n=0;n<t.length;n++){var i=t[n];if(un(i,e))return!0}return!1},E7={matches:w7,filter:_7},ul=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||St(e)&&e.match(/^\s*$/)||(Jo(e)?this.addQuery({checks:[{type:yt.COLLECTION,value:e.collection()}]}):xn(e)?this.addQuery({checks:[{type:yt.FILTER,value:e}]}):St(e)?this.parse(e)||(this.invalid=!0):mn("A selector must be created from a string; found "))},ll=ul.prototype;[g7,E7].forEach(function(r){return Nt(ll,r)});ll.text=function(){return this.inputText};ll.size=function(){return this.length};ll.eq=function(r){return this[r]};ll.sameText=function(r){return!this.invalid&&!r.invalid&&this.text()===r.text()};ll.addQuery=function(r){this[this.length++]=r};ll.selector=ll.toString;var nl={allAre:function(e){var t=new ul(e);return this.every(function(n){return t.matches(n)})},is:function(e){var t=new ul(e);return this.some(function(n){return t.matches(n)})},some:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(i)return!0}return!1},every:function(e,t){for(var n=0;n<this.length;n++){var i=t?e.apply(t,[this[n],n,this]):e(this[n],n,this);if(!i)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length,n=e.length;return t!==n?!1:t===1?this[0]===e[0]:this.every(function(i){return e.hasElementWithId(i.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(n){return t.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(n){return t.hasElementWithId(n.id())})}};nl.allAreNeighbours=nl.allAreNeighbors;nl.has=nl.contains;nl.equal=nl.equals=nl.same;var xa=function(e,t){return function(i,o,a,u){var s=i,l=this,c;if(s==null?c="":Jo(s)&&s.length===1&&(c=s.id()),l.length===1&&c){var f=l[0]._private,h=f.traversalCache=f.traversalCache||{},v=h[t]=h[t]||[],d=Rc(c),y=v[d];return y||(v[d]=e.call(l,i,o,a,u))}else return e.call(l,i,o,a,u)}},Oh={parent:function(e){var t=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var o=this[i],a=o._private.parent;a&&t.push(a)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++){var o=n[i];t.push(o)}n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n],o=i.parents();t=t||o,t=t.intersect(o)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(t){return t.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(t){return t.isChild()}).filter(e)},children:xa(function(r){for(var e=[],t=0;t<this.length;t++)for(var n=this[t],i=n._private.children,o=0;o<i.length;o++)e.push(i[o]);return this.spawn(e,!0).filter(r)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var t=[];function n(i){for(var o=0;o<i.length;o++){var a=i[o];t.push(a),a.children().nonempty()&&n(a.children())}}return n(this.children()),this.spawn(t,!0).filter(e)}};function pE(r,e,t,n){for(var i=[],o=new Sh,a=r.cy(),u=a.hasCompoundNodes(),s=0;s<r.length;s++){var l=r[s];t?i.push(l):u&&n(i,o,l)}for(;i.length>0;){var c=i.shift();e(c),o.add(c.id()),u&&n(i,o,c)}return r}function PP(r,e,t){if(t.isParent())for(var n=t._private.children,i=0;i<n.length;i++){var o=n[i];e.has(o.id())||r.push(o)}}Oh.forEachDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pE(this,r,e,PP)};function AP(r,e,t){if(t.isChild()){var n=t._private.parent;e.has(n.id())||r.push(n)}}Oh.forEachUp=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pE(this,r,e,AP)};function x7(r,e,t){AP(r,e,t),PP(r,e,t)}Oh.forEachUpAndDown=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pE(this,r,e,x7)};Oh.ancestors=Oh.parents;var Xv,RP;Xv=RP={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:qr.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:qr.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Xv.attr=Xv.data;Xv.removeAttr=Xv.removeData;var O7=RP,n0={};function Ew(r){return function(e){var t=this;if(e===void 0&&(e=!0),t.length!==0)if(t.isNode()&&!t.removed()){for(var n=0,i=t[0],o=i._private.edges,a=0;a<o.length;a++){var u=o[a];!e&&u.isLoop()||(n+=r(i,u))}return n}else return}}Nt(n0,{degree:Ew(function(r,e){return e.source().same(e.target())?2:1}),indegree:Ew(function(r,e){return e.target().same(r)?1:0}),outdegree:Ew(function(r,e){return e.source().same(r)?1:0})});function uh(r,e){return function(t){for(var n,i=this.nodes(),o=0;o<i.length;o++){var a=i[o],u=a[r](t);u!==void 0&&(n===void 0||e(u,n))&&(n=u)}return n}}Nt(n0,{minDegree:uh("degree",function(r,e){return r<e}),maxDegree:uh("degree",function(r,e){return r>e}),minIndegree:uh("indegree",function(r,e){return r<e}),maxIndegree:uh("indegree",function(r,e){return r>e}),minOutdegree:uh("outdegree",function(r,e){return r<e}),maxOutdegree:uh("outdegree",function(r,e){return r>e})});Nt(n0,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var Va,IP,DP=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];if(!o.locked()){var a=o._private.position,u={x:t.x!=null?t.x-a.x:0,y:t.y!=null?t.y-a.y:0};o.isParent()&&!(u.x===0&&u.y===0)&&o.children().shift(u,n),o.dirtyBoundingBoxCache()}}},KC={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){DP(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Va=IP={position:qr.data(KC),silentPosition:qr.data(Nt({},KC,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){DP(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(Dr(e))t?this.silentPosition(e):this.position(e);else if(xn(e)){var n=e,i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var a=this[o],u=void 0;(u=n(a,o))&&(t?a.silentPosition(u):a.position(u))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(Dr(e)?(i={x:at(e.x)?e.x:0,y:at(e.y)?e.y:0},n=t):St(e)&&at(t)&&(i={x:0,y:0},i[e]=t),i!=null){var o=this.cy();o.startBatch();for(var a=0;a<this.length;a++){var u=this[a];if(!(o.hasCompoundNodes()&&u.isChild()&&u.ancestors().anySame(this))){var s=u.position(),l={x:s.x+i.x,y:s.y+i.y};n?u.silentPosition(l):u.position(l)}}o.endBatch()}return this},silentShift:function(e,t){return Dr(e)?this.shift(e,!0):St(e)&&at(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),o=i.zoom(),a=i.pan(),u=Dr(e)?e:void 0,s=u!==void 0||t!==void 0&&St(e);if(n&&n.isNode())if(s)for(var l=0;l<this.length;l++){var c=this[l];t!==void 0?c.position(e,(t-a[e])/o):u!==void 0&&c.position(aP(u,o,a))}else{var f=n.position();return u=Zm(f,o,a),e===void 0?u:u[e]}else if(!s)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),o=Dr(e)?e:void 0,a=o!==void 0||t!==void 0&&St(e),u=i.hasCompoundNodes();if(n&&n.isNode())if(a)for(var s=0;s<this.length;s++){var l=this[s],c=u?l.parent():null,f=c&&c.length>0,h=f;f&&(c=c[0]);var v=h?c.position():{x:0,y:0};t!==void 0?l.position(e,t+v[e]):o!==void 0&&l.position({x:o.x+v.x,y:o.y+v.y})}else{var d=n.position(),y=u?n.parent():null,p=y&&y.length>0,g=p;p&&(y=y[0]);var b=g?y.position():{x:0,y:0};return o={x:d.x-b.x,y:d.y-b.y},e===void 0?o:o[e]}else if(!a)return;return this}};Va.modelPosition=Va.point=Va.position;Va.modelPositions=Va.points=Va.positions;Va.renderedPoint=Va.renderedPosition;Va.relativePoint=Va.relativePosition;var S7=IP,wh,dl;wh=dl={};dl.renderedBoundingBox=function(r){var e=this.boundingBox(r),t=this.cy(),n=t.zoom(),i=t.pan(),o=e.x1*n+i.x,a=e.x2*n+i.x,u=e.y1*n+i.y,s=e.y2*n+i.y;return{x1:o,x2:a,y1:u,y2:s,w:a-o,h:s-u}};dl.dirtyCompoundBoundsCache=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(t){if(t.isParent()){var n=t._private;n.compoundBoundsClean=!1,n.bbCache=null,r||t.emitAndNotify("bounds")}}),this)};dl.updateCompoundBounds=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!r&&e.batching())return this;function t(a){if(!a.isParent())return;var u=a._private,s=a.children(),l=a.pstyle("compound-sizing-wrt-labels").value==="include",c={width:{val:a.pstyle("min-width").pfValue,left:a.pstyle("min-width-bias-left"),right:a.pstyle("min-width-bias-right")},height:{val:a.pstyle("min-height").pfValue,top:a.pstyle("min-height-bias-top"),bottom:a.pstyle("min-height-bias-bottom")}},f=s.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),h=u.position;(f.w===0||f.h===0)&&(f={w:a.pstyle("width").pfValue,h:a.pstyle("height").pfValue},f.x1=h.x-f.w/2,f.x2=h.x+f.w/2,f.y1=h.y-f.h/2,f.y2=h.y+f.h/2);function v(P,I,R){var D=0,k=0,N=I+R;return P>0&&N>0&&(D=I/N*P,k=R/N*P),{biasDiff:D,biasComplementDiff:k}}function d(P,I,R,D){if(R.units==="%")switch(D){case"width":return P>0?R.pfValue*P:0;case"height":return I>0?R.pfValue*I:0;case"average":return P>0&&I>0?R.pfValue*(P+I)/2:0;case"min":return P>0&&I>0?P>I?R.pfValue*I:R.pfValue*P:0;case"max":return P>0&&I>0?P>I?R.pfValue*P:R.pfValue*I:0;default:return 0}else return R.units==="px"?R.pfValue:0}var y=c.width.left.value;c.width.left.units==="px"&&c.width.val>0&&(y=y*100/c.width.val);var p=c.width.right.value;c.width.right.units==="px"&&c.width.val>0&&(p=p*100/c.width.val);var g=c.height.top.value;c.height.top.units==="px"&&c.height.val>0&&(g=g*100/c.height.val);var b=c.height.bottom.value;c.height.bottom.units==="px"&&c.height.val>0&&(b=b*100/c.height.val);var m=v(c.width.val-f.w,y,p),_=m.biasDiff,w=m.biasComplementDiff,O=v(c.height.val-f.h,g,b),E=O.biasDiff,S=O.biasComplementDiff;u.autoPadding=d(f.w,f.h,a.pstyle("padding"),a.pstyle("padding-relative-to").value),u.autoWidth=Math.max(f.w,c.width.val),h.x=(-_+f.x1+f.x2+w)/2,u.autoHeight=Math.max(f.h,c.height.val),h.y=(-E+f.y1+f.y2+S)/2}for(var n=0;n<this.length;n++){var i=this[n],o=i._private;(!o.compoundBoundsClean||r)&&(t(i),e.batching()||(o.compoundBoundsClean=!0))}return this};var Ea=function(e){return e===1/0||e===-1/0?0:e},Ga=function(e,t,n,i,o){i-t===0||o-n===0||t==null||n==null||i==null||o==null||(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=o>e.y2?o:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ju=function(e,t){return t==null?e:Ga(e,t.x1,t.y1,t.x2,t.y2)},Iv=function(e,t,n){return Ao(e,t,n)},gm=function(e,t,n){if(!t.cy().headless()){var i=t._private,o=i.rstyle,a=o.arrowWidth/2,u=t.pstyle(n+"-arrow-shape").value,s,l;if(u!=="none"){n==="source"?(s=o.srcX,l=o.srcY):n==="target"?(s=o.tgtX,l=o.tgtY):(s=o.midX,l=o.midY);var c=i.arrowBounds=i.arrowBounds||{},f=c[n]=c[n]||{};f.x1=s-a,f.y1=l-a,f.x2=s+a,f.y2=l+a,f.w=f.x2-f.x1,f.h=f.y2-f.y1,Om(f,1),Ga(e,f.x1,f.y1,f.x2,f.y2)}}},xw=function(e,t,n){if(!t.cy().headless()){var i;n?i=n+"-":i="";var o=t._private,a=o.rstyle,u=t.pstyle(i+"label").strValue;if(u){var s=t.pstyle("text-halign"),l=t.pstyle("text-valign"),c=Iv(a,"labelWidth",n),f=Iv(a,"labelHeight",n),h=Iv(a,"labelX",n),v=Iv(a,"labelY",n),d=t.pstyle(i+"text-margin-x").pfValue,y=t.pstyle(i+"text-margin-y").pfValue,p=t.isEdge(),g=t.pstyle(i+"text-rotation"),b=t.pstyle("text-outline-width").pfValue,m=t.pstyle("text-border-width").pfValue,_=m/2,w=t.pstyle("text-background-padding").pfValue,O=2,E=f,S=c,P=S/2,I=E/2,R,D,k,N;if(p)R=h-P,D=h+P,k=v-I,N=v+I;else{switch(s.value){case"left":R=h-S,D=h;break;case"center":R=h-P,D=h+P;break;case"right":R=h,D=h+S;break}switch(l.value){case"top":k=v-E,N=v;break;case"center":k=v-I,N=v+I;break;case"bottom":k=v,N=v+E;break}}var B=d-Math.max(b,_)-w-O,z=d+Math.max(b,_)+w+O,F=y-Math.max(b,_)-w-O,U=y+Math.max(b,_)+w+O;R+=B,D+=z,k+=F,N+=U;var W=n||"main",Y=o.labelBounds,X=Y[W]=Y[W]||{};X.x1=R,X.y1=k,X.x2=D,X.y2=N,X.w=D-R,X.h=N-k,X.leftPad=B,X.rightPad=z,X.topPad=F,X.botPad=U;var Q=p&&g.strValue==="autorotate",ue=g.pfValue!=null&&g.pfValue!==0;if(Q||ue){var ce=Q?Iv(o.rstyle,"labelAngle",n):g.pfValue,ae=Math.cos(ce),pe=Math.sin(ce),fe=(R+D)/2,he=(k+N)/2;if(!p){switch(s.value){case"left":fe=D;break;case"right":fe=R;break}switch(l.value){case"top":he=N;break;case"bottom":he=k;break}}var ee=function(xe,j){return xe=xe-fe,j=j-he,{x:xe*ae-j*pe+fe,y:xe*pe+j*ae+he}},K=ee(R,k),J=ee(R,N),ie=ee(D,k),de=ee(D,N);R=Math.min(K.x,J.x,ie.x,de.x),D=Math.max(K.x,J.x,ie.x,de.x),k=Math.min(K.y,J.y,ie.y,de.y),N=Math.max(K.y,J.y,ie.y,de.y)}var _e=W+"Rot",Ce=Y[_e]=Y[_e]||{};Ce.x1=R,Ce.y1=k,Ce.x2=D,Ce.y2=N,Ce.w=D-R,Ce.h=N-k,Ga(e,R,k,D,N),Ga(o.labelBounds.all,R,k,D,N)}return e}},$C=function(e,t){if(!t.cy().headless()){var n=t.pstyle("outline-opacity").value,i=t.pstyle("outline-width").value,o=t.pstyle("outline-offset").value,a=i+o;MP(e,t,n,a,"outside",a/2)}},MP=function(e,t,n,i,o,a){if(!(n===0||i<=0||o==="inside")){var u=t.cy(),s=t.pstyle("shape").value,l=u.renderer().nodeShapes[s],c=t.position(),f=c.x,h=c.y,v=t.width(),d=t.height();if(l.hasMiterBounds){o==="center"&&(i/=2);var y=l.miterBounds(f,h,v,d,i);Ju(e,y)}else a!=null&&a>0&&Sm(e,[a,a,a,a])}},T7=function(e,t){if(!t.cy().headless()){var n=t.pstyle("border-opacity").value,i=t.pstyle("border-width").pfValue,o=t.pstyle("border-position").value;MP(e,t,n,i,o)}},C7=function(e,t){var n=e._private.cy,i=n.styleEnabled(),o=n.headless(),a=eo(),u=e._private,s=e.isNode(),l=e.isEdge(),c,f,h,v,d,y,p=u.rstyle,g=s&&i?e.pstyle("bounds-expansion").pfValue:[0],b=function(Ae){return Ae.pstyle("display").value!=="none"},m=!i||b(e)&&(!l||b(e.source())&&b(e.target()));if(m){var _=0,w=0;i&&t.includeOverlays&&(_=e.pstyle("overlay-opacity").value,_!==0&&(w=e.pstyle("overlay-padding").value));var O=0,E=0;i&&t.includeUnderlays&&(O=e.pstyle("underlay-opacity").value,O!==0&&(E=e.pstyle("underlay-padding").value));var S=Math.max(w,E),P=0,I=0;if(i&&(P=e.pstyle("width").pfValue,I=P/2),s&&t.includeNodes){var R=e.position();d=R.x,y=R.y;var D=e.outerWidth(),k=D/2,N=e.outerHeight(),B=N/2;c=d-k,f=d+k,h=y-B,v=y+B,Ga(a,c,h,f,v),i&&$C(a,e),i&&t.includeOutlines&&!o&&$C(a,e),i&&T7(a,e)}else if(l&&t.includeEdges)if(i&&!o){var z=e.pstyle("curve-style").strValue;if(c=Math.min(p.srcX,p.midX,p.tgtX),f=Math.max(p.srcX,p.midX,p.tgtX),h=Math.min(p.srcY,p.midY,p.tgtY),v=Math.max(p.srcY,p.midY,p.tgtY),c-=I,f+=I,h-=I,v+=I,Ga(a,c,h,f,v),z==="haystack"){var F=p.haystackPts;if(F&&F.length===2){if(c=F[0].x,h=F[0].y,f=F[1].x,v=F[1].y,c>f){var U=c;c=f,f=U}if(h>v){var W=h;h=v,v=W}Ga(a,c-I,h-I,f+I,v+I)}}else if(z==="bezier"||z==="unbundled-bezier"||el(z,"segments")||el(z,"taxi")){var Y;switch(z){case"bezier":case"unbundled-bezier":Y=p.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":Y=p.linePts;break}if(Y!=null)for(var X=0;X<Y.length;X++){var Q=Y[X];c=Q.x-I,f=Q.x+I,h=Q.y-I,v=Q.y+I,Ga(a,c,h,f,v)}}}else{var ue=e.source(),ce=ue.position(),ae=e.target(),pe=ae.position();if(c=ce.x,f=pe.x,h=ce.y,v=pe.y,c>f){var fe=c;c=f,f=fe}if(h>v){var he=h;h=v,v=he}c-=I,f+=I,h-=I,v+=I,Ga(a,c,h,f,v)}if(i&&t.includeEdges&&l&&(gm(a,e,"mid-source"),gm(a,e,"mid-target"),gm(a,e,"source"),gm(a,e,"target")),i){var ee=e.pstyle("ghost").value==="yes";if(ee){var K=e.pstyle("ghost-offset-x").pfValue,J=e.pstyle("ghost-offset-y").pfValue;Ga(a,a.x1+K,a.y1+J,a.x2+K,a.y2+J)}}var ie=u.bodyBounds=u.bodyBounds||{};NT(ie,a),Sm(ie,g),Om(ie,1),i&&(c=a.x1,f=a.x2,h=a.y1,v=a.y2,Ga(a,c-S,h-S,f+S,v+S));var de=u.overlayBounds=u.overlayBounds||{};NT(de,a),Sm(de,g),Om(de,1);var _e=u.labelBounds=u.labelBounds||{};_e.all!=null?uG(_e.all):_e.all=eo(),i&&t.includeLabels&&(t.includeMainLabels&&xw(a,e,null),l&&(t.includeSourceLabels&&xw(a,e,"source"),t.includeTargetLabels&&xw(a,e,"target")))}return a.x1=Ea(a.x1),a.y1=Ea(a.y1),a.x2=Ea(a.x2),a.y2=Ea(a.y2),a.w=Ea(a.x2-a.x1),a.h=Ea(a.y2-a.y1),a.w>0&&a.h>0&&m&&(Sm(a,g),Om(a,1)),a},kP=function(e){var t=0,n=function(a){return(a?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),i+=n(e.includeTargetLabels),i+=n(e.includeOverlays),i+=n(e.includeOutlines),i},NP=function(e){var t=function(u){return Math.round(u)};if(e.isEdge()){var n=e.source().position(),i=e.target().position();return AT([t(n.x),t(n.y),t(i.x),t(i.y)])}else{var o=e.position();return AT([t(o.x),t(o.y)])}},ZC=function(e,t){var n=e._private,i,o=e.isEdge(),a=t==null?QC:kP(t),u=a===QC;if(n.bbCache==null?(i=C7(e,Kv),n.bbCache=i,n.bbCachePosKey=NP(e)):i=n.bbCache,!u){var s=e.isNode();i=eo(),(t.includeNodes&&s||t.includeEdges&&!s)&&(t.includeOverlays?Ju(i,n.overlayBounds):Ju(i,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!o||t.includeSourceLabels&&t.includeTargetLabels)?Ju(i,n.labelBounds.all):(t.includeMainLabels&&Ju(i,n.labelBounds.mainRot),t.includeSourceLabels&&Ju(i,n.labelBounds.sourceRot),t.includeTargetLabels&&Ju(i,n.labelBounds.targetRot))),i.w=i.x2-i.x1,i.h=i.y2-i.y1}return i},Kv={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},QC=kP(Kv),JC=Ci(Kv);dl.boundingBox=function(r){var e,t=r===void 0||r.useCache===void 0||r.useCache===!0,n=Eh(function(c){var f=c._private;return f.bbCache==null||f.styleDirty||f.bbCachePosKey!==NP(c)},function(c){return c.id()});if(t&&this.length===1&&!n(this[0]))r===void 0?r=Kv:r=JC(r),e=ZC(this[0],r);else{e=eo(),r=r||Kv;var i=JC(r),o=this,a=o.cy(),u=a.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),u&&this.recalculateRenderedStyle(t),this.updateCompoundBounds(!t);for(var s=0;s<o.length;s++){var l=o[s];n(l)&&l.dirtyBoundingBoxCache(),Ju(e,ZC(l,i))}}return e.x1=Ea(e.x1),e.y1=Ea(e.y1),e.x2=Ea(e.x2),e.y2=Ea(e.y2),e.w=Ea(e.x2-e.x1),e.h=Ea(e.y2-e.y1),e};dl.dirtyBoundingBoxCache=function(){for(var r=0;r<this.length;r++){var e=this[r]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};dl.boundingBoxAt=function(r){var e=this.nodes(),t=this.cy(),n=t.hasCompoundNodes(),i=t.collection();if(n&&(i=e.filter(function(l){return l.isParent()}),e=e.not(i)),Dr(r)){var o=r;r=function(){return o}}var a=function(c,f){return c._private.bbAtOldPos=r(c,f)},u=function(c){return c._private.bbAtOldPos};t.startBatch(),e.forEach(a).silentPositions(r),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var s=sG(this.boundingBox({useCache:!1}));return e.silentPositions(u),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),t.endBatch(),s};wh.boundingbox=wh.bb=wh.boundingBox;wh.renderedBoundingbox=wh.renderedBoundingBox;var P7=dl,Bv,ap;Bv=ap={};var LP=function(e){e.uppercaseName=vT(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=vT(e.outerName),Bv[e.name]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){if(n.isParent())return n.updateCompoundBounds(),i[e.autoName]||0;var u=n.pstyle(e.name);switch(u.strValue){case"label":return n.recalculateRenderedStyle(),i.rstyle[e.labelName]||0;default:return u.pfValue}}else return 1},Bv["outer"+e.uppercaseName]=function(){var n=this[0],i=n._private,o=i.cy,a=o._private.styleEnabled;if(n)if(a){var u=n[e.name](),s=n.pstyle("border-position").value,l;s==="center"?l=n.pstyle("border-width").pfValue:s==="outside"?l=2*n.pstyle("border-width").pfValue:l=0;var c=2*n.padding();return u+l+c}else return 1},Bv["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var i=n[e.name]();return i*this.cy().zoom()}},Bv["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var i=n[e.outerName]();return i*this.cy().zoom()}}};LP({name:"width"});LP({name:"height"});ap.padding=function(){var r=this[0],e=r._private;return r.isParent()?(r.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:r.pstyle("padding").pfValue):r.pstyle("padding").pfValue};ap.paddedHeight=function(){var r=this[0];return r.height()+2*r.padding()};ap.paddedWidth=function(){var r=this[0];return r.width()+2*r.padding()};var A7=ap,R7=function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)},I7=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return Zm(t(e),n.zoom(),n.pan())}},D7=function(e,t){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),i=n.pan(),o=n.zoom();return t(e).map(function(a){return Zm(a,o,i)})}},M7=function(e){return e.renderer().getControlPoints(e)},k7=function(e){return e.renderer().getSegmentPoints(e)},N7=function(e){return e.renderer().getSourceEndpoint(e)},L7=function(e){return e.renderer().getTargetEndpoint(e)},j7=function(e){return e.renderer().getEdgeMidpoint(e)},e2={controlPoints:{get:M7,mult:!0},segmentPoints:{get:k7,mult:!0},sourceEndpoint:{get:N7},targetEndpoint:{get:L7},midpoint:{get:j7}},B7=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},F7=Object.keys(e2).reduce(function(r,e){var t=e2[e],n=B7(e);return r[e]=function(){return R7(this,t.get)},t.mult?r[n]=function(){return D7(this,t.get)}:r[n]=function(){return I7(this,t.get)},r},{}),U7=Nt({},S7,P7,A7,F7);var jP=function(e,t){this.recycle(e,t)};function Dv(){return!1}function ym(){return!0}jP.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Dv,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?ym:Dv):e!=null&&e.type?t=e:this.type=e,t!=null&&(this.originalEvent=t.originalEvent,this.type=t.type!=null?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,i=this.cy.zoom(),o=this.cy.pan();this.renderedPosition={x:n.x*i+o.x,y:n.y*i+o.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=ym;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=ym;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ym,this.stopPropagation()},isDefaultPrevented:Dv,isPropagationStopped:Dv,isImmediatePropagationStopped:Dv};var BP=/^([^.]+)(\.(?:[^.]+))?$/,z7=".*",FP={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},t2=Object.keys(FP),q7={};function i0(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q7,e=arguments.length>1?arguments[1]:void 0,t=0;t<t2.length;t++){var n=t2[t];this[n]=r[n]||FP[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var cl=i0.prototype,UP=function(e,t,n,i,o,a,u){xn(i)&&(o=i,i=null),u&&(a==null?a=u:a=Nt({},a,u));for(var s=Zr(n)?n:n.split(/\s+/),l=0;l<s.length;l++){var c=s[l];if(!ol(c)){var f=c.match(BP);if(f){var h=f[1],v=f[2]?f[2]:null,d=t(e,c,h,v,i,o,a);if(d===!1)break}}}},r2=function(e,t){return e.addEventFields(e.context,t),new jP(t.type,t)},G7=function(e,t,n){if(Kq(n)){t(e,n);return}else if(Dr(n)){t(e,r2(e,n));return}for(var i=Zr(n)?n:n.split(/\s+/),o=0;o<i.length;o++){var a=i[o];if(!ol(a)){var u=a.match(BP);if(u){var s=u[1],l=u[2]?u[2]:null,c=r2(e,{type:s,namespace:l,target:e.context});t(e,c)}}}};cl.on=cl.addListener=function(r,e,t,n,i){return UP(this,function(o,a,u,s,l,c,f){xn(c)&&o.listeners.push({event:a,callback:c,type:u,namespace:s,qualifier:l,conf:f})},r,e,t,n,i),this};cl.one=function(r,e,t,n){return this.on(r,e,t,n,{one:!0})};cl.removeListener=cl.off=function(r,e,t,n){var i=this;this.emitting!==0&&(this.listeners=I9(this.listeners));for(var o=this.listeners,a=function(l){var c=o[l];UP(i,function(f,h,v,d,y,p){if((c.type===v||r==="*")&&(!d&&c.namespace!==".*"||c.namespace===d)&&(!y||f.qualifierCompare(c.qualifier,y))&&(!p||c.callback===p))return o.splice(l,1),!1},r,e,t,n)},u=o.length-1;u>=0;u--)a(u);return this};cl.removeAllListeners=function(){return this.removeListener("*")};cl.emit=cl.trigger=function(r,e,t){var n=this.listeners,i=n.length;return this.emitting++,Zr(e)||(e=[e]),G7(this,function(o,a){t!=null&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:t}],i=n.length);for(var u=function(){var c=n[s];if(c.type===a.type&&(!c.namespace||c.namespace===a.namespace||c.namespace===z7)&&o.eventMatches(o.context,c,a)){var f=[a];e!=null&&M9(f,e),o.beforeEmit(o.context,c,a),c.conf&&c.conf.one&&(o.listeners=o.listeners.filter(function(d){return d!==c}));var h=o.callbackContext(o.context,c,a),v=c.callback.apply(h,f);o.afterEmit(o.context,c,a),v===!1&&(a.stopPropagation(),a.preventDefault())}},s=0;s<i;s++)u();o.bubble(o.context)&&!a.isPropagationStopped()&&o.parent(o.context).emit(a,e)},r),this.emitting--,this};var V7={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&ep(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},mm=function(e){return St(e)?new ul(e):e},zP={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new i0(V7,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=mm(t),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n)}return this},removeListener:function(e,t,n){for(var i=mm(t),o=0;o<this.length;o++){var a=this[o];a.emitter().removeListener(e,i,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var t=this[e];t.emitter().removeAllListeners()}return this},one:function(e,t,n){for(var i=mm(t),o=0;o<this.length;o++){var a=this[o];a.emitter().one(e,i,n)}return this},once:function(e,t,n){for(var i=mm(t),o=0;o<this.length;o++){var a=this[o];a.emitter().on(e,i,n,{once:!0,onceCollection:this})}},emit:function(e,t){for(var n=0;n<this.length;n++){var i=this[n];i.emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,t),this}};qr.eventAliasesOn(zP);var qP={nodes:function(e){return this.filter(function(t){return t.isNode()}).filter(e)},edges:function(e){return this.filter(function(t){return t.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(e===void 0)return this;if(St(e)||Jo(e))return new ul(e).filter(this);if(xn(e)){for(var n=this.spawn(),i=this,o=0;o<i.length;o++){var a=i[o],u=t?e.apply(t,[a,o,i]):e(a,o,i);u&&n.push(a)}return n}return this.spawn()},not:function(e){if(e){St(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n],o=e.has(i);o||t.push(i)}return t}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(St(e)){var t=e;return this.filter(t)}for(var n=this.spawn(),i=this,o=e,a=this.length<e.length,u=a?i:o,s=a?o:i,l=0;l<u.length;l++){var c=u[l];s.has(c)&&n.push(c)}return n},xor:function(e){var t=this._private.cy;St(e)&&(e=t.$(e));var n=this.spawn(),i=this,o=e,a=function(s,l){for(var c=0;c<s.length;c++){var f=s[c],h=f._private.data.id,v=l.hasElementWithId(h);v||n.push(f)}};return a(i,o),a(o,i),n},diff:function(e){var t=this._private.cy;St(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),o=this.spawn(),a=this,u=e,s=function(c,f,h){for(var v=0;v<c.length;v++){var d=c[v],y=d._private.data.id,p=f.hasElementWithId(y);p?o.merge(d):h.push(d)}};return s(a,u,n),s(u,a,i),{left:n,right:i,both:o}},add:function(e){var t=this._private.cy;if(!e)return this;if(St(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),o=0;o<e.length;o++){var a=e[o],u=!this.has(a);u&&i.push(a)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&St(e)){var i=e;e=n.mutableElements().filter(i)}for(var o=t.map,a=0;a<e.length;a++){var u=e[a],s=u._private.data.id,l=!o.has(s);if(l){var c=this.length++;this[c]=u,o.set(s,{ele:u,index:c})}}return this},unmergeAt:function(e){var t=this[e],n=t.id(),i=this._private,o=i.map;this[e]=void 0,o.delete(n);var a=e===this.length-1;if(this.length>1&&!a){var u=this.length-1,s=this[u],l=s._private.data.id;this[u]=void 0,this[e]=s,o.set(l,{ele:s,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,n=e._private.data.id,i=t.map,o=i.get(n);if(!o)return this;var a=o.index;return this.unmergeAt(a),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&St(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){var n=this[t];e(n)&&this.unmergeAt(t)}return this},map:function(e,t){for(var n=[],i=this,o=0;o<i.length;o++){var a=i[o],u=t?e.apply(t,[a,o,i]):e(a,o,i);n.push(u)}return n},reduce:function(e,t){for(var n=t,i=this,o=0;o<i.length;o++)n=e(n,i[o],o,i);return n},max:function(e,t){for(var n=-1/0,i,o=this,a=0;a<o.length;a++){var u=o[a],s=t?e.apply(t,[u,a,o]):e(u,a,o);s>n&&(n=s,i=u)}return{value:n,ele:i}},min:function(e,t){for(var n=1/0,i,o=this,a=0;a<o.length;a++){var u=o[a],s=t?e.apply(t,[u,a,o]):e(u,a,o);s<n&&(n=s,i=u)}return{value:n,ele:i}}},Lr=qP;Lr.u=Lr["|"]=Lr["+"]=Lr.union=Lr.or=Lr.add;Lr["\\"]=Lr["!"]=Lr["-"]=Lr.difference=Lr.relativeComplement=Lr.subtract=Lr.not;Lr.n=Lr["&"]=Lr["."]=Lr.and=Lr.intersection=Lr.intersect;Lr["^"]=Lr["(+)"]=Lr["(-)"]=Lr.symmetricDifference=Lr.symdiff=Lr.xor;Lr.fnFilter=Lr.filterFn=Lr.stdFilter=Lr.filter;Lr.complement=Lr.abscomp=Lr.absoluteComplement;var W7={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},GP=function(e,t){var n=e.cy(),i=n.hasCompoundNodes();function o(c){var f=c.pstyle("z-compound-depth");return f.value==="auto"?i?c.zDepth():0:f.value==="bottom"?-1:f.value==="top"?iE:0}var a=o(e)-o(t);if(a!==0)return a;function u(c){var f=c.pstyle("z-index-compare");return f.value==="auto"&&c.isNode()?1:0}var s=u(e)-u(t);if(s!==0)return s;var l=e.pstyle("z-index").value-t.pstyle("z-index").value;return l!==0?l:e.poolIndex()-t.poolIndex()},zm={forEach:function(e,t){if(xn(e))for(var n=this.length,i=0;i<n;i++){var o=this[i],a=t?e.apply(t,[o,i,this]):e(o,i,this);if(a===!1)break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;t==null&&(t=i),e==null&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var o=e;o>=0&&o<t&&o<i;o++)n.push(this[o]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!xn(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(GP)},zDepth:function(){var e=this[0];if(e){var t=e._private,n=t.group;if(n==="nodes"){var i=t.data.parent?e.parents().size():0;return e.isParent()?i:iE-1}else{var o=t.source,a=t.target,u=o.zDepth(),s=a.zDepth();return Math.max(u,s,0)}}}};zm.each=zm.forEach;var H7=function(){var e="undefined",t=(typeof Symbol>"u"?"undefined":ri(Symbol))!=e&&ri(Symbol.iterator)!=e;t&&(zm[Symbol.iterator]=function(){var n=this,i={value:void 0,done:!1},o=0,a=this.length;return z2({next:function(){return o<a?i.value=n[o++]:(i.value=void 0,i.done=!0),i}},Symbol.iterator,function(){return this})})};H7();var Y7=Ci({nodeDimensionsIncludeLabels:!1}),Cm={layoutDimensions:function(e){e=Y7(e);var t;if(!this.takesUpSpace())t={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};return(t.w===0||t.h===0)&&(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes().filter(function(w){return!w.isParent()}),o=this.cy(),a=t.eles,u=function(O){return O.id()},s=Eh(n,u);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=function(O,E,S){var P={x:E.x1+E.w/2,y:E.y1+E.h/2},I={x:(S.x-P.x)*O,y:(S.y-P.y)*O};return{x:P.x+I.x,y:P.y+I.y}},c=t.spacingFactor&&t.spacingFactor!==1,f=function(){if(!c)return null;for(var O=eo(),E=0;E<i.length;E++){var S=i[E],P=s(S,E);sP(O,P.x,P.y)}return O},h=f(),v=Eh(function(w,O){var E=s(w,O);if(c){var S=Math.abs(t.spacingFactor);E=l(S,h,E)}return t.transform!=null&&(E=t.transform(w,E)),E},u);if(t.animate){for(var d=0;d<i.length;d++){var y=i[d],p=v(y,d),g=t.animateFilter==null||t.animateFilter(y,d);if(g){var b=y.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(b)}else y.position(p)}if(t.fit){var m=o.animation({fit:{boundingBox:a.boundingBoxAt(v),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}else if(t.zoom!==void 0&&t.pan!==void 0){var _=o.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(_)}e.animations.forEach(function(w){return w.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Th.all(e.animations.map(function(w){return w.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else i.positions(v),t.fit&&o.fit(t.eles,t.padding),t.zoom!=null&&o.zoom(t.zoom),t.pan&&o.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var t=this.cy();return t.makeLayout(Nt({},e,{eles:this}))}};Cm.createLayout=Cm.makeLayout=Cm.layout;function VP(r,e,t){var n=t._private,i=n.styleCache=n.styleCache||[],o;return(o=i[r])!=null||(o=i[r]=e(t)),o}function o0(r,e){return r=Rc(r),function(n){return VP(r,e,n)}}function a0(r,e){r=Rc(r);var t=function(i){return e.call(i)};return function(){var i=this[0];if(i)return VP(r,t,i)}}var Si={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),t=function(o){return o._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(t)}else this.forEach(function(i){t(i),i.connectedEdges().forEach(t)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching()){var n=t._private.batchStyleEles;return n.merge(this),this}var i=t.hasCompoundNodes(),o=this;e=!!(e||e===void 0),i&&(o=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var a=o;return e?a.emitAndNotify("style"):a.emit("style"),o.forEach(function(u){return u._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var n=this[t];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n));var o=n._private.style[e];return o??(t?i.style().getDefaultProperty(e):null)}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled()&&t)return t.pstyle(e).units},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];if(n)return t.style().getRenderedStyle(n,e)},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=!1,o=n.style();if(Dr(e)){var a=e;o.applyBypass(this,a,i),this.emitAndNotify("style")}else if(St(e))if(t===void 0){var u=this[0];return u?o.getStylePropertyValue(u,e):void 0}else o.applyBypass(this,e,t,i),this.emitAndNotify("style");else if(e===void 0){var s=this[0];return s?o.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=!1,i=t.style(),o=this;if(e===void 0)for(var a=0;a<o.length;a++){var u=o[a];i.removeAllBypasses(u,n)}else{e=e.split(/\s+/);for(var s=0;s<o.length;s++){var l=o[s];i.removeBypasses(l,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,o=n.pstyle("opacity").value;if(!t)return o;var a=i.data.parent?n.parents():null;if(a)for(var u=0;u<a.length;u++){var s=a[u],l=s.pstyle("opacity").value;o=l*o}return o}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0],n=t.cy().hasCompoundNodes();if(t)return n?t.effectiveOpacity()===0:t.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var t=this[0];return!!t._private.backgrounding}};function Ow(r,e){var t=r._private,n=t.data.parent?r.parents():null;if(n)for(var i=0;i<n.length;i++){var o=n[i];if(!e(o))return!1}return!0}function gE(r){var e=r.ok,t=r.edgeOkViaNode||r.ok,n=r.parentOk||r.ok;return function(){var i=this.cy();if(!i.styleEnabled())return!0;var o=this[0],a=i.hasCompoundNodes();if(o){var u=o._private;if(!e(o))return!1;if(o.isNode())return!a||Ow(o,n);var s=u.source,l=u.target;return t(s)&&(!a||Ow(s,t))&&(s===l||t(l)&&(!a||Ow(l,t)))}}}var Ch=o0("eleTakesUpSpace",function(r){return r.pstyle("display").value==="element"&&r.width()!==0&&(r.isNode()?r.height()!==0:!0)});Si.takesUpSpace=a0("takesUpSpace",gE({ok:Ch}));var X7=o0("eleInteractive",function(r){return r.pstyle("events").value==="yes"&&r.pstyle("visibility").value==="visible"&&Ch(r)}),K7=o0("parentInteractive",function(r){return r.pstyle("visibility").value==="visible"&&Ch(r)});Si.interactive=a0("interactive",gE({ok:X7,parentOk:K7,edgeOkViaNode:Ch}));Si.noninteractive=function(){var r=this[0];if(r)return!r.interactive()};var $7=o0("eleVisible",function(r){return r.pstyle("visibility").value==="visible"&&r.pstyle("opacity").pfValue!==0&&Ch(r)}),Z7=Ch;Si.visible=a0("visible",gE({ok:$7,edgeOkViaNode:Z7}));Si.hidden=function(){var r=this[0];if(r)return!r.visible()};Si.isBundledBezier=a0("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Si.bypass=Si.css=Si.style;Si.renderedCss=Si.renderedStyle;Si.removeBypass=Si.removeCss=Si.removeStyle;Si.pstyle=Si.parsedStyle;var il={};function n2(r){return function(){var e=arguments,t=[];if(e.length===2){var n=e[0],i=e[1];this.on(r.event,n,i)}else if(e.length===1&&xn(e[0])){var o=e[0];this.on(r.event,o)}else if(e.length===0||e.length===1&&Zr(e[0])){for(var a=e.length===1?e[0]:null,u=0;u<this.length;u++){var s=this[u],l=!r.ableField||s._private[r.ableField],c=s._private[r.field]!=r.value;if(r.overrideAble){var f=r.overrideAble(s);if(f!==void 0&&(l=f,!f))return this}l&&(s._private[r.field]=r.value,c&&t.push(s))}var h=this.spawn(t);h.updateStyle(),h.emit(r.event),a&&h.emit(a)}return this}}function Ph(r){il[r.field]=function(){var e=this[0];if(e){if(r.overrideField){var t=r.overrideField(e);if(t!==void 0)return t}return e._private[r.field]}},il[r.on]=n2({event:r.on,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!0}),il[r.off]=n2({event:r.off,field:r.field,ableField:r.ableField,overrideAble:r.overrideAble,value:!1})}Ph({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Ph({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Ph({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Ph({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});il.deselect=il.unselect;il.grabbed=function(){var r=this[0];if(r)return r._private.grabbed};Ph({field:"active",on:"activate",off:"unactivate"});Ph({field:"pannable",on:"panify",off:"unpanify"});il.inactive=function(){var r=this[0];if(r)return!r._private.active};var zi={},i2=function(e){return function(n){for(var i=this,o=[],a=0;a<i.length;a++){var u=i[a];if(u.isNode()){for(var s=!1,l=u.connectedEdges(),c=0;c<l.length;c++){var f=l[c],h=f.source(),v=f.target();if(e.noIncomingEdges&&v===u&&h!==u||e.noOutgoingEdges&&h===u&&v!==u){s=!0;break}}s||o.push(u)}}return this.spawn(o,!0).filter(n)}},o2=function(e){return function(t){for(var n=this,i=[],o=0;o<n.length;o++){var a=n[o];if(a.isNode())for(var u=a.connectedEdges(),s=0;s<u.length;s++){var l=u[s],c=l.source(),f=l.target();e.outgoing&&c===a?(i.push(l),i.push(f)):e.incoming&&f===a&&(i.push(l),i.push(c))}}return this.spawn(i,!0).filter(t)}},a2=function(e){return function(t){for(var n=this,i=[],o={};;){var a=e.outgoing?n.outgoers():n.incomers();if(a.length===0)break;for(var u=!1,s=0;s<a.length;s++){var l=a[s],c=l.id();o[c]||(o[c]=!0,i.push(l),u=!0)}if(!u)break;n=a}return this.spawn(i,!0).filter(t)}};zi.clearTraversalCache=function(){for(var r=0;r<this.length;r++)this[r]._private.traversalCache=null};Nt(zi,{roots:i2({noIncomingEdges:!0}),leaves:i2({noOutgoingEdges:!0}),outgoers:xa(o2({outgoing:!0}),"outgoers"),successors:a2({outgoing:!0}),incomers:xa(o2({incoming:!0}),"incomers"),predecessors:a2({})});Nt(zi,{neighborhood:xa(function(r){for(var e=[],t=this.nodes(),n=0;n<t.length;n++)for(var i=t[n],o=i.connectedEdges(),a=0;a<o.length;a++){var u=o[a],s=u.source(),l=u.target(),c=i===s?l:s;c.length>0&&e.push(c[0]),e.push(u[0])}return this.spawn(e,!0).filter(r)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});zi.neighbourhood=zi.neighborhood;zi.closedNeighbourhood=zi.closedNeighborhood;zi.openNeighbourhood=zi.openNeighborhood;Nt(zi,{source:xa(function(e){var t=this[0],n;return t&&(n=t._private.source||t.cy().collection()),n&&e?n.filter(e):n},"source"),target:xa(function(e){var t=this[0],n;return t&&(n=t._private.target||t.cy().collection()),n&&e?n.filter(e):n},"target"),sources:s2({attr:"source"}),targets:s2({attr:"target"})});function s2(r){return function(t){for(var n=[],i=0;i<this.length;i++){var o=this[i],a=o._private[r.attr];a&&n.push(a)}return this.spawn(n,!0).filter(t)}}Nt(zi,{edgesWith:xa(u2(),"edgesWith"),edgesTo:xa(u2({thisIsSrc:!0}),"edgesTo")});function u2(r){return function(t){var n=[],i=this._private.cy,o=r||{};St(t)&&(t=i.$(t));for(var a=0;a<t.length;a++)for(var u=t[a]._private.edges,s=0;s<u.length;s++){var l=u[s],c=l._private.data,f=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),h=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target),v=f||h;v&&((o.thisIsSrc||o.thisIsTgt)&&(o.thisIsSrc&&!f||o.thisIsTgt&&!h)||n.push(l))}return this.spawn(n,!0)}}Nt(zi,{connectedEdges:xa(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];if(i.isNode())for(var o=i._private.edges,a=0;a<o.length;a++){var u=o[a];e.push(u)}}return this.spawn(e,!0).filter(r)},"connectedEdges"),connectedNodes:xa(function(r){for(var e=[],t=this,n=0;n<t.length;n++){var i=t[n];i.isEdge()&&(e.push(i.source()[0]),e.push(i.target()[0]))}return this.spawn(e,!0).filter(r)},"connectedNodes"),parallelEdges:xa(l2(),"parallelEdges"),codirectedEdges:xa(l2({codirected:!0}),"codirectedEdges")});function l2(r){var e={codirected:!1};return r=Nt({},e,r),function(n){for(var i=[],o=this.edges(),a=r,u=0;u<o.length;u++)for(var s=o[u],l=s._private,c=l.source,f=c._private.data.id,h=l.data.target,v=c._private.edges,d=0;d<v.length;d++){var y=v[d],p=y._private.data,g=p.target,b=p.source,m=g===h&&b===f,_=f===g&&h===b;(a.codirected&&m||!a.codirected&&(m||_))&&i.push(y)}return this.spawn(i,!0).filter(n)}}Nt(zi,{components:function(e){var t=this,n=t.cy(),i=n.collection(),o=e==null?t.nodes():e.nodes(),a=[];e!=null&&o.empty()&&(o=e.sources());var u=function(c,f){i.merge(c),o.unmerge(c),f.merge(c)};if(o.empty())return t.spawn();var s=function(){var c=n.collection();a.push(c);var f=o[0];u(f,c),t.bfs({directed:!1,roots:f,visit:function(v){return u(v,c)}}),c.forEach(function(h){h.connectedEdges().forEach(function(v){t.has(v)&&c.has(v.source())&&c.has(v.target())&&c.merge(v)})})};do s();while(o.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});zi.componentsOf=zi.components;var Ti=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){mn("A collection must have a reference to the core");return}var o=new uu,a=!1;if(!t)t=[];else if(t.length>0&&Dr(t[0])&&!ep(t[0])){a=!0;for(var u=[],s=new Sh,l=0,c=t.length;l<c;l++){var f=t[l];f.data==null&&(f.data={});var h=f.data;if(h.id==null)h.id=iP();else if(e.hasElementWithId(h.id)||s.has(h.id))continue;var v=new $m(e,f,!1);u.push(v),s.add(h.id)}t=u}this.length=0;for(var d=0,y=t.length;d<y;d++){var p=t[d][0];if(p!=null){var g=p._private.data.id;(!n||!o.has(g))&&(n&&o.set(g,{index:this.length,ele:p}),this[this.length]=p,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(b){this.lazyMap=b},rebuildMap:function(){for(var m=this.lazyMap=new uu,_=this.eles,w=0;w<_.length;w++){var O=_[w];m.set(O.id(),{index:w,ele:O})}}},n&&(this._private.map=o),a&&!i&&this.restore()},rn=$m.prototype=Ti.prototype=Object.create(Array.prototype);rn.instanceString=function(){return"collection"};rn.spawn=function(r,e){return new Ti(this.cy(),r,e)};rn.spawnSelf=function(){return this.spawn(this)};rn.cy=function(){return this._private.cy};rn.renderer=function(){return this._private.cy.renderer()};rn.element=function(){return this[0]};rn.collection=function(){return V2(this)?this:new Ti(this._private.cy,[this])};rn.unique=function(){return new Ti(this._private.cy,this,!0)};rn.hasElementWithId=function(r){return r=""+r,this._private.map.has(r)};rn.getElementById=function(r){r=""+r;var e=this._private.cy,t=this._private.map.get(r);return t?t.ele:new Ti(e)};rn.$id=rn.getElementById;rn.poolIndex=function(){var r=this._private.cy,e=r._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index};rn.indexOf=function(r){var e=r[0]._private.data.id;return this._private.map.get(e).index};rn.indexOfId=function(r){return r=""+r,this._private.map.get(r).index};rn.json=function(r){var e=this.element(),t=this.cy();if(e==null&&r)return this;if(e!=null){var n=e._private;if(Dr(r)){if(t.startBatch(),r.data){e.data(r.data);var i=n.data;if(e.isEdge()){var o=!1,a={},u=r.data.source,s=r.data.target;u!=null&&u!=i.source&&(a.source=""+u,o=!0),s!=null&&s!=i.target&&(a.target=""+s,o=!0),o&&(e=e.move(a))}else{var l="parent"in r.data,c=r.data.parent;l&&(c!=null||i.parent!=null)&&c!=i.parent&&(c===void 0&&(c=null),c!=null&&(c=""+c),e=e.move({parent:c}))}}r.position&&e.position(r.position);var f=function(y,p,g){var b=r[y];b!=null&&b!==n[y]&&(b?e[p]():e[g]())};return f("removed","remove","restore"),f("selected","select","unselect"),f("selectable","selectify","unselectify"),f("locked","lock","unlock"),f("grabbable","grabify","ungrabify"),f("pannable","panify","unpanify"),r.classes!=null&&e.classes(r.classes),t.endBatch(),this}else if(r===void 0){var h={data:Ts(n.data),position:Ts(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var v=0;return n.classes.forEach(function(d){return h.classes+=v++===0?d:" "+d}),h}}};rn.jsons=function(){for(var r=[],e=0;e<this.length;e++){var t=this[e],n=t.json();r.push(n)}return r};rn.clone=function(){for(var r=this.cy(),e=[],t=0;t<this.length;t++){var n=this[t],i=n.json(),o=new $m(r,i,!1);e.push(o)}return new Ti(r,e)};rn.copy=rn.clone;rn.restore=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=t.cy(),i=n._private,o=[],a=[],u,s=0,l=t.length;s<l;s++){var c=t[s];e&&!c.removed()||(c.isNode()?o.push(c):a.push(c))}u=o.concat(a);var f,h=function(){u.splice(f,1),f--};for(f=0;f<u.length;f++){var v=u[f],d=v._private,y=d.data;if(v.clearTraversalCache(),!(!e&&!d.removed)){if(y.id===void 0)y.id=iP();else if(at(y.id))y.id=""+y.id;else if(ol(y.id)||!St(y.id)){mn("Can not create element with invalid string ID `"+y.id+"`"),h();continue}else if(n.hasElementWithId(y.id)){mn("Can not create second element with ID `"+y.id+"`"),h();continue}}var p=y.id;if(v.isNode()){var g=d.position;g.x==null&&(g.x=0),g.y==null&&(g.y=0)}if(v.isEdge()){for(var b=v,m=["source","target"],_=m.length,w=!1,O=0;O<_;O++){var E=m[O],S=y[E];at(S)&&(S=y[E]=""+y[E]),S==null||S===""?(mn("Can not create edge `"+p+"` with unspecified "+E),w=!0):n.hasElementWithId(S)||(mn("Can not create edge `"+p+"` with nonexistant "+E+" `"+S+"`"),w=!0)}if(w){h();continue}var P=n.getElementById(y.source),I=n.getElementById(y.target);P.same(I)?P._private.edges.push(b):(P._private.edges.push(b),I._private.edges.push(b)),b._private.source=P,b._private.target=I}d.map=new uu,d.map.set(p,{ele:v,index:0}),d.removed=!1,e&&n.addToPool(v)}for(var R=0;R<o.length;R++){var D=o[R],k=D._private.data;at(k.parent)&&(k.parent=""+k.parent);var N=k.parent,B=N!=null;if(B||D._private.parent){var z=D._private.parent?n.collection().merge(D._private.parent):n.getElementById(N);if(z.empty())k.parent=void 0;else if(z[0].removed())Gr("Node added with missing parent, reference to parent removed"),k.parent=void 0,D._private.parent=null;else{for(var F=!1,U=z;!U.empty();){if(D.same(U)){F=!0,k.parent=void 0;break}U=U.parent()}F||(z[0]._private.children.push(D),D._private.parent=z[0],i.hasCompoundNodes=!0)}}}if(u.length>0){for(var W=u.length===t.length?t:new Ti(n,u),Y=0;Y<W.length;Y++){var X=W[Y];X.isNode()||(X.parallelEdges().clearTraversalCache(),X.source().clearTraversalCache(),X.target().clearTraversalCache())}var Q;i.hasCompoundNodes?Q=n.collection().merge(W).merge(W.connectedNodes()).merge(W.parent()):Q=W,Q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?W.emitAndNotify("add"):e&&W.emit("add")}return t};rn.removed=function(){var r=this[0];return r&&r._private.removed};rn.inside=function(){var r=this[0];return r&&!r._private.removed};rn.remove=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this,n=[],i={},o=t._private.cy;function a(N){for(var B=N._private.edges,z=0;z<B.length;z++)s(B[z])}function u(N){for(var B=N._private.children,z=0;z<B.length;z++)s(B[z])}function s(N){var B=i[N.id()];e&&N.removed()||B||(i[N.id()]=!0,N.isNode()?(n.push(N),a(N),u(N)):n.unshift(N))}for(var l=0,c=t.length;l<c;l++){var f=t[l];s(f)}function h(N,B){var z=N._private.edges;al(z,B),N.clearTraversalCache()}function v(N){N.clearTraversalCache()}var d=[];d.ids={};function y(N,B){B=B[0],N=N[0];var z=N._private.children,F=N.id();al(z,B),B._private.parent=null,d.ids[F]||(d.ids[F]=!0,d.push(N))}t.dirtyCompoundBoundsCache(),e&&o.removeFromPool(n);for(var p=0;p<n.length;p++){var g=n[p];if(g.isEdge()){var b=g.source()[0],m=g.target()[0];h(b,g),h(m,g);for(var _=g.parallelEdges(),w=0;w<_.length;w++){var O=_[w];v(O),O.isBundledBezier()&&O.dirtyBoundingBoxCache()}}else{var E=g.parent();E.length!==0&&y(E,g)}e&&(g._private.removed=!0)}var S=o._private.elements;o._private.hasCompoundNodes=!1;for(var P=0;P<S.length;P++){var I=S[P];if(I.isParent()){o._private.hasCompoundNodes=!0;break}}var R=new Ti(this.cy(),n);R.size()>0&&(r?R.emitAndNotify("remove"):e&&R.emit("remove"));for(var D=0;D<d.length;D++){var k=d[D];(!e||!k.removed())&&k.updateStyle()}return R};rn.move=function(r){var e=this._private.cy,t=this,n=!1,i=!1,o=function(d){return d==null?d:""+d};if(r.source!==void 0||r.target!==void 0){var a=o(r.source),u=o(r.target),s=a!=null&&e.hasElementWithId(a),l=u!=null&&e.hasElementWithId(u);(s||l)&&(e.batch(function(){t.remove(n,i),t.emitAndNotify("moveout");for(var v=0;v<t.length;v++){var d=t[v],y=d._private.data;d.isEdge()&&(s&&(y.source=a),l&&(y.target=u))}t.restore(n,i)}),t.emitAndNotify("move"))}else if(r.parent!==void 0){var c=o(r.parent),f=c===null||e.hasElementWithId(c);if(f){var h=c===null?void 0:c;e.batch(function(){var v=t.remove(n,i);v.emitAndNotify("moveout");for(var d=0;d<t.length;d++){var y=t[d],p=y._private.data;y.isNode()&&(p.parent=h)}v.restore(n,i)}),t.emitAndNotify("move")}}return this};[gP,u7,Tm,nl,Oh,O7,n0,U7,zP,qP,W7,zm,Cm,Si,il,zi].forEach(function(r){Nt(rn,r)});var Q7={add:function(e){var t,n=this;if(Jo(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var o=[],a=0;a<i.length;a++){var u=i[a];o.push(u.json())}t=new Ti(n,o)}}else if(Zr(e)){var s=e;t=new Ti(n,s)}else if(Dr(e)&&(Zr(e.nodes)||Zr(e.edges))){for(var l=e,c=[],f=["nodes","edges"],h=0,v=f.length;h<v;h++){var d=f[h],y=l[d];if(Zr(y))for(var p=0,g=y.length;p<g;p++){var b=Nt({group:d},y[p]);c.push(b)}}t=new Ti(n,c)}else{var m=e;t=new $m(n,m).collection()}return t},remove:function(e){if(!Jo(e)){if(St(e)){var t=e;e=this.$(t)}}return e.remove()}};function J7(r,e,t,n){var i=4,o=.001,a=1e-7,u=10,s=11,l=1/(s-1),c=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var f=0;f<4;++f)if(typeof arguments[f]!="number"||isNaN(arguments[f])||!isFinite(arguments[f]))return!1;r=Math.min(r,1),t=Math.min(t,1),r=Math.max(r,0),t=Math.max(t,0);var h=c?new Float32Array(s):new Array(s);function v(I,R){return 1-3*R+3*I}function d(I,R){return 3*R-6*I}function y(I){return 3*I}function p(I,R,D){return((v(R,D)*I+d(R,D))*I+y(R))*I}function g(I,R,D){return 3*v(R,D)*I*I+2*d(R,D)*I+y(R)}function b(I,R){for(var D=0;D<i;++D){var k=g(R,r,t);if(k===0)return R;var N=p(R,r,t)-I;R-=N/k}return R}function m(){for(var I=0;I<s;++I)h[I]=p(I*l,r,t)}function _(I,R,D){var k,N,B=0;do N=R+(D-R)/2,k=p(N,r,t)-I,k>0?D=N:R=N;while(Math.abs(k)>a&&++B<u);return N}function w(I){for(var R=0,D=1,k=s-1;D!==k&&h[D]<=I;++D)R+=l;--D;var N=(I-h[D])/(h[D+1]-h[D]),B=R+N*l,z=g(B,r,t);return z>=o?b(I,B):z===0?B:_(I,R,R+l)}var O=!1;function E(){O=!0,(r!==e||t!==n)&&m()}var S=function(R){return O||E(),r===e&&t===n?R:R===0?0:R===1?1:p(w(R),e,n)};S.getControlPoints=function(){return[{x:r,y:e},{x:t,y:n}]};var P="generateBezier("+[r,e,t,n]+")";return S.toString=function(){return P},S}var eW=function(){function r(n){return-n.tension*n.x-n.friction*n.v}function e(n,i,o){var a={x:n.x+o.dx*i,v:n.v+o.dv*i,tension:n.tension,friction:n.friction};return{dx:a.v,dv:r(a)}}function t(n,i){var o={dx:n.v,dv:r(n)},a=e(n,i*.5,o),u=e(n,i*.5,a),s=e(n,i,u),l=1/6*(o.dx+2*(a.dx+u.dx)+s.dx),c=1/6*(o.dv+2*(a.dv+u.dv)+s.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function n(i,o,a){var u={x:-1,v:0,tension:null,friction:null},s=[0],l=0,c=1/1e4,f=16/1e3,h,v,d;for(i=parseFloat(i)||500,o=parseFloat(o)||20,a=a||null,u.tension=i,u.friction=o,h=a!==null,h?(l=n(i,o),v=l/a*f):v=f;d=t(d||u,v),s.push(1+d.x),l+=16,Math.abs(d.x)>c&&Math.abs(d.v)>c;);return h?function(y){return s[y*(s.length-1)|0]}:l}}(),tn=function(e,t,n,i){var o=J7(e,t,n,i);return function(a,u,s){return a+(u-a)*o(s)}},Pm={linear:function(e,t,n){return e+(t-e)*n},ease:tn(.25,.1,.25,1),"ease-in":tn(.42,0,1,1),"ease-out":tn(0,0,.58,1),"ease-in-out":tn(.42,0,.58,1),"ease-in-sine":tn(.47,0,.745,.715),"ease-out-sine":tn(.39,.575,.565,1),"ease-in-out-sine":tn(.445,.05,.55,.95),"ease-in-quad":tn(.55,.085,.68,.53),"ease-out-quad":tn(.25,.46,.45,.94),"ease-in-out-quad":tn(.455,.03,.515,.955),"ease-in-cubic":tn(.55,.055,.675,.19),"ease-out-cubic":tn(.215,.61,.355,1),"ease-in-out-cubic":tn(.645,.045,.355,1),"ease-in-quart":tn(.895,.03,.685,.22),"ease-out-quart":tn(.165,.84,.44,1),"ease-in-out-quart":tn(.77,0,.175,1),"ease-in-quint":tn(.755,.05,.855,.06),"ease-out-quint":tn(.23,1,.32,1),"ease-in-out-quint":tn(.86,0,.07,1),"ease-in-expo":tn(.95,.05,.795,.035),"ease-out-expo":tn(.19,1,.22,1),"ease-in-out-expo":tn(1,0,0,1),"ease-in-circ":tn(.6,.04,.98,.335),"ease-out-circ":tn(.075,.82,.165,1),"ease-in-out-circ":tn(.785,.135,.15,.86),spring:function(e,t,n){if(n===0)return Pm.linear;var i=eW(e,t,n);return function(o,a,u){return o+(a-o)*i(u)}},"cubic-bezier":tn};function c2(r,e,t,n,i){if(n===1||e===t)return t;var o=i(e,t,n);return r==null||((r.roundValue||r.color)&&(o=Math.round(o)),r.min!==void 0&&(o=Math.max(o,r.min)),r.max!==void 0&&(o=Math.min(o,r.max))),o}function f2(r,e){return r.pfValue!=null||r.value!=null?r.pfValue!=null&&(e==null||e.type.units!=="%")?r.pfValue:r.value:r}function lh(r,e,t,n,i){var o=i!=null?i.type:null;t<0?t=0:t>1&&(t=1);var a=f2(r,i),u=f2(e,i);if(at(a)&&at(u))return c2(o,a,u,t,n);if(Zr(a)&&Zr(u)){for(var s=[],l=0;l<u.length;l++){var c=a[l],f=u[l];if(c!=null&&f!=null){var h=c2(o,c,f,t,n);s.push(h)}else s.push(f)}return s}}function tW(r,e,t,n){var i=!n,o=r._private,a=e._private,u=a.easing,s=a.startTime,l=n?r:r.cy(),c=l.style();if(!a.easingImpl)if(u==null)a.easingImpl=Pm.linear;else{var f;if(St(u)){var h=c.parse("transition-timing-function",u);f=h.value}else f=u;var v,d;St(f)?(v=f,d=[]):(v=f[1],d=f.slice(2).map(function(W){return+W})),d.length>0?(v==="spring"&&d.push(a.duration),a.easingImpl=Pm[v].apply(null,d)):a.easingImpl=Pm[v]}var y=a.easingImpl,p;if(a.duration===0?p=1:p=(t-s)/a.duration,a.applying&&(p=a.progress),p<0?p=0:p>1&&(p=1),a.delay==null){var g=a.startPosition,b=a.position;if(b&&i&&!r.locked()){var m={};Mv(g.x,b.x)&&(m.x=lh(g.x,b.x,p,y)),Mv(g.y,b.y)&&(m.y=lh(g.y,b.y,p,y)),r.position(m)}var _=a.startPan,w=a.pan,O=o.pan,E=w!=null&&n;E&&(Mv(_.x,w.x)&&(O.x=lh(_.x,w.x,p,y)),Mv(_.y,w.y)&&(O.y=lh(_.y,w.y,p,y)),r.emit("pan"));var S=a.startZoom,P=a.zoom,I=P!=null&&n;I&&(Mv(S,P)&&(o.zoom=Hv(o.minZoom,lh(S,P,p,y),o.maxZoom)),r.emit("zoom")),(E||I)&&r.emit("viewport");var R=a.style;if(R&&R.length>0&&i){for(var D=0;D<R.length;D++){var k=R[D],N=k.name,B=k,z=a.startStyle[N],F=c.properties[z.name],U=lh(z,B,p,y,F);c.overrideBypass(r,N,U)}r.emit("style")}}return a.progress=p,p}function Mv(r,e){return r==null||e==null?!1:at(r)&&at(e)?!0:!!(r&&e)}function rW(r,e,t,n){var i=e._private;i.started=!0,i.startTime=t-i.progress*i.duration}function h2(r,e){var t=e._private.aniEles,n=[];function i(c,f){var h=c._private,v=h.animation.current,d=h.animation.queue,y=!1;if(v.length===0){var p=d.shift();p&&v.push(p)}for(var g=function(O){for(var E=O.length-1;E>=0;E--){var S=O[E];S()}O.splice(0,O.length)},b=v.length-1;b>=0;b--){var m=v[b],_=m._private;if(_.stopped){v.splice(b,1),_.hooked=!1,_.playing=!1,_.started=!1,g(_.frames);continue}!_.playing&&!_.applying||(_.playing&&_.applying&&(_.applying=!1),_.started||rW(c,m,r),tW(c,m,r,f),_.applying&&(_.applying=!1),g(_.frames),_.step!=null&&_.step(r),m.completed()&&(v.splice(b,1),_.hooked=!1,_.playing=!1,_.started=!1,g(_.completes)),y=!0)}return!f&&v.length===0&&d.length===0&&n.push(c),y}for(var o=!1,a=0;a<t.length;a++){var u=t[a],s=i(u);o=o||s}var l=i(e,!0);(o||l)&&(t.length>0?e.notify("draw",t):e.notify("draw")),t.unmerge(n),e.emit("step")}var nW={animate:qr.animate(),animation:qr.animation(),animated:qr.animated(),clearQueue:qr.clearQueue(),delay:qr.delay(),delayAnimation:qr.delayAnimation(),stop:qr.stop(),addToAnimationPool:function(e){var t=this;t.styleEnabled()&&t._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function t(){e._private.animationsRunning&&Lm(function(o){h2(o,e),t()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(o,a){h2(a,e)},n.beforeRenderPriorities.animations):t()}},iW={qualifierCompare:function(e,t){return e==null||t==null?e==null&&t==null:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return i!=null?e!==n.target&&ep(n.target)&&i.matches(n.target):!0},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return t.qualifier!=null?n.target:e}},bm=function(e){return St(e)?new ul(e):e},WP={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new i0(iW,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,bm(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,bm(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,bm(t),n),this},once:function(e,t,n){return this.emitter().one(e,bm(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};qr.eventAliasesOn(WP);var Gw={png:function(e){var t=this._private.renderer;return e=e||{},t.png(e)},jpg:function(e){var t=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",t.jpg(e)}};Gw.jpeg=Gw.jpg;var Am={layout:function(e){var t=this;if(e==null){mn("Layout options must be specified to make a layout");return}if(e.name==null){mn("A `name` must be specified to make a layout");return}var n=e.name,i=t.extension("layout",n);if(i==null){mn("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var o;St(e.eles)?o=t.$(e.eles):o=e.eles!=null?e.eles:t.$();var a=new i(Nt({},e,{cy:t,eles:o}));return a}};Am.createLayout=Am.makeLayout=Am.layout;var oW={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();t!=null&&i.merge(t);return}if(n.notificationsEnabled){var o=this.renderer();this.destroyed()||!o||o.notify(e,t)}},notifications:function(e){var t=this._private;return e===void 0?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o],u=t.getElementById(o);u.data(a)}})}},aW=Ci({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Vw={renderTo:function(e,t,n,i){var o=this._private.renderer;return o.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,n=t.extension("renderer",e.name);if(n==null){mn("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Gr("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var i=aW(e);i.cy=t,t._private.renderer=new n(i),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var i=n._private;i.rscratch={},i.rstyle={},i.animation.current=[],i.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Vw.invalidateDimensions=Vw.resize;var Rm={collection:function(e,t){return St(e)?this.$(e):Jo(e)?e.collection():Zr(e)?(t||(t={}),new Ti(this,e,t.unique,t.removed)):new Ti(this)},nodes:function(e){var t=this.$(function(n){return n.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(n){return n.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};Rm.elements=Rm.filter=Rm.$;var pi={},Uv="t",sW="f";pi.apply=function(r){for(var e=this,t=e._private,n=t.cy,i=n.collection(),o=0;o<r.length;o++){var a=r[o],u=e.getContextMeta(a);if(!u.empty){var s=e.getContextStyle(u),l=e.applyContextStyle(u,s,a);a._private.appliedInitStyle?e.updateTransitions(a,l.diffProps):a._private.appliedInitStyle=!0;var c=e.updateStyleHints(a);c&&i.push(a)}}return i};pi.getPropertiesDiff=function(r,e){var t=this,n=t._private.propDiffs=t._private.propDiffs||{},i=r+"-"+e,o=n[i];if(o)return o;for(var a=[],u={},s=0;s<t.length;s++){var l=t[s],c=r[s]===Uv,f=e[s]===Uv,h=c!==f,v=l.mappedProperties.length>0;if(h||f&&v){var d=void 0;h&&v||h?d=l.properties:v&&(d=l.mappedProperties);for(var y=0;y<d.length;y++){for(var p=d[y],g=p.name,b=!1,m=s+1;m<t.length;m++){var _=t[m],w=e[m]===Uv;if(w&&(b=_.properties[p.name]!=null,b))break}!u[g]&&!b&&(u[g]=!0,a.push(g))}}}return n[i]=a,a};pi.getContextMeta=function(r){for(var e=this,t="",n,i=r._private.styleCxtKey||"",o=0;o<e.length;o++){var a=e[o],u=a.selector&&a.selector.matches(r);u?t+=Uv:t+=sW}return n=e.getPropertiesDiff(i,t),r._private.styleCxtKey=t,{key:t,diffPropNames:n,empty:n.length===0}};pi.getContextStyle=function(r){var e=r.key,t=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var i={_private:{key:e}},o=0;o<t.length;o++){var a=t[o],u=e[o]===Uv;if(u)for(var s=0;s<a.properties.length;s++){var l=a.properties[s];i[l.name]=l}}return n[e]=i,i};pi.applyContextStyle=function(r,e,t){for(var n=this,i=r.diffPropNames,o={},a=n.types,u=0;u<i.length;u++){var s=i[u],l=e[s],c=t.pstyle(s);if(!l)if(c)c.bypass?l={name:s,deleteBypassed:!0}:l={name:s,delete:!0};else continue;if(c!==l){if(l.mapped===a.fn&&c!=null&&c.mapping!=null&&c.mapping.value===l.value){var f=c.mapping,h=f.fnValue=l.value(t);if(h===f.prevFnValue)continue}var v=o[s]={prev:c};n.applyParsedProperty(t,l),v.next=t.pstyle(s),v.next&&v.next.bypass&&(v.next=v.next.bypassed)}}return{diffProps:o}};pi.updateStyleHints=function(r){var e=r._private,t=this,n=t.propertyGroupNames,i=t.propertyGroupKeys,o=function(ie,de,_e){return t.getPropertiesHash(ie,de,_e)},a=e.styleKey;if(r.removed())return!1;var u=e.group==="nodes",s=r._private.style;n=Object.keys(s);for(var l=0;l<i.length;l++){var c=i[l];e.styleKeys[c]=[Cc,vh]}for(var f=function(ie,de){return e.styleKeys[de][0]=Gv(ie,e.styleKeys[de][0])},h=function(ie,de){return e.styleKeys[de][1]=Vv(ie,e.styleKeys[de][1])},v=function(ie,de){f(ie,de),h(ie,de)},d=function(ie,de){for(var _e=0;_e<ie.length;_e++){var Ce=ie.charCodeAt(_e);f(Ce,de),h(Ce,de)}},y=2e9,p=function(ie){return-128<ie&&ie<128&&Math.floor(ie)!==ie?y-(ie*1024|0):ie},g=0;g<n.length;g++){var b=n[g],m=s[b];if(m!=null){var _=this.properties[b],w=_.type,O=_.groupKey,E=void 0;_.hashOverride!=null?E=_.hashOverride(r,m):m.pfValue!=null&&(E=m.pfValue);var S=_.enums==null?m.value:null,P=E!=null,I=S!=null,R=P||I,D=m.units;if(w.number&&R&&!w.multiple){var k=P?E:S;v(p(k),O),!P&&D!=null&&d(D,O)}else d(m.strValue,O)}}for(var N=[Cc,vh],B=0;B<i.length;B++){var z=i[B],F=e.styleKeys[z];N[0]=Gv(F[0],N[0]),N[1]=Vv(F[1],N[1])}e.styleKey=x9(N[0],N[1]);var U=e.styleKeys;e.labelDimsKey=Zu(U.labelDimensions);var W=o(r,["label"],U.labelDimensions);if(e.labelKey=Zu(W),e.labelStyleKey=Zu(fm(U.commonLabel,W)),!u){var Y=o(r,["source-label"],U.labelDimensions);e.sourceLabelKey=Zu(Y),e.sourceLabelStyleKey=Zu(fm(U.commonLabel,Y));var X=o(r,["target-label"],U.labelDimensions);e.targetLabelKey=Zu(X),e.targetLabelStyleKey=Zu(fm(U.commonLabel,X))}if(u){var Q=e.styleKeys,ue=Q.nodeBody,ce=Q.nodeBorder,ae=Q.nodeOutline,pe=Q.backgroundImage,fe=Q.compound,he=Q.pie,ee=Q.stripe,K=[ue,ce,ae,pe,fe,he,ee].filter(function(J){return J!=null}).reduce(fm,[Cc,vh]);e.nodeKey=Zu(K),e.hasPie=he!=null&&he[0]!==Cc&&he[1]!==vh,e.hasStripe=ee!=null&&ee[0]!==Cc&&ee[1]!==vh}return a!==e.styleKey};pi.clearStyleHints=function(r){var e=r._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};pi.applyParsedProperty=function(r,e){var t=this,n=e,i=r._private.style,o,a=t.types,u=t.properties[n.name].type,s=n.bypass,l=i[n.name],c=l&&l.bypass,f=r._private,h="mapping",v=function(ue){return ue==null?null:ue.pfValue!=null?ue.pfValue:ue.value},d=function(){var ue=v(l),ce=v(n);t.checkTriggers(r,n.name,ue,ce)};if(e.name==="curve-style"&&r.isEdge()&&(e.value!=="bezier"&&r.isLoop()||e.value==="haystack"&&(r.source().isParent()||r.target().isParent()))&&(n=e=this.parse(e.name,"bezier",s)),n.delete)return i[n.name]=void 0,d(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,d(),!0):!1:(d(),!0);if(n.deleteBypass)return l?l.bypass?(i[n.name]=l.bypassed,d(),!0):!1:(d(),!0);var y=function(){Gr("Do not assign mappings to elements without corresponding data (i.e. ele `"+r.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case a.mapData:{for(var p=n.field.split("."),g=f.data,b=0;b<p.length&&g;b++){var m=p[b];g=g[m]}if(g==null)return y(),!1;var _;if(at(g)){var w=n.fieldMax-n.fieldMin;w===0?_=0:_=(g-n.fieldMin)/w}else return Gr("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+g+"` for `"+r.id()+"` is non-numeric)"),!1;if(_<0?_=0:_>1&&(_=1),u.color){var O=n.valueMin[0],E=n.valueMax[0],S=n.valueMin[1],P=n.valueMax[1],I=n.valueMin[2],R=n.valueMax[2],D=n.valueMin[3]==null?1:n.valueMin[3],k=n.valueMax[3]==null?1:n.valueMax[3],N=[Math.round(O+(E-O)*_),Math.round(S+(P-S)*_),Math.round(I+(R-I)*_),Math.round(D+(k-D)*_)];o={bypass:n.bypass,name:n.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else if(u.number){var B=n.valueMin+(n.valueMax-n.valueMin)*_;o=this.parse(n.name,B,n.bypass,h)}else return!1;if(!o)return y(),!1;o.mapping=n,n=o;break}case a.data:{for(var z=n.field.split("."),F=f.data,U=0;U<z.length&&F;U++){var W=z[U];F=F[W]}if(F!=null&&(o=this.parse(n.name,F,n.bypass,h)),!o)return y(),!1;o.mapping=n,n=o;break}case a.fn:{var Y=n.value,X=n.fnValue!=null?n.fnValue:Y(r);if(n.prevFnValue=X,X==null)return Gr("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+r.id()+"` is null)"),!1;if(o=this.parse(n.name,X,n.bypass,h),!o)return Gr("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+r.id()+"` is invalid)"),!1;o.mapping=Ts(n),n=o;break}case void 0:break;default:return!1}return s?(c?n.bypassed=l.bypassed:n.bypassed=l,i[n.name]=n):c?l.bypassed=n:i[n.name]=n,d(),!0};pi.cleanElements=function(r,e){for(var t=0;t<r.length;t++){var n=r[t];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var i=n._private.style,o=Object.keys(i),a=0;a<o.length;a++){var u=o[a],s=i[u];s!=null&&(s.bypass?s.bypassed=null:i[u]=null)}}};pi.update=function(){var r=this._private.cy,e=r.mutableElements();e.updateStyle()};pi.updateTransitions=function(r,e){var t=this,n=r._private,i=r.pstyle("transition-property").value,o=r.pstyle("transition-duration").pfValue,a=r.pstyle("transition-delay").pfValue;if(i.length>0&&o>0){for(var u={},s=!1,l=0;l<i.length;l++){var c=i[l],f=r.pstyle(c),h=e[c];if(h){var v=h.prev,d=v,y=h.next!=null?h.next:f,p=!1,g=void 0,b=1e-6;d&&(at(d.pfValue)&&at(y.pfValue)?(p=y.pfValue-d.pfValue,g=d.pfValue+b*p):at(d.value)&&at(y.value)?(p=y.value-d.value,g=d.value+b*p):Zr(d.value)&&Zr(y.value)&&(p=d.value[0]!==y.value[0]||d.value[1]!==y.value[1]||d.value[2]!==y.value[2],g=d.strValue),p&&(u[c]=y.strValue,this.applyBypass(r,c,g),s=!0))}}if(!s)return;n.transitioning=!0,new Th(function(m){a>0?r.delayAnimation(a).play().promise().then(m):m()}).then(function(){return r.animation({style:u,duration:o,easing:r.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){t.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(r,i),r.emitAndNotify("style"),n.transitioning=!1)};pi.checkTrigger=function(r,e,t,n,i,o){var a=this.properties[e],u=i(a);r.removed()||u!=null&&u(t,n,r)&&o(a)};pi.checkZOrderTrigger=function(r,e,t,n){var i=this;this.checkTrigger(r,e,t,n,function(o){return o.triggersZOrder},function(){i._private.cy.notify("zorder",r)})};pi.checkBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBounds},function(i){r.dirtyCompoundBoundsCache(),r.dirtyBoundingBoxCache()})};pi.checkConnectedEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfConnectedEdges},function(i){r.connectedEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};pi.checkParallelEdgesBoundsTrigger=function(r,e,t,n){this.checkTrigger(r,e,t,n,function(i){return i.triggersBoundsOfParallelEdges},function(i){r.parallelEdges().forEach(function(o){o.dirtyBoundingBoxCache()})})};pi.checkTriggers=function(r,e,t,n){r.dirtyStyleCache(),this.checkZOrderTrigger(r,e,t,n),this.checkBoundsTrigger(r,e,t,n),this.checkConnectedEdgesBoundsTrigger(r,e,t,n),this.checkParallelEdgesBoundsTrigger(r,e,t,n)};var sp={};sp.applyBypass=function(r,e,t,n){var i=this,o=[],a=!0;if(e==="*"||e==="**"){if(t!==void 0)for(var u=0;u<i.properties.length;u++){var s=i.properties[u],l=s.name,c=this.parse(l,t,!0);c&&o.push(c)}}else if(St(e)){var f=this.parse(e,t,!0);f&&o.push(f)}else if(Dr(e)){var h=e;n=t;for(var v=Object.keys(h),d=0;d<v.length;d++){var y=v[d],p=h[y];if(p===void 0&&(p=h[Xm(y)]),p!==void 0){var g=this.parse(y,p,!0);g&&o.push(g)}}}else return!1;if(o.length===0)return!1;for(var b=!1,m=0;m<r.length;m++){for(var _=r[m],w={},O=void 0,E=0;E<o.length;E++){var S=o[E];if(n){var P=_.pstyle(S.name);O=w[S.name]={prev:P}}b=this.applyParsedProperty(_,Ts(S))||b,n&&(O.next=_.pstyle(S.name))}b&&this.updateStyleHints(_),n&&this.updateTransitions(_,w,a)}return b};sp.overrideBypass=function(r,e,t){e=rE(e);for(var n=0;n<r.length;n++){var i=r[n],o=i._private.style[e],a=this.properties[e].type,u=a.color,s=a.mutiple,l=o?o.pfValue!=null?o.pfValue:o.value:null;!o||!o.bypass?this.applyBypass(i,e,t):(o.value=t,o.pfValue!=null&&(o.pfValue=t),u?o.strValue="rgb("+t.join(",")+")":s?o.strValue=t.join(" "):o.strValue=""+t,this.updateStyleHints(i)),this.checkTriggers(i,e,l,t)}};sp.removeAllBypasses=function(r,e){return this.removeBypasses(r,this.propertyNames,e)};sp.removeBypasses=function(r,e,t){for(var n=!0,i=0;i<r.length;i++){for(var o=r[i],a={},u=0;u<e.length;u++){var s=e[u],l=this.properties[s],c=o.pstyle(l.name);if(!(!c||!c.bypass)){var f="",h=this.parse(s,f,!0),v=a[l.name]={prev:c};this.applyParsedProperty(o,h),v.next=o.pstyle(l.name)}}this.updateStyleHints(o),t&&this.updateTransitions(o,a,n)}};var yE={};yE.getEmSizeInPixels=function(){var r=this.containerCss("font-size");return r!=null?parseFloat(r):1};yE.containerCss=function(r){var e=this._private.cy,t=e.container(),n=e.window();if(n&&t&&n.getComputedStyle)return n.getComputedStyle(t).getPropertyValue(r)};var Cs={};Cs.getRenderedStyle=function(r,e){return e?this.getStylePropertyValue(r,e,!0):this.getRawStyle(r,!0)};Cs.getRawStyle=function(r,e){var t=this;if(r=r[0],r){for(var n={},i=0;i<t.properties.length;i++){var o=t.properties[i],a=t.getStylePropertyValue(r,o.name,e);a!=null&&(n[o.name]=a,n[Xm(o.name)]=a)}return n}};Cs.getIndexedStyle=function(r,e,t,n){var i=r.pstyle(e)[t][n];return i??r.cy().style().getDefaultProperty(e)[t][0]};Cs.getStylePropertyValue=function(r,e,t){var n=this;if(r=r[0],r){var i=n.properties[e];i.alias&&(i=i.pointsTo);var o=i.type,a=r.pstyle(i.name);if(a){var u=a.value,s=a.units,l=a.strValue;if(t&&o.number&&u!=null&&at(u)){var c=r.cy().zoom(),f=function(p){return p*c},h=function(p,g){return f(p)+g},v=Zr(u),d=v?s.every(function(y){return y!=null}):s!=null;return d?v?u.map(function(y,p){return h(y,s[p])}).join(" "):h(u,s):v?u.map(function(y){return St(y)?y:""+f(y)}).join(" "):""+f(u)}else if(l!=null)return l}return null}};Cs.getAnimationStartStyle=function(r,e){for(var t={},n=0;n<e.length;n++){var i=e[n],o=i.name,a=r.pstyle(o);a!==void 0&&(Dr(a)?a=this.parse(o,a.strValue):a=this.parse(o,a)),a&&(t[o]=a)}return t};Cs.getPropsList=function(r){var e=this,t=[],n=r,i=e.properties;if(n)for(var o=Object.keys(n),a=0;a<o.length;a++){var u=o[a],s=n[u],l=i[u]||i[rE(u)],c=this.parse(l.name,s);c&&t.push(c)}return t};Cs.getNonDefaultPropertiesHash=function(r,e,t){var n=t.slice(),i,o,a,u,s,l;for(s=0;s<e.length;s++)if(i=e[s],o=r.pstyle(i,!1),o!=null)if(o.pfValue!=null)n[0]=Gv(u,n[0]),n[1]=Vv(u,n[1]);else for(a=o.strValue,l=0;l<a.length;l++)u=a.charCodeAt(l),n[0]=Gv(u,n[0]),n[1]=Vv(u,n[1]);return n};Cs.getPropertiesHash=Cs.getNonDefaultPropertiesHash;var s0={};s0.appendFromJson=function(r){for(var e=this,t=0;t<r.length;t++){var n=r[t],i=n.selector,o=n.style||n.css,a=Object.keys(o);e.selector(i);for(var u=0;u<a.length;u++){var s=a[u],l=o[s];e.css(s,l)}}return e};s0.fromJson=function(r){var e=this;return e.resetToDefault(),e.appendFromJson(r),e};s0.json=function(){for(var r=[],e=this.defaultLength;e<this.length;e++){for(var t=this[e],n=t.selector,i=t.properties,o={},a=0;a<i.length;a++){var u=i[a];o[u.name]=u.strValue}r.push({selector:n?n.toString():"core",style:o})}return r};var mE={};mE.appendFromString=function(r){var e=this,t=this,n=""+r,i,o,a;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function u(){n.length>i.length?n=n.substr(i.length):n=""}function s(){o.length>a.length?o=o.substr(a.length):o=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var c=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){Gr("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}i=c[0];var f=c[1];if(f!=="core"){var h=new ul(f);if(h.invalid){Gr("Skipping parsing of block: Invalid selector found in string stylesheet: "+f),u();continue}}var v=c[2],d=!1;o=v;for(var y=[];;){var p=o.match(/^\s*$/);if(p)break;var g=o.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!g){Gr("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+v),d=!0;break}a=g[0];var b=g[1],m=g[2],_=e.properties[b];if(!_){Gr("Skipping property: Invalid property name in: "+a),s();continue}var w=t.parse(b,m);if(!w){Gr("Skipping property: Invalid property definition in: "+a),s();continue}y.push({name:b,val:m}),s()}if(d){u();break}t.selector(f);for(var O=0;O<y.length;O++){var E=y[O];t.css(E.name,E.val)}u()}return t};mE.fromString=function(r){var e=this;return e.resetToDefault(),e.appendFromString(r),e};var qn={};(function(){var r=ti,e=t9,t=n9,n=i9,i=o9,o=function(J){return"^"+J+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},a=function(J){var ie=r+"|\\w+|"+e+"|"+t+"|"+n+"|"+i;return"^"+J+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+r+")\\s*\\,\\s*("+r+")\\s*,\\s*("+ie+")\\s*\\,\\s*("+ie+")\\)$"},u=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];qn.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:o("data")},layoutData:{mapping:!0,regex:o("layoutData")},scratch:{mapping:!0,regex:o("scratch")},mapData:{mapping:!0,regex:a("mapData")},mapLayoutData:{mapping:!0,regex:a("mapLayoutData")},mapScratch:{mapping:!0,regex:a("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:u,singleRegexMatchValue:!0},urls:{regexes:u,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(J,ie){switch(J.length){case 2:return ie[0]!=="deg"&&ie[0]!=="rad"&&ie[1]!=="deg"&&ie[1]!=="rad";case 1:return St(J[0])||ie[0]==="deg"||ie[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*,\\s*("+r+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(J){var ie=J.length;return ie===1||ie===2||ie===4}}};var s={zeroNonZero:function(J,ie){return(J==null||ie==null)&&J!==ie||J==0&&ie!=0?!0:J!=0&&ie==0},any:function(J,ie){return J!=ie},emptyNonEmpty:function(J,ie){var de=ol(J),_e=ol(ie);return de&&!_e||!de&&_e}},l=qn.types,c=[{name:"label",type:l.text,triggersBounds:s.any,triggersZOrder:s.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any}],f=[{name:"source-label",type:l.text,triggersBounds:s.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"source-text-offset",type:l.size,triggersBounds:s.any}],h=[{name:"target-label",type:l.text,triggersBounds:s.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:s.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"target-text-offset",type:l.size,triggersBounds:s.any}],v=[{name:"font-family",type:l.fontFamily,triggersBounds:s.any},{name:"font-style",type:l.fontStyle,triggersBounds:s.any},{name:"font-weight",type:l.fontWeight,triggersBounds:s.any},{name:"font-size",type:l.size,triggersBounds:s.any},{name:"text-transform",type:l.textTransform,triggersBounds:s.any},{name:"text-wrap",type:l.textWrap,triggersBounds:s.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:s.any},{name:"text-max-width",type:l.size,triggersBounds:s.any},{name:"text-outline-width",type:l.size,triggersBounds:s.any},{name:"line-height",type:l.positiveNumber,triggersBounds:s.any}],d=[{name:"text-valign",type:l.valign,triggersBounds:s.any},{name:"text-halign",type:l.halign,triggersBounds:s.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:s.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:s.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:s.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:s.any},{name:"text-justification",type:l.justification},{name:"box-select-labels",type:l.bool,triggersBounds:s.any}],y=[{name:"events",type:l.bool,triggersZOrder:s.any},{name:"text-events",type:l.bool,triggersZOrder:s.any},{name:"box-selection",type:l.boxSelection,triggersZOrder:s.any}],p=[{name:"display",type:l.display,triggersZOrder:s.any,triggersBounds:s.any,triggersBoundsOfConnectedEdges:s.any,triggersBoundsOfParallelEdges:function(J,ie,de){return J===ie?!1:de.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:l.visibility,triggersZOrder:s.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:s.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:s.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:s.any},{name:"z-index",type:l.number,triggersZOrder:s.any}],g=[{name:"overlay-padding",type:l.size,triggersBounds:s.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"overlay-corner-radius",type:l.cornerRadius}],b=[{name:"underlay-padding",type:l.size,triggersBounds:s.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:s.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:s.any},{name:"underlay-corner-radius",type:l.cornerRadius}],m=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],_=function(J,ie){return ie.value==="label"?-J.poolIndex():ie.pfValue},w=[{name:"height",type:l.nodeSize,triggersBounds:s.any,hashOverride:_},{name:"width",type:l.nodeSize,triggersBounds:s.any,hashOverride:_},{name:"shape",type:l.nodeShape,triggersBounds:s.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:s.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:s.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:s.any}],O=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:s.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],E=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:s.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:s.any}],S=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],P=[{name:"position",type:l.position,triggersBounds:s.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:s.any},{name:"min-width",type:l.size,triggersBounds:s.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height",type:l.size,triggersBounds:s.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:s.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:s.any}],I=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:s.any,triggersBoundsOfParallelEdges:function(J,ie){return J===ie?!1:J==="bezier"||ie==="bezier"}},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:s.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:s.any},{name:"control-point-step-size",type:l.size,triggersBounds:s.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"control-point-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:s.any},{name:"segment-weights",type:l.numbers,triggersBounds:s.any},{name:"segment-radii",type:l.numbers,triggersBounds:s.any},{name:"radius-type",type:l.radiusType,triggersBounds:s.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:s.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:s.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:s.any},{name:"taxi-radius",type:l.number,triggersBounds:s.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:s.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:s.any},{name:"loop-direction",type:l.angle,triggersBounds:s.any},{name:"loop-sweep",type:l.angle,triggersBounds:s.any},{name:"source-distance-from-node",type:l.size,triggersBounds:s.any},{name:"target-distance-from-node",type:l.size,triggersBounds:s.any}],R=[{name:"ghost",type:l.bool,triggersBounds:s.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:s.any},{name:"ghost-opacity",type:l.zeroOneNumber}],D=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],k=[];qn.pieBackgroundN=16,k.push({name:"pie-size",type:l.sizeMaybePercent}),k.push({name:"pie-hole",type:l.sizeMaybePercent}),k.push({name:"pie-start-angle",type:l.angle});for(var N=1;N<=qn.pieBackgroundN;N++)k.push({name:"pie-"+N+"-background-color",type:l.color}),k.push({name:"pie-"+N+"-background-size",type:l.percent}),k.push({name:"pie-"+N+"-background-opacity",type:l.zeroOneNumber});var B=[];qn.stripeBackgroundN=16,B.push({name:"stripe-size",type:l.sizeMaybePercent}),B.push({name:"stripe-direction",type:l.axisDirectionPrimary});for(var z=1;z<=qn.stripeBackgroundN;z++)B.push({name:"stripe-"+z+"-background-color",type:l.color}),B.push({name:"stripe-"+z+"-background-size",type:l.percent}),B.push({name:"stripe-"+z+"-background-opacity",type:l.zeroOneNumber});var F=[],U=qn.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:s.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(K){U.forEach(function(J){var ie=J+"-"+K.name,de=K.type,_e=K.triggersBounds;F.push({name:ie,type:de,triggersBounds:_e})})},{});var W=qn.properties=[].concat(y,m,p,g,b,R,d,v,c,f,h,w,O,E,S,k,B,P,I,F,D),Y=qn.propertyGroups={behavior:y,transition:m,visibility:p,overlay:g,underlay:b,ghost:R,commonLabel:d,labelDimensions:v,mainLabel:c,sourceLabel:f,targetLabel:h,nodeBody:w,nodeBorder:O,nodeOutline:E,backgroundImage:S,pie:k,stripe:B,compound:P,edgeLine:I,edgeArrow:F,core:D},X=qn.propertyGroupNames={},Q=qn.propertyGroupKeys=Object.keys(Y);Q.forEach(function(K){X[K]=Y[K].map(function(J){return J.name}),Y[K].forEach(function(J){return J.groupKey=K})});var ue=qn.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];qn.propertyNames=W.map(function(K){return K.name});for(var ce=0;ce<W.length;ce++){var ae=W[ce];W[ae.name]=ae}for(var pe=0;pe<ue.length;pe++){var fe=ue[pe],he=W[fe.pointsTo],ee={name:fe.name,alias:!0,pointsTo:he};W.push(ee),W[fe.name]=ee}})();qn.getDefaultProperty=function(r){return this.getDefaultProperties()[r]};qn.getDefaultProperties=function(){var r=this._private;if(r.defaultProperties!=null)return r.defaultProperties;for(var e=Nt({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var c=1;c<=qn.pieBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;s[f]=h}return s},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(s,l){for(var c=1;c<=qn.stripeBackgroundN;c++){var f=l.name.replace("{{i}}",c),h=l.value;s[f]=h}return s},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(s,l){return qn.arrowPrefixes.forEach(function(c){var f=c+"-"+l.name,h=l.value;s[f]=h}),s},{})),t={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var o=i.name,a=e[o],u=this.parse(o,a);t[o]=u}}return r.defaultProperties=t,r.defaultProperties};qn.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var u0={};u0.parse=function(r,e,t,n){var i=this;if(xn(e))return i.parseImplWarn(r,e,t,n);var o=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,a=t?"t":"f",u=""+e,s=tP(r,u,a,o),l=i.propCache=i.propCache||[],c;return(c=l[s])||(c=l[s]=i.parseImplWarn(r,e,t,n)),(t||n==="mapping")&&(c=Ts(c),c&&(c.value=Ts(c.value))),c};u0.parseImplWarn=function(r,e,t,n){var i=this.parseImpl(r,e,t,n);return!i&&e!=null&&Gr("The style property `".concat(r,": ").concat(e,"` is invalid")),i&&(i.name==="width"||i.name==="height")&&e==="label"&&Gr("The style value of `label` is deprecated for `"+i.name+"`"),i};u0.parseImpl=function(r,e,t,n){var i=this;r=rE(r);var o=i.properties[r],a=e,u=i.types;if(!o||e===void 0)return null;o.alias&&(o=o.pointsTo,r=o.name);var s=St(e);s&&(e=e.trim());var l=o.type;if(!l)return null;if(t&&(e===""||e===null))return{name:r,value:e,bypass:!0,deleteBypass:!0};if(xn(e))return{name:r,value:e,strValue:"fn",mapped:u.fn,bypass:t};var c,f;if(!(!s||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(c=new RegExp(u.data.regex).exec(e))){if(t)return!1;var h=u.data;return{name:r,value:c,strValue:""+e,mapped:h,field:c[1],bypass:t}}else if(e.length>=10&&e[0]==="m"&&(f=new RegExp(u.mapData.regex).exec(e))){if(t||l.multiple)return!1;var v=u.mapData;if(!(l.color||l.number))return!1;var d=this.parse(r,f[4]);if(!d||d.mapped)return!1;var y=this.parse(r,f[5]);if(!y||y.mapped)return!1;if(d.pfValue===y.pfValue||d.strValue===y.strValue)return Gr("`"+r+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+r+": "+d.strValue+"`"),this.parse(r,d.strValue);if(l.color){var p=d.value,g=y.value,b=p[0]===g[0]&&p[1]===g[1]&&p[2]===g[2]&&(p[3]===g[3]||(p[3]==null||p[3]===1)&&(g[3]==null||g[3]===1));if(b)return!1}return{name:r,value:f,strValue:""+e,mapped:v,field:f[1],fieldMin:parseFloat(f[2]),fieldMax:parseFloat(f[3]),valueMin:d.value,valueMax:y.value,bypass:t}}}if(l.multiple&&n!=="multiple"){var m;if(s?m=e.split(/\s+/):Zr(e)?m=e:m=[e],l.evenMultiple&&m.length%2!==0)return null;for(var _=[],w=[],O=[],E="",S=!1,P=0;P<m.length;P++){var I=i.parse(r,m[P],t,"multiple");S=S||St(I.value),_.push(I.value),O.push(I.pfValue!=null?I.pfValue:I.value),w.push(I.units),E+=(P>0?" ":"")+I.strValue}return l.validate&&!l.validate(_,w)?null:l.singleEnum&&S?_.length===1&&St(_[0])?{name:r,value:_[0],strValue:_[0],bypass:t}:null:{name:r,value:_,pfValue:O,strValue:E,bypass:t,units:w}}var R=function(){for(var ee=0;ee<l.enums.length;ee++){var K=l.enums[ee];if(K===e)return{name:r,value:e,strValue:""+e,bypass:t}}return null};if(l.number){var D,k="px";if(l.units&&(D=l.units),l.implicitUnits&&(k=l.implicitUnits),!l.unitless)if(s){var N="px|em"+(l.allowPercent?"|\\%":"");D&&(N=D);var B=e.match("^("+ti+")("+N+")?$");B&&(e=B[1],D=B[2]||k)}else(!D||l.implicitUnits)&&(D=k);if(e=parseFloat(e),isNaN(e)&&l.enums===void 0)return null;if(isNaN(e)&&l.enums!==void 0)return e=a,R();if(l.integer&&!Xq(e)||l.min!==void 0&&(e<l.min||l.strictMin&&e===l.min)||l.max!==void 0&&(e>l.max||l.strictMax&&e===l.max))return null;var z={name:r,value:e,strValue:""+e+(D||""),units:D,bypass:t};return l.unitless||D!=="px"&&D!=="em"?z.pfValue=e:z.pfValue=D==="px"||!D?e:this.getEmSizeInPixels()*e,(D==="ms"||D==="s")&&(z.pfValue=D==="ms"?e:1e3*e),(D==="deg"||D==="rad")&&(z.pfValue=D==="rad"?e:iG(e)),D==="%"&&(z.pfValue=e/100),z}else if(l.propList){var F=[],U=""+e;if(U!=="none"){for(var W=U.split(/\s*,\s*|\s+/),Y=0;Y<W.length;Y++){var X=W[Y].trim();i.properties[X]?F.push(X):Gr("`"+X+"` is not a valid property name")}if(F.length===0)return null}return{name:r,value:F,strValue:F.length===0?"none":F.join(" "),bypass:t}}else if(l.color){var Q=X2(e);return Q?{name:r,value:Q,pfValue:Q,strValue:"rgb("+Q[0]+","+Q[1]+","+Q[2]+")",bypass:t}:null}else if(l.regex||l.regexes){if(l.enums){var ue=R();if(ue)return ue}for(var ce=l.regexes?l.regexes:[l.regex],ae=0;ae<ce.length;ae++){var pe=new RegExp(ce[ae]),fe=pe.exec(e);if(fe)return{name:r,value:l.singleRegexMatchValue?fe[1]:fe,strValue:""+e,bypass:t}}return null}else return l.string?{name:r,value:""+e,strValue:""+e,bypass:t}:l.enums?R():null};var vi=function(e){if(!(this instanceof vi))return new vi(e);if(!tE(e)){mn("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},qi=vi.prototype;qi.instanceString=function(){return"style"};qi.clear=function(){for(var r=this._private,e=r.cy,t=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,r.contextStyles={},r.propDiffs={},this.cleanElements(t,!0),t.forEach(function(i){var o=i[0]._private;o.styleDirty=!0,o.appliedInitStyle=!1}),this};qi.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};qi.core=function(r){return this._private.coreStyle[r]||this.getDefaultProperty(r)};qi.selector=function(r){var e=r==="core"?null:new ul(r),t=this.length++;return this[t]={selector:e,properties:[],mappedProperties:[],index:t},this};qi.css=function(){var r=this,e=arguments;if(e.length===1)for(var t=e[0],n=0;n<r.properties.length;n++){var i=r.properties[n],o=t[i.name];o===void 0&&(o=t[Xm(i.name)]),o!==void 0&&this.cssRule(i.name,o)}else e.length===2&&this.cssRule(e[0],e[1]);return this};qi.style=qi.css;qi.cssRule=function(r,e){var t=this.parse(r,e);if(t){var n=this.length-1;this[n].properties.push(t),this[n].properties[t.name]=t,t.name.match(/pie-(\d+)-background-size/)&&t.value&&(this._private.hasPie=!0),t.name.match(/stripe-(\d+)-background-size/)&&t.value&&(this._private.hasStripe=!0),t.mapped&&this[n].mappedProperties.push(t);var i=!this[n].selector;i&&(this._private.coreStyle[t.name]=t)}return this};qi.append=function(r){return W2(r)?r.appendToStyle(this):Zr(r)?this.appendFromJson(r):St(r)&&this.appendFromString(r),this};vi.fromJson=function(r,e){var t=new vi(r);return t.fromJson(e),t};vi.fromString=function(r,e){return new vi(r).fromString(e)};[pi,sp,yE,Cs,s0,mE,qn,u0].forEach(function(r){Nt(qi,r)});vi.types=qi.types;vi.properties=qi.properties;vi.propertyGroups=qi.propertyGroups;vi.propertyGroupNames=qi.propertyGroupNames;vi.propertyGroupKeys=qi.propertyGroupKeys;var uW={style:function(e){if(e){var t=this.setStyle(e);t.update()}return this._private.style},setStyle:function(e){var t=this._private;return W2(e)?t.style=e.generateStyle(this):Zr(e)?t.style=vi.fromJson(this,e):St(e)?t.style=vi.fromString(this,e):t.style=vi(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},lW="single",Mc={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var t=this._private;if(t.selectionType==null&&(t.selectionType=lW),e!==void 0)(e==="additive"||e==="single")&&(t.selectionType=e);else return t.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,t=this._private.pan,n,i,o,a,u;switch(e.length){case 0:return t;case 1:if(St(e[0]))return n=e[0],t[n];if(Dr(e[0])){if(!this._private.panningEnabled)return this;o=e[0],a=o.x,u=o.y,at(a)&&(t.x=a),at(u)&&(t.y=u),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],i=e[1],(n==="x"||n==="y")&&at(i)&&(t[n]=i),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,t){var n=arguments,i=this._private.pan,o,a,u,s,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Dr(e)&&(u=n[0],s=u.x,l=u.y,at(s)&&(i.x+=s),at(l)&&(i.y+=l),this.emit("pan viewport"));break;case 2:o=e,a=t,(o==="x"||o==="y")&&at(a)&&(i[o]+=a),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(at(e)&&t===void 0&&(t=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(St(e)){var i=e;e=this.$(i)}else if(Zq(e)){var o=e;n={x1:o.x1,y1:o.y1,x2:o.x2,y2:o.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Jo(e)||(e=this.mutableElements());if(!(Jo(e)&&e.empty())){n=n||e.boundingBox();var a=this.width(),u=this.height(),s;if(t=at(t)?t:0,!isNaN(a)&&!isNaN(u)&&a>0&&u>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){s=Math.min((a-2*t)/n.w,(u-2*t)/n.h),s=s>this._private.maxZoom?this._private.maxZoom:s,s=s<this._private.minZoom?this._private.minZoom:s;var l={x:(a-s*(n.x1+n.x2))/2,y:(u-s*(n.y1+n.y2))/2};return{zoom:s,pan:l}}}}},zoomRange:function(e,t){var n=this._private;if(t==null){var i=e;e=i.min,t=i.max}return at(e)&&at(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):at(e)&&t===void 0&&e<=n.maxZoom?n.minZoom=e:at(t)&&e===void 0&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t=this._private,n=t.pan,i=t.zoom,o,a,u=!1;if(t.zoomingEnabled||(u=!0),at(e)?a=e:Dr(e)&&(a=e.level,e.position!=null?o=Zm(e.position,i,n):e.renderedPosition!=null&&(o=e.renderedPosition),o!=null&&!t.panningEnabled&&(u=!0)),a=a>t.maxZoom?t.maxZoom:a,a=a<t.minZoom?t.minZoom:a,u||!at(a)||a===i||o!=null&&(!at(o.x)||!at(o.y)))return null;if(o!=null){var s=n,l=i,c=a,f={x:-c/l*(o.x-s.x)+o.x,y:-c/l*(o.y-s.y)+o.y};return{zoomed:!0,panned:!0,zoom:c,pan:f}}else return{zoomed:!0,panned:!1,zoom:a,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return t==null||!t.zoomed?this:(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var t=this._private,n=!0,i=!0,o=[],a=!1,u=!1;if(!e)return this;if(at(e.zoom)||(n=!1),Dr(e.pan)||(i=!1),!n&&!i)return this;if(n){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,o.push("zoom"))}if(i&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;at(l.x)&&(t.pan.x=l.x,u=!1),at(l.y)&&(t.pan.y=l.y,u=!1),u||o.push("pan")}return o.length>0&&(o.push("viewport"),this.emit(o.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(St(e)){var n=e;e=this.mutableElements().filter(n)}else Jo(e)||(e=this.mutableElements());if(e.length!==0){var i=e.boundingBox(),o=this.width(),a=this.height();t=t===void 0?this._private.zoom:t;var u={x:(o-t*(i.x1+i.x2))/2,y:(a-t*(i.y1+i.y2))/2};return u}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,n=this;return e.sizeCache=e.sizeCache||(t?function(){var i=n.window().getComputedStyle(t),o=function(u){return parseFloat(i.getPropertyValue(u))};return{width:t.clientWidth-o("padding-left")-o("padding-right"),height:t.clientHeight-o("padding-top")-o("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Mc.centre=Mc.center;Mc.autolockNodes=Mc.autolock;Mc.autoungrabifyNodes=Mc.autoungrabify;var $v={data:qr.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:qr.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:qr.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:qr.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};$v.attr=$v.data;$v.removeAttr=$v.removeData;var Zv=function(e){var t=this;e=Nt({},e);var n=e.container;n&&!Nm(n)&&Nm(n[0])&&(n=n[0]);var i=n?n._cyreg:null;i=i||{},i&&i.cy&&(i.cy.destroy(),i={});var o=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var a=ei!==void 0&&n!==void 0&&!e.headless,u=e;u.layout=Nt({name:a?"grid":"null"},u.layout),u.renderer=Nt({name:a?"canvas":"null"},u.renderer);var s=function(d,y,p){return y!==void 0?y:p!==void 0?p:d},l=this._private={container:n,ready:!1,options:u,elements:new Ti(this),listeners:[],aniEles:new Ti(this),data:u.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,u.zoomingEnabled),userZoomingEnabled:s(!0,u.userZoomingEnabled),panningEnabled:s(!0,u.panningEnabled),userPanningEnabled:s(!0,u.userPanningEnabled),boxSelectionEnabled:s(!0,u.boxSelectionEnabled),autolock:s(!1,u.autolock,u.autolockNodes),autoungrabify:s(!1,u.autoungrabify,u.autoungrabifyNodes),autounselectify:s(!1,u.autounselectify),styleEnabled:u.styleEnabled===void 0?a:u.styleEnabled,zoom:at(u.zoom)?u.zoom:1,pan:{x:Dr(u.pan)&&at(u.pan.x)?u.pan.x:0,y:Dr(u.pan)&&at(u.pan.y)?u.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,u.multiClickDebounceTime)};this.createEmitter(),this.selectionType(u.selectionType),this.zoomRange({min:u.minZoom,max:u.maxZoom});var c=function(d,y){var p=d.some(Qq);if(p)return Th.all(d).then(y);y(d)};l.styleEnabled&&t.setStyle([]);var f=Nt({},u,u.renderer);t.initRenderer(f);var h=function(d,y,p){t.notifications(!1);var g=t.mutableElements();g.length>0&&g.remove(),d!=null&&(Dr(d)||Zr(d))&&t.add(d),t.one("layoutready",function(m){t.notifications(!0),t.emit(m),t.one("load",y),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",p),t.emit("done")});var b=Nt({},t._private.options.layout);b.eles=t.elements(),t.layout(b).run()};c([u.style,u.elements],function(v){var d=v[0],y=v[1];l.styleEnabled&&t.style().append(d),h(y,function(){t.startAnimationLoop(),l.ready=!0,xn(u.ready)&&t.on("ready",u.ready);for(var p=0;p<o.length;p++){var g=o[p];t.on("ready",g)}i&&(i.readies=[]),t.emit("ready")},u.done)})},qm=Zv.prototype;Nt(qm,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return ei;var t=this._private.container.ownerDocument;return t===void 0||t==null?ei:t.defaultView||ei},mount:function(e){if(e!=null){var t=this,n=t._private,i=n.options;return!Nm(e)&&Nm(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Nt({},i,i.renderer,{name:i.renderer.name==="null"?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return Ts(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements(),o=function(_){return t.getElementById(_.id())};if(Dr(e)){if(t.startBatch(),e.elements){var a={},u=function(_,w){for(var O=[],E=[],S=0;S<_.length;S++){var P=_[S];if(!P.data.id){Gr("cy.json() cannot handle elements without an ID attribute");continue}var I=""+P.data.id,R=t.getElementById(I);a[I]=!0,R.length!==0?E.push({ele:R,json:P}):(w&&(P.group=w),O.push(P))}t.add(O);for(var D=0;D<E.length;D++){var k=E[D],N=k.ele,B=k.json;N.json(B)}};if(Zr(e.elements))u(e.elements);else for(var s=["nodes","edges"],l=0;l<s.length;l++){var c=s[l],f=e.elements[c];Zr(f)&&u(f,c)}var h=t.collection();i.filter(function(m){return!a[m.id()]}).forEach(function(m){m.isParent()?h.merge(m):m.remove()}),h.forEach(function(m){return m.children().move({parent:null})}),h.forEach(function(m){return o(m).remove()})}e.style&&t.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&t.pan(e.pan),e.data&&t.data(e.data);for(var v=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],d=0;d<v.length;d++){var y=v[d];e[y]!=null&&t[y](e[y])}return t.endBatch(),this}else{var p=!!e,g={};p?g.elements=this.elements().map(function(m){return m.json()}):(g.elements={},i.forEach(function(m){var _=m.group();g.elements[_]||(g.elements[_]=[]),g.elements[_].push(m.json())})),this._private.styleEnabled&&(g.style=t.style().json()),g.data=Ts(t.data());var b=n.options;return g.zoomingEnabled=n.zoomingEnabled,g.userZoomingEnabled=n.userZoomingEnabled,g.zoom=n.zoom,g.minZoom=n.minZoom,g.maxZoom=n.maxZoom,g.panningEnabled=n.panningEnabled,g.userPanningEnabled=n.userPanningEnabled,g.pan=Ts(n.pan),g.boxSelectionEnabled=n.boxSelectionEnabled,g.renderer=Ts(b.renderer),g.hideEdgesOnViewport=b.hideEdgesOnViewport,g.textureOnViewport=b.textureOnViewport,g.wheelSensitivity=b.wheelSensitivity,g.motionBlur=b.motionBlur,g.multiClickDebounceTime=b.multiClickDebounceTime,g}}});qm.$id=qm.getElementById;[Q7,nW,WP,Gw,Am,oW,Vw,Rm,uW,Mc,$v].forEach(function(r){Nt(qm,r)});var cW={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},fW={maximal:!1,acyclic:!1},ch=function(e){return e.scratch("breadthfirst")},d2=function(e,t){return e.scratch("breadthfirst",t)};function HP(r){this.options=Nt({},cW,fW,r)}HP.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=t.nodes().filter(function(G){return G.isChildless()}),i=t,o=r.directed,a=r.acyclic||r.maximal||r.maximalAdjustments>0,u=!!r.boundingBox,s=eo(u?r.boundingBox:structuredClone(e.extent())),l;if(Jo(r.roots))l=r.roots;else if(Zr(r.roots)){for(var c=[],f=0;f<r.roots.length;f++){var h=r.roots[f],v=e.getElementById(h);c.push(v)}l=e.collection(c)}else if(St(r.roots))l=e.$(r.roots);else if(o)l=n.roots();else{var d=t.components();l=e.collection();for(var y=function(){var H=d[p],oe=H.maxDegree(!1),ve=H.filter(function(ye){return ye.degree(!1)===oe});l=l.add(ve)},p=0;p<d.length;p++)y()}var g=[],b={},m=function(H,oe){g[oe]==null&&(g[oe]=[]);var ve=g[oe].length;g[oe].push(H),d2(H,{index:ve,depth:oe})},_=function(H,oe){var ve=ch(H),ye=ve.depth,we=ve.index;g[ye][we]=null,H.isChildless()&&m(H,oe)};i.bfs({roots:l,directed:r.directed,visit:function(H,oe,ve,ye,we){var je=H[0],ze=je.id();je.isChildless()&&m(je,we),b[ze]=!0}});for(var w=[],O=0;O<n.length;O++){var E=n[O];b[E.id()]||w.push(E)}var S=function(H){for(var oe=g[H],ve=0;ve<oe.length;ve++){var ye=oe[ve];if(ye==null){oe.splice(ve,1),ve--;continue}d2(ye,{depth:H,index:ve})}},P=function(H,oe){for(var ve=ch(H),ye=H.incomers().filter(function(tt){return tt.isNode()&&t.has(tt)}),we=-1,je=H.id(),ze=0;ze<ye.length;ze++){var rt=ye[ze],Ze=ch(rt);we=Math.max(we,Ze.depth)}if(ve.depth<=we){if(!r.acyclic&&oe[je])return null;var Je=we+1;return _(H,Je),oe[je]=Je,!0}return!1};if(o&&a){var I=[],R={},D=function(H){return I.push(H)},k=function(){return I.shift()};for(n.forEach(function(G){return I.push(G)});I.length>0;){var N=k(),B=P(N,R);if(B)N.outgoers().filter(function(G){return G.isNode()&&t.has(G)}).forEach(D);else if(B===null){Gr("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var z=0;if(r.avoidOverlap)for(var F=0;F<n.length;F++){var U=n[F],W=U.layoutDimensions(r),Y=W.w,X=W.h;z=Math.max(z,Y,X)}var Q={},ue=function(H){if(Q[H.id()])return Q[H.id()];for(var oe=ch(H).depth,ve=H.neighborhood(),ye=0,we=0,je=0;je<ve.length;je++){var ze=ve[je];if(!(ze.isEdge()||ze.isParent()||!n.has(ze))){var rt=ch(ze);if(rt!=null){var Ze=rt.index,Je=rt.depth;if(!(Ze==null||Je==null)){var tt=g[Je].length;Je<oe&&(ye+=Ze/tt,we++)}}}}return we=Math.max(1,we),ye=ye/we,we===0&&(ye=0),Q[H.id()]=ye,ye},ce=function(H,oe){var ve=ue(H),ye=ue(oe),we=ve-ye;return we===0?Y2(H.id(),oe.id()):we};r.depthSort!==void 0&&(ce=r.depthSort);for(var ae=g.length,pe=0;pe<ae;pe++)g[pe].sort(ce),S(pe);for(var fe=[],he=0;he<w.length;he++)fe.push(w[he]);var ee=function(){for(var H=0;H<ae;H++)S(H)};fe.length&&(g.unshift(fe),ae=g.length,ee());for(var K=0,J=0;J<ae;J++)K=Math.max(g[J].length,K);var ie={x:s.x1+s.w/2,y:s.y1+s.h/2},de=n.reduce(function(G,H){return function(oe){return{w:G.w===-1?oe.w:(G.w+oe.w)/2,h:G.h===-1?oe.h:(G.h+oe.h)/2}}(H.boundingBox({includeLabels:r.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),_e=Math.max(ae===1?0:u?(s.h-r.padding*2-de.h)/(ae-1):(s.h-r.padding*2-de.h)/(ae+1),z),Ce=g.reduce(function(G,H){return Math.max(G,H.length)},0),Ae=function(H){var oe=ch(H),ve=oe.depth,ye=oe.index;if(r.circle){var we=Math.min(s.w/2/ae,s.h/2/ae);we=Math.max(we,z);var je=we*ve+we-(ae>0&&g[0].length<=3?we/2:0),ze=2*Math.PI/g[ve].length*ye;return ve===0&&g[0].length===1&&(je=1),{x:ie.x+je*Math.cos(ze),y:ie.y+je*Math.sin(ze)}}else{var rt=g[ve].length,Ze=Math.max(rt===1?0:u?(s.w-r.padding*2-de.w)/((r.grid?Ce:rt)-1):(s.w-r.padding*2-de.w)/((r.grid?Ce:rt)+1),z),Je={x:ie.x+(ye+1-(rt+1)/2)*Ze,y:ie.y+(ve+1-(ae+1)/2)*_e};return Je}},xe={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(xe).indexOf(r.direction)===-1&&mn("Invalid direction '".concat(r.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(xe).join(", ")));var j=function(H){return C9(Ae(H),s,xe[r.direction])};return t.nodes().layoutPositions(this,r,j),this};var hW={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function YP(r){this.options=Nt({},hW,r)}YP.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,o=n.nodes().not(":parent");e.sort&&(o=o.sort(e.sort));for(var a=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),u={x:a.x1+a.w/2,y:a.y1+a.h/2},s=e.sweep===void 0?2*Math.PI-2*Math.PI/o.length:e.sweep,l=s/Math.max(1,o.length-1),c,f=0,h=0;h<o.length;h++){var v=o[h],d=v.layoutDimensions(e),y=d.w,p=d.h;f=Math.max(f,y,p)}if(at(e.radius)?c=e.radius:o.length<=1?c=0:c=Math.min(a.h,a.w)/2-f,o.length>1&&e.avoidOverlap){f*=1.75;var g=Math.cos(l)-Math.cos(0),b=Math.sin(l)-Math.sin(0),m=Math.sqrt(f*f/(g*g+b*b));c=Math.max(m,c)}var _=function(O,E){var S=e.startAngle+E*l*(i?1:-1),P=c*Math.cos(S),I=c*Math.sin(S),R={x:u.x+P,y:u.y+I};return R};return n.nodes().layoutPositions(this,e,_),this};var dW={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function XP(r){this.options=Nt({},dW,r)}XP.prototype.run=function(){for(var r=this.options,e=r,t=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=r.cy,i=e.eles,o=i.nodes().not(":parent"),a=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),u={x:a.x1+a.w/2,y:a.y1+a.h/2},s=[],l=0,c=0;c<o.length;c++){var f=o[c],h=void 0;h=e.concentric(f),s.push({value:h,node:f}),f._private.scratch.concentric=h}o.updateStyle();for(var v=0;v<o.length;v++){var d=o[v],y=d.layoutDimensions(e);l=Math.max(l,y.w,y.h)}s.sort(function(_e,Ce){return Ce.value-_e.value});for(var p=e.levelWidth(o),g=[[]],b=g[0],m=0;m<s.length;m++){var _=s[m];if(b.length>0){var w=Math.abs(b[0].value-_.value);w>=p&&(b=[],g.push(b))}b.push(_)}var O=l+e.minNodeSpacing;if(!e.avoidOverlap){var E=g.length>0&&g[0].length>1,S=Math.min(a.w,a.h)/2-O,P=S/(g.length+E?1:0);O=Math.min(O,P)}for(var I=0,R=0;R<g.length;R++){var D=g[R],k=e.sweep===void 0?2*Math.PI-2*Math.PI/D.length:e.sweep,N=D.dTheta=k/Math.max(1,D.length-1);if(D.length>1&&e.avoidOverlap){var B=Math.cos(N)-Math.cos(0),z=Math.sin(N)-Math.sin(0),F=Math.sqrt(O*O/(B*B+z*z));I=Math.max(F,I)}D.r=I,I+=O}if(e.equidistant){for(var U=0,W=0,Y=0;Y<g.length;Y++){var X=g[Y],Q=X.r-W;U=Math.max(U,Q)}W=0;for(var ue=0;ue<g.length;ue++){var ce=g[ue];ue===0&&(W=ce.r),ce.r=W,W+=U}}for(var ae={},pe=0;pe<g.length;pe++)for(var fe=g[pe],he=fe.dTheta,ee=fe.r,K=0;K<fe.length;K++){var J=fe[K],ie=e.startAngle+(t?1:-1)*he*K,de={x:u.x+ee*Math.cos(ie),y:u.y+ee*Math.sin(ie)};ae[J.node.id()]=de}return i.nodes().layoutPositions(this,e,function(_e){var Ce=_e.id();return ae[Ce]}),this};var Sw,vW={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function l0(r){this.options=Nt({},vW,r),this.options.layout=this;var e=this.options.eles.nodes(),t=this.options.eles.edges(),n=t.filter(function(i){var o=i.source().data("id"),a=i.target().data("id"),u=e.some(function(l){return l.data("id")===o}),s=e.some(function(l){return l.data("id")===a});return!u||!s});this.options.eles=this.options.eles.not(n)}l0.prototype.run=function(){var r=this.options,e=r.cy,t=this;t.stopped=!1,(r.animate===!0||r.animate===!1)&&t.emit({type:"layoutstart",layout:t}),r.debug===!0?Sw=!0:Sw=!1;var n=pW(e,t,r);Sw&&yW(n),r.randomize&&mW(n);var i=lu(),o=function(){bW(n,e,r),r.fit===!0&&e.fit(r.padding)},a=function(h){return!(t.stopped||h>=r.numIter||(_W(n,r),n.temperature=n.temperature*r.coolingFactor,n.temperature<r.minTemp))},u=function(){if(r.animate===!0||r.animate===!1)o(),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});else{var h=r.eles.nodes(),v=$P(n,r,h);h.layoutPositions(t,r,v)}},s=0,l=!0;if(r.animate===!0){var c=function(){for(var h=0;l&&h<r.refresh;)l=a(s),s++,h++;if(!l)p2(n,r),u();else{var v=lu();v-i>=r.animationThreshold&&o(),Lm(c)}};c()}else{for(;l;)l=a(s),s++;p2(n,r),u()}return this};l0.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};l0.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var pW=function(e,t,n){for(var i=n.eles.edges(),o=n.eles.nodes(),a=eo(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:o.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},s=n.eles.components(),l={},c=0;c<s.length;c++)for(var f=s[c],h=0;h<f.length;h++){var v=f[h];l[v.id()]=c}for(var c=0;c<u.nodeSize;c++){var d=o[c],y=d.layoutDimensions(n),p={};p.isLocked=d.locked(),p.id=d.data("id"),p.parentId=d.data("parent"),p.cmptId=l[d.id()],p.children=[],p.positionX=d.position("x"),p.positionY=d.position("y"),p.offsetX=0,p.offsetY=0,p.height=y.w,p.width=y.h,p.maxX=p.positionX+p.width/2,p.minX=p.positionX-p.width/2,p.maxY=p.positionY+p.height/2,p.minY=p.positionY-p.height/2,p.padLeft=parseFloat(d.style("padding")),p.padRight=parseFloat(d.style("padding")),p.padTop=parseFloat(d.style("padding")),p.padBottom=parseFloat(d.style("padding")),p.nodeRepulsion=xn(n.nodeRepulsion)?n.nodeRepulsion(d):n.nodeRepulsion,u.layoutNodes.push(p),u.idToIndex[p.id]=c}for(var g=[],b=0,m=-1,_=[],c=0;c<u.nodeSize;c++){var d=u.layoutNodes[c],w=d.parentId;w!=null?u.layoutNodes[u.idToIndex[w]].children.push(d.id):(g[++m]=d.id,_.push(d.id))}for(u.graphSet.push(_);b<=m;){var O=g[b++],E=u.idToIndex[O],v=u.layoutNodes[E],S=v.children;if(S.length>0){u.graphSet.push(S);for(var c=0;c<S.length;c++)g[++m]=S[c]}}for(var c=0;c<u.graphSet.length;c++)for(var P=u.graphSet[c],h=0;h<P.length;h++){var I=u.idToIndex[P[h]];u.indexToGraph[I]=c}for(var c=0;c<u.edgeSize;c++){var R=i[c],D={};D.id=R.data("id"),D.sourceId=R.data("source"),D.targetId=R.data("target");var k=xn(n.idealEdgeLength)?n.idealEdgeLength(R):n.idealEdgeLength,N=xn(n.edgeElasticity)?n.edgeElasticity(R):n.edgeElasticity,B=u.idToIndex[D.sourceId],z=u.idToIndex[D.targetId],F=u.indexToGraph[B],U=u.indexToGraph[z];if(F!=U){for(var W=gW(D.sourceId,D.targetId,u),Y=u.graphSet[W],X=0,p=u.layoutNodes[B];Y.indexOf(p.id)===-1;)p=u.layoutNodes[u.idToIndex[p.parentId]],X++;for(p=u.layoutNodes[z];Y.indexOf(p.id)===-1;)p=u.layoutNodes[u.idToIndex[p.parentId]],X++;k*=X*n.nestingFactor}D.idealLength=k,D.elasticity=N,u.layoutEdges.push(D)}return u},gW=function(e,t,n){var i=KP(e,t,0,n);return 2>i.count?0:i.graph},KP=function(e,t,n,i){var o=i.graphSet[n];if(-1<o.indexOf(e)&&-1<o.indexOf(t))return{count:2,graph:n};for(var a=0,u=0;u<o.length;u++){var s=o[u],l=i.idToIndex[s],c=i.layoutNodes[l].children;if(c.length!==0){var f=i.indexToGraph[i.idToIndex[c[0]]],h=KP(e,t,f,i);if(h.count!==0)if(h.count===1){if(a++,a===2)break}else return h}}return{count:a,graph:n}},yW,mW=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,o=0;o<e.nodeSize;o++){var a=e.layoutNodes[o];a.children.length===0&&!a.isLocked&&(a.positionX=Math.random()*n,a.positionY=Math.random()*i)}},$P=function(e,t,n){var i=e.boundingBox,o={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach(function(a){var u=e.layoutNodes[e.idToIndex[a.data("id")]];o.x1=Math.min(o.x1,u.positionX),o.x2=Math.max(o.x2,u.positionX),o.y1=Math.min(o.y1,u.positionY),o.y2=Math.max(o.y2,u.positionY)}),o.w=o.x2-o.x1,o.h=o.y2-o.y1),function(a,u){var s=e.layoutNodes[e.idToIndex[a.data("id")]];if(t.boundingBox){var l=o.w===0?.5:(s.positionX-o.x1)/o.w,c=o.h===0?.5:(s.positionY-o.y1)/o.h;return{x:i.x1+l*i.w,y:i.y1+c*i.h}}else return{x:s.positionX,y:s.positionY}}},bW=function(e,t,n){var i=n.layout,o=n.eles.nodes(),a=$P(e,n,o);o.positions(a),e.ready!==!0&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},_W=function(e,t,n){wW(e,t),OW(e),SW(e,t),TW(e),CW(e)},wW=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],o=i.length,a=0;a<o;a++)for(var u=e.layoutNodes[e.idToIndex[i[a]]],s=a+1;s<o;s++){var l=e.layoutNodes[e.idToIndex[i[s]]];EW(u,l,e,t)}},v2=function(e){return-1+2*e*Math.random()},EW=function(e,t,n,i){var o=e.cmptId,a=t.cmptId;if(!(o!==a&&!n.isCompound)){var u=t.positionX-e.positionX,s=t.positionY-e.positionY,l=1;u===0&&s===0&&(u=v2(l),s=v2(l));var c=xW(e,t,u,s);if(c>0)var f=i.nodeOverlap*c,h=Math.sqrt(u*u+s*s),v=f*u/h,d=f*s/h;else var y=Gm(e,u,s),p=Gm(t,-1*u,-1*s),g=p.x-y.x,b=p.y-y.y,m=g*g+b*b,h=Math.sqrt(m),f=(e.nodeRepulsion+t.nodeRepulsion)/m,v=f*g/h,d=f*b/h;e.isLocked||(e.offsetX-=v,e.offsetY-=d),t.isLocked||(t.offsetX+=v,t.offsetY+=d)}},xW=function(e,t,n,i){if(n>0)var o=e.maxX-t.minX;else var o=t.maxX-e.minX;if(i>0)var a=e.maxY-t.minY;else var a=t.maxY-e.minY;return o>=0&&a>=0?Math.sqrt(o*o+a*a):0},Gm=function(e,t,n){var i=e.positionX,o=e.positionY,a=e.height||1,u=e.width||1,s=n/t,l=a/u,c={};return t===0&&0<n||t===0&&0>n?(c.x=i,c.y=o+a/2,c):0<t&&-1*l<=s&&s<=l?(c.x=i+u/2,c.y=o+u*n/2/t,c):0>t&&-1*l<=s&&s<=l?(c.x=i-u/2,c.y=o-u*n/2/t,c):0<n&&(s<=-1*l||s>=l)?(c.x=i+a*t/2/n,c.y=o+a/2,c):(0>n&&(s<=-1*l||s>=l)&&(c.x=i-a*t/2/n,c.y=o-a/2),c)},OW=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],o=e.idToIndex[i.sourceId],a=e.layoutNodes[o],u=e.idToIndex[i.targetId],s=e.layoutNodes[u],l=s.positionX-a.positionX,c=s.positionY-a.positionY;if(!(l===0&&c===0)){var f=Gm(a,l,c),h=Gm(s,-1*l,-1*c),v=h.x-f.x,d=h.y-f.y,y=Math.sqrt(v*v+d*d),p=Math.pow(i.idealLength-y,2)/i.elasticity;if(y!==0)var g=p*v/y,b=p*d/y;else var g=0,b=0;a.isLocked||(a.offsetX+=g,a.offsetY+=b),s.isLocked||(s.offsetX-=g,s.offsetY-=b)}}},SW=function(e,t){if(t.gravity!==0)for(var n=1,i=0;i<e.graphSet.length;i++){var o=e.graphSet[i],a=o.length;if(i===0)var u=e.clientHeight/2,s=e.clientWidth/2;else var l=e.layoutNodes[e.idToIndex[o[0]]],c=e.layoutNodes[e.idToIndex[l.parentId]],u=c.positionX,s=c.positionY;for(var f=0;f<a;f++){var h=e.layoutNodes[e.idToIndex[o[f]]];if(!h.isLocked){var v=u-h.positionX,d=s-h.positionY,y=Math.sqrt(v*v+d*d);if(y>n){var p=t.gravity*v/y,g=t.gravity*d/y;h.offsetX+=p,h.offsetY+=g}}}}},TW=function(e,t){var n=[],i=0,o=-1;for(n.push.apply(n,e.graphSet[0]),o+=e.graphSet[0].length;i<=o;){var a=n[i++],u=e.idToIndex[a],s=e.layoutNodes[u],l=s.children;if(0<l.length&&!s.isLocked){for(var c=s.offsetX,f=s.offsetY,h=0;h<l.length;h++){var v=e.layoutNodes[e.idToIndex[l[h]]];v.offsetX+=c,v.offsetY+=f,n[++o]=l[h]}s.offsetX=0,s.offsetY=0}}},CW=function(e,t){for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];if(!(0<i.children.length||i.isLocked)){var o=PW(i.offsetX,i.offsetY,e.temperature);i.positionX+=o.x,i.positionY+=o.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,ZP(i,e)}}for(var n=0;n<e.nodeSize;n++){var i=e.layoutNodes[n];0<i.children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},PW=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var o={x:n*e/i,y:n*t/i};else var o={x:e,y:t};return o},ZP=function(e,t){var n=e.parentId;if(n!=null){var i=t.layoutNodes[t.idToIndex[n]],o=!1;if((i.maxX==null||e.maxX+i.padRight>i.maxX)&&(i.maxX=e.maxX+i.padRight,o=!0),(i.minX==null||e.minX-i.padLeft<i.minX)&&(i.minX=e.minX-i.padLeft,o=!0),(i.maxY==null||e.maxY+i.padBottom>i.maxY)&&(i.maxY=e.maxY+i.padBottom,o=!0),(i.minY==null||e.minY-i.padTop<i.minY)&&(i.minY=e.minY-i.padTop,o=!0),o)return ZP(i,t)}},p2=function(e,t){for(var n=e.layoutNodes,i=[],o=0;o<n.length;o++){var a=n[o],u=a.cmptId,s=i[u]=i[u]||[];s.push(a)}for(var l=0,o=0;o<i.length;o++){var c=i[o];if(c){c.x1=1/0,c.x2=-1/0,c.y1=1/0,c.y2=-1/0;for(var f=0;f<c.length;f++){var h=c[f];c.x1=Math.min(c.x1,h.positionX-h.width/2),c.x2=Math.max(c.x2,h.positionX+h.width/2),c.y1=Math.min(c.y1,h.positionY-h.height/2),c.y2=Math.max(c.y2,h.positionY+h.height/2)}c.w=c.x2-c.x1,c.h=c.y2-c.y1,l+=c.w*c.h}}i.sort(function(b,m){return m.w*m.h-b.w*b.h});for(var v=0,d=0,y=0,p=0,g=Math.sqrt(l)*e.clientWidth/e.clientHeight,o=0;o<i.length;o++){var c=i[o];if(c){for(var f=0;f<c.length;f++){var h=c[f];h.isLocked||(h.positionX+=v-c.x1,h.positionY+=d-c.y1)}v+=c.w+t.componentSpacing,y+=c.w+t.componentSpacing,p=Math.max(p,c.h),y>g&&(d+=p+t.componentSpacing,v=0,y=0,p=0)}}},AW={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function QP(r){this.options=Nt({},AW,r)}QP.prototype.run=function(){var r=this.options,e=r,t=r.cy,n=e.eles,i=n.nodes().not(":parent");e.sort&&(i=i.sort(e.sort));var o=eo(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});if(o.h===0||o.w===0)n.nodes().layoutPositions(this,e,function(ue){return{x:o.x1,y:o.y1}});else{var a=i.size(),u=Math.sqrt(a*o.h/o.w),s=Math.round(u),l=Math.round(o.w/o.h*u),c=function(ce){if(ce==null)return Math.min(s,l);var ae=Math.min(s,l);ae==s?s=ce:l=ce},f=function(ce){if(ce==null)return Math.max(s,l);var ae=Math.max(s,l);ae==s?s=ce:l=ce},h=e.rows,v=e.cols!=null?e.cols:e.columns;if(h!=null&&v!=null)s=h,l=v;else if(h!=null&&v==null)s=h,l=Math.ceil(a/s);else if(h==null&&v!=null)l=v,s=Math.ceil(a/l);else if(l*s>a){var d=c(),y=f();(d-1)*y>=a?c(d-1):(y-1)*d>=a&&f(y-1)}else for(;l*s<a;){var p=c(),g=f();(g+1)*p>=a?f(g+1):c(p+1)}var b=o.w/l,m=o.h/s;if(e.condense&&(b=0,m=0),e.avoidOverlap)for(var _=0;_<i.length;_++){var w=i[_],O=w._private.position;(O.x==null||O.y==null)&&(O.x=0,O.y=0);var E=w.layoutDimensions(e),S=e.avoidOverlapPadding,P=E.w+S,I=E.h+S;b=Math.max(b,P),m=Math.max(m,I)}for(var R={},D=function(ce,ae){return!!R["c-"+ce+"-"+ae]},k=function(ce,ae){R["c-"+ce+"-"+ae]=!0},N=0,B=0,z=function(){B++,B>=l&&(B=0,N++)},F={},U=0;U<i.length;U++){var W=i[U],Y=e.position(W);if(Y&&(Y.row!==void 0||Y.col!==void 0)){var X={row:Y.row,col:Y.col};if(X.col===void 0)for(X.col=0;D(X.row,X.col);)X.col++;else if(X.row===void 0)for(X.row=0;D(X.row,X.col);)X.row++;F[W.id()]=X,k(X.row,X.col)}}var Q=function(ce,ae){var pe,fe;if(ce.locked()||ce.isParent())return!1;var he=F[ce.id()];if(he)pe=he.col*b+b/2+o.x1,fe=he.row*m+m/2+o.y1;else{for(;D(N,B);)z();pe=B*b+b/2+o.x1,fe=N*m+m/2+o.y1,k(N,B),z()}return{x:pe,y:fe}};i.layoutPositions(this,e,Q)}return this};var RW={ready:function(){},stop:function(){}};function bE(r){this.options=Nt({},RW,r)}bE.prototype.run=function(){var r=this.options,e=r.eles,t=this;return r.cy,t.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),t.one("layoutready",r.ready),t.emit("layoutready"),t.one("layoutstop",r.stop),t.emit("layoutstop"),this};bE.prototype.stop=function(){return this};var IW={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function JP(r){this.options=Nt({},IW,r)}JP.prototype.run=function(){var r=this.options,e=r.eles,t=e.nodes(),n=xn(r.positions);function i(o){if(r.positions==null)return J9(o.position());if(n)return r.positions(o);var a=r.positions[o._private.data.id];return a??null}return t.layoutPositions(this,r,function(o,a){var u=i(o);return o.locked()||u==null?!1:u}),this};var DW={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function eA(r){this.options=Nt({},DW,r)}eA.prototype.run=function(){var r=this.options,e=r.cy,t=r.eles,n=eo(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),i=function(a,u){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return t.nodes().layoutPositions(this,r,i),this};var MW=[{name:"breadthfirst",impl:HP},{name:"circle",impl:YP},{name:"concentric",impl:XP},{name:"cose",impl:l0},{name:"grid",impl:QP},{name:"null",impl:bE},{name:"preset",impl:JP},{name:"random",impl:eA}];function tA(r){this.options=r,this.notifications=0}var g2=function(){},y2=function(){throw new Error("A headless instance can not render images")};tA.prototype={recalculateRenderedStyle:g2,notify:function(){this.notifications++},init:g2,isHeadless:function(){return!0},png:y2,jpg:y2};var _E={};_E.arrowShapeWidth=.3;_E.registerArrowShapes=function(){var r=this.arrowShapes={},e=this,t=function(l,c,f,h,v,d,y){var p=v.x-f/2-y,g=v.x+f/2+y,b=v.y-f/2-y,m=v.y+f/2+y,_=p<=l&&l<=g&&b<=c&&c<=m;return _},n=function(l,c,f,h,v){var d=l*Math.cos(h)-c*Math.sin(h),y=l*Math.sin(h)+c*Math.cos(h),p=d*f,g=y*f,b=p+v.x,m=g+v.y;return{x:b,y:m}},i=function(l,c,f,h){for(var v=[],d=0;d<l.length;d+=2){var y=l[d],p=l[d+1];v.push(n(y,p,c,f,h))}return v},o=function(l){for(var c=[],f=0;f<l.length;f++){var h=l[f];c.push(h.x,h.y)}return c},a=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},u=function(l,c){St(c)&&(c=r[c]),r[l]=Nt({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(h,v,d,y,p,g){var b=o(i(this.points,d+2*g,y,p)),m=Ro(h,v,b);return m},roughCollide:t,draw:function(h,v,d,y){var p=i(this.points,v,d,y);e.arrowShapeImpl("polygon")(h,p)},spacing:function(h){return 0},gap:a},c)};u("none",{collide:jm,roughCollide:jm,draw:oE,spacing:IT,gap:IT}),u("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),u("arrow","triangle"),u("triangle-backcurve",{points:r.triangle.points,controlPoint:[0,-.15],roughCollide:t,draw:function(l,c,f,h,v){var d=i(this.points,c,f,h),y=this.controlPoint,p=n(y[0],y[1],c,f,h);e.arrowShapeImpl(this.name)(l,d,p)},gap:function(l){return a(l)*.8}}),u("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,c,f,h,v,d,y){var p=o(i(this.points,f+2*y,h,v)),g=o(i(this.pointsTee,f+2*y,h,v)),b=Ro(l,c,p)||Ro(l,c,g);return b},draw:function(l,c,f,h,v){var d=i(this.points,c,f,h),y=i(this.pointsTee,c,f,h);e.arrowShapeImpl(this.name)(l,d,y)}}),u("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,c,f,h,v,d,y){var p=v,g=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*y)*this.radius,2),b=o(i(this.points,f+2*y,h,v));return Ro(l,c,b)||g},draw:function(l,c,f,h,v){var d=i(this.pointsTr,c,f,h);e.arrowShapeImpl(this.name)(l,d,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,c){var f=this.baseCrossLinePts.slice(),h=c/l,v=3,d=5;return f[v]=f[v]-h,f[d]=f[d]-h,f},collide:function(l,c,f,h,v,d,y){var p=o(i(this.points,f+2*y,h,v)),g=o(i(this.crossLinePts(f,d),f+2*y,h,v)),b=Ro(l,c,p)||Ro(l,c,g);return b},draw:function(l,c,f,h,v){var d=i(this.points,c,f,h),y=i(this.crossLinePts(c,v),c,f,h);e.arrowShapeImpl(this.name)(l,d,y)}}),u("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return a(l)*.525}}),u("circle",{radius:.15,collide:function(l,c,f,h,v,d,y){var p=v,g=Math.pow(p.x-l,2)+Math.pow(p.y-c,2)<=Math.pow((f+2*y)*this.radius,2);return g},draw:function(l,c,f,h,v){e.arrowShapeImpl(this.name)(l,h.x,h.y,this.radius*c)},spacing:function(l){return e.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),u("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),u("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),u("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),u("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Nc={};Nc.projectIntoViewport=function(r,e){var t=this.cy,n=this.findContainerClientCoords(),i=n[0],o=n[1],a=n[4],u=t.pan(),s=t.zoom(),l=((r-i)/a-u.x)/s,c=((e-o)/a-u.y)/s;return[l,c]};Nc.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var r=this.container,e=r.getBoundingClientRect(),t=this.cy.window().getComputedStyle(r),n=function(g){return parseFloat(t.getPropertyValue(g))},i={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},o={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},a=r.clientWidth,u=r.clientHeight,s=i.left+i.right,l=i.top+i.bottom,c=o.left+o.right,f=e.width/(a+c),h=a-s,v=u-l,d=e.left+i.left+o.left,y=e.top+i.top+o.top;return this.containerBB=[d,y,h,v,f]};Nc.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Nc.findNearestElement=function(r,e,t,n){return this.findNearestElements(r,e,t,n)[0]};Nc.findNearestElements=function(r,e,t,n){var i=this,o=this,a=o.getCachedZSortedEles(),u=[],s=o.cy.zoom(),l=o.cy.hasCompoundNodes(),c=(n?24:8)/s,f=(n?8:2)/s,h=(n?8:2)/s,v=1/0,d,y;t&&(a=a.interactive);function p(E,S){if(E.isNode()){if(y)return;y=E,u.push(E)}if(E.isEdge()&&(S==null||S<v))if(d){if(d.pstyle("z-compound-depth").value===E.pstyle("z-compound-depth").value&&d.pstyle("z-compound-depth").value===E.pstyle("z-compound-depth").value){for(var P=0;P<u.length;P++)if(u[P].isEdge()){u[P]=E,d=E,v=S??v;break}}}else u.push(E),d=E,v=S??v}function g(E){var S=E.outerWidth()+2*f,P=E.outerHeight()+2*f,I=S/2,R=P/2,D=E.position(),k=E.pstyle("corner-radius").value==="auto"?"auto":E.pstyle("corner-radius").pfValue,N=E._private.rscratch;if(D.x-I<=r&&r<=D.x+I&&D.y-R<=e&&e<=D.y+R){var B=o.nodeShapes[i.getNodeShape(E)];if(B.checkPoint(r,e,0,S,P,D.x,D.y,k,N))return p(E,0),!0}}function b(E){var S=E._private,P=S.rscratch,I=E.pstyle("width").pfValue,R=E.pstyle("arrow-scale").value,D=I/2+c,k=D*D,N=D*2,U=S.source,W=S.target,B;if(P.edgeType==="segments"||P.edgeType==="straight"||P.edgeType==="haystack"){for(var z=P.allpts,F=0;F+3<z.length;F+=2)if(dG(r,e,z[F],z[F+1],z[F+2],z[F+3],N)&&k>(B=mG(r,e,z[F],z[F+1],z[F+2],z[F+3])))return p(E,B),!0}else if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"){for(var z=P.allpts,F=0;F+5<P.allpts.length;F+=4)if(vG(r,e,z[F],z[F+1],z[F+2],z[F+3],z[F+4],z[F+5],N)&&k>(B=yG(r,e,z[F],z[F+1],z[F+2],z[F+3],z[F+4],z[F+5])))return p(E,B),!0}for(var U=U||S.source,W=W||S.target,Y=i.getArrowWidth(I,R),X=[{name:"source",x:P.arrowStartX,y:P.arrowStartY,angle:P.srcArrowAngle},{name:"target",x:P.arrowEndX,y:P.arrowEndY,angle:P.tgtArrowAngle},{name:"mid-source",x:P.midX,y:P.midY,angle:P.midsrcArrowAngle},{name:"mid-target",x:P.midX,y:P.midY,angle:P.midtgtArrowAngle}],F=0;F<X.length;F++){var Q=X[F],ue=o.arrowShapes[E.pstyle(Q.name+"-arrow-shape").value],ce=E.pstyle("width").pfValue;if(ue.roughCollide(r,e,Y,Q.angle,{x:Q.x,y:Q.y},ce,c)&&ue.collide(r,e,Y,Q.angle,{x:Q.x,y:Q.y},ce,c))return p(E),!0}l&&u.length>0&&(g(U),g(W))}function m(E,S,P){return Ao(E,S,P)}function _(E,S){var P=E._private,I=h,R;S?R=S+"-":R="",E.boundingBox();var D=P.labelBounds[S||"main"],k=E.pstyle(R+"label").value,N=E.pstyle("text-events").strValue==="yes";if(!(!N||!k)){var B=m(P.rscratch,"labelX",S),z=m(P.rscratch,"labelY",S),F=m(P.rscratch,"labelAngle",S),U=E.pstyle(R+"text-margin-x").pfValue,W=E.pstyle(R+"text-margin-y").pfValue,Y=D.x1-I-U,X=D.x2+I-U,Q=D.y1-I-W,ue=D.y2+I-W;if(F){var ce=Math.cos(F),ae=Math.sin(F),pe=function(de,_e){return de=de-B,_e=_e-z,{x:de*ce-_e*ae+B,y:de*ae+_e*ce+z}},fe=pe(Y,Q),he=pe(Y,ue),ee=pe(X,Q),K=pe(X,ue),J=[fe.x+U,fe.y+W,ee.x+U,ee.y+W,K.x+U,K.y+W,he.x+U,he.y+W];if(Ro(r,e,J))return p(E),!0}else if(tl(D,r,e))return p(E),!0}}for(var w=a.length-1;w>=0;w--){var O=a[w];O.isNode()?g(O)||_(O):b(O)||_(O)||_(O,"source")||_(O,"target")}return u};Nc.getAllInBox=function(r,e,t,n){var i=this.getCachedZSortedEles().interactive,o=this.cy.zoom(),a=2/o,u=[],s=Math.min(r,t),l=Math.max(r,t),c=Math.min(e,n),f=Math.max(e,n);r=s,t=l,e=c,n=f;var h=eo({x1:r,y1:e,x2:t,y2:n}),v=[{x:h.x1,y:h.y1},{x:h.x2,y:h.y1},{x:h.x2,y:h.y2},{x:h.x1,y:h.y2}],d=[[v[0],v[1]],[v[1],v[2]],[v[2],v[3]],[v[3],v[0]]];function y(de,_e,Ce){return Ao(de,_e,Ce)}function p(de,_e){var Ce=de._private,Ae=a,xe="";de.boundingBox();var j=Ce.labelBounds.main;if(!j)return null;var G=y(Ce.rscratch,"labelX",_e),H=y(Ce.rscratch,"labelY",_e),oe=y(Ce.rscratch,"labelAngle",_e),ve=de.pstyle(xe+"text-margin-x").pfValue,ye=de.pstyle(xe+"text-margin-y").pfValue,we=j.x1-Ae-ve,je=j.x2+Ae-ve,ze=j.y1-Ae-ye,rt=j.y2+Ae-ye;if(oe){var Ze=Math.cos(oe),Je=Math.sin(oe),tt=function(ke,te){return ke=ke-G,te=te-H,{x:ke*Ze-te*Je+G,y:ke*Je+te*Ze+H}};return[tt(we,ze),tt(je,ze),tt(je,rt),tt(we,rt)]}else return[{x:we,y:ze},{x:je,y:ze},{x:je,y:rt},{x:we,y:rt}]}function g(de,_e,Ce,Ae){function xe(j,G,H){return(H.y-j.y)*(G.x-j.x)>(G.y-j.y)*(H.x-j.x)}return xe(de,Ce,Ae)!==xe(_e,Ce,Ae)&&xe(de,_e,Ce)!==xe(de,_e,Ae)}for(var b=0;b<i.length;b++){var m=i[b];if(m.isNode()){var _=m,w=_.pstyle("text-events").strValue==="yes",O=_.pstyle("box-selection").strValue,E=_.pstyle("box-select-labels").strValue==="yes";if(O==="none")continue;var S=(O==="overlap"||E)&&w,P=_.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:S});if(O==="contain"){var I=!1;if(E&&w){var R=p(_);R&&x1(R,v)&&(u.push(_),I=!0)}!I&&uP(h,P)&&u.push(_)}else if(O==="overlap"&&lE(h,P)){var D=_.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),k=[{x:D.x1,y:D.y1},{x:D.x2,y:D.y1},{x:D.x2,y:D.y2},{x:D.x1,y:D.y2}];if(x1(k,v))u.push(_);else{var N=p(_);N&&x1(N,v)&&u.push(_)}}}else{var B=m,z=B._private,F=z.rscratch,U=B.pstyle("box-selection").strValue;if(U==="none")continue;if(U==="contain"){if(F.startX!=null&&F.startY!=null&&!tl(h,F.startX,F.startY)||F.endX!=null&&F.endY!=null&&!tl(h,F.endX,F.endY))continue;if(F.edgeType==="bezier"||F.edgeType==="multibezier"||F.edgeType==="self"||F.edgeType==="compound"||F.edgeType==="segments"||F.edgeType==="haystack"){for(var W=z.rstyle.bezierPts||z.rstyle.linePts||z.rstyle.haystackPts,Y=!0,X=0;X<W.length;X++)if(!LT(h,W[X])){Y=!1;break}Y&&u.push(B)}else F.edgeType==="straight"&&u.push(B)}else if(U==="overlap"){var Q=!1;if(F.startX!=null&&F.startY!=null&&F.endX!=null&&F.endY!=null&&(tl(h,F.startX,F.startY)||tl(h,F.endX,F.endY)))u.push(B),Q=!0;else if(!Q&&F.edgeType==="haystack"){for(var ue=z.rstyle.haystackPts,ce=0;ce<ue.length;ce++)if(LT(h,ue[ce])){u.push(B),Q=!0;break}}if(!Q){var ae=z.rstyle.bezierPts||z.rstyle.linePts||z.rstyle.haystackPts;if((!ae||ae.length<2)&&F.edgeType==="straight"&&F.startX!=null&&F.startY!=null&&F.endX!=null&&F.endY!=null&&(ae=[{x:F.startX,y:F.startY},{x:F.endX,y:F.endY}]),!ae||ae.length<2)continue;for(var pe=0;pe<ae.length-1;pe++){for(var fe=ae[pe],he=ae[pe+1],ee=0;ee<d.length;ee++){var K=Gn(d[ee],2),J=K[0],ie=K[1];if(g(fe,he,J,ie)){u.push(B),Q=!0;break}}if(Q)break}}}}}return u};var Vm={};Vm.calculateArrowAngles=function(r){var e=r._private.rscratch,t=e.edgeType==="haystack",n=e.edgeType==="bezier",i=e.edgeType==="multibezier",o=e.edgeType==="segments",a=e.edgeType==="compound",u=e.edgeType==="self",s,l,c,f,h,v,g,b;if(t?(c=e.haystackPts[0],f=e.haystackPts[1],h=e.haystackPts[2],v=e.haystackPts[3]):(c=e.arrowStartX,f=e.arrowStartY,h=e.arrowEndX,v=e.arrowEndY),g=e.midX,b=e.midY,o)s=c-e.segpts[0],l=f-e.segpts[1];else if(i||a||u||n){var d=e.allpts,y=di(d[0],d[2],d[4],.1),p=di(d[1],d[3],d[5],.1);s=c-y,l=f-p}else s=c-g,l=f-b;e.srcArrowAngle=hm(s,l);var g=e.midX,b=e.midY;if(t&&(g=(c+h)/2,b=(f+v)/2),s=h-c,l=v-f,o){var d=e.allpts;if(d.length/2%2===0){var m=d.length/2,_=m-2;s=d[m]-d[_],l=d[m+1]-d[_+1]}else if(e.isRound)s=e.midVector[1],l=-e.midVector[0];else{var m=d.length/2-1,_=m-2;s=d[m]-d[_],l=d[m+1]-d[_+1]}}else if(i||a||u){var d=e.allpts,w=e.ctrlpts,O,E,S,P;if(w.length/2%2===0){var I=d.length/2-1,R=I+2,D=R+2;O=di(d[I],d[R],d[D],0),E=di(d[I+1],d[R+1],d[D+1],0),S=di(d[I],d[R],d[D],1e-4),P=di(d[I+1],d[R+1],d[D+1],1e-4)}else{var R=d.length/2-1,I=R-2,D=R+2;O=di(d[I],d[R],d[D],.4999),E=di(d[I+1],d[R+1],d[D+1],.4999),S=di(d[I],d[R],d[D],.5),P=di(d[I+1],d[R+1],d[D+1],.5)}s=S-O,l=P-E}if(e.midtgtArrowAngle=hm(s,l),e.midDispX=s,e.midDispY=l,s*=-1,l*=-1,o){var d=e.allpts;if(d.length/2%2!==0){if(!e.isRound){var m=d.length/2-1,k=m+2;s=-(d[k]-d[m]),l=-(d[k+1]-d[m+1])}}}if(e.midsrcArrowAngle=hm(s,l),o)s=h-e.segpts[e.segpts.length-2],l=v-e.segpts[e.segpts.length-1];else if(i||a||u||n){var d=e.allpts,N=d.length,y=di(d[N-6],d[N-4],d[N-2],.9),p=di(d[N-5],d[N-3],d[N-1],.9);s=h-y,l=v-p}else s=h-g,l=v-b;e.tgtArrowAngle=hm(s,l)};Vm.getArrowWidth=Vm.getArrowHeight=function(r,e){var t=this.arrowWidthCache=this.arrowWidthCache||{},n=t[r+", "+e];return n||(n=Math.max(Math.pow(r*13.37,.9),29)*e,t[r+", "+e]=n,n)};var Ww,Hw,Ss={},wa={},m2,b2,Pc,Im,au,Ec,Tc,xs,fh,_m,rA,nA,Yw,Xw,_2,w2=function(e,t,n){n.x=t.x-e.x,n.y=t.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},kW=function(e,t){t.x=e.x*-1,t.y=e.y*-1,t.nx=e.nx*-1,t.ny=e.ny*-1,t.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},NW=function(e,t,n,i,o){if(e!==_2?w2(t,e,Ss):kW(wa,Ss),w2(t,n,wa),m2=Ss.nx*wa.ny-Ss.ny*wa.nx,b2=Ss.nx*wa.nx-Ss.ny*-wa.ny,au=Math.asin(Math.max(-1,Math.min(1,m2))),Math.abs(au)<1e-6){Ww=t.x,Hw=t.y,Tc=fh=0;return}Pc=1,Im=!1,b2<0?au<0?au=Math.PI+au:(au=Math.PI-au,Pc=-1,Im=!0):au>0&&(Pc=-1,Im=!0),t.radius!==void 0?fh=t.radius:fh=i,Ec=au/2,_m=Math.min(Ss.len/2,wa.len/2),o?(xs=Math.abs(Math.cos(Ec)*fh/Math.sin(Ec)),xs>_m?(xs=_m,Tc=Math.abs(xs*Math.sin(Ec)/Math.cos(Ec))):Tc=fh):(xs=Math.min(_m,fh),Tc=Math.abs(xs*Math.sin(Ec)/Math.cos(Ec))),Yw=t.x+wa.nx*xs,Xw=t.y+wa.ny*xs,Ww=Yw-wa.ny*Tc*Pc,Hw=Xw+wa.nx*Tc*Pc,rA=t.x+Ss.nx*xs,nA=t.y+Ss.ny*xs,_2=t};function iA(r,e){e.radius===0?r.lineTo(e.cx,e.cy):r.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function wE(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(NW(r,e,t,n,i),{cx:Ww,cy:Hw,radius:Tc,startX:rA,startY:nA,stopX:Yw,stopY:Xw,startAngle:Ss.ang+Math.PI/2*Pc,endAngle:wa.ang-Math.PI/2*Pc,counterClockwise:Im})}var Qv=.01,LW=Math.sqrt(2*Qv),Gi={};Gi.findMidptPtsEtc=function(r,e){var t=e.posPts,n=e.intersectionPts,i=e.vectorNormInverse,o,a=r.pstyle("source-endpoint"),u=r.pstyle("target-endpoint"),s=a.units!=null&&u.units!=null,l=function(w,O,E,S){var P=S-O,I=E-w,R=Math.sqrt(I*I+P*P);return{x:-P/R,y:I/R}},c=r.pstyle("edge-distances").value;switch(c){case"node-position":o=t;break;case"intersection":o=n;break;case"endpoints":{if(s){var f=this.manualEndptToPx(r.source()[0],a),h=Gn(f,2),v=h[0],d=h[1],y=this.manualEndptToPx(r.target()[0],u),p=Gn(y,2),g=p[0],b=p[1],m={x1:v,y1:d,x2:g,y2:b};i=l(v,d,g,b),o=m}else Gr("Edge ".concat(r.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),o=n;break}}return{midptPts:o,vectorNormInverse:i}};Gi.findHaystackPoints=function(r){for(var e=0;e<r.length;e++){var t=r[e],n=t._private,i=n.rscratch;if(!i.haystack){var o=Math.random()*2*Math.PI;i.source={x:Math.cos(o),y:Math.sin(o)},o=Math.random()*2*Math.PI,i.target={x:Math.cos(o),y:Math.sin(o)}}var a=n.source,u=n.target,s=a.position(),l=u.position(),c=a.width(),f=u.width(),h=a.height(),v=u.height(),d=t.pstyle("haystack-radius").value,y=d/2;i.haystackPts=i.allpts=[i.source.x*c*y+s.x,i.source.y*h*y+s.y,i.target.x*f*y+l.x,i.target.y*v*y+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(t),this.calculateArrowAngles(t),this.recalculateEdgeLabelProjections(t),this.calculateLabelAngles(t)}};Gi.findSegmentsPoints=function(r,e){var t=r._private.rscratch,n=r.pstyle("segment-weights"),i=r.pstyle("segment-distances"),o=r.pstyle("segment-radii"),a=r.pstyle("radius-type"),u=Math.min(n.pfValue.length,i.pfValue.length),s=o.pfValue[o.pfValue.length-1],l=a.pfValue[a.pfValue.length-1];t.edgeType="segments",t.segpts=[],t.radii=[],t.isArcRadius=[];for(var c=0;c<u;c++){var f=n.pfValue[c],h=i.pfValue[c],v=1-f,d=f,y=this.findMidptPtsEtc(r,e),p=y.midptPts,g=y.vectorNormInverse,b={x:p.x1*v+p.x2*d,y:p.y1*v+p.y2*d};t.segpts.push(b.x+g.x*h,b.y+g.y*h),t.radii.push(o.pfValue[c]!==void 0?o.pfValue[c]:s),t.isArcRadius.push((a.pfValue[c]!==void 0?a.pfValue[c]:l)==="arc-radius")}};Gi.findLoopPoints=function(r,e,t,n){var i=r._private.rscratch,o=e.dirCounts,a=e.srcPos,u=r.pstyle("control-point-distances"),s=u?u.pfValue[0]:void 0,l=r.pstyle("loop-direction").pfValue,c=r.pstyle("loop-sweep").pfValue,f=r.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=t,v=f;n&&(h=0,v=s);var d=l-Math.PI/2,y=d-c/2,p=d+c/2,g=l+"_"+c;h=o[g]===void 0?o[g]=0:++o[g],i.ctrlpts=[a.x+Math.cos(y)*1.4*v*(h/3+1),a.y+Math.sin(y)*1.4*v*(h/3+1),a.x+Math.cos(p)*1.4*v*(h/3+1),a.y+Math.sin(p)*1.4*v*(h/3+1)]};Gi.findCompoundLoopPoints=function(r,e,t,n){var i=r._private.rscratch;i.edgeType="compound";var o=e.srcPos,a=e.tgtPos,u=e.srcW,s=e.srcH,l=e.tgtW,c=e.tgtH,f=r.pstyle("control-point-step-size").pfValue,h=r.pstyle("control-point-distances"),v=h?h.pfValue[0]:void 0,d=t,y=f;n&&(d=0,y=v);var p=50,g={x:o.x-u/2,y:o.y-s/2},b={x:a.x-l/2,y:a.y-c/2},m={x:Math.min(g.x,b.x),y:Math.min(g.y,b.y)},_=.5,w=Math.max(_,Math.log(u*Qv)),O=Math.max(_,Math.log(l*Qv));i.ctrlpts=[m.x,m.y-(1+Math.pow(p,1.12)/100)*y*(d/3+1)*w,m.x-(1+Math.pow(p,1.12)/100)*y*(d/3+1)*O,m.y]};Gi.findStraightEdgePoints=function(r){r._private.rscratch.edgeType="straight"};Gi.findBezierPoints=function(r,e,t,n,i){var o=r._private.rscratch,a=r.pstyle("control-point-step-size").pfValue,u=r.pstyle("control-point-distances"),s=r.pstyle("control-point-weights"),l=u&&s?Math.min(u.value.length,s.value.length):1,c=u?u.pfValue[0]:void 0,f=s.value[0],h=n;o.edgeType=h?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<l;v++){var d=(.5-e.eles.length/2+t)*a*(i?-1:1),y=void 0,p=uE(d);h&&(c=u?u.pfValue[v]:a,f=s.value[v]),n?y=c:y=c!==void 0?p*c:void 0;var g=y!==void 0?y:d,b=1-f,m=f,_=this.findMidptPtsEtc(r,e),w=_.midptPts,O=_.vectorNormInverse,E={x:w.x1*b+w.x2*m,y:w.y1*b+w.y2*m};o.ctrlpts.push(E.x+O.x*g,E.y+O.y*g)}};Gi.findTaxiPoints=function(r,e){var t=r._private.rscratch;t.edgeType="segments";var n="vertical",i="horizontal",o="leftward",a="rightward",u="downward",s="upward",l="auto",c=e.posPts,f=e.srcW,h=e.srcH,v=e.tgtW,d=e.tgtH,y=r.pstyle("edge-distances").value,p=y!=="node-position",g=r.pstyle("taxi-direction").value,b=g,m=r.pstyle("taxi-turn"),_=m.units==="%",w=m.pfValue,O=w<0,E=r.pstyle("taxi-turn-min-distance").pfValue,S=p?(f+v)/2:0,P=p?(h+d)/2:0,I=c.x2-c.x1,R=c.y2-c.y1,D=function(te,Se){return te>0?Math.max(te-Se,0):Math.min(te+Se,0)},k=D(I,S),N=D(R,P),B=!1;b===l?g=Math.abs(k)>Math.abs(N)?i:n:b===s||b===u?(g=n,B=!0):(b===o||b===a)&&(g=i,B=!0);var z=g===n,F=z?N:k,U=z?R:I,W=uE(U),Y=!1;!(B&&(_||O))&&(b===u&&U<0||b===s&&U>0||b===o&&U>0||b===a&&U<0)&&(W*=-1,F=W*Math.abs(F),Y=!0);var X;if(_){var Q=w<0?1+w:w;X=Q*F}else{var ue=w<0?F:0;X=ue+w*W}var ce=function(te){return Math.abs(te)<E||Math.abs(te)>=Math.abs(F)},ae=ce(X),pe=ce(Math.abs(F)-Math.abs(X)),fe=ae||pe;if(fe&&!Y)if(z){var he=Math.abs(U)<=h/2,ee=Math.abs(I)<=v/2;if(he){var K=(c.x1+c.x2)/2,J=c.y1,ie=c.y2;t.segpts=[K,J,K,ie]}else if(ee){var de=(c.y1+c.y2)/2,_e=c.x1,Ce=c.x2;t.segpts=[_e,de,Ce,de]}else t.segpts=[c.x1,c.y2]}else{var Ae=Math.abs(U)<=f/2,xe=Math.abs(R)<=d/2;if(Ae){var j=(c.y1+c.y2)/2,G=c.x1,H=c.x2;t.segpts=[G,j,H,j]}else if(xe){var oe=(c.x1+c.x2)/2,ve=c.y1,ye=c.y2;t.segpts=[oe,ve,oe,ye]}else t.segpts=[c.x2,c.y1]}else if(z){var we=c.y1+X+(p?h/2*W:0),je=c.x1,ze=c.x2;t.segpts=[je,we,ze,we]}else{var rt=c.x1+X+(p?f/2*W:0),Ze=c.y1,Je=c.y2;t.segpts=[rt,Ze,rt,Je]}if(t.isRound){var tt=r.pstyle("taxi-radius").value,Xe=r.pstyle("radius-type").value[0]==="arc-radius";t.radii=new Array(t.segpts.length/2).fill(tt),t.isArcRadius=new Array(t.segpts.length/2).fill(Xe)}};Gi.tryToCorrectInvalidPoints=function(r,e){var t=r._private.rscratch;if(t.edgeType==="bezier"){var n=e.srcPos,i=e.tgtPos,o=e.srcW,a=e.srcH,u=e.tgtW,s=e.tgtH,l=e.srcShape,c=e.tgtShape,f=e.srcCornerRadius,h=e.tgtCornerRadius,v=e.srcRs,d=e.tgtRs,y=!at(t.startX)||!at(t.startY),p=!at(t.arrowStartX)||!at(t.arrowStartY),g=!at(t.endX)||!at(t.endY),b=!at(t.arrowEndX)||!at(t.arrowEndY),m=3,_=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth,w=m*_,O=Ic({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.startX,y:t.startY}),E=O<w,S=Ic({x:t.ctrlpts[0],y:t.ctrlpts[1]},{x:t.endX,y:t.endY}),P=S<w,I=!1;if(y||p||E){I=!0;var R={x:t.ctrlpts[0]-n.x,y:t.ctrlpts[1]-n.y},D=Math.sqrt(R.x*R.x+R.y*R.y),k={x:R.x/D,y:R.y/D},N=Math.max(o,a),B={x:t.ctrlpts[0]+k.x*2*N,y:t.ctrlpts[1]+k.y*2*N},z=l.intersectLine(n.x,n.y,o,a,B.x,B.y,0,f,v);E?(t.ctrlpts[0]=t.ctrlpts[0]+k.x*(w-O),t.ctrlpts[1]=t.ctrlpts[1]+k.y*(w-O)):(t.ctrlpts[0]=z[0]+k.x*w,t.ctrlpts[1]=z[1]+k.y*w)}if(g||b||P){I=!0;var F={x:t.ctrlpts[0]-i.x,y:t.ctrlpts[1]-i.y},U=Math.sqrt(F.x*F.x+F.y*F.y),W={x:F.x/U,y:F.y/U},Y=Math.max(o,a),X={x:t.ctrlpts[0]+W.x*2*Y,y:t.ctrlpts[1]+W.y*2*Y},Q=c.intersectLine(i.x,i.y,u,s,X.x,X.y,0,h,d);P?(t.ctrlpts[0]=t.ctrlpts[0]+W.x*(w-S),t.ctrlpts[1]=t.ctrlpts[1]+W.y*(w-S)):(t.ctrlpts[0]=Q[0]+W.x*w,t.ctrlpts[1]=Q[1]+W.y*w)}I&&this.findEndpoints(r)}};Gi.storeAllpts=function(r){var e=r._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var t=0;t+1<e.ctrlpts.length;t+=2)e.allpts.push(e.ctrlpts[t],e.ctrlpts[t+1]),t+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[t]+e.ctrlpts[t+2])/2,(e.ctrlpts[t+1]+e.ctrlpts[t+3])/2);e.allpts.push(e.endX,e.endY);var n,i;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,i=.5,e.midX=di(e.allpts[n],e.allpts[n+2],e.allpts[n+4],i),e.midY=di(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],i))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var o=2;o+3<e.allpts.length;o+=2){var a=e.radii[o/2-1],u=e.isArcRadius[o/2-1];e.roundCorners.push(wE({x:e.allpts[o-2],y:e.allpts[o-1]},{x:e.allpts[o],y:e.allpts[o+1],radius:a},{x:e.allpts[o+2],y:e.allpts[o+3]},a,u))}}if(e.segpts.length%4===0){var s=e.segpts.length/2,l=s-2;e.midX=(e.segpts[l]+e.segpts[s])/2,e.midY=(e.segpts[l+1]+e.segpts[s+1])/2}else{var c=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[c],e.midY=e.segpts[c+1];else{var f={x:e.segpts[c],y:e.segpts[c+1]},h=e.roundCorners[c/2];if(h.radius===0){var v={x:e.segpts[c+2],y:e.segpts[c+3]};e.midX=f.x,e.midY=f.y,e.midVector=[f.y-v.y,v.x-f.x]}else{var d=[f.x-h.cx,f.y-h.cy],y=h.radius/Math.sqrt(Math.pow(d[0],2)+Math.pow(d[1],2));d=d.map(function(p){return p*y}),e.midX=h.cx+d[0],e.midY=h.cy+d[1],e.midVector=d}}}}};Gi.checkForInvalidEdgeWarning=function(r){var e=r[0]._private.rscratch;e.nodesOverlap||at(e.startX)&&at(e.startY)&&at(e.endX)&&at(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Gr("Edge `"+r.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Gi.findEdgeControlPoints=function(r){var e=this;if(!(!r||r.length===0)){for(var t=this,n=t.cy,i=n.hasCompoundNodes(),o=new uu,a=function(P,I){return[].concat(km(P),[I?1:0]).join("-")},u=[],s=[],l=0;l<r.length;l++){var c=r[l],f=c._private,h=c.pstyle("curve-style").value;if(!(c.removed()||!c.takesUpSpace())){if(h==="haystack"){s.push(c);continue}var v=h==="unbundled-bezier"||el(h,"segments")||h==="straight"||h==="straight-triangle"||el(h,"taxi"),d=h==="unbundled-bezier"||h==="bezier",y=f.source,p=f.target,g=y.poolIndex(),b=p.poolIndex(),m=[g,b].sort(),_=a(m,v),w=o.get(_);w==null&&(w={eles:[]},u.push({pairId:m,edgeIsUnbundled:v}),o.set(_,w)),w.eles.push(c),v&&(w.hasUnbundled=!0),d&&(w.hasBezier=!0)}}for(var O=function(){var P=u[E],I=P.pairId,R=P.edgeIsUnbundled,D=a(I,R),k=o.get(D),N;if(!k.hasUnbundled){var B=k.eles[0].parallelEdges().filter(function(Xe){return Xe.isBundledBezier()});aE(k.eles),B.forEach(function(Xe){return k.eles.push(Xe)}),k.eles.sort(function(Xe,ke){return Xe.poolIndex()-ke.poolIndex()})}var z=k.eles[0],F=z.source(),U=z.target();if(F.poolIndex()>U.poolIndex()){var W=F;F=U,U=W}var Y=k.srcPos=F.position(),X=k.tgtPos=U.position(),Q=k.srcW=F.outerWidth(),ue=k.srcH=F.outerHeight(),ce=k.tgtW=U.outerWidth(),ae=k.tgtH=U.outerHeight(),pe=k.srcShape=t.nodeShapes[e.getNodeShape(F)],fe=k.tgtShape=t.nodeShapes[e.getNodeShape(U)],he=k.srcCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,ee=k.tgtCornerRadius=U.pstyle("corner-radius").value==="auto"?"auto":U.pstyle("corner-radius").pfValue,K=k.tgtRs=U._private.rscratch,J=k.srcRs=F._private.rscratch;k.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var ie=0;ie<k.eles.length;ie++){var de=k.eles[ie],_e=de[0]._private.rscratch,Ce=de.pstyle("curve-style").value,Ae=Ce==="unbundled-bezier"||el(Ce,"segments")||el(Ce,"taxi"),xe=!F.same(de.source());if(!k.calculatedIntersection&&F!==U&&(k.hasBezier||k.hasUnbundled)){k.calculatedIntersection=!0;var j=pe.intersectLine(Y.x,Y.y,Q,ue,X.x,X.y,0,he,J),G=k.srcIntn=j,H=fe.intersectLine(X.x,X.y,ce,ae,Y.x,Y.y,0,ee,K),oe=k.tgtIntn=H,ve=k.intersectionPts={x1:j[0],x2:H[0],y1:j[1],y2:H[1]},ye=k.posPts={x1:Y.x,x2:X.x,y1:Y.y,y2:X.y},we=H[1]-j[1],je=H[0]-j[0],ze=Math.sqrt(je*je+we*we);at(ze)&&ze>=LW||(ze=Math.sqrt(Math.max(je*je,Qv)+Math.max(we*we,Qv)));var rt=k.vector={x:je,y:we},Ze=k.vectorNorm={x:rt.x/ze,y:rt.y/ze},Je={x:-Ze.y,y:Ze.x};k.nodesOverlap=!at(ze)||fe.checkPoint(j[0],j[1],0,ce,ae,X.x,X.y,ee,K)||pe.checkPoint(H[0],H[1],0,Q,ue,Y.x,Y.y,he,J),k.vectorNormInverse=Je,N={nodesOverlap:k.nodesOverlap,dirCounts:k.dirCounts,calculatedIntersection:!0,hasBezier:k.hasBezier,hasUnbundled:k.hasUnbundled,eles:k.eles,srcPos:X,srcRs:K,tgtPos:Y,tgtRs:J,srcW:ce,srcH:ae,tgtW:Q,tgtH:ue,srcIntn:oe,tgtIntn:G,srcShape:fe,tgtShape:pe,posPts:{x1:ye.x2,y1:ye.y2,x2:ye.x1,y2:ye.y1},intersectionPts:{x1:ve.x2,y1:ve.y2,x2:ve.x1,y2:ve.y1},vector:{x:-rt.x,y:-rt.y},vectorNorm:{x:-Ze.x,y:-Ze.y},vectorNormInverse:{x:-Je.x,y:-Je.y}}}var tt=xe?N:k;_e.nodesOverlap=tt.nodesOverlap,_e.srcIntn=tt.srcIntn,_e.tgtIntn=tt.tgtIntn,_e.isRound=Ce.startsWith("round"),i&&(F.isParent()||F.isChild()||U.isParent()||U.isChild())&&(F.parents().anySame(U)||U.parents().anySame(F)||F.same(U)&&F.isParent())?e.findCompoundLoopPoints(de,tt,ie,Ae):F===U?e.findLoopPoints(de,tt,ie,Ae):Ce.endsWith("segments")?e.findSegmentsPoints(de,tt):Ce.endsWith("taxi")?e.findTaxiPoints(de,tt):Ce==="straight"||!Ae&&k.eles.length%2===1&&ie===Math.floor(k.eles.length/2)?e.findStraightEdgePoints(de):e.findBezierPoints(de,tt,ie,Ae,xe),e.findEndpoints(de),e.tryToCorrectInvalidPoints(de,tt),e.checkForInvalidEdgeWarning(de),e.storeAllpts(de),e.storeEdgeProjections(de),e.calculateArrowAngles(de),e.recalculateEdgeLabelProjections(de),e.calculateLabelAngles(de)}},E=0;E<u.length;E++)O();this.findHaystackPoints(s)}};function oA(r){var e=[];if(r!=null){for(var t=0;t<r.length;t+=2){var n=r[t],i=r[t+1];e.push({x:n,y:i})}return e}}Gi.getSegmentPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="segments")return oA(e.segpts)};Gi.getControlPoints=function(r){var e=r[0]._private.rscratch;this.recalculateRenderedStyle(r);var t=e.edgeType;if(t==="bezier"||t==="multibezier"||t==="self"||t==="compound")return oA(e.ctrlpts)};Gi.getEdgeMidpoint=function(r){var e=r[0]._private.rscratch;return this.recalculateRenderedStyle(r),{x:e.midX,y:e.midY}};var up={};up.manualEndptToPx=function(r,e){var t=this,n=r.position(),i=r.outerWidth(),o=r.outerHeight(),a=r._private.rscratch;if(e.value.length===2){var u=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(u[0]=u[0]*i),e.units[1]==="%"&&(u[1]=u[1]*o),u[0]+=n.x,u[1]+=n.y,u}else{var s=e.pfValue[0];s=-Math.PI/2+s;var l=2*Math.max(i,o),c=[n.x+Math.cos(s)*l,n.y+Math.sin(s)*l];return t.nodeShapes[this.getNodeShape(r)].intersectLine(n.x,n.y,i,o,c[0],c[1],0,r.pstyle("corner-radius").value==="auto"?"auto":r.pstyle("corner-radius").pfValue,a)}};up.findEndpoints=function(r){var e,t,n,i,o=this,a,u=r.source()[0],s=r.target()[0],l=u.position(),c=s.position(),f=r.pstyle("target-arrow-shape").value,h=r.pstyle("source-arrow-shape").value,v=r.pstyle("target-distance-from-node").pfValue,d=r.pstyle("source-distance-from-node").pfValue,y=u._private.rscratch,p=s._private.rscratch,g=r.pstyle("curve-style").value,b=r._private.rscratch,m=b.edgeType,_=el(g,"taxi"),w=m==="self"||m==="compound",O=m==="bezier"||m==="multibezier"||w,E=m!=="bezier",S=m==="straight"||m==="segments",P=m==="segments",I=O||E||S,R=w||_,D=r.pstyle("source-endpoint"),k=R?"outside-to-node":D.value,N=u.pstyle("corner-radius").value==="auto"?"auto":u.pstyle("corner-radius").pfValue,B=r.pstyle("target-endpoint"),z=R?"outside-to-node":B.value,F=s.pstyle("corner-radius").value==="auto"?"auto":s.pstyle("corner-radius").pfValue;b.srcManEndpt=D,b.tgtManEndpt=B;var U,W,Y,X,Q=(e=(B==null||(t=B.pfValue)===null||t===void 0?void 0:t.length)===2?B.pfValue:null)!==null&&e!==void 0?e:[0,0],ue=(n=(D==null||(i=D.pfValue)===null||i===void 0?void 0:i.length)===2?D.pfValue:null)!==null&&n!==void 0?n:[0,0];if(O){var ce=[b.ctrlpts[0],b.ctrlpts[1]],ae=E?[b.ctrlpts[b.ctrlpts.length-2],b.ctrlpts[b.ctrlpts.length-1]]:ce;U=ae,W=ce}else if(S){var pe=P?b.segpts.slice(0,2):[c.x+Q[0],c.y+Q[1]],fe=P?b.segpts.slice(b.segpts.length-2):[l.x+ue[0],l.y+ue[1]];U=fe,W=pe}if(z==="inside-to-node")a=[c.x,c.y];else if(B.units)a=this.manualEndptToPx(s,B);else if(z==="outside-to-line")a=b.tgtIntn;else if(z==="outside-to-node"||z==="outside-to-node-or-label"?Y=U:(z==="outside-to-line"||z==="outside-to-line-or-label")&&(Y=[l.x,l.y]),a=o.nodeShapes[this.getNodeShape(s)].intersectLine(c.x,c.y,s.outerWidth(),s.outerHeight(),Y[0],Y[1],0,F,p),z==="outside-to-node-or-label"||z==="outside-to-line-or-label"){var he=s._private.rscratch,ee=he.labelWidth,K=he.labelHeight,J=he.labelX,ie=he.labelY,de=ee/2,_e=K/2,Ce=s.pstyle("text-valign").value;Ce==="top"?ie-=_e:Ce==="bottom"&&(ie+=_e);var Ae=s.pstyle("text-halign").value;Ae==="left"?J-=de:Ae==="right"&&(J+=de);var xe=Yv(Y[0],Y[1],[J-de,ie-_e,J+de,ie-_e,J+de,ie+_e,J-de,ie+_e],c.x,c.y);if(xe.length>0){var j=l,G=Sc(j,ph(a)),H=Sc(j,ph(xe)),oe=G;if(H<G&&(a=xe,oe=H),xe.length>2){var ve=Sc(j,{x:xe[2],y:xe[3]});ve<oe&&(a=[xe[2],xe[3]])}}}var ye=dm(a,U,o.arrowShapes[f].spacing(r)+v),we=dm(a,U,o.arrowShapes[f].gap(r)+v);if(b.endX=we[0],b.endY=we[1],b.arrowEndX=ye[0],b.arrowEndY=ye[1],k==="inside-to-node")a=[l.x,l.y];else if(D.units)a=this.manualEndptToPx(u,D);else if(k==="outside-to-line")a=b.srcIntn;else if(k==="outside-to-node"||k==="outside-to-node-or-label"?X=W:(k==="outside-to-line"||k==="outside-to-line-or-label")&&(X=[c.x,c.y]),a=o.nodeShapes[this.getNodeShape(u)].intersectLine(l.x,l.y,u.outerWidth(),u.outerHeight(),X[0],X[1],0,N,y),k==="outside-to-node-or-label"||k==="outside-to-line-or-label"){var je=u._private.rscratch,ze=je.labelWidth,rt=je.labelHeight,Ze=je.labelX,Je=je.labelY,tt=ze/2,Xe=rt/2,ke=u.pstyle("text-valign").value;ke==="top"?Je-=Xe:ke==="bottom"&&(Je+=Xe);var te=u.pstyle("text-halign").value;te==="left"?Ze-=tt:te==="right"&&(Ze+=tt);var Se=Yv(X[0],X[1],[Ze-tt,Je-Xe,Ze+tt,Je-Xe,Ze+tt,Je+Xe,Ze-tt,Je+Xe],l.x,l.y);if(Se.length>0){var De=c,Me=Sc(De,ph(a)),Ne=Sc(De,ph(Se)),nt=Me;if(Ne<Me&&(a=[Se[0],Se[1]],nt=Ne),Se.length>2){var Be=Sc(De,{x:Se[2],y:Se[3]});Be<nt&&(a=[Se[2],Se[3]])}}}var ot=dm(a,W,o.arrowShapes[h].spacing(r)+d),Qe=dm(a,W,o.arrowShapes[h].gap(r)+d);b.startX=Qe[0],b.startY=Qe[1],b.arrowStartX=ot[0],b.arrowStartY=ot[1],I&&(!at(b.startX)||!at(b.startY)||!at(b.endX)||!at(b.endY)?b.badLine=!0:b.badLine=!1)};up.getSourceEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[0],y:e.haystackPts[1]};default:return{x:e.arrowStartX,y:e.arrowStartY}}};up.getTargetEndpoint=function(r){var e=r[0]._private.rscratch;switch(this.recalculateRenderedStyle(r),e.edgeType){case"haystack":return{x:e.haystackPts[2],y:e.haystackPts[3]};default:return{x:e.arrowEndX,y:e.arrowEndY}}};var EE={};function jW(r,e,t){for(var n=function(l,c,f,h){return di(l,c,f,h)},i=e._private,o=i.rstyle.bezierPts,a=0;a<r.bezierProjPcts.length;a++){var u=r.bezierProjPcts[a];o.push({x:n(t[0],t[2],t[4],u),y:n(t[1],t[3],t[5],u)})}}EE.storeEdgeProjections=function(r){var e=r._private,t=e.rscratch,n=t.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var i=0;i+5<t.allpts.length;i+=4)jW(this,r,t.allpts.slice(i,i+6))}else if(n==="segments")for(var o=e.rstyle.linePts=[],i=0;i+1<t.allpts.length;i+=2)o.push({x:t.allpts[i],y:t.allpts[i+1]});else if(n==="haystack"){var a=t.haystackPts;e.rstyle.haystackPts=[{x:a[0],y:a[1]},{x:a[2],y:a[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(r.pstyle("width").pfValue,r.pstyle("arrow-scale").value)*this.arrowShapeWidth};EE.recalculateEdgeProjections=function(r){this.findEdgeControlPoints(r)};var Ps={};Ps.recalculateNodeLabelProjection=function(r){var e=r.pstyle("label").strValue;if(!ol(e)){var t,n,i=r._private,o=r.width(),a=r.height(),u=r.padding(),s=r.position(),l=r.pstyle("text-halign").strValue,c=r.pstyle("text-valign").strValue,f=i.rscratch,h=i.rstyle;switch(l){case"left":t=s.x-o/2-u;break;case"right":t=s.x+o/2+u;break;default:t=s.x}switch(c){case"top":n=s.y-a/2-u;break;case"bottom":n=s.y+a/2+u;break;default:n=s.y}f.labelX=t,f.labelY=n,h.labelX=t,h.labelY=n,this.calculateLabelAngles(r),this.applyLabelDimensions(r)}};var aA=function(e,t){var n=Math.atan(t/e);return e===0&&n<0&&(n=n*-1),n},sA=function(e,t){var n=t.x-e.x,i=t.y-e.y;return aA(n,i)},BW=function(e,t,n,i){var o=Hv(0,i-.001,1),a=Hv(0,i+.001,1),u=mh(e,t,n,o),s=mh(e,t,n,a);return sA(u,s)};Ps.recalculateEdgeLabelProjections=function(r){var e,t=r._private,n=t.rscratch,i=this,o={mid:r.pstyle("label").strValue,source:r.pstyle("source-label").strValue,target:r.pstyle("target-label").strValue};if(o.mid||o.source||o.target){e={x:n.midX,y:n.midY};var a=function(f,h,v){su(t.rscratch,f,h,v),su(t.rstyle,f,h,v)};a("labelX",null,e.x),a("labelY",null,e.y);var u=aA(n.midDispX,n.midDispY);a("labelAutoAngle",null,u);var s=function(){if(s.cache)return s.cache;for(var f=[],h=0;h+5<n.allpts.length;h+=4){var v={x:n.allpts[h],y:n.allpts[h+1]},d={x:n.allpts[h+2],y:n.allpts[h+3]},y={x:n.allpts[h+4],y:n.allpts[h+5]};f.push({p0:v,p1:d,p2:y,startDist:0,length:0,segments:[]})}var p=t.rstyle.bezierPts,g=i.bezierProjPcts.length;function b(E,S,P,I,R){var D=Ic(S,P),k=E.segments[E.segments.length-1],N={p0:S,p1:P,t0:I,t1:R,startDist:k?k.startDist+k.length:0,length:D};E.segments.push(N),E.length+=D}for(var m=0;m<f.length;m++){var _=f[m],w=f[m-1];w&&(_.startDist=w.startDist+w.length),b(_,_.p0,p[m*g],0,i.bezierProjPcts[0]);for(var O=0;O<g-1;O++)b(_,p[m*g+O],p[m*g+O+1],i.bezierProjPcts[O],i.bezierProjPcts[O+1]);b(_,p[m*g+g-1],_.p2,i.bezierProjPcts[g-1],1)}return s.cache=f},l=function(f){var h,v=f==="source";if(o[f]){var d=r.pstyle(f+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var y=s(),p,g=0,b=0,m=0;m<y.length;m++){for(var _=y[v?m:y.length-1-m],w=0;w<_.segments.length;w++){var O=_.segments[v?w:_.segments.length-1-w],E=m===y.length-1&&w===_.segments.length-1;if(g=b,b+=O.length,b>=d||E){p={cp:_,segment:O};break}}if(p)break}var S=p.cp,P=p.segment,I=(d-g)/P.length,R=P.t1-P.t0,D=v?P.t0+R*I:P.t1-R*I;D=Hv(0,D,1),e=mh(S.p0,S.p1,S.p2,D),h=BW(S.p0,S.p1,S.p2,D);break}case"straight":case"segments":case"haystack":{for(var k=0,N,B,z,F,U=n.allpts.length,W=0;W+3<U&&(v?(z={x:n.allpts[W],y:n.allpts[W+1]},F={x:n.allpts[W+2],y:n.allpts[W+3]}):(z={x:n.allpts[U-2-W],y:n.allpts[U-1-W]},F={x:n.allpts[U-4-W],y:n.allpts[U-3-W]}),N=Ic(z,F),B=k,k+=N,!(k>=d));W+=2);var Y=d-B,X=Y/N;X=Hv(0,X,1),e=aG(z,F,X),h=sA(z,F);break}}a("labelX",f,e.x),a("labelY",f,e.y),a("labelAutoAngle",f,h)}};l("source"),l("target"),this.applyLabelDimensions(r)}};Ps.applyLabelDimensions=function(r){this.applyPrefixedLabelDimensions(r),r.isEdge()&&(this.applyPrefixedLabelDimensions(r,"source"),this.applyPrefixedLabelDimensions(r,"target"))};Ps.applyPrefixedLabelDimensions=function(r,e){var t=r._private,n=this.getLabelText(r,e),i=Rc(n,r._private.labelDimsKey);if(Ao(t.rscratch,"prefixedLabelDimsKey",e)!==i){su(t.rscratch,"prefixedLabelDimsKey",e,i);var o=this.calculateLabelDimensions(r,n),a=r.pstyle("line-height").pfValue,u=r.pstyle("text-wrap").strValue,s=Ao(t.rscratch,"labelWrapCachedLines",e)||[],l=u!=="wrap"?1:Math.max(s.length,1),c=o.height/l,f=c*a,h=o.width,v=o.height+(l-1)*(a-1)*c;su(t.rstyle,"labelWidth",e,h),su(t.rscratch,"labelWidth",e,h),su(t.rstyle,"labelHeight",e,v),su(t.rscratch,"labelHeight",e,v),su(t.rscratch,"labelLineHeight",e,f)}};Ps.getLabelText=function(r,e){var t=r._private,n=e?e+"-":"",i=r.pstyle(n+"label").strValue,o=r.pstyle("text-transform").value,a=function(ue,ce){return ce?(su(t.rscratch,ue,e,ce),ce):Ao(t.rscratch,ue,e)};if(!i)return"";o=="none"||(o=="uppercase"?i=i.toUpperCase():o=="lowercase"&&(i=i.toLowerCase()));var u=r.pstyle("text-wrap").value;if(u==="wrap"){var s=a("labelKey");if(s!=null&&a("labelWrapKey")===s)return a("labelWrapCachedText");for(var l="\u200B",c=i.split(`
`),f=r.pstyle("text-max-width").pfValue,h=r.pstyle("text-overflow-wrap").value,v=h==="anywhere",d=[],y=/[\s\u200b]+|$/g,p=0;p<c.length;p++){var g=c[p],b=this.calculateLabelDimensions(r,g),m=b.width;if(v){var _=g.split("").join(l);g=_}if(m>f){var w=g.matchAll(y),O="",E=0,S=Io(w),P;try{for(S.s();!(P=S.n()).done;){var I=P.value,R=I[0],D=g.substring(E,I.index);E=I.index+R.length;var k=O.length===0?D:O+D+R,N=this.calculateLabelDimensions(r,k),B=N.width;B<=f?O+=D+R:(O&&d.push(O),O=D+R)}}catch(Q){S.e(Q)}finally{S.f()}O.match(/^[\s\u200b]+$/)||d.push(O)}else d.push(g)}a("labelWrapCachedLines",d),i=a("labelWrapCachedText",d.join(`
`)),a("labelWrapKey",s)}else if(u==="ellipsis"){var z=r.pstyle("text-max-width").pfValue,F="",U="\u2026",W=!1;if(this.calculateLabelDimensions(r,i).width<z)return i;for(var Y=0;Y<i.length;Y++){var X=this.calculateLabelDimensions(r,F+i[Y]+U).width;if(X>z)break;F+=i[Y],Y===i.length-1&&(W=!0)}return W||(F+=U),F}return i};Ps.getLabelJustification=function(r){var e=r.pstyle("text-justification").strValue,t=r.pstyle("text-halign").strValue;if(e==="auto")if(r.isNode())switch(t){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};Ps.calculateLabelDimensions=function(r,e){var t=this,n=t.cy.window(),i=n.document,o=0,a=r.pstyle("font-style").strValue,u=r.pstyle("font-size").pfValue,s=r.pstyle("font-family").strValue,l=r.pstyle("font-weight").strValue,c=this.labelCalcCanvas,f=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=i.createElement("canvas"),f=this.labelCalcCanvasContext=c.getContext("2d");var h=c.style;h.position="absolute",h.left="-9999px",h.top="-9999px",h.zIndex="-1",h.visibility="hidden",h.pointerEvents="none"}f.font="".concat(a," ").concat(l," ").concat(u,"px ").concat(s);for(var v=0,d=0,y=e.split(`
`),p=0;p<y.length;p++){var g=y[p],b=f.measureText(g),m=Math.ceil(b.width),_=u;v=Math.max(m,v),d+=_}return v+=o,d+=o,{width:v,height:d}};Ps.calculateLabelAngle=function(r,e){var t=r._private,n=t.rscratch,i=r.isEdge(),o=e?e+"-":"",a=r.pstyle(o+"text-rotation"),u=a.strValue;return u==="none"?0:i&&u==="autorotate"?n.labelAutoAngle:u==="autorotate"?0:a.pfValue};Ps.calculateLabelAngles=function(r){var e=this,t=r.isEdge(),n=r._private,i=n.rscratch;i.labelAngle=e.calculateLabelAngle(r),t&&(i.sourceLabelAngle=e.calculateLabelAngle(r,"source"),i.targetLabelAngle=e.calculateLabelAngle(r,"target"))};var uA={},E2=28,x2=!1;uA.getNodeShape=function(r){var e=this,t=r.pstyle("shape").value;if(t==="cutrectangle"&&(r.width()<E2||r.height()<E2))return x2||(Gr("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),x2=!0),"rectangle";if(r.isParent())return t==="rectangle"||t==="roundrectangle"||t==="round-rectangle"||t==="cutrectangle"||t==="cut-rectangle"||t==="barrel"?t:"rectangle";if(t==="polygon"){var n=r.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return t};var c0={};c0.registerCalculationListeners=function(){var r=this.cy,e=r.collection(),t=this,n=function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(a),u)for(var s=0;s<a.length;s++){var l=a[s],c=l._private,f=c.rstyle;f.clean=!1,f.cleanConnected=!1}};t.binder(r).on("bounds.* dirty.*",function(a){var u=a.target;n(u)}).on("style.* background.*",function(a){var u=a.target;n(u,!1)});var i=function(a){if(a){var u=t.onUpdateEleCalcsFns;e.cleanStyle();for(var s=0;s<e.length;s++){var l=e[s],c=l._private.rstyle;l.isNode()&&!c.cleanConnected&&(n(l.connectedEdges()),c.cleanConnected=!0)}if(u)for(var f=0;f<u.length;f++){var h=u[f];h(a,e)}t.recalculateRenderedStyle(e),e=r.collection()}};t.flushRenderedStyleQueue=function(){i(!0)},t.beforeRender(i,t.beforeRenderPriorities.eleCalcs)};c0.onUpdateEleCalcs=function(r){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(r)};c0.recalculateRenderedStyle=function(r,e){var t=function(_){return _._private.rstyle.cleanConnected};if(r.length!==0){var n=[],i=[];if(!this.destroyed){e===void 0&&(e=!0);for(var o=0;o<r.length;o++){var a=r[o],u=a._private,s=u.rstyle;a.isEdge()&&(!t(a.source())||!t(a.target()))&&(s.clean=!1),a.isEdge()&&a.isBundledBezier()&&a.parallelEdges().some(function(m){return!m._private.rstyle.clean&&m.isBundledBezier()})&&(s.clean=!1),!(e&&s.clean||a.removed())&&a.pstyle("display").value!=="none"&&(u.group==="nodes"?i.push(a):n.push(a),s.clean=!0)}for(var l=0;l<i.length;l++){var c=i[l],f=c._private,h=f.rstyle,v=c.position();this.recalculateNodeLabelProjection(c),h.nodeX=v.x,h.nodeY=v.y,h.nodeW=c.pstyle("width").pfValue,h.nodeH=c.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var d=0;d<n.length;d++){var y=n[d],p=y._private,g=p.rstyle,b=p.rscratch;g.srcX=b.arrowStartX,g.srcY=b.arrowStartY,g.tgtX=b.arrowEndX,g.tgtY=b.arrowEndY,g.midX=b.midX,g.midY=b.midY,g.labelAngle=b.labelAngle,g.sourceLabelAngle=b.sourceLabelAngle,g.targetLabelAngle=b.targetLabelAngle}}}};var f0={};f0.updateCachedGrabbedEles=function(){var r=this.cachedZSortedEles;if(r){r.drag=[],r.nondrag=[];for(var e=[],t=0;t<r.length;t++){var n=r[t],i=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):i.inDragLayer?r.drag.push(n):r.nondrag.push(n)}for(var t=0;t<e.length;t++){var n=e[t];r.drag.push(n)}}};f0.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};f0.getCachedZSortedEles=function(r){if(r||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(GP),e.interactive=e.filter(function(t){return t.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var lA={};[Nc,Vm,Gi,up,EE,Ps,uA,c0,f0].forEach(function(r){Nt(lA,r)});var cA={};cA.getCachedImage=function(r,e,t){var n=this,i=n.imageCache=n.imageCache||{},o=i[r];if(o)return o.image.complete||o.image.addEventListener("load",t),o.image;o=i[r]=i[r]||{};var a=o.image=new Image;a.addEventListener("load",t),a.addEventListener("error",function(){a.error=!0});var u="data:",s=r.substring(0,u.length).toLowerCase()===u;return s||(e=e==="null"?null:e,a.crossOrigin=e),a.src=r,a};var Ah={};Ah.registerBinding=function(r,e,t,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(r)){for(var o=[],a=0;a<r.length;a++){var u=r[a];if(u!==void 0){var s=this.binder(u);o.push(s.on.apply(s,i))}}return o}var s=this.binder(r);return s.on.apply(s,i)};Ah.binder=function(r){var e=this,t=e.cy.window(),n=r===t||r===t.document||r===t.document.body||$q(r);if(e.supportsPassiveEvents==null){var i=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});t.addEventListener("test",null,o)}catch{}e.supportsPassiveEvents=i}var a=function(s,l,c){var f=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(f[2]={capture:c??!1,passive:!1,once:!1}),e.bindings.push({target:r,args:f}),(r.addEventListener||r.on).apply(r,f),this};return{on:a,addEventListener:a,addListener:a,bind:a}};Ah.nodeIsDraggable=function(r){return r&&r.isNode()&&!r.locked()&&r.grabbable()};Ah.nodeIsGrabbable=function(r){return this.nodeIsDraggable(r)&&r.interactive()};Ah.load=function(){var r=this,e=r.cy.window(),t=function(te){return te.selected()},n=function(te){var Se=te.getRootNode();if(Se&&Se.nodeType===11&&Se.host!==void 0)return Se},i=function(te,Se,De,Me){te==null&&(te=r.cy);for(var Ne=0;Ne<Se.length;Ne++){var nt=Se[Ne];te.emit({originalEvent:De,type:nt,position:Me})}},o=function(te){return te.shiftKey||te.metaKey||te.ctrlKey},a=function(te,Se){var De=!0;if(r.cy.hasCompoundNodes()&&te&&te.pannable())for(var Me=0;Se&&Me<Se.length;Me++){var te=Se[Me];if(te.isNode()&&te.isParent()&&!te.pannable()){De=!1;break}}else De=!0;return De},u=function(te){te[0]._private.grabbed=!0},s=function(te){te[0]._private.grabbed=!1},l=function(te){te[0]._private.rscratch.inDragLayer=!0},c=function(te){te[0]._private.rscratch.inDragLayer=!1},f=function(te){te[0]._private.rscratch.isGrabTarget=!0},h=function(te){te[0]._private.rscratch.isGrabTarget=!1},v=function(te,Se){var De=Se.addToList,Me=De.has(te);!Me&&te.grabbable()&&!te.locked()&&(De.merge(te),u(te))},d=function(te,Se){if(te.cy().hasCompoundNodes()&&!(Se.inDragLayer==null&&Se.addToList==null)){var De=te.descendants();Se.inDragLayer&&(De.forEach(l),De.connectedEdges().forEach(l)),Se.addToList&&v(De,Se)}},y=function(te,Se){Se=Se||{};var De=te.cy().hasCompoundNodes();Se.inDragLayer&&(te.forEach(l),te.neighborhood().stdFilter(function(Me){return!De||Me.isEdge()}).forEach(l)),Se.addToList&&te.forEach(function(Me){v(Me,Se)}),d(te,Se),b(te,{inDragLayer:Se.inDragLayer}),r.updateCachedGrabbedEles()},p=y,g=function(te){te&&(r.getCachedZSortedEles().forEach(function(Se){s(Se),c(Se),h(Se)}),r.updateCachedGrabbedEles())},b=function(te,Se){if(!(Se.inDragLayer==null&&Se.addToList==null)&&te.cy().hasCompoundNodes()){var De=te.ancestors().orphans();if(!De.same(te)){var Me=De.descendants().spawnSelf().merge(De).unmerge(te).unmerge(te.descendants()),Ne=Me.connectedEdges();Se.inDragLayer&&(Ne.forEach(l),Me.forEach(l)),Se.addToList&&Me.forEach(function(nt){v(nt,Se)})}}},m=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},_=typeof MutationObserver<"u",w=typeof ResizeObserver<"u";_?(r.removeObserver=new MutationObserver(function(ke){for(var te=0;te<ke.length;te++){var Se=ke[te],De=Se.removedNodes;if(De)for(var Me=0;Me<De.length;Me++){var Ne=De[Me];if(Ne===r.container){r.destroy();break}}}}),r.container.parentNode&&r.removeObserver.observe(r.container.parentNode,{childList:!0})):r.registerBinding(r.container,"DOMNodeRemoved",function(ke){r.destroy()});var O=ip(function(){r.cy.resize()},100);_&&(r.styleObserver=new MutationObserver(O),r.styleObserver.observe(r.container,{attributes:!0})),r.registerBinding(e,"resize",O),w&&(r.resizeObserver=new ResizeObserver(O),r.resizeObserver.observe(r.container));var E=function(te,Se){for(;te!=null;)Se(te),te=te.parentNode},S=function(){r.invalidateContainerClientCoordsCache()};E(r.container,function(ke){r.registerBinding(ke,"transitionend",S),r.registerBinding(ke,"animationend",S),r.registerBinding(ke,"scroll",S)}),r.registerBinding(r.container,"contextmenu",function(ke){ke.preventDefault()});var P=function(){return r.selection[4]!==0},I=function(te){for(var Se=r.findContainerClientCoords(),De=Se[0],Me=Se[1],Ne=Se[2],nt=Se[3],Be=te.touches?te.touches:[te],ot=!1,Qe=0;Qe<Be.length;Qe++){var it=Be[Qe];if(De<=it.clientX&&it.clientX<=De+Ne&&Me<=it.clientY&&it.clientY<=Me+nt){ot=!0;break}}if(!ot)return!1;for(var gt=r.container,Pt=te.target,lt=Pt.parentNode,Lt=!1;lt;){if(lt===gt){Lt=!0;break}lt=lt.parentNode}return!!Lt};r.registerBinding(r.container,"mousedown",function(te){if(I(te)&&!(r.hoverData.which===1&&te.which!==1)){te.preventDefault(),m(),r.hoverData.capture=!0,r.hoverData.which=te.which;var Se=r.cy,De=[te.clientX,te.clientY],Me=r.projectIntoViewport(De[0],De[1]),Ne=r.selection,nt=r.findNearestElements(Me[0],Me[1],!0,!1),Be=nt[0],ot=r.dragData.possibleDragElements;r.hoverData.mdownPos=Me,r.hoverData.mdownGPos=De;var Qe=function(dt){return{originalEvent:te,type:dt,position:{x:Me[0],y:Me[1]}}},it=function(){r.hoverData.tapholdCancelled=!1,clearTimeout(r.hoverData.tapholdTimeout),r.hoverData.tapholdTimeout=setTimeout(function(){if(!r.hoverData.tapholdCancelled){var dt=r.hoverData.down;dt?dt.emit(Qe("taphold")):Se.emit(Qe("taphold"))}},r.tapholdDuration)};if(te.which==3){r.hoverData.cxtStarted=!0;var gt={originalEvent:te,type:"cxttapstart",position:{x:Me[0],y:Me[1]}};Be?(Be.activate(),Be.emit(gt),r.hoverData.down=Be):Se.emit(gt),r.hoverData.downTime=new Date().getTime(),r.hoverData.cxtDragged=!1}else if(te.which==1){Be&&Be.activate();{if(Be!=null&&r.nodeIsGrabbable(Be)){var Pt=function(dt){dt.emit(Qe("grab"))};if(f(Be),!Be.selected())ot=r.dragData.possibleDragElements=Se.collection(),p(Be,{addToList:ot}),Be.emit(Qe("grabon")).emit(Qe("grab"));else{ot=r.dragData.possibleDragElements=Se.collection();var lt=Se.$(function(Lt){return Lt.isNode()&&Lt.selected()&&r.nodeIsGrabbable(Lt)});y(lt,{addToList:ot}),Be.emit(Qe("grabon")),lt.forEach(Pt)}r.redrawHint("eles",!0),r.redrawHint("drag",!0)}r.hoverData.down=Be,r.hoverData.downs=nt,r.hoverData.downTime=new Date().getTime()}i(Be,["mousedown","tapstart","vmousedown"],te,{x:Me[0],y:Me[1]}),Be==null?(Ne[4]=1,r.data.bgActivePosistion={x:Me[0],y:Me[1]},r.redrawHint("select",!0),r.redraw()):Be.pannable()&&(Ne[4]=1),it()}Ne[0]=Ne[2]=Me[0],Ne[1]=Ne[3]=Me[1]}},!1);var R=n(r.container);r.registerBinding([e,R],"mousemove",function(te){var Se=r.hoverData.capture;if(!(!Se&&!I(te))){var De=!1,Me=r.cy,Ne=Me.zoom(),nt=[te.clientX,te.clientY],Be=r.projectIntoViewport(nt[0],nt[1]),ot=r.hoverData.mdownPos,Qe=r.hoverData.mdownGPos,it=r.selection,gt=null;!r.hoverData.draggingEles&&!r.hoverData.dragging&&!r.hoverData.selecting&&(gt=r.findNearestElement(Be[0],Be[1],!0,!1));var Pt=r.hoverData.last,lt=r.hoverData.down,Lt=[Be[0]-it[2],Be[1]-it[3]],dt=r.dragData.possibleDragElements,Qt;if(Qe){var Yt=nt[0]-Qe[0],Rt=Yt*Yt,wt=nt[1]-Qe[1],dr=wt*wt,ir=Rt+dr;r.hoverData.isOverThresholdDrag=Qt=ir>=r.desktopTapThreshold2}var vr=o(te);Qt&&(r.hoverData.tapholdCancelled=!0);var wr=function(){var Jt=r.hoverData.dragDelta=r.hoverData.dragDelta||[];Jt.length===0?(Jt.push(Lt[0]),Jt.push(Lt[1])):(Jt[0]+=Lt[0],Jt[1]+=Lt[1])};De=!0,i(gt,["mousemove","vmousemove","tapdrag"],te,{x:Be[0],y:Be[1]});var Er=function(Jt){return{originalEvent:te,type:Jt,position:{x:Be[0],y:Be[1]}}},Pr=function(){r.data.bgActivePosistion=void 0,r.hoverData.selecting||Me.emit(Er("boxstart")),it[4]=1,r.hoverData.selecting=!0,r.redrawHint("select",!0),r.redraw()};if(r.hoverData.which===3){if(Qt){var Vr=Er("cxtdrag");lt?lt.emit(Vr):Me.emit(Vr),r.hoverData.cxtDragged=!0,(!r.hoverData.cxtOver||gt!==r.hoverData.cxtOver)&&(r.hoverData.cxtOver&&r.hoverData.cxtOver.emit(Er("cxtdragout")),r.hoverData.cxtOver=gt,gt&&gt.emit(Er("cxtdragover")))}}else if(r.hoverData.dragging){if(De=!0,Me.panningEnabled()&&Me.userPanningEnabled()){var cn;if(r.hoverData.justStartedPan){var Dn=r.hoverData.mdownPos;cn={x:(Be[0]-Dn[0])*Ne,y:(Be[1]-Dn[1])*Ne},r.hoverData.justStartedPan=!1}else cn={x:Lt[0]*Ne,y:Lt[1]*Ne};Me.panBy(cn),Me.emit(Er("dragpan")),r.hoverData.dragged=!0}Be=r.projectIntoViewport(te.clientX,te.clientY)}else if(it[4]==1&&(lt==null||lt.pannable())){if(Qt){if(!r.hoverData.dragging&&Me.boxSelectionEnabled()&&(vr||!Me.panningEnabled()||!Me.userPanningEnabled()))Pr();else if(!r.hoverData.selecting&&Me.panningEnabled()&&Me.userPanningEnabled()){var On=a(lt,r.hoverData.downs);On&&(r.hoverData.dragging=!0,r.hoverData.justStartedPan=!0,it[4]=0,r.data.bgActivePosistion=ph(ot),r.redrawHint("select",!0),r.redraw())}lt&&lt.pannable()&&lt.active()&&lt.unactivate()}}else{if(lt&&lt.pannable()&&lt.active()&&lt.unactivate(),(!lt||!lt.grabbed())&&gt!=Pt&&(Pt&&i(Pt,["mouseout","tapdragout"],te,{x:Be[0],y:Be[1]}),gt&&i(gt,["mouseover","tapdragover"],te,{x:Be[0],y:Be[1]}),r.hoverData.last=gt),lt)if(Qt){if(Me.boxSelectionEnabled()&&vr)lt&&lt.grabbed()&&(g(dt),lt.emit(Er("freeon")),dt.emit(Er("free")),r.dragData.didDrag&&(lt.emit(Er("dragfreeon")),dt.emit(Er("dragfree")))),Pr();else if(lt&&lt.grabbed()&&r.nodeIsDraggable(lt)){var xr=!r.dragData.didDrag;xr&&r.redrawHint("eles",!0),r.dragData.didDrag=!0,r.hoverData.draggingEles||y(dt,{inDragLayer:!0});var mr={x:0,y:0};if(at(Lt[0])&&at(Lt[1])&&(mr.x+=Lt[0],mr.y+=Lt[1],xr)){var Wr=r.hoverData.dragDelta;Wr&&at(Wr[0])&&at(Wr[1])&&(mr.x+=Wr[0],mr.y+=Wr[1])}r.hoverData.draggingEles=!0,dt.silentShift(mr).emit(Er("position")).emit(Er("drag")),r.redrawHint("drag",!0),r.redraw()}}else wr();De=!0}if(it[2]=Be[0],it[3]=Be[1],De)return te.stopPropagation&&te.stopPropagation(),te.preventDefault&&te.preventDefault(),!1}},!1);var D,k,N;r.registerBinding(e,"mouseup",function(te){if(!(r.hoverData.which===1&&te.which!==1&&r.hoverData.capture)){var Se=r.hoverData.capture;if(Se){r.hoverData.capture=!1;var De=r.cy,Me=r.projectIntoViewport(te.clientX,te.clientY),Ne=r.selection,nt=r.findNearestElement(Me[0],Me[1],!0,!1),Be=r.dragData.possibleDragElements,ot=r.hoverData.down,Qe=o(te);r.data.bgActivePosistion&&(r.redrawHint("select",!0),r.redraw()),r.hoverData.tapholdCancelled=!0,r.data.bgActivePosistion=void 0,ot&&ot.unactivate();var it=function(Yt){return{originalEvent:te,type:Yt,position:{x:Me[0],y:Me[1]}}};if(r.hoverData.which===3){var gt=it("cxttapend");if(ot?ot.emit(gt):De.emit(gt),!r.hoverData.cxtDragged){var Pt=it("cxttap");ot?ot.emit(Pt):De.emit(Pt)}r.hoverData.cxtDragged=!1,r.hoverData.which=null}else if(r.hoverData.which===1){if(i(nt,["mouseup","tapend","vmouseup"],te,{x:Me[0],y:Me[1]}),!r.dragData.didDrag&&!r.hoverData.dragged&&!r.hoverData.selecting&&!r.hoverData.isOverThresholdDrag&&(i(ot,["click","tap","vclick"],te,{x:Me[0],y:Me[1]}),k=!1,te.timeStamp-N<=De.multiClickDebounceTime()?(D&&clearTimeout(D),k=!0,N=null,i(ot,["dblclick","dbltap","vdblclick"],te,{x:Me[0],y:Me[1]})):(D=setTimeout(function(){k||i(ot,["oneclick","onetap","voneclick"],te,{x:Me[0],y:Me[1]})},De.multiClickDebounceTime()),N=te.timeStamp)),ot==null&&!r.dragData.didDrag&&!r.hoverData.selecting&&!r.hoverData.dragged&&!o(te)&&(De.$(t).unselect(["tapunselect"]),Be.length>0&&r.redrawHint("eles",!0),r.dragData.possibleDragElements=Be=De.collection()),nt==ot&&!r.dragData.didDrag&&!r.hoverData.selecting&&nt!=null&&nt._private.selectable&&(r.hoverData.dragging||(De.selectionType()==="additive"||Qe?nt.selected()?nt.unselect(["tapunselect"]):nt.select(["tapselect"]):Qe||(De.$(t).unmerge(nt).unselect(["tapunselect"]),nt.select(["tapselect"]))),r.redrawHint("eles",!0)),r.hoverData.selecting){var lt=De.collection(r.getAllInBox(Ne[0],Ne[1],Ne[2],Ne[3]));r.redrawHint("select",!0),lt.length>0&&r.redrawHint("eles",!0),De.emit(it("boxend"));var Lt=function(Yt){return Yt.selectable()&&!Yt.selected()};De.selectionType()==="additive"||Qe||De.$(t).unmerge(lt).unselect(),lt.emit(it("box")).stdFilter(Lt).select().emit(it("boxselect")),r.redraw()}if(r.hoverData.dragging&&(r.hoverData.dragging=!1,r.redrawHint("select",!0),r.redrawHint("eles",!0),r.redraw()),!Ne[4]){r.redrawHint("drag",!0),r.redrawHint("eles",!0);var dt=ot&&ot.grabbed();g(Be),dt&&(ot.emit(it("freeon")),Be.emit(it("free")),r.dragData.didDrag&&(ot.emit(it("dragfreeon")),Be.emit(it("dragfree"))))}}Ne[4]=0,r.hoverData.down=null,r.hoverData.cxtStarted=!1,r.hoverData.draggingEles=!1,r.hoverData.selecting=!1,r.hoverData.isOverThresholdDrag=!1,r.dragData.didDrag=!1,r.hoverData.dragged=!1,r.hoverData.dragDelta=[],r.hoverData.mdownPos=null,r.hoverData.mdownGPos=null,r.hoverData.which=null}}},!1);var B=[],z=4,F,U=1e5,W=function(te,Se){for(var De=0;De<te.length;De++)if(te[De]%Se!==0)return!1;return!0},Y=function(te){for(var Se=Math.abs(te[0]),De=1;De<te.length;De++)if(Math.abs(te[De])!==Se)return!1;return!0},X=function(te){var Se=!1,De=te.deltaY;if(De==null&&(te.wheelDeltaY!=null?De=te.wheelDeltaY/4:te.wheelDelta!=null&&(De=te.wheelDelta/4)),De!==0){if(F==null)if(B.length>=z){var Me=B;if(F=W(Me,5),!F){var Ne=Math.abs(Me[0]);F=Y(Me)&&Ne>5}if(F)for(var nt=0;nt<Me.length;nt++)U=Math.min(Math.abs(Me[nt]),U)}else B.push(De),Se=!0;else F&&(U=Math.min(Math.abs(De),U));if(!r.scrollingPage){var Be=r.cy,ot=Be.zoom(),Qe=Be.pan(),it=r.projectIntoViewport(te.clientX,te.clientY),gt=[it[0]*ot+Qe.x,it[1]*ot+Qe.y];if(r.hoverData.draggingEles||r.hoverData.dragging||r.hoverData.cxtStarted||P()){te.preventDefault();return}if(Be.panningEnabled()&&Be.userPanningEnabled()&&Be.zoomingEnabled()&&Be.userZoomingEnabled()){te.preventDefault(),r.data.wheelZooming=!0,clearTimeout(r.data.wheelTimeout),r.data.wheelTimeout=setTimeout(function(){r.data.wheelZooming=!1,r.redrawHint("eles",!0),r.redraw()},150);var Pt;Se&&Math.abs(De)>5&&(De=uE(De)*5),Pt=De/-250,F&&(Pt/=U,Pt*=3),Pt=Pt*r.wheelSensitivity;var lt=te.deltaMode===1;lt&&(Pt*=33);var Lt=Be.zoom()*Math.pow(10,Pt);te.type==="gesturechange"&&(Lt=r.gestureStartZoom*te.scale),Be.zoom({level:Lt,renderedPosition:{x:gt[0],y:gt[1]}}),Be.emit({type:te.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:te,position:{x:it[0],y:it[1]}})}}}};r.registerBinding(r.container,"wheel",X,!0),r.registerBinding(e,"scroll",function(te){r.scrollingPage=!0,clearTimeout(r.scrollingPageTimeout),r.scrollingPageTimeout=setTimeout(function(){r.scrollingPage=!1},250)},!0),r.registerBinding(r.container,"gesturestart",function(te){r.gestureStartZoom=r.cy.zoom(),r.hasTouchStarted||te.preventDefault()},!0),r.registerBinding(r.container,"gesturechange",function(ke){r.hasTouchStarted||X(ke)},!0),r.registerBinding(r.container,"mouseout",function(te){var Se=r.projectIntoViewport(te.clientX,te.clientY);r.cy.emit({originalEvent:te,type:"mouseout",position:{x:Se[0],y:Se[1]}})},!1),r.registerBinding(r.container,"mouseover",function(te){var Se=r.projectIntoViewport(te.clientX,te.clientY);r.cy.emit({originalEvent:te,type:"mouseover",position:{x:Se[0],y:Se[1]}})},!1);var Q,ue,ce,ae,pe,fe,he,ee,K,J,ie,de,_e,Ce=function(te,Se,De,Me){return Math.sqrt((De-te)*(De-te)+(Me-Se)*(Me-Se))},Ae=function(te,Se,De,Me){return(De-te)*(De-te)+(Me-Se)*(Me-Se)},xe;r.registerBinding(r.container,"touchstart",xe=function(te){if(r.hasTouchStarted=!0,!!I(te)){m(),r.touchData.capture=!0,r.data.bgActivePosistion=void 0;var Se=r.cy,De=r.touchData.now,Me=r.touchData.earlier;if(te.touches[0]){var Ne=r.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);De[0]=Ne[0],De[1]=Ne[1]}if(te.touches[1]){var Ne=r.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);De[2]=Ne[0],De[3]=Ne[1]}if(te.touches[2]){var Ne=r.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);De[4]=Ne[0],De[5]=Ne[1]}var nt=function(vr){return{originalEvent:te,type:vr,position:{x:De[0],y:De[1]}}};if(te.touches[1]){r.touchData.singleTouchMoved=!0,g(r.dragData.touchDragEles);var Be=r.findContainerClientCoords();K=Be[0],J=Be[1],ie=Be[2],de=Be[3],Q=te.touches[0].clientX-K,ue=te.touches[0].clientY-J,ce=te.touches[1].clientX-K,ae=te.touches[1].clientY-J,_e=0<=Q&&Q<=ie&&0<=ce&&ce<=ie&&0<=ue&&ue<=de&&0<=ae&&ae<=de;var ot=Se.pan(),Qe=Se.zoom();pe=Ce(Q,ue,ce,ae),fe=Ae(Q,ue,ce,ae),he=[(Q+ce)/2,(ue+ae)/2],ee=[(he[0]-ot.x)/Qe,(he[1]-ot.y)/Qe];var it=200,gt=it*it;if(fe<gt&&!te.touches[2]){var Pt=r.findNearestElement(De[0],De[1],!0,!0),lt=r.findNearestElement(De[2],De[3],!0,!0);Pt&&Pt.isNode()?(Pt.activate().emit(nt("cxttapstart")),r.touchData.start=Pt):lt&&lt.isNode()?(lt.activate().emit(nt("cxttapstart")),r.touchData.start=lt):Se.emit(nt("cxttapstart")),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!0,r.touchData.cxtDragged=!1,r.data.bgActivePosistion=void 0,r.redraw();return}}if(te.touches[2])Se.boxSelectionEnabled()&&te.preventDefault();else if(!te.touches[1]){if(te.touches[0]){var Lt=r.findNearestElements(De[0],De[1],!0,!0),dt=Lt[0];if(dt!=null&&(dt.activate(),r.touchData.start=dt,r.touchData.starts=Lt,r.nodeIsGrabbable(dt))){var Qt=r.dragData.touchDragEles=Se.collection(),Yt=null;r.redrawHint("eles",!0),r.redrawHint("drag",!0),dt.selected()?(Yt=Se.$(function(ir){return ir.selected()&&r.nodeIsGrabbable(ir)}),y(Yt,{addToList:Qt})):p(dt,{addToList:Qt}),f(dt),dt.emit(nt("grabon")),Yt?Yt.forEach(function(ir){ir.emit(nt("grab"))}):dt.emit(nt("grab"))}i(dt,["touchstart","tapstart","vmousedown"],te,{x:De[0],y:De[1]}),dt==null&&(r.data.bgActivePosistion={x:Ne[0],y:Ne[1]},r.redrawHint("select",!0),r.redraw()),r.touchData.singleTouchMoved=!1,r.touchData.singleTouchStartTime=+new Date,clearTimeout(r.touchData.tapholdTimeout),r.touchData.tapholdTimeout=setTimeout(function(){r.touchData.singleTouchMoved===!1&&!r.pinching&&!r.touchData.selecting&&i(r.touchData.start,["taphold"],te,{x:De[0],y:De[1]})},r.tapholdDuration)}}if(te.touches.length>=1){for(var Rt=r.touchData.startPosition=[null,null,null,null,null,null],wt=0;wt<De.length;wt++)Rt[wt]=Me[wt]=De[wt];var dr=te.touches[0];r.touchData.startGPosition=[dr.clientX,dr.clientY]}}},!1);var j;r.registerBinding(e,"touchmove",j=function(te){var Se=r.touchData.capture;if(!(!Se&&!I(te))){var De=r.selection,Me=r.cy,Ne=r.touchData.now,nt=r.touchData.earlier,Be=Me.zoom();if(te.touches[0]){var ot=r.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Ne[0]=ot[0],Ne[1]=ot[1]}if(te.touches[1]){var ot=r.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);Ne[2]=ot[0],Ne[3]=ot[1]}if(te.touches[2]){var ot=r.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);Ne[4]=ot[0],Ne[5]=ot[1]}var Qe=function(ai){return{originalEvent:te,type:ai,position:{x:Ne[0],y:Ne[1]}}},it=r.touchData.startGPosition,gt;if(Se&&te.touches[0]&&it){for(var Pt=[],lt=0;lt<Ne.length;lt++)Pt[lt]=Ne[lt]-nt[lt];var Lt=te.touches[0].clientX-it[0],dt=Lt*Lt,Qt=te.touches[0].clientY-it[1],Yt=Qt*Qt,Rt=dt+Yt;gt=Rt>=r.touchTapThreshold2}if(Se&&r.touchData.cxt){te.preventDefault();var wt=te.touches[0].clientX-K,dr=te.touches[0].clientY-J,ir=te.touches[1].clientX-K,vr=te.touches[1].clientY-J,wr=Ae(wt,dr,ir,vr),Er=wr/fe,Pr=150,Vr=Pr*Pr,cn=1.5,Dn=cn*cn;if(Er>=Dn||wr>=Vr){r.touchData.cxt=!1,r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var On=Qe("cxttapend");r.touchData.start?(r.touchData.start.unactivate().emit(On),r.touchData.start=null):Me.emit(On)}}if(Se&&r.touchData.cxt){var On=Qe("cxtdrag");r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.touchData.start?r.touchData.start.emit(On):Me.emit(On),r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxtDragged=!0;var xr=r.findNearestElement(Ne[0],Ne[1],!0,!0);(!r.touchData.cxtOver||xr!==r.touchData.cxtOver)&&(r.touchData.cxtOver&&r.touchData.cxtOver.emit(Qe("cxtdragout")),r.touchData.cxtOver=xr,xr&&xr.emit(Qe("cxtdragover")))}else if(Se&&te.touches[2]&&Me.boxSelectionEnabled())te.preventDefault(),r.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,r.touchData.selecting||Me.emit(Qe("boxstart")),r.touchData.selecting=!0,r.touchData.didSelect=!0,De[4]=1,!De||De.length===0||De[0]===void 0?(De[0]=(Ne[0]+Ne[2]+Ne[4])/3,De[1]=(Ne[1]+Ne[3]+Ne[5])/3,De[2]=(Ne[0]+Ne[2]+Ne[4])/3+1,De[3]=(Ne[1]+Ne[3]+Ne[5])/3+1):(De[2]=(Ne[0]+Ne[2]+Ne[4])/3,De[3]=(Ne[1]+Ne[3]+Ne[5])/3),r.redrawHint("select",!0),r.redraw();else if(Se&&te.touches[1]&&!r.touchData.didSelect&&Me.zoomingEnabled()&&Me.panningEnabled()&&Me.userZoomingEnabled()&&Me.userPanningEnabled()){te.preventDefault(),r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var mr=r.dragData.touchDragEles;if(mr){r.redrawHint("drag",!0);for(var Wr=0;Wr<mr.length;Wr++){var fn=mr[Wr]._private;fn.grabbed=!1,fn.rscratch.inDragLayer=!1}}var Jt=r.touchData.start,wt=te.touches[0].clientX-K,dr=te.touches[0].clientY-J,ir=te.touches[1].clientX-K,vr=te.touches[1].clientY-J,Mn=Ce(wt,dr,ir,vr),Sn=Mn/pe;if(_e){var ut=wt-Q,jt=dr-ue,kn=ir-ce,co=vr-ae,fo=(ut+kn)/2,Vn=(jt+co)/2,oi=Me.zoom(),pr=oi*Sn,Xt=Me.pan(),Mi=ee[0]*oi+Xt.x,es=ee[1]*oi+Xt.y,Tu={x:-pr/oi*(Mi-Xt.x-fo)+Mi,y:-pr/oi*(es-Xt.y-Vn)+es};if(Jt&&Jt.active()){var mr=r.dragData.touchDragEles;g(mr),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Jt.unactivate().emit(Qe("freeon")),mr.emit(Qe("free")),r.dragData.didDrag&&(Jt.emit(Qe("dragfreeon")),mr.emit(Qe("dragfree")))}Me.viewport({zoom:pr,pan:Tu,cancelOnFailedZoom:!0}),Me.emit(Qe("pinchzoom")),pe=Mn,Q=wt,ue=dr,ce=ir,ae=vr,r.pinching=!0}if(te.touches[0]){var ot=r.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Ne[0]=ot[0],Ne[1]=ot[1]}if(te.touches[1]){var ot=r.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);Ne[2]=ot[0],Ne[3]=ot[1]}if(te.touches[2]){var ot=r.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);Ne[4]=ot[0],Ne[5]=ot[1]}}else if(te.touches[0]&&!r.touchData.didSelect){var Wn=r.touchData.start,ts=r.touchData.last,xr;if(!r.hoverData.draggingEles&&!r.swipePanning&&(xr=r.findNearestElement(Ne[0],Ne[1],!0,!0)),Se&&Wn!=null&&te.preventDefault(),Se&&Wn!=null&&r.nodeIsDraggable(Wn))if(gt){var mr=r.dragData.touchDragEles,en=!r.dragData.didDrag;en&&y(mr,{inDragLayer:!0}),r.dragData.didDrag=!0;var aa={x:0,y:0};if(at(Pt[0])&&at(Pt[1])&&(aa.x+=Pt[0],aa.y+=Pt[1],en)){r.redrawHint("eles",!0);var Tn=r.touchData.dragDelta;Tn&&at(Tn[0])&&at(Tn[1])&&(aa.x+=Tn[0],aa.y+=Tn[1])}r.hoverData.draggingEles=!0,mr.silentShift(aa).emit(Qe("position")).emit(Qe("drag")),r.redrawHint("drag",!0),r.touchData.startPosition[0]==nt[0]&&r.touchData.startPosition[1]==nt[1]&&r.redrawHint("eles",!0),r.redraw()}else{var Tn=r.touchData.dragDelta=r.touchData.dragDelta||[];Tn.length===0?(Tn.push(Pt[0]),Tn.push(Pt[1])):(Tn[0]+=Pt[0],Tn[1]+=Pt[1])}if(i(Wn||xr,["touchmove","tapdrag","vmousemove"],te,{x:Ne[0],y:Ne[1]}),(!Wn||!Wn.grabbed())&&xr!=ts&&(ts&&ts.emit(Qe("tapdragout")),xr&&xr.emit(Qe("tapdragover"))),r.touchData.last=xr,Se)for(var Wr=0;Wr<Ne.length;Wr++)Ne[Wr]&&r.touchData.startPosition[Wr]&&gt&&(r.touchData.singleTouchMoved=!0);if(Se&&(Wn==null||Wn.pannable())&&Me.panningEnabled()&&Me.userPanningEnabled()){var Ia=a(Wn,r.touchData.starts);Ia&&(te.preventDefault(),r.data.bgActivePosistion||(r.data.bgActivePosistion=ph(r.touchData.startPosition)),r.swipePanning?(Me.panBy({x:Pt[0]*Be,y:Pt[1]*Be}),Me.emit(Qe("dragpan"))):gt&&(r.swipePanning=!0,Me.panBy({x:Lt*Be,y:Qt*Be}),Me.emit(Qe("dragpan")),Wn&&(Wn.unactivate(),r.redrawHint("select",!0),r.touchData.start=null)));var ot=r.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Ne[0]=ot[0],Ne[1]=ot[1]}}for(var lt=0;lt<Ne.length;lt++)nt[lt]=Ne[lt];Se&&te.touches.length>0&&!r.hoverData.draggingEles&&!r.swipePanning&&r.data.bgActivePosistion!=null&&(r.data.bgActivePosistion=void 0,r.redrawHint("select",!0),r.redraw())}},!1);var G;r.registerBinding(e,"touchcancel",G=function(te){var Se=r.touchData.start;r.touchData.capture=!1,Se&&Se.unactivate()});var H,oe,ve,ye;if(r.registerBinding(e,"touchend",H=function(te){var Se=r.touchData.start,De=r.touchData.capture;if(De)te.touches.length===0&&(r.touchData.capture=!1),te.preventDefault();else return;var Me=r.selection;r.swipePanning=!1,r.hoverData.draggingEles=!1;var Ne=r.cy,nt=Ne.zoom(),Be=r.touchData.now,ot=r.touchData.earlier;if(te.touches[0]){var Qe=r.projectIntoViewport(te.touches[0].clientX,te.touches[0].clientY);Be[0]=Qe[0],Be[1]=Qe[1]}if(te.touches[1]){var Qe=r.projectIntoViewport(te.touches[1].clientX,te.touches[1].clientY);Be[2]=Qe[0],Be[3]=Qe[1]}if(te.touches[2]){var Qe=r.projectIntoViewport(te.touches[2].clientX,te.touches[2].clientY);Be[4]=Qe[0],Be[5]=Qe[1]}var it=function(Vr){return{originalEvent:te,type:Vr,position:{x:Be[0],y:Be[1]}}};Se&&Se.unactivate();var gt;if(r.touchData.cxt){if(gt=it("cxttapend"),Se?Se.emit(gt):Ne.emit(gt),!r.touchData.cxtDragged){var Pt=it("cxttap");Se?Se.emit(Pt):Ne.emit(Pt)}r.touchData.start&&(r.touchData.start._private.grabbed=!1),r.touchData.cxt=!1,r.touchData.start=null,r.redraw();return}if(!te.touches[2]&&Ne.boxSelectionEnabled()&&r.touchData.selecting){r.touchData.selecting=!1;var lt=Ne.collection(r.getAllInBox(Me[0],Me[1],Me[2],Me[3]));Me[0]=void 0,Me[1]=void 0,Me[2]=void 0,Me[3]=void 0,Me[4]=0,r.redrawHint("select",!0),Ne.emit(it("boxend"));var Lt=function(Vr){return Vr.selectable()&&!Vr.selected()};lt.emit(it("box")).stdFilter(Lt).select().emit(it("boxselect")),lt.nonempty()&&r.redrawHint("eles",!0),r.redraw()}if(Se?.unactivate(),te.touches[2])r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);else if(!te.touches[1]){if(!te.touches[0]){if(!te.touches[0]){r.data.bgActivePosistion=void 0,r.redrawHint("select",!0);var dt=r.dragData.touchDragEles;if(Se!=null){var Qt=Se._private.grabbed;g(dt),r.redrawHint("drag",!0),r.redrawHint("eles",!0),Qt&&(Se.emit(it("freeon")),dt.emit(it("free")),r.dragData.didDrag&&(Se.emit(it("dragfreeon")),dt.emit(it("dragfree")))),i(Se,["touchend","tapend","vmouseup","tapdragout"],te,{x:Be[0],y:Be[1]}),Se.unactivate(),r.touchData.start=null}else{var Yt=r.findNearestElement(Be[0],Be[1],!0,!0);i(Yt,["touchend","tapend","vmouseup","tapdragout"],te,{x:Be[0],y:Be[1]})}var Rt=r.touchData.startPosition[0]-Be[0],wt=Rt*Rt,dr=r.touchData.startPosition[1]-Be[1],ir=dr*dr,vr=wt+ir,wr=vr*nt*nt;r.touchData.singleTouchMoved||(Se||Ne.$(":selected").unselect(["tapunselect"]),i(Se,["tap","vclick"],te,{x:Be[0],y:Be[1]}),oe=!1,te.timeStamp-ye<=Ne.multiClickDebounceTime()?(ve&&clearTimeout(ve),oe=!0,ye=null,i(Se,["dbltap","vdblclick"],te,{x:Be[0],y:Be[1]})):(ve=setTimeout(function(){oe||i(Se,["onetap","voneclick"],te,{x:Be[0],y:Be[1]})},Ne.multiClickDebounceTime()),ye=te.timeStamp)),Se!=null&&!r.dragData.didDrag&&Se._private.selectable&&wr<r.touchTapThreshold2&&!r.pinching&&(Ne.selectionType()==="single"?(Ne.$(t).unmerge(Se).unselect(["tapunselect"]),Se.select(["tapselect"])):Se.selected()?Se.unselect(["tapunselect"]):Se.select(["tapselect"]),r.redrawHint("eles",!0)),r.touchData.singleTouchMoved=!0}}}for(var Er=0;Er<Be.length;Er++)ot[Er]=Be[Er];r.dragData.didDrag=!1,te.touches.length===0&&(r.touchData.dragDelta=[],r.touchData.startPosition=[null,null,null,null,null,null],r.touchData.startGPosition=null,r.touchData.didSelect=!1),te.touches.length<2&&(te.touches.length===1&&(r.touchData.startGPosition=[te.touches[0].clientX,te.touches[0].clientY]),r.pinching=!1,r.redrawHint("eles",!0),r.redraw())},!1),typeof TouchEvent>"u"){var we=[],je=function(te){return{clientX:te.clientX,clientY:te.clientY,force:1,identifier:te.pointerId,pageX:te.pageX,pageY:te.pageY,radiusX:te.width/2,radiusY:te.height/2,screenX:te.screenX,screenY:te.screenY,target:te.target}},ze=function(te){return{event:te,touch:je(te)}},rt=function(te){we.push(ze(te))},Ze=function(te){for(var Se=0;Se<we.length;Se++){var De=we[Se];if(De.event.pointerId===te.pointerId){we.splice(Se,1);return}}},Je=function(te){var Se=we.filter(function(De){return De.event.pointerId===te.pointerId})[0];Se.event=te,Se.touch=je(te)},tt=function(te){te.touches=we.map(function(Se){return Se.touch})},Xe=function(te){return te.pointerType==="mouse"||te.pointerType===4};r.registerBinding(r.container,"pointerdown",function(ke){Xe(ke)||(ke.preventDefault(),rt(ke),tt(ke),xe(ke))}),r.registerBinding(r.container,"pointerup",function(ke){Xe(ke)||(Ze(ke),tt(ke),H(ke))}),r.registerBinding(r.container,"pointercancel",function(ke){Xe(ke)||(Ze(ke),tt(ke),G(ke))}),r.registerBinding(r.container,"pointermove",function(ke){Xe(ke)||(ke.preventDefault(),Je(ke),tt(ke),j(ke))})}};var hu={};hu.generatePolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,draw:function(n,i,o,a,u,s){this.renderer.nodeShapeImpl("polygon",n,i,o,a,u,this.points)},intersectLine:function(n,i,o,a,u,s,l,c){return Yv(u,s,this.points,n,i,o/2,a/2,l)},checkPoint:function(n,i,o,a,u,s,l,c){return cu(n,i,this.points,s,l,a,u,[0,-1],o)},hasMiterBounds:r!=="rectangle",miterBounds:function(n,i,o,a,u,s){return hG(this.points,n,i,o,a,u)}}};hu.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,o,a){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o)},intersectLine:function(e,t,n,i,o,a,u,s){return _G(o,a,e,t,n/2+u,i/2+u)},checkPoint:function(e,t,n,i,o,a,u,s){return Ac(e,t,i,o,a,u,n)}}};hu.generateRoundPolygon=function(r,e){return this.nodeShapes[r]={renderer:this,name:r,points:e,getOrCreateCorners:function(n,i,o,a,u,s,l){if(s[l]!==void 0&&s[l+"-cx"]===n&&s[l+"-cy"]===i)return s[l];s[l]=new Array(e.length/2),s[l+"-cx"]=n,s[l+"-cy"]=i;var c=o/2,f=a/2;u=u==="auto"?fP(o,a):u;for(var h=new Array(e.length/2),v=0;v<e.length/2;v++)h[v]={x:n+c*e[v*2],y:i+f*e[v*2+1]};var d,y,p,g,b=h.length;for(y=h[b-1],d=0;d<b;d++)p=h[d%b],g=h[(d+1)%b],s[l][d]=wE(y,p,g,u),y=p,p=g;return s[l]},draw:function(n,i,o,a,u,s,l){this.renderer.nodeShapeImpl("round-polygon",n,i,o,a,u,this.points,this.getOrCreateCorners(i,o,a,u,s,l,"drawCorners"))},intersectLine:function(n,i,o,a,u,s,l,c,f){return EG(u,s,this.points,n,i,o,a,l,this.getOrCreateCorners(n,i,o,a,c,f,"corners"))},checkPoint:function(n,i,o,a,u,s,l,c,f){return bG(n,i,this.points,s,l,a,u,this.getOrCreateCorners(s,l,a,u,c,f,"corners"))}}};hu.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Ji(4,0),draw:function(e,t,n,i,o,a){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,this.points,a)},intersectLine:function(e,t,n,i,o,a,u,s){return lP(o,a,e,t,n,i,u,s)},checkPoint:function(e,t,n,i,o,a,u,s){var l=i/2,c=o/2;s=s==="auto"?sl(i,o):s,s=Math.min(l,c,s);var f=s*2;return!!(cu(e,t,this.points,a,u,i,o-f,[0,-1],n)||cu(e,t,this.points,a,u,i-f,o,[0,-1],n)||Ac(e,t,f,f,a-l+s,u-c+s,n)||Ac(e,t,f,f,a+l-s,u-c+s,n)||Ac(e,t,f,f,a+l-s,u+c-s,n)||Ac(e,t,f,f,a-l+s,u+c-s,n))}}};hu.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:cE(),points:Ji(4,0),draw:function(e,t,n,i,o,a){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,null,a)},generateCutTrianglePts:function(e,t,n,i,o){var a=o==="auto"?this.cornerLength:o,u=t/2,s=e/2,l=n-s,c=n+s,f=i-u,h=i+u;return{topLeft:[l,f+a,l+a,f,l+a,f+a],topRight:[c-a,f,c,f+a,c-a,f+a],bottomRight:[c,h-a,c-a,h,c-a,h-a],bottomLeft:[l+a,h,l,h-a,l+a,h-a]}},intersectLine:function(e,t,n,i,o,a,u,s){var l=this.generateCutTrianglePts(n+2*u,i+2*u,e,t,s),c=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Yv(o,a,c,e,t)},checkPoint:function(e,t,n,i,o,a,u,s){var l=s==="auto"?this.cornerLength:s;if(cu(e,t,this.points,a,u,i,o-2*l,[0,-1],n)||cu(e,t,this.points,a,u,i-2*l,o,[0,-1],n))return!0;var c=this.generateCutTrianglePts(i,o,a,u);return Ro(e,t,c.topLeft)||Ro(e,t,c.topRight)||Ro(e,t,c.bottomRight)||Ro(e,t,c.bottomLeft)}}};hu.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Ji(4,0),draw:function(e,t,n,i,o,a){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o)},intersectLine:function(e,t,n,i,o,a,u,s){var l=.15,c=.5,f=.85,h=this.generateBarrelBezierPts(n+2*u,i+2*u,e,t),v=function(p){var g=mh({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},l),b=mh({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},c),m=mh({x:p[0],y:p[1]},{x:p[2],y:p[3]},{x:p[4],y:p[5]},f);return[p[0],p[1],g.x,g.y,b.x,b.y,m.x,m.y,p[4],p[5]]},d=[].concat(v(h.topLeft),v(h.topRight),v(h.bottomRight),v(h.bottomLeft));return Yv(o,a,d,e,t)},generateBarrelBezierPts:function(e,t,n,i){var o=t/2,a=e/2,u=n-a,s=n+a,l=i-o,c=i+o,f=Lw(e,t),h=f.heightOffset,v=f.widthOffset,d=f.ctrlPtOffsetPct*e,y={topLeft:[u,l+h,u+d,l,u+v,l],topRight:[s-v,l,s-d,l,s,l+h],bottomRight:[s,c-h,s-d,c,s-v,c],bottomLeft:[u+v,c,u+d,c,u,c-h]};return y.topLeft.isTop=!0,y.topRight.isTop=!0,y.bottomLeft.isBottom=!0,y.bottomRight.isBottom=!0,y},checkPoint:function(e,t,n,i,o,a,u,s){var l=Lw(i,o),c=l.heightOffset,f=l.widthOffset;if(cu(e,t,this.points,a,u,i,o-2*c,[0,-1],n)||cu(e,t,this.points,a,u,i-2*f,o,[0,-1],n))return!0;for(var h=this.generateBarrelBezierPts(i,o,a,u),v=function(S,P,I){var R=I[4],D=I[2],k=I[0],N=I[5],B=I[1],z=Math.min(R,k),F=Math.max(R,k),U=Math.min(N,B),W=Math.max(N,B);if(z<=S&&S<=F&&U<=P&&P<=W){var Y=xG(R,D,k),X=pG(Y[0],Y[1],Y[2],S),Q=X.filter(function(ue){return 0<=ue&&ue<=1});if(Q.length>0)return Q[0]}return null},d=Object.keys(h),y=0;y<d.length;y++){var p=d[y],g=h[p],b=v(e,t,g);if(b!=null){var m=g[5],_=g[3],w=g[1],O=di(m,_,w,b);if(g.isTop&&O<=t||g.isBottom&&t<=O)return!0}}return!1}}};hu.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Ji(4,0),draw:function(e,t,n,i,o,a){this.renderer.nodeShapeImpl(this.name,e,t,n,i,o,this.points,a)},intersectLine:function(e,t,n,i,o,a,u,s){var l=e-(n/2+u),c=t-(i/2+u),f=c,h=e+(n/2+u),v=rl(o,a,e,t,l,c,h,f,!1);return v.length>0?v:lP(o,a,e,t,n,i,u,s)},checkPoint:function(e,t,n,i,o,a,u,s){s=s==="auto"?sl(i,o):s;var l=2*s;if(cu(e,t,this.points,a,u,i,o-l,[0,-1],n)||cu(e,t,this.points,a,u,i-l,o,[0,-1],n))return!0;var c=i/2+2*n,f=o/2+2*n,h=[a-c,u-f,a-c,u,a+c,u,a+c,u-f];return!!(Ro(e,t,h)||Ac(e,t,l,l,a+i/2-s,u+o/2-s,n)||Ac(e,t,l,l,a-i/2+s,u+o/2-s,n))}}};hu.registerNodeShapes=function(){var r=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",Ji(3,0)),this.generateRoundPolygon("round-triangle",Ji(3,0)),this.generatePolygon("rectangle",Ji(4,0)),r.square=r.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var t=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",t),this.generateRoundPolygon("round-diamond",t)}this.generatePolygon("pentagon",Ji(5,0)),this.generateRoundPolygon("round-pentagon",Ji(5,0)),this.generatePolygon("hexagon",Ji(6,0)),this.generateRoundPolygon("round-hexagon",Ji(6,0)),this.generatePolygon("heptagon",Ji(7,0)),this.generateRoundPolygon("round-heptagon",Ji(7,0)),this.generatePolygon("octagon",Ji(8,0)),this.generateRoundPolygon("round-octagon",Ji(8,0));var n=new Array(20);{var i=Nw(5,0),o=Nw(5,Math.PI/5),a=.5*(3-Math.sqrt(5));a*=1.57;for(var u=0;u<o.length/2;u++)o[u*2]*=a,o[u*2+1]*=a;for(var u=0;u<20/4;u++)n[u*4]=i[u*2],n[u*4+1]=i[u*2+1],n[u*4+2]=o[u*2],n[u*4+3]=o[u*2+1]}n=cP(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var s=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",s),this.generateRoundPolygon("round-tag",s)}r.makePolygon=function(l){var c=l.join("$"),f="polygon-"+c,h;return(h=this[f])?h:e.generatePolygon(f,l)}};var lp={};lp.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};lp.redraw=function(r){r=r||oP();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=r};lp.beforeRender=function(r,e){if(!this.destroyed){e==null&&mn("Priority is not optional for beforeRender");var t=this.beforeRenderCallbacks;t.push({fn:r,priority:e}),t.sort(function(n,i){return i.priority-n.priority})}};var O2=function(e,t,n){for(var i=e.beforeRenderCallbacks,o=0;o<i.length;o++)i[o].fn(t,n)};lp.startRenderLoop=function(){var r=this,e=r.cy;if(!r.renderLoopStarted){r.renderLoopStarted=!0;var t=function(i){if(!r.destroyed){if(!e.batching())if(r.requestedFrame&&!r.skipFrame){O2(r,!0,i);var o=lu();r.render(r.renderOptions);var a=r.lastDrawTime=lu();r.averageRedrawTime===void 0&&(r.averageRedrawTime=a-o),r.redrawCount===void 0&&(r.redrawCount=0),r.redrawCount++,r.redrawTotalTime===void 0&&(r.redrawTotalTime=0);var u=a-o;r.redrawTotalTime+=u,r.lastRedrawTime=u,r.averageRedrawTime=r.averageRedrawTime/2+u/2,r.requestedFrame=!1}else O2(r,!1,i);r.skipFrame=!1,Lm(t)}};Lm(t)}};var FW=function(e){this.init(e)},fA=FW,Rh=fA.prototype;Rh.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Rh.init=function(r){var e=this;e.options=r,e.cy=r.cy;var t=e.container=r.cy.container(),n=e.cy.window();if(n){var i=n.document,o=i.head,a="__________cytoscape_stylesheet",u="__________cytoscape_container",s=i.getElementById(a)!=null;if(t.className.indexOf(u)<0&&(t.className=(t.className||"")+" "+u),!s){var l=i.createElement("style");l.id=a,l.textContent="."+u+" { position: relative; }",o.insertBefore(l,o.children[0])}var c=n.getComputedStyle(t),f=c.getPropertyValue("position");f==="static"&&Gr("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=r.showFps,e.debug=r.debug,e.webgl=r.webgl,e.hideEdgesOnViewport=r.hideEdgesOnViewport,e.textureOnViewport=r.textureOnViewport,e.wheelSensitivity=r.wheelSensitivity,e.motionBlurEnabled=r.motionBlur,e.forcedPixelRatio=at(r.pixelRatio)?r.pixelRatio:null,e.motionBlur=r.motionBlur,e.motionBlurOpacity=r.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=r.desktopTapThreshold,e.desktopTapThreshold2=r.desktopTapThreshold*r.desktopTapThreshold,e.touchTapThreshold=r.touchTapThreshold,e.touchTapThreshold2=r.touchTapThreshold*r.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};Rh.notify=function(r,e){var t=this,n=t.cy;if(!this.destroyed){if(r==="init"){t.load();return}if(r==="destroy"){t.destroy();return}(r==="add"||r==="remove"||r==="move"&&n.hasCompoundNodes()||r==="load"||r==="zorder"||r==="mount")&&t.invalidateCachedZSortedEles(),r==="viewport"&&t.redrawHint("select",!0),r==="gc"&&t.redrawHint("gc",!0),(r==="load"||r==="resize"||r==="mount")&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container)),t.redrawHint("eles",!0),t.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Rh.destroy=function(){var r=this;r.destroyed=!0,r.cy.stopAnimationLoop();for(var e=0;e<r.bindings.length;e++){var t=r.bindings[e],n=t,i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(r.bindings=[],r.beforeRenderCallbacks=[],r.onUpdateEleCalcsFns=[],r.removeObserver&&r.removeObserver.disconnect(),r.styleObserver&&r.styleObserver.disconnect(),r.resizeObserver&&r.resizeObserver.disconnect(),r.labelCalcDiv)try{document.body.removeChild(r.labelCalcDiv)}catch{}};Rh.isHeadless=function(){return!1};[_E,lA,cA,Ah,hu,lp].forEach(function(r){Nt(Rh,r)});var Tw=1e3/60,hA={setupDequeueing:function(e){return function(){var n=this,i=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var o=ip(function(){i.redrawHint("eles",!0),i.redrawHint("drag",!0),i.redraw()},e.deqRedrawThreshold),a=function(l,c){var f=lu(),h=i.averageRedrawTime,v=i.lastRedrawTime,d=[],y=i.cy.extent(),p=i.getPixelRatio();for(l||i.flushRenderedStyleQueue();;){var g=lu(),b=g-f,m=g-c;if(v<Tw){var _=Tw-(l?h:0);if(m>=e.deqFastCost*_)break}else if(l){if(b>=e.deqCost*v||b>=e.deqAvgCost*h)break}else if(m>=e.deqNoDrawCost*Tw)break;var w=e.deq(n,p,y);if(w.length>0)for(var O=0;O<w.length;O++)d.push(w[O]);else break}d.length>0&&(e.onDeqd(n,d),!l&&e.shouldRedraw(n,d,p,y)&&o())},u=e.priority||oE;i.beforeRender(a,u(n))}}}},UW=function(){function r(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jm;fl(this,r),this.idsByKey=new uu,this.keyForId=new uu,this.cachesByLvl=new uu,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=t}return hl(r,[{key:"getIdsFor",value:function(t){t==null&&mn("Can not get id list for null key");var n=this.idsByKey,i=this.idsByKey.get(t);return i||(i=new Sh,n.set(t,i)),i}},{key:"addIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).add(n)}},{key:"deleteIdForKey",value:function(t,n){t!=null&&this.getIdsFor(t).delete(n)}},{key:"getNumberOfIdsForKey",value:function(t){return t==null?0:this.getIdsFor(t).size}},{key:"updateKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),o=this.getKey(t);this.deleteIdForKey(i,n),this.addIdForKey(o,n),this.keyForId.set(n,o)}},{key:"deleteKeyMappingFor",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteIdForKey(i,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(t){var n=t.id(),i=this.keyForId.get(n),o=this.getKey(t);return i!==o}},{key:"isInvalid",value:function(t){return this.keyHasChangedFor(t)||this.doesEleInvalidateKey(t)}},{key:"getCachesAt",value:function(t){var n=this.cachesByLvl,i=this.lvls,o=n.get(t);return o||(o=new uu,n.set(t,o),i.push(t)),o}},{key:"getCache",value:function(t,n){return this.getCachesAt(n).get(t)}},{key:"get",value:function(t,n){var i=this.getKey(t),o=this.getCache(i,n);return o!=null&&this.updateKeyMappingFor(t),o}},{key:"getForCachedKey",value:function(t,n){var i=this.keyForId.get(t.id()),o=this.getCache(i,n);return o}},{key:"hasCache",value:function(t,n){return this.getCachesAt(n).has(t)}},{key:"has",value:function(t,n){var i=this.getKey(t);return this.hasCache(i,n)}},{key:"setCache",value:function(t,n,i){i.key=t,this.getCachesAt(n).set(t,i)}},{key:"set",value:function(t,n,i){var o=this.getKey(t);this.setCache(o,n,i),this.updateKeyMappingFor(t)}},{key:"deleteCache",value:function(t,n){this.getCachesAt(n).delete(t)}},{key:"delete",value:function(t,n){var i=this.getKey(t);this.deleteCache(i,n)}},{key:"invalidateKey",value:function(t){var n=this;this.lvls.forEach(function(i){return n.deleteCache(t,i)})}},{key:"invalidate",value:function(t){var n=t.id(),i=this.keyForId.get(n);this.deleteKeyMappingFor(t);var o=this.doesEleInvalidateKey(t);return o&&this.invalidateKey(i),o||this.getNumberOfIdsForKey(i)===0}}])}(),S2=25,wm=50,Dm=-4,Kw=3,dA=7.99,zW=8,qW=1024,GW=1024,VW=1024,WW=.2,HW=.8,YW=10,XW=.15,KW=.1,$W=.9,ZW=.9,QW=100,JW=1,yh={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},eH=Ci({getKey:null,doesEleInvalidateKey:jm,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:rP,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Fv=function(e,t){var n=this;n.renderer=e,n.onDequeues=[];var i=eH(t);Nt(n,i),n.lookup=new UW(i.getKey,i.doesEleInvalidateKey),n.setupDequeueing()},ni=Fv.prototype;ni.reasons=yh;ni.getTextureQueue=function(r){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[r]=e.eleImgCaches[r]||[]};ni.getRetiredTextureQueue=function(r){var e=this,t=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=t[r]=t[r]||[];return n};ni.getElementQueue=function(){var r=this,e=r.eleCacheQueue=r.eleCacheQueue||new op(function(t,n){return n.reqs-t.reqs});return e};ni.getElementKeyToQueue=function(){var r=this,e=r.eleKeyToCacheQueue=r.eleKeyToCacheQueue||{};return e};ni.getElement=function(r,e,t,n,i){var o=this,a=this.renderer,u=a.cy.zoom(),s=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!r.visible()||r.removed()||!o.allowEdgeTxrCaching&&r.isEdge()||!o.allowParentTxrCaching&&r.isParent())return null;if(n==null&&(n=Math.ceil(sE(u*t))),n<Dm)n=Dm;else if(u>=dA||n>Kw)return null;var l=Math.pow(2,n),c=e.h*l,f=e.w*l,h=a.eleTextBiggerThanMin(r,l);if(!this.isVisible(r,h))return null;var v=s.get(r,n);if(v&&v.invalidated&&(v.invalidated=!1,v.texture.invalidatedWidth-=v.width),v)return v;var d;if(c<=S2?d=S2:c<=wm?d=wm:d=Math.ceil(c/wm)*wm,c>VW||f>GW)return null;var y=o.getTextureQueue(d),p=y[y.length-2],g=function(){return o.recycleTexture(d,f)||o.addTexture(d,f)};p||(p=y[y.length-1]),p||(p=g()),p.width-p.usedWidth<f&&(p=g());for(var b=function(z){return z&&z.scaledLabelShown===h},m=i&&i===yh.dequeue,_=i&&i===yh.highQuality,w=i&&i===yh.downscale,O,E=n+1;E<=Kw;E++){var S=s.get(r,E);if(S){O=S;break}}var P=O&&O.level===n+1?O:null,I=function(){p.context.drawImage(P.texture.canvas,P.x,0,P.width,P.height,p.usedWidth,0,f,c)};if(p.context.setTransform(1,0,0,1,0,0),p.context.clearRect(p.usedWidth,0,f,d),b(P))I();else if(b(O))if(_){for(var R=O.level;R>n;R--)P=o.getElement(r,e,t,R,yh.downscale);I()}else return o.queueElement(r,O.level-1),O;else{var D;if(!m&&!_&&!w)for(var k=n-1;k>=Dm;k--){var N=s.get(r,k);if(N){D=N;break}}if(b(D))return o.queueElement(r,n),D;p.context.translate(p.usedWidth,0),p.context.scale(l,l),this.drawElement(p.context,r,e,h,!1),p.context.scale(1/l,1/l),p.context.translate(-p.usedWidth,0)}return v={x:p.usedWidth,texture:p,level:n,scale:l,width:f,height:c,scaledLabelShown:h},p.usedWidth+=Math.ceil(f+zW),p.eleCaches.push(v),s.set(r,n,v),o.checkTextureFullness(p),v};ni.invalidateElements=function(r){for(var e=0;e<r.length;e++)this.invalidateElement(r[e])};ni.invalidateElement=function(r){var e=this,t=e.lookup,n=[],i=t.isInvalid(r);if(i){for(var o=Dm;o<=Kw;o++){var a=t.getForCachedKey(r,o);a&&n.push(a)}var u=t.invalidate(r);if(u)for(var s=0;s<n.length;s++){var l=n[s],c=l.texture;c.invalidatedWidth+=l.width,l.invalidated=!0,e.checkTextureUtility(c)}e.removeFromQueue(r)}};ni.checkTextureUtility=function(r){r.invalidatedWidth>=WW*r.width&&this.retireTexture(r)};ni.checkTextureFullness=function(r){var e=this,t=e.getTextureQueue(r.height);r.usedWidth/r.width>HW&&r.fullnessChecks>=YW?al(t,r):r.fullnessChecks++};ni.retireTexture=function(r){var e=this,t=r.height,n=e.getTextureQueue(t),i=this.lookup;al(n,r),r.retired=!0;for(var o=r.eleCaches,a=0;a<o.length;a++){var u=o[a];i.deleteCache(u.key,u.level)}aE(o);var s=e.getRetiredTextureQueue(t);s.push(r)};ni.addTexture=function(r,e){var t=this,n=t.getTextureQueue(r),i={};return n.push(i),i.eleCaches=[],i.height=r,i.width=Math.max(qW,e),i.usedWidth=0,i.invalidatedWidth=0,i.fullnessChecks=0,i.canvas=t.renderer.makeOffscreenCanvas(i.width,i.height),i.context=i.canvas.getContext("2d"),i};ni.recycleTexture=function(r,e){for(var t=this,n=t.getTextureQueue(r),i=t.getRetiredTextureQueue(r),o=0;o<i.length;o++){var a=i[o];if(a.width>=e)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,aE(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),al(i,a),n.push(a),a}};ni.queueElement=function(r,e){var t=this,n=t.getElementQueue(),i=t.getElementKeyToQueue(),o=this.getKey(r),a=i[o];if(a)a.level=Math.max(a.level,e),a.eles.merge(r),a.reqs++,n.updateItem(a);else{var u={eles:r.spawn().merge(r),level:e,reqs:1,key:o};n.push(u),i[o]=u}};ni.dequeue=function(r){for(var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=[],o=e.lookup,a=0;a<JW&&t.size()>0;a++){var u=t.pop(),s=u.key,l=u.eles[0],c=o.hasCache(l,u.level);if(n[s]=null,c)continue;i.push(u);var f=e.getBoundingBox(l);e.getElement(l,f,r,u.level,yh.dequeue)}return i};ni.removeFromQueue=function(r){var e=this,t=e.getElementQueue(),n=e.getElementKeyToQueue(),i=this.getKey(r),o=n[i];o!=null&&(o.eles.length===1?(o.reqs=iE,t.updateItem(o),t.pop(),n[i]=null):o.eles.unmerge(r))};ni.onDequeue=function(r){this.onDequeues.push(r)};ni.offDequeue=function(r){al(this.onDequeues,r)};ni.setupDequeueing=hA.setupDequeueing({deqRedrawThreshold:QW,deqCost:XW,deqAvgCost:KW,deqNoDrawCost:$W,deqFastCost:ZW,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++){var i=e.onDequeues[n];i(t)}},shouldRedraw:function(e,t,n,i){for(var o=0;o<t.length;o++)for(var a=t[o].eles,u=0;u<a.length;u++){var s=a[u].boundingBox();if(lE(s,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var tH=1,zv=-4,Wm=2,rH=3.99,nH=50,iH=50,oH=.15,aH=.1,sH=.9,uH=.9,lH=1,T2=250,cH=4e3*4e3,C2=32767,fH=!0,vA=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=lu()-2*T2,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=ip(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},iH),n.beforeRender(function(a,u){u-t.lastInvalidationTime<=T2?t.skipping=!0:t.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var o=function(u,s){return s.reqs-u.reqs};t.layersQueue=new op(o),t.setupDequeueing()},Pi=vA.prototype,P2=0,hH=Math.pow(2,53)-1;Pi.makeLayer=function(r,e){var t=Math.pow(2,e),n=Math.ceil(r.w*t),i=Math.ceil(r.h*t),o=this.renderer.makeOffscreenCanvas(n,i),a={id:P2=++P2%hH,bb:r,level:e,width:n,height:i,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},u=a.context,s=-a.bb.x1,l=-a.bb.y1;return u.scale(t,t),u.translate(s,l),a};Pi.getLayers=function(r,e,t){var n=this,i=n.renderer,o=i.cy,a=o.zoom(),u=n.firstGet;if(n.firstGet=!1,t==null){if(t=Math.ceil(sE(a*e)),t<zv)t=zv;else if(a>=rH||t>Wm)return null}n.validateLayersElesOrdering(t,r);var s=n.layersByLevel,l=Math.pow(2,t),c=s[t]=s[t]||[],f,h=n.levelIsComplete(t,r),v,d=function(){var I=function(B){if(n.validateLayersElesOrdering(B,r),n.levelIsComplete(B,r))return v=s[B],!0},R=function(B){if(!v)for(var z=t+B;zv<=z&&z<=Wm&&!I(z);z+=B);};R(1),R(-1);for(var D=c.length-1;D>=0;D--){var k=c[D];k.invalid&&al(c,k)}};if(!h)d();else return c;var y=function(){if(!f){f=eo();for(var I=0;I<r.length;I++)lG(f,r[I].boundingBox())}return f},p=function(I){I=I||{};var R=I.after;y();var D=Math.ceil(f.w*l),k=Math.ceil(f.h*l);if(D>C2||k>C2)return null;var N=D*k;if(N>cH)return null;var B=n.makeLayer(f,t);if(R!=null){var z=c.indexOf(R)+1;c.splice(z,0,B)}else(I.insert===void 0||I.insert)&&c.unshift(B);return B};if(n.skipping&&!u)return null;for(var g=null,b=r.length/tH,m=!u,_=0;_<r.length;_++){var w=r[_],O=w._private.rscratch,E=O.imgLayerCaches=O.imgLayerCaches||{},S=E[t];if(S){g=S;continue}if((!g||g.eles.length>=b||!uP(g.bb,w.boundingBox()))&&(g=p({insert:!0,after:g}),!g))return null;v||m?n.queueLayer(g,w):n.drawEleInLayer(g,w,t,e),g.eles.push(w),E[t]=g}return v||(m?null:c)};Pi.getEleLevelForLayerLevel=function(r,e){return r};Pi.drawEleInLayer=function(r,e,t,n){var i=this,o=this.renderer,a=r.context,u=e.boundingBox();u.w===0||u.h===0||!e.visible()||(t=i.getEleLevelForLayerLevel(t,n),o.setImgSmoothing(a,!1),o.drawCachedElement(a,e,null,null,t,fH),o.setImgSmoothing(a,!0))};Pi.levelIsComplete=function(r,e){var t=this,n=t.layersByLevel[r];if(!n||n.length===0)return!1;for(var i=0,o=0;o<n.length;o++){var a=n[o];if(a.reqs>0||a.invalid)return!1;i+=a.eles.length}return i===e.length};Pi.validateLayersElesOrdering=function(r,e){var t=this.layersByLevel[r];if(t)for(var n=0;n<t.length;n++){for(var i=t[n],o=-1,a=0;a<e.length;a++)if(i.eles[0]===e[a]){o=a;break}if(o<0){this.invalidateLayer(i);continue}for(var u=o,a=0;a<i.eles.length;a++)if(i.eles[a]!==e[u+a]){this.invalidateLayer(i);break}}};Pi.updateElementsInLayers=function(r,e){for(var t=this,n=ep(r[0]),i=0;i<r.length;i++)for(var o=n?null:r[i],a=n?r[i]:r[i].ele,u=a._private.rscratch,s=u.imgLayerCaches=u.imgLayerCaches||{},l=zv;l<=Wm;l++){var c=s[l];c&&(o&&t.getEleLevelForLayerLevel(c.level)!==o.level||e(c,a,o))}};Pi.haveLayers=function(){for(var r=this,e=!1,t=zv;t<=Wm;t++){var n=r.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e};Pi.invalidateElements=function(r){var e=this;r.length!==0&&(e.lastInvalidationTime=lu(),!(r.length===0||!e.haveLayers())&&e.updateElementsInLayers(r,function(n,i,o){e.invalidateLayer(n)}))};Pi.invalidateLayer=function(r){if(this.lastInvalidationTime=lu(),!r.invalid){var e=r.level,t=r.eles,n=this.layersByLevel[e];al(n,r),r.elesQueue=[],r.invalid=!0,r.replacement&&(r.replacement.invalid=!0);for(var i=0;i<t.length;i++){var o=t[i]._private.rscratch.imgLayerCaches;o&&(o[e]=null)}}};Pi.refineElementTextures=function(r){var e=this;e.updateElementsInLayers(r,function(n,i,o){var a=n.replacement;if(a||(a=n.replacement=e.makeLayer(n.bb,n.level),a.replaces=n,a.eles=n.eles),!a.reqs)for(var u=0;u<a.eles.length;u++)e.queueLayer(a,a.eles[u])})};Pi.enqueueElementRefinement=function(r){this.eleTxrDeqs.merge(r),this.scheduleElementRefinement()};Pi.queueLayer=function(r,e){var t=this,n=t.layersQueue,i=r.elesQueue,o=i.hasId=i.hasId||{};if(!r.replacement){if(e){if(o[e.id()])return;i.push(e),o[e.id()]=!0}r.reqs?(r.reqs++,n.updateItem(r)):(r.reqs=1,n.push(r))}};Pi.dequeue=function(r){for(var e=this,t=e.layersQueue,n=[],i=0;i<lH&&t.size()!==0;){var o=t.peek();if(o.replacement){t.pop();continue}if(o.replaces&&o!==o.replaces.replacement){t.pop();continue}if(o.invalid){t.pop();continue}var a=o.elesQueue.shift();a&&(e.drawEleInLayer(o,a,o.level,r),i++),n.length===0&&n.push(!0),o.elesQueue.length===0&&(t.pop(),o.reqs=0,o.replaces&&e.applyLayerReplacement(o),e.requestRedraw())}return n};Pi.applyLayerReplacement=function(r){var e=this,t=e.layersByLevel[r.level],n=r.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=r;for(var o=0;o<r.eles.length;o++){var a=r.eles[o]._private,u=a.imgLayerCaches=a.imgLayerCaches||{};u&&(u[r.level]=r)}e.requestRedraw()}};Pi.requestRedraw=ip(function(){var r=this.renderer;r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},100);Pi.setupDequeueing=hA.setupDequeueing({deqRedrawThreshold:nH,deqCost:oH,deqAvgCost:aH,deqNoDrawCost:sH,deqFastCost:uH,deq:function(e,t){return e.dequeue(t)},onDeqd:oE,shouldRedraw:rP,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var pA={},A2;function dH(r,e){for(var t=0;t<e.length;t++){var n=e[t];r.lineTo(n.x,n.y)}}function vH(r,e,t){for(var n,i=0;i<e.length;i++){var o=e[i];i===0&&(n=o),r.lineTo(o.x,o.y)}r.quadraticCurveTo(t.x,t.y,n.x,n.y)}function R2(r,e,t){r.beginPath&&r.beginPath();for(var n=e,i=0;i<n.length;i++){var o=n[i];r.lineTo(o.x,o.y)}var a=t,u=t[0];r.moveTo(u.x,u.y);for(var i=1;i<a.length;i++){var o=a[i];r.lineTo(o.x,o.y)}r.closePath&&r.closePath()}function pH(r,e,t,n,i){r.beginPath&&r.beginPath(),r.arc(t,n,i,0,Math.PI*2,!1);var o=e,a=o[0];r.moveTo(a.x,a.y);for(var u=0;u<o.length;u++){var s=o[u];r.lineTo(s.x,s.y)}r.closePath&&r.closePath()}function gH(r,e,t,n){r.arc(e,t,n,0,Math.PI*2,!1)}pA.arrowShapeImpl=function(r){return(A2||(A2={polygon:dH,"triangle-backcurve":vH,"triangle-tee":R2,"circle-triangle":pH,"triangle-cross":R2,circle:gH}))[r]};var As={};As.drawElement=function(r,e,t,n,i,o){var a=this;e.isNode()?a.drawNode(r,e,t,n,i,o):a.drawEdge(r,e,t,n,i,o)};As.drawElementOverlay=function(r,e){var t=this;e.isNode()?t.drawNodeOverlay(r,e):t.drawEdgeOverlay(r,e)};As.drawElementUnderlay=function(r,e){var t=this;e.isNode()?t.drawNodeUnderlay(r,e):t.drawEdgeUnderlay(r,e)};As.drawCachedElementPortion=function(r,e,t,n,i,o,a,u){var s=this,l=t.getBoundingBox(e);if(!(l.w===0||l.h===0)){var c=t.getElement(e,l,n,i,o);if(c!=null){var f=u(s,e);if(f===0)return;var h=a(s,e),v=l.x1,d=l.y1,y=l.w,p=l.h,g,b,m,_,w;if(h!==0){var O=t.getRotationPoint(e);m=O.x,_=O.y,r.translate(m,_),r.rotate(h),w=s.getImgSmoothing(r),w||s.setImgSmoothing(r,!0);var E=t.getRotationOffset(e);g=E.x,b=E.y}else g=v,b=d;var S;f!==1&&(S=r.globalAlpha,r.globalAlpha=S*f),r.drawImage(c.texture.canvas,c.x,0,c.width,c.height,g,b,y,p),f!==1&&(r.globalAlpha=S),h!==0&&(r.rotate(-h),r.translate(-m,-_),w||s.setImgSmoothing(r,!1))}else t.drawElement(r,e)}};var yH=function(){return 0},mH=function(e,t){return e.getTextAngle(t,null)},bH=function(e,t){return e.getTextAngle(t,"source")},_H=function(e,t){return e.getTextAngle(t,"target")},wH=function(e,t){return t.effectiveOpacity()},Cw=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};As.drawCachedElement=function(r,e,t,n,i,o){var a=this,u=a.data,s=u.eleTxrCache,l=u.lblTxrCache,c=u.slbTxrCache,f=u.tlbTxrCache,h=e.boundingBox(),v=o===!0?s.reasons.highQuality:null;if(!(h.w===0||h.h===0||!e.visible())&&(!n||lE(h,n))){var d=e.isEdge(),y=e.element()._private.rscratch.badLine;a.drawElementUnderlay(r,e),a.drawCachedElementPortion(r,e,s,t,i,v,yH,wH),(!d||!y)&&a.drawCachedElementPortion(r,e,l,t,i,v,mH,Cw),d&&!y&&(a.drawCachedElementPortion(r,e,c,t,i,v,bH,Cw),a.drawCachedElementPortion(r,e,f,t,i,v,_H,Cw)),a.drawElementOverlay(r,e)}};As.drawElements=function(r,e){for(var t=this,n=0;n<e.length;n++){var i=e[n];t.drawElement(r,i)}};As.drawCachedElements=function(r,e,t,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];i.drawCachedElement(r,a,t,n)}};As.drawCachedNodes=function(r,e,t,n){for(var i=this,o=0;o<e.length;o++){var a=e[o];a.isNode()&&i.drawCachedElement(r,a,t,n)}};As.drawLayeredElements=function(r,e,t,n){var i=this,o=i.data.lyrTxrCache.getLayers(e,t);if(o)for(var a=0;a<o.length;a++){var u=o[a],s=u.bb;s.w===0||s.h===0||r.drawImage(u.canvas,s.x1,s.y1,s.w,s.h)}else i.drawCachedElements(r,e,t,n)};var du={};du.drawEdge=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,u=e._private.rscratch;if(!(o&&!e.visible())&&!(u.badLine||u.allpts==null||isNaN(u.allpts[0]))){var s;t&&(s=t,r.translate(-s.x1,-s.y1));var l=o?e.pstyle("opacity").value:1,c=o?e.pstyle("line-opacity").value:1,f=e.pstyle("curve-style").value,h=e.pstyle("line-style").value,v=e.pstyle("width").pfValue,d=e.pstyle("line-cap").value,y=e.pstyle("line-outline-width").value,p=e.pstyle("line-outline-color").value,g=l*c,b=l*c,m=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;f==="straight-triangle"?(a.eleStrokeStyle(r,e,B),a.drawEdgeTrianglePath(e,r,u.allpts)):(r.lineWidth=v,r.lineCap=d,a.eleStrokeStyle(r,e,B),a.drawEdgePath(e,r,u.allpts,h),r.lineCap="butt")},_=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g;if(r.lineWidth=v+y,r.lineCap=d,y>0)a.colorStrokeStyle(r,p[0],p[1],p[2],B);else{r.lineCap="butt";return}f==="straight-triangle"?a.drawEdgeTrianglePath(e,r,u.allpts):(a.drawEdgePath(e,r,u.allpts,h),r.lineCap="butt")},w=function(){i&&a.drawEdgeOverlay(r,e)},O=function(){i&&a.drawEdgeUnderlay(r,e)},E=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:b;a.drawArrowheads(r,e,B)},S=function(){a.drawElementText(r,e,null,n)};r.lineJoin="round";var P=e.pstyle("ghost").value==="yes";if(P){var I=e.pstyle("ghost-offset-x").pfValue,R=e.pstyle("ghost-offset-y").pfValue,D=e.pstyle("ghost-opacity").value,k=g*D;r.translate(I,R),m(k),E(k),r.translate(-I,-R)}else _();O(),m(),E(),w(),S(),t&&r.translate(s.x1,s.y1)}};var gA=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n){if(n.visible()){var i=n.pstyle("".concat(e,"-opacity")).value;if(i!==0){var o=this,a=o.usePaths(),u=n._private.rscratch,s=n.pstyle("".concat(e,"-padding")).pfValue,l=2*s,c=n.pstyle("".concat(e,"-color")).value;t.lineWidth=l,u.edgeType==="self"&&!a?t.lineCap="butt":t.lineCap="round",o.colorStrokeStyle(t,c[0],c[1],c[2],i),o.drawEdgePath(n,t,u.allpts,"solid")}}}};du.drawEdgeOverlay=gA("overlay");du.drawEdgeUnderlay=gA("underlay");du.drawEdgePath=function(r,e,t,n){var i=r._private.rscratch,o=e,a,u=!1,s=this.usePaths(),l=r.pstyle("line-dash-pattern").pfValue,c=r.pstyle("line-dash-offset").pfValue;if(s){var f=t.join("$"),h=i.pathCacheKey&&i.pathCacheKey===f;h?(a=e=i.pathCache,u=!0):(a=e=new Path2D,i.pathCacheKey=f,i.pathCache=a)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=c;break;case"solid":o.setLineDash([]);break}if(!u&&!i.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(t[0],t[1]),i.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var v=2;v+3<t.length;v+=4)e.quadraticCurveTo(t[v],t[v+1],t[v+2],t[v+3]);break;case"straight":case"haystack":for(var d=2;d+1<t.length;d+=2)e.lineTo(t[d],t[d+1]);break;case"segments":if(i.isRound){var y=Io(i.roundCorners),p;try{for(y.s();!(p=y.n()).done;){var g=p.value;iA(e,g)}}catch(m){y.e(m)}finally{y.f()}e.lineTo(t[t.length-2],t[t.length-1])}else for(var b=2;b+1<t.length;b+=2)e.lineTo(t[b],t[b+1]);break}e=o,s?e.stroke(a):e.stroke(),e.setLineDash&&e.setLineDash([])};du.drawEdgeTrianglePath=function(r,e,t){e.fillStyle=e.strokeStyle;for(var n=r.pstyle("width").pfValue,i=0;i+1<t.length;i+=2){var o=[t[i+2]-t[i],t[i+3]-t[i+1]],a=Math.sqrt(o[0]*o[0]+o[1]*o[1]),u=[o[1]/a,-o[0]/a],s=[u[0]*n/2,u[1]*n/2];e.beginPath(),e.moveTo(t[i]-s[0],t[i+1]-s[1]),e.lineTo(t[i]+s[0],t[i+1]+s[1]),e.lineTo(t[i+2],t[i+3]),e.closePath(),e.fill()}};du.drawArrowheads=function(r,e,t){var n=e._private.rscratch,i=n.edgeType==="haystack";i||this.drawArrowhead(r,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,t),this.drawArrowhead(r,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,t),this.drawArrowhead(r,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,t),i||this.drawArrowhead(r,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,t)};du.drawArrowhead=function(r,e,t,n,i,o,a){if(!(isNaN(n)||n==null||isNaN(i)||i==null||isNaN(o)||o==null)){var u=this,s=e.pstyle(t+"-arrow-shape").value;if(s!=="none"){var l=e.pstyle(t+"-arrow-fill").value==="hollow"?"both":"filled",c=e.pstyle(t+"-arrow-fill").value,f=e.pstyle("width").pfValue,h=e.pstyle(t+"-arrow-width"),v=h.value==="match-line"?f:h.pfValue;h.units==="%"&&(v*=f);var d=e.pstyle("opacity").value;a===void 0&&(a=d);var y=r.globalCompositeOperation;(a!==1||c==="hollow")&&(r.globalCompositeOperation="destination-out",u.colorFillStyle(r,255,255,255,1),u.colorStrokeStyle(r,255,255,255,1),u.drawArrowShape(e,r,l,f,s,v,n,i,o),r.globalCompositeOperation=y);var p=e.pstyle(t+"-arrow-color").value;u.colorFillStyle(r,p[0],p[1],p[2],a),u.colorStrokeStyle(r,p[0],p[1],p[2],a),u.drawArrowShape(e,r,c,f,s,v,n,i,o)}}};du.drawArrowShape=function(r,e,t,n,i,o,a,u,s){var l=this,c=this.usePaths()&&i!=="triangle-cross",f=!1,h,v=e,d={x:a,y:u},y=r.pstyle("arrow-scale").value,p=this.getArrowWidth(n,y),g=l.arrowShapes[i];if(c){var b=l.arrowPathCache=l.arrowPathCache||[],m=Rc(i),_=b[m];_!=null?(h=e=_,f=!0):(h=e=new Path2D,b[m]=h)}f||(e.beginPath&&e.beginPath(),c?g.draw(e,1,0,{x:0,y:0},1):g.draw(e,p,s,d,n),e.closePath&&e.closePath()),e=v,c&&(e.translate(a,u),e.rotate(s),e.scale(p,p)),(t==="filled"||t==="both")&&(c?e.fill(h):e.fill()),(t==="hollow"||t==="both")&&(e.lineWidth=o/(c?p:1),e.lineJoin="miter",c?e.stroke(h):e.stroke()),c&&(e.scale(1/p,1/p),e.rotate(-s),e.translate(-a,-u))};var xE={};xE.safeDrawImage=function(r,e,t,n,i,o,a,u,s,l){if(!(i<=0||o<=0||s<=0||l<=0))try{r.drawImage(e,t,n,i,o,a,u,s,l)}catch(c){Gr(c)}};xE.drawInscribedImage=function(r,e,t,n,i){var o=this,a=t.position(),u=a.x,s=a.y,l=t.cy().style(),c=l.getIndexedStyle.bind(l),f=c(t,"background-fit","value",n),h=c(t,"background-repeat","value",n),v=t.width(),d=t.height(),y=t.padding()*2,p=v+(c(t,"background-width-relative-to","value",n)==="inner"?0:y),g=d+(c(t,"background-height-relative-to","value",n)==="inner"?0:y),b=t._private.rscratch,m=c(t,"background-clip","value",n),_=m==="node",w=c(t,"background-image-opacity","value",n)*i,O=c(t,"background-image-smoothing","value",n),E=t.pstyle("corner-radius").value;E!=="auto"&&(E=t.pstyle("corner-radius").pfValue);var S=e.width||e.cachedW,P=e.height||e.cachedH;(S==null||P==null)&&(document.body.appendChild(e),S=e.cachedW=e.width||e.offsetWidth,P=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var I=S,R=P;if(c(t,"background-width","value",n)!=="auto"&&(c(t,"background-width","units",n)==="%"?I=c(t,"background-width","pfValue",n)*p:I=c(t,"background-width","pfValue",n)),c(t,"background-height","value",n)!=="auto"&&(c(t,"background-height","units",n)==="%"?R=c(t,"background-height","pfValue",n)*g:R=c(t,"background-height","pfValue",n)),!(I===0||R===0)){if(f==="contain"){var D=Math.min(p/I,g/R);I*=D,R*=D}else if(f==="cover"){var D=Math.max(p/I,g/R);I*=D,R*=D}var k=u-p/2,N=c(t,"background-position-x","units",n),B=c(t,"background-position-x","pfValue",n);N==="%"?k+=(p-I)*B:k+=B;var z=c(t,"background-offset-x","units",n),F=c(t,"background-offset-x","pfValue",n);z==="%"?k+=(p-I)*F:k+=F;var U=s-g/2,W=c(t,"background-position-y","units",n),Y=c(t,"background-position-y","pfValue",n);W==="%"?U+=(g-R)*Y:U+=Y;var X=c(t,"background-offset-y","units",n),Q=c(t,"background-offset-y","pfValue",n);X==="%"?U+=(g-R)*Q:U+=Q,b.pathCache&&(k-=u,U-=s,u=0,s=0);var ue=r.globalAlpha;r.globalAlpha=w;var ce=o.getImgSmoothing(r),ae=!1;if(O==="no"&&ce?(o.setImgSmoothing(r,!1),ae=!0):O==="yes"&&!ce&&(o.setImgSmoothing(r,!0),ae=!0),h==="no-repeat")_&&(r.save(),b.pathCache?r.clip(b.pathCache):(o.nodeShapes[o.getNodeShape(t)].draw(r,u,s,p,g,E,b),r.clip())),o.safeDrawImage(r,e,0,0,S,P,k,U,I,R),_&&r.restore();else{var pe=r.createPattern(e,h);r.fillStyle=pe,o.nodeShapes[o.getNodeShape(t)].draw(r,u,s,p,g,E,b),r.translate(k,U),r.fill(),r.translate(-k,-U)}r.globalAlpha=ue,ae&&o.setImgSmoothing(r,ce)}};var Lc={};Lc.eleTextBiggerThanMin=function(r,e){if(!e){var t=r.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(sE(t*n));e=Math.pow(2,i)}var o=r.pstyle("font-size").pfValue*e,a=r.pstyle("min-zoomed-font-size").pfValue;return!(o<a)};Lc.drawElementText=function(r,e,t,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this;if(n==null){if(o&&!a.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var u=e.pstyle("label");if(!u||!u.value)return;var s=a.getLabelJustification(e);r.textAlign=s,r.textBaseline="bottom"}else{var l=e.element()._private.rscratch.badLine,c=e.pstyle("label"),f=e.pstyle("source-label"),h=e.pstyle("target-label");if(l||(!c||!c.value)&&(!f||!f.value)&&(!h||!h.value))return;r.textAlign="center",r.textBaseline="bottom"}var v=!t,d;t&&(d=t,r.translate(-d.x1,-d.y1)),i==null?(a.drawText(r,e,null,v,o),e.isEdge()&&(a.drawText(r,e,"source",v,o),a.drawText(r,e,"target",v,o))):a.drawText(r,e,i,v,o),t&&r.translate(d.x1,d.y1)};Lc.getFontCache=function(r){var e;this.fontCaches=this.fontCaches||[];for(var t=0;t<this.fontCaches.length;t++)if(e=this.fontCaches[t],e.context===r)return e;return e={context:r},this.fontCaches.push(e),e};Lc.setupTextStyle=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue+"px",o=e.pstyle("font-family").strValue,a=e.pstyle("font-weight").strValue,u=t?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,s=e.pstyle("text-outline-opacity").value*u,l=e.pstyle("color").value,c=e.pstyle("text-outline-color").value;r.font=n+" "+a+" "+i+" "+o,r.lineJoin="round",this.colorFillStyle(r,l[0],l[1],l[2],u),this.colorStrokeStyle(r,c[0],c[1],c[2],s)};function EH(r,e,t,n,i){var o=Math.min(n,i),a=o/2,u=e+n/2,s=t+i/2;r.beginPath(),r.arc(u,s,a,0,Math.PI*2),r.closePath()}function I2(r,e,t,n,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,a=Math.min(o,n/2,i/2);r.beginPath(),r.moveTo(e+a,t),r.lineTo(e+n-a,t),r.quadraticCurveTo(e+n,t,e+n,t+a),r.lineTo(e+n,t+i-a),r.quadraticCurveTo(e+n,t+i,e+n-a,t+i),r.lineTo(e+a,t+i),r.quadraticCurveTo(e,t+i,e,t+i-a),r.lineTo(e,t+a),r.quadraticCurveTo(e,t,e+a,t),r.closePath()}Lc.getTextAngle=function(r,e){var t,n=r._private,i=n.rscratch,o=e?e+"-":"",a=r.pstyle(o+"text-rotation");if(a.strValue==="autorotate"){var u=Ao(i,"labelAngle",e);t=r.isEdge()?u:0}else a.strValue==="none"?t=0:t=a.pfValue;return t};Lc.drawText=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=e._private,a=o.rscratch,u=i?e.effectiveOpacity():1;if(!(i&&(u===0||e.pstyle("text-opacity").value===0))){t==="main"&&(t=null);var s=Ao(a,"labelX",t),l=Ao(a,"labelY",t),c,f,h=this.getLabelText(e,t);if(h!=null&&h!==""&&!isNaN(s)&&!isNaN(l)){this.setupTextStyle(r,e,i);var v=t?t+"-":"",d=Ao(a,"labelWidth",t),y=Ao(a,"labelHeight",t),p=e.pstyle(v+"text-margin-x").pfValue,g=e.pstyle(v+"text-margin-y").pfValue,b=e.isEdge(),m=e.pstyle("text-halign").value,_=e.pstyle("text-valign").value;b&&(m="center",_="center"),s+=p,l+=g;var w;switch(n?w=this.getTextAngle(e,t):w=0,w!==0&&(c=s,f=l,r.translate(c,f),r.rotate(w),s=0,l=0),_){case"top":break;case"center":l+=y/2;break;case"bottom":l+=y;break}var O=e.pstyle("text-background-opacity").value,E=e.pstyle("text-border-opacity").value,S=e.pstyle("text-border-width").pfValue,P=e.pstyle("text-background-padding").pfValue,I=e.pstyle("text-background-shape").strValue,R=I==="round-rectangle"||I==="roundrectangle",D=I==="circle",k=2;if(O>0||S>0&&E>0){var N=r.fillStyle,B=r.strokeStyle,z=r.lineWidth,F=e.pstyle("text-background-color").value,U=e.pstyle("text-border-color").value,W=e.pstyle("text-border-style").value,Y=O>0,X=S>0&&E>0,Q=s-P;switch(m){case"left":Q-=d;break;case"center":Q-=d/2;break}var ue=l-y-P,ce=d+2*P,ae=y+2*P;if(Y&&(r.fillStyle="rgba(".concat(F[0],",").concat(F[1],",").concat(F[2],",").concat(O*u,")")),X&&(r.strokeStyle="rgba(".concat(U[0],",").concat(U[1],",").concat(U[2],",").concat(E*u,")"),r.lineWidth=S,r.setLineDash))switch(W){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"double":r.lineWidth=S/4,r.setLineDash([]);break;case"solid":default:r.setLineDash([]);break}if(R?(r.beginPath(),I2(r,Q,ue,ce,ae,k)):D?(r.beginPath(),EH(r,Q,ue,ce,ae)):(r.beginPath(),r.rect(Q,ue,ce,ae)),Y&&r.fill(),X&&r.stroke(),X&&W==="double"){var pe=S/2;r.beginPath(),R?I2(r,Q+pe,ue+pe,ce-2*pe,ae-2*pe,k):r.rect(Q+pe,ue+pe,ce-2*pe,ae-2*pe),r.stroke()}r.fillStyle=N,r.strokeStyle=B,r.lineWidth=z,r.setLineDash&&r.setLineDash([])}var fe=2*e.pstyle("text-outline-width").pfValue;if(fe>0&&(r.lineWidth=fe),e.pstyle("text-wrap").value==="wrap"){var he=Ao(a,"labelWrapCachedLines",t),ee=Ao(a,"labelLineHeight",t),K=d/2,J=this.getLabelJustification(e);switch(J==="auto"||(m==="left"?J==="left"?s+=-d:J==="center"&&(s+=-K):m==="center"?J==="left"?s+=-K:J==="right"&&(s+=K):m==="right"&&(J==="center"?s+=K:J==="right"&&(s+=d))),_){case"top":l-=(he.length-1)*ee;break;case"center":case"bottom":l-=(he.length-1)*ee;break}for(var ie=0;ie<he.length;ie++)fe>0&&r.strokeText(he[ie],s,l),r.fillText(he[ie],s,l),l+=ee}else fe>0&&r.strokeText(h,s,l),r.fillText(h,s,l);w!==0&&(r.rotate(-w),r.translate(-c,-f))}}};var vl={};vl.drawNode=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,a=this,u,s,l=e._private,c=l.rscratch,f=e.position();if(!(!at(f.x)||!at(f.y))&&!(o&&!e.visible())){var h=o?e.effectiveOpacity():1,v=a.usePaths(),d,y=!1,p=e.padding();u=e.width()+2*p,s=e.height()+2*p;var g;t&&(g=t,r.translate(-g.x1,-g.y1));for(var b=e.pstyle("background-image"),m=b.value,_=new Array(m.length),w=new Array(m.length),O=0,E=0;E<m.length;E++){var S=m[E],P=_[E]=S!=null&&S!=="none";if(P){var I=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",E);O++,w[E]=a.getCachedImage(S,I,function(){l.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var R=e.pstyle("background-blacken").value,D=e.pstyle("border-width").pfValue,k=e.pstyle("background-opacity").value*h,N=e.pstyle("border-color").value,B=e.pstyle("border-style").value,z=e.pstyle("border-join").value,F=e.pstyle("border-cap").value,U=e.pstyle("border-position").value,W=e.pstyle("border-dash-pattern").pfValue,Y=e.pstyle("border-dash-offset").pfValue,X=e.pstyle("border-opacity").value*h,Q=e.pstyle("outline-width").pfValue,ue=e.pstyle("outline-color").value,ce=e.pstyle("outline-style").value,ae=e.pstyle("outline-opacity").value*h,pe=e.pstyle("outline-offset").value,fe=e.pstyle("corner-radius").value;fe!=="auto"&&(fe=e.pstyle("corner-radius").pfValue);var he=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:k;a.eleFillStyle(r,e,Xe)},ee=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:X;a.colorStrokeStyle(r,N[0],N[1],N[2],Xe)},K=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ae;a.colorStrokeStyle(r,ue[0],ue[1],ue[2],Xe)},J=function(Xe,ke,te,Se){var De=a.nodePathCache=a.nodePathCache||[],Me=tP(te==="polygon"?te+","+Se.join(","):te,""+ke,""+Xe,""+fe),Ne=De[Me],nt,Be=!1;return Ne!=null?(nt=Ne,Be=!0,c.pathCache=nt):(nt=new Path2D,De[Me]=c.pathCache=nt),{path:nt,cacheHit:Be}},ie=e.pstyle("shape").strValue,de=e.pstyle("shape-polygon-points").pfValue;if(v){r.translate(f.x,f.y);var _e=J(u,s,ie,de);d=_e.path,y=_e.cacheHit}var Ce=function(){if(!y){var Xe=f;v&&(Xe={x:0,y:0}),a.nodeShapes[a.getNodeShape(e)].draw(d||r,Xe.x,Xe.y,u,s,fe,c)}v?r.fill(d):r.fill()},Ae=function(){for(var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,te=l.backgrounding,Se=0,De=0;De<w.length;De++){var Me=e.cy().style().getIndexedStyle(e,"background-image-containment","value",De);if(ke&&Me==="over"||!ke&&Me==="inside"){Se++;continue}_[De]&&w[De].complete&&!w[De].error&&(Se++,a.drawInscribedImage(r,w[De],e,De,Xe))}l.backgrounding=Se!==O,te!==l.backgrounding&&e.updateStyle(!1)},xe=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;a.hasPie(e)&&(a.drawPie(r,e,ke),Xe&&(v||a.nodeShapes[a.getNodeShape(e)].draw(r,f.x,f.y,u,s,fe,c)))},j=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;a.hasStripe(e)&&(r.save(),v?r.clip(c.pathCache):(a.nodeShapes[a.getNodeShape(e)].draw(r,f.x,f.y,u,s,fe,c),r.clip()),a.drawStripe(r,e,ke),r.restore(),Xe&&(v||a.nodeShapes[a.getNodeShape(e)].draw(r,f.x,f.y,u,s,fe,c)))},G=function(){var Xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h,ke=(R>0?R:-R)*Xe,te=R>0?0:255;R!==0&&(a.colorFillStyle(r,te,te,te,ke),v?r.fill(d):r.fill())},H=function(){if(D>0){if(r.lineWidth=D,r.lineCap=F,r.lineJoin=z,r.setLineDash)switch(B){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash(W),r.lineDashOffset=Y;break;case"solid":case"double":r.setLineDash([]);break}if(U!=="center"){if(r.save(),r.lineWidth*=2,U==="inside")v?r.clip(d):r.clip();else{var Xe=new Path2D;Xe.rect(-u/2-D,-s/2-D,u+2*D,s+2*D),Xe.addPath(d),r.clip(Xe,"evenodd")}v?r.stroke(d):r.stroke(),r.restore()}else v?r.stroke(d):r.stroke();if(B==="double"){r.lineWidth=D/3;var ke=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",v?r.stroke(d):r.stroke(),r.globalCompositeOperation=ke}r.setLineDash&&r.setLineDash([])}},oe=function(){if(Q>0){if(r.lineWidth=Q,r.lineCap="butt",r.setLineDash)switch(ce){case"dotted":r.setLineDash([1,1]);break;case"dashed":r.setLineDash([4,2]);break;case"solid":case"double":r.setLineDash([]);break}var Xe=f;v&&(Xe={x:0,y:0});var ke=a.getNodeShape(e),te=D;U==="inside"&&(te=0),U==="outside"&&(te*=2);var Se=(u+te+(Q+pe))/u,De=(s+te+(Q+pe))/s,Me=u*Se,Ne=s*De,nt=a.nodeShapes[ke].points,Be;if(v){var ot=J(Me,Ne,ke,nt);Be=ot.path}if(ke==="ellipse")a.drawEllipsePath(Be||r,Xe.x,Xe.y,Me,Ne);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(ke)){var Qe=0,it=0,gt=0;ke==="round-diamond"?Qe=(te+pe+Q)*1.4:ke==="round-heptagon"?(Qe=(te+pe+Q)*1.075,gt=-(te/2+pe+Q)/35):ke==="round-hexagon"?Qe=(te+pe+Q)*1.12:ke==="round-pentagon"?(Qe=(te+pe+Q)*1.13,gt=-(te/2+pe+Q)/15):ke==="round-tag"?(Qe=(te+pe+Q)*1.12,it=(te/2+Q+pe)*.07):ke==="round-triangle"&&(Qe=(te+pe+Q)*(Math.PI/2),gt=-(te+pe/2+Q)/Math.PI),Qe!==0&&(Se=(u+Qe)/u,Me=u*Se,["round-hexagon","round-tag"].includes(ke)||(De=(s+Qe)/s,Ne=s*De)),fe=fe==="auto"?fP(Me,Ne):fe;for(var Pt=Me/2,lt=Ne/2,Lt=fe+(te+Q+pe)/2,dt=new Array(nt.length/2),Qt=new Array(nt.length/2),Yt=0;Yt<nt.length/2;Yt++)dt[Yt]={x:Xe.x+it+Pt*nt[Yt*2],y:Xe.y+gt+lt*nt[Yt*2+1]};var Rt,wt,dr,ir,vr=dt.length;for(wt=dt[vr-1],Rt=0;Rt<vr;Rt++)dr=dt[Rt%vr],ir=dt[(Rt+1)%vr],Qt[Rt]=wE(wt,dr,ir,Lt),wt=dr,dr=ir;a.drawRoundPolygonPath(Be||r,Xe.x+it,Xe.y+gt,u*Se,s*De,nt,Qt)}else if(["roundrectangle","round-rectangle"].includes(ke))fe=fe==="auto"?sl(Me,Ne):fe,a.drawRoundRectanglePath(Be||r,Xe.x,Xe.y,Me,Ne,fe+(te+Q+pe)/2);else if(["cutrectangle","cut-rectangle"].includes(ke))fe=fe==="auto"?cE():fe,a.drawCutRectanglePath(Be||r,Xe.x,Xe.y,Me,Ne,null,fe+(te+Q+pe)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(ke))fe=fe==="auto"?sl(Me,Ne):fe,a.drawBottomRoundRectanglePath(Be||r,Xe.x,Xe.y,Me,Ne,fe+(te+Q+pe)/2);else if(ke==="barrel")a.drawBarrelPath(Be||r,Xe.x,Xe.y,Me,Ne);else if(ke.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(ke)){var wr=(te+Q+pe)/u;nt=Bm(Fm(nt,wr)),a.drawPolygonPath(Be||r,Xe.x,Xe.y,u,s,nt)}else{var Er=(te+Q+pe)/u;nt=Bm(Fm(nt,-Er)),a.drawPolygonPath(Be||r,Xe.x,Xe.y,u,s,nt)}if(v?r.stroke(Be):r.stroke(),ce==="double"){r.lineWidth=te/3;var Pr=r.globalCompositeOperation;r.globalCompositeOperation="destination-out",v?r.stroke(Be):r.stroke(),r.globalCompositeOperation=Pr}r.setLineDash&&r.setLineDash([])}},ve=function(){i&&a.drawNodeOverlay(r,e,f,u,s)},ye=function(){i&&a.drawNodeUnderlay(r,e,f,u,s)},we=function(){a.drawElementText(r,e,null,n)},je=e.pstyle("ghost").value==="yes";if(je){var ze=e.pstyle("ghost-offset-x").pfValue,rt=e.pstyle("ghost-offset-y").pfValue,Ze=e.pstyle("ghost-opacity").value,Je=Ze*h;r.translate(ze,rt),K(),oe(),he(Ze*k),Ce(),Ae(Je,!0),ee(Ze*X),H(),xe(R!==0||D!==0),j(R!==0||D!==0),Ae(Je,!1),G(Je),r.translate(-ze,-rt)}v&&r.translate(-f.x,-f.y),ye(),v&&r.translate(f.x,f.y),K(),oe(),he(),Ce(),Ae(h,!0),ee(),H(),xe(R!==0||D!==0),j(R!==0||D!==0),Ae(h,!1),G(),v&&r.translate(-f.x,-f.y),we(),ve(),t&&r.translate(g.x1,g.y1)}};var yA=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,n,i,o,a){var u=this;if(n.visible()){var s=n.pstyle("".concat(e,"-padding")).pfValue,l=n.pstyle("".concat(e,"-opacity")).value,c=n.pstyle("".concat(e,"-color")).value,f=n.pstyle("".concat(e,"-shape")).value,h=n.pstyle("".concat(e,"-corner-radius")).value;if(l>0){if(i=i||n.position(),o==null||a==null){var v=n.padding();o=n.width()+2*v,a=n.height()+2*v}u.colorFillStyle(t,c[0],c[1],c[2],l),u.nodeShapes[f].draw(t,i.x,i.y,o+s*2,a+s*2,h),t.fill()}}}};vl.drawNodeOverlay=yA("overlay");vl.drawNodeUnderlay=yA("underlay");vl.hasPie=function(r){return r=r[0],r._private.hasPie};vl.hasStripe=function(r){return r=r[0],r._private.hasStripe};vl.drawPie=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=e.pstyle("pie-size"),a=e.pstyle("pie-hole"),u=e.pstyle("pie-start-angle").pfValue,s=n.x,l=n.y,c=e.width(),f=e.height(),h=Math.min(c,f)/2,v,d=0,y=this.usePaths();if(y&&(s=0,l=0),o.units==="%"?h=h*o.pfValue:o.pfValue!==void 0&&(h=o.pfValue/2),a.units==="%"?v=h*a.pfValue:a.pfValue!==void 0&&(v=a.pfValue/2),!(v>=h))for(var p=1;p<=i.pieBackgroundN;p++){var g=e.pstyle("pie-"+p+"-background-size").value,b=e.pstyle("pie-"+p+"-background-color").value,m=e.pstyle("pie-"+p+"-background-opacity").value*t,_=g/100;_+d>1&&(_=1-d);var w=1.5*Math.PI+2*Math.PI*d;w+=u;var O=2*Math.PI*_,E=w+O;g===0||d>=1||d+_>1||(v===0?(r.beginPath(),r.moveTo(s,l),r.arc(s,l,h,w,E),r.closePath()):(r.beginPath(),r.arc(s,l,h,w,E),r.arc(s,l,v,E,w,!0),r.closePath()),this.colorFillStyle(r,b[0],b[1],b[2],m),r.fill(),d+=_)}};vl.drawStripe=function(r,e,t,n){e=e[0],n=n||e.position();var i=e.cy().style(),o=n.x,a=n.y,u=e.width(),s=e.height(),l=0,c=this.usePaths();r.save();var f=e.pstyle("stripe-direction").value,h=e.pstyle("stripe-size");switch(f){case"vertical":break;case"righward":r.rotate(-Math.PI/2);break}var v=u,d=s;h.units==="%"?(v=v*h.pfValue,d=d*h.pfValue):h.pfValue!==void 0&&(v=h.pfValue,d=h.pfValue),c&&(o=0,a=0),a-=v/2,o-=d/2;for(var y=1;y<=i.stripeBackgroundN;y++){var p=e.pstyle("stripe-"+y+"-background-size").value,g=e.pstyle("stripe-"+y+"-background-color").value,b=e.pstyle("stripe-"+y+"-background-opacity").value*t,m=p/100;m+l>1&&(m=1-l),!(p===0||l>=1||l+m>1)&&(r.beginPath(),r.rect(o,a+d*l,v,d*m),r.closePath(),this.colorFillStyle(r,g[0],g[1],g[2],b),r.fill(),l+=m)}r.restore()};var to={},xH=100;to.getPixelRatio=function(){var r=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),t=r.backingStorePixelRatio||r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/t};to.paintCache=function(r){for(var e=this.paintCaches=this.paintCaches||[],t=!0,n,i=0;i<e.length;i++)if(n=e[i],n.context===r){t=!1;break}return t&&(n={context:r},e.push(n)),n};to.createGradientStyleFor=function(r,e,t,n,i){var o,a=this.usePaths(),u=t.pstyle(e+"-gradient-stop-colors").value,s=t.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(t.isEdge()){var l=t.sourceEndpoint(),c=t.targetEndpoint(),f=t.midpoint(),h=Ic(l,f),v=Ic(c,f);o=r.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(h,v))}else{var d=a?{x:0,y:0}:t.position(),y=t.paddedWidth(),p=t.paddedHeight();o=r.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(y,p))}else if(t.isEdge()){var g=t.sourceEndpoint(),b=t.targetEndpoint();o=r.createLinearGradient(g.x,g.y,b.x,b.y)}else{var m=a?{x:0,y:0}:t.position(),_=t.paddedWidth(),w=t.paddedHeight(),O=_/2,E=w/2,S=t.pstyle("background-gradient-direction").value;switch(S){case"to-bottom":o=r.createLinearGradient(m.x,m.y-E,m.x,m.y+E);break;case"to-top":o=r.createLinearGradient(m.x,m.y+E,m.x,m.y-E);break;case"to-left":o=r.createLinearGradient(m.x+O,m.y,m.x-O,m.y);break;case"to-right":o=r.createLinearGradient(m.x-O,m.y,m.x+O,m.y);break;case"to-bottom-right":case"to-right-bottom":o=r.createLinearGradient(m.x-O,m.y-E,m.x+O,m.y+E);break;case"to-top-right":case"to-right-top":o=r.createLinearGradient(m.x-O,m.y+E,m.x+O,m.y-E);break;case"to-bottom-left":case"to-left-bottom":o=r.createLinearGradient(m.x+O,m.y-E,m.x-O,m.y+E);break;case"to-top-left":case"to-left-top":o=r.createLinearGradient(m.x+O,m.y+E,m.x-O,m.y-E);break}}if(!o)return null;for(var P=s.length===u.length,I=u.length,R=0;R<I;R++)o.addColorStop(P?s[R]:R/(I-1),"rgba("+u[R][0]+","+u[R][1]+","+u[R][2]+","+i+")");return o};to.gradientFillStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"background",e,t,n);if(!i)return null;r.fillStyle=i};to.colorFillStyle=function(r,e,t,n,i){r.fillStyle="rgba("+e+","+t+","+n+","+i+")"};to.eleFillStyle=function(r,e,t){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(r,e,n,t);else{var i=e.pstyle("background-color").value;this.colorFillStyle(r,i[0],i[1],i[2],t)}};to.gradientStrokeStyle=function(r,e,t,n){var i=this.createGradientStyleFor(r,"line",e,t,n);if(!i)return null;r.strokeStyle=i};to.colorStrokeStyle=function(r,e,t,n,i){r.strokeStyle="rgba("+e+","+t+","+n+","+i+")"};to.eleStrokeStyle=function(r,e,t){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(r,e,n,t);else{var i=e.pstyle("line-color").value;this.colorStrokeStyle(r,i[0],i[1],i[2],t)}};to.matchCanvasSize=function(r){var e=this,t=e.data,n=e.findContainerClientCoords(),i=n[2],o=n[3],a=e.getPixelRatio(),u=e.motionBlurPxRatio;(r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||r===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(a=u);var s=i*a,l=o*a,c;if(!(s===e.canvasWidth&&l===e.canvasHeight)){e.fontCaches=null;var f=t.canvasContainer;f.style.width=i+"px",f.style.height=o+"px";for(var h=0;h<e.CANVAS_LAYERS;h++)c=t.canvases[h],c.width=s,c.height=l,c.style.width=i+"px",c.style.height=o+"px";for(var h=0;h<e.BUFFER_COUNT;h++)c=t.bufferCanvases[h],c.width=s,c.height=l,c.style.width=i+"px",c.style.height=o+"px";e.textureMult=1,a<=1&&(c=t.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,c.width=s*e.textureMult,c.height=l*e.textureMult),e.canvasWidth=s,e.canvasHeight=l,e.pixelRatio=a}};to.renderTo=function(r,e,t,n){this.render({forcedContext:r,forcedZoom:e,forcedPan:t,drawAllLayers:!0,forcedPxRatio:n})};to.clearCanvas=function(){var r=this,e=r.data;function t(n){n.clearRect(0,0,r.canvasWidth,r.canvasHeight)}t(e.contexts[r.NODE]),t(e.contexts[r.DRAG])};to.render=function(r){var e=this;r=r||oP();var t=e.cy,n=r.forcedContext,i=r.drawAllLayers,o=r.drawOnlyNodeLayer,a=r.forcedZoom,u=r.forcedPan,s=r.forcedPxRatio===void 0?this.getPixelRatio():r.forcedPxRatio,l=e.data,c=l.canvasNeedsRedraw,f=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),h=r.motionBlur!==void 0?r.motionBlur:e.motionBlur,v=e.motionBlurPxRatio,d=t.hasCompoundNodes(),y=e.hoverData.draggingEles,p=!!(e.hoverData.selecting||e.touchData.selecting);h=h&&!n&&e.motionBlurEnabled&&!p;var g=h;n||(e.prevPxRatio!==s&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=s),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),h&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(g=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!f&&(c[e.NODE]=!0,c[e.SELECT_BOX]=!0);var b=t.style(),m=t.zoom(),_=a!==void 0?a:m,w=t.pan(),O={x:w.x,y:w.y},E={zoom:m,pan:{x:w.x,y:w.y}},S=e.prevViewport,P=S===void 0||E.zoom!==S.zoom||E.pan.x!==S.pan.x||E.pan.y!==S.pan.y;!P&&!(y&&!d)&&(e.motionBlurPxRatio=1),u&&(O=u),_*=s,O.x*=s,O.y*=s;var I=e.getCachedZSortedEles();function R(ee,K,J,ie,de){var _e=ee.globalCompositeOperation;ee.globalCompositeOperation="destination-out",e.colorFillStyle(ee,255,255,255,e.motionBlurTransparency),ee.fillRect(K,J,ie,de),ee.globalCompositeOperation=_e}function D(ee,K){var J,ie,de,_e;!e.clearingMotionBlur&&(ee===l.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ee===l.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(J={x:w.x*v,y:w.y*v},ie=m*v,de=e.canvasWidth*v,_e=e.canvasHeight*v):(J=O,ie=_,de=e.canvasWidth,_e=e.canvasHeight),ee.setTransform(1,0,0,1,0,0),K==="motionBlur"?R(ee,0,0,de,_e):!n&&(K===void 0||K)&&ee.clearRect(0,0,de,_e),i||(ee.translate(J.x,J.y),ee.scale(ie,ie)),u&&ee.translate(u.x,u.y),a&&ee.scale(a,a)}if(f||(e.textureDrawLastFrame=!1),f){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=t.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var k=e.data.bufferContexts[e.TEXTURE_BUFFER];k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:k,drawOnlyNodeLayer:!0,forcedPxRatio:s*e.textureMult});var E=e.textureCache.viewport={zoom:t.zoom(),pan:t.pan(),width:e.canvasWidth,height:e.canvasHeight};E.mpan={x:(0-E.pan.x)/E.zoom,y:(0-E.pan.y)/E.zoom}}c[e.DRAG]=!1,c[e.NODE]=!1;var N=l.contexts[e.NODE],B=e.textureCache.texture,E=e.textureCache.viewport;N.setTransform(1,0,0,1,0,0),h?R(N,0,0,E.width,E.height):N.clearRect(0,0,E.width,E.height);var z=b.core("outside-texture-bg-color").value,F=b.core("outside-texture-bg-opacity").value;e.colorFillStyle(N,z[0],z[1],z[2],F),N.fillRect(0,0,E.width,E.height);var m=t.zoom();D(N,!1),N.clearRect(E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s),N.drawImage(B,E.mpan.x,E.mpan.y,E.width/E.zoom/s,E.height/E.zoom/s)}else e.textureOnViewport&&!n&&(e.textureCache=null);var U=t.extent(),W=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),Y=e.hideEdgesOnViewport&&W,X=[];if(X[e.NODE]=!c[e.NODE]&&h&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,X[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),X[e.DRAG]=!c[e.DRAG]&&h&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,X[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),c[e.NODE]||i||o||X[e.NODE]){var Q=h&&!X[e.NODE]&&v!==1,N=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:l.contexts[e.NODE]),ue=h&&!Q?"motionBlur":void 0;D(N,ue),Y?e.drawCachedNodes(N,I.nondrag,s,U):e.drawLayeredElements(N,I.nondrag,s,U),e.debug&&e.drawDebugPoints(N,I.nondrag),!i&&!h&&(c[e.NODE]=!1)}if(!o&&(c[e.DRAG]||i||X[e.DRAG])){var Q=h&&!X[e.DRAG]&&v!==1,N=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:l.contexts[e.DRAG]);D(N,h&&!Q?"motionBlur":void 0),Y?e.drawCachedNodes(N,I.drag,s,U):e.drawCachedElements(N,I.drag,s,U),e.debug&&e.drawDebugPoints(N,I.drag),!i&&!h&&(c[e.DRAG]=!1)}if(this.drawSelectionRectangle(r,D),h&&v!==1){var ce=l.contexts[e.NODE],ae=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],pe=l.contexts[e.DRAG],fe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],he=function(K,J,ie){K.setTransform(1,0,0,1,0,0),ie||!g?K.clearRect(0,0,e.canvasWidth,e.canvasHeight):R(K,0,0,e.canvasWidth,e.canvasHeight);var de=v;K.drawImage(J,0,0,e.canvasWidth*de,e.canvasHeight*de,0,0,e.canvasWidth,e.canvasHeight)};(c[e.NODE]||X[e.NODE])&&(he(ce,ae,X[e.NODE]),c[e.NODE]=!1),(c[e.DRAG]||X[e.DRAG])&&(he(pe,fe,X[e.DRAG]),c[e.DRAG]=!1)}e.prevViewport=E,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),h&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!f,e.mbFrames=0,c[e.NODE]=!0,c[e.DRAG]=!0,e.redraw()},xH)),n||t.emit("render")};var kv;to.drawSelectionRectangle=function(r,e){var t=this,n=t.cy,i=t.data,o=n.style(),a=r.drawOnlyNodeLayer,u=r.drawAllLayers,s=i.canvasNeedsRedraw,l=r.forcedContext;if(t.showFps||!a&&s[t.SELECT_BOX]&&!u){var c=l||i.contexts[t.SELECT_BOX];if(e(c),t.selection[4]==1&&(t.hoverData.selecting||t.touchData.selecting)){var f=t.cy.zoom(),h=o.core("selection-box-border-width").value/f;c.lineWidth=h,c.fillStyle="rgba("+o.core("selection-box-color").value[0]+","+o.core("selection-box-color").value[1]+","+o.core("selection-box-color").value[2]+","+o.core("selection-box-opacity").value+")",c.fillRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]),h>0&&(c.strokeStyle="rgba("+o.core("selection-box-border-color").value[0]+","+o.core("selection-box-border-color").value[1]+","+o.core("selection-box-border-color").value[2]+","+o.core("selection-box-opacity").value+")",c.strokeRect(t.selection[0],t.selection[1],t.selection[2]-t.selection[0],t.selection[3]-t.selection[1]))}if(i.bgActivePosistion&&!t.hoverData.selecting){var f=t.cy.zoom(),v=i.bgActivePosistion;c.fillStyle="rgba("+o.core("active-bg-color").value[0]+","+o.core("active-bg-color").value[1]+","+o.core("active-bg-color").value[2]+","+o.core("active-bg-opacity").value+")",c.beginPath(),c.arc(v.x,v.y,o.core("active-bg-size").pfValue/f,0,2*Math.PI),c.fill()}var d=t.lastRedrawTime;if(t.showFps&&d){d=Math.round(d);var y=Math.round(1e3/d),p="1 frame = "+d+" ms = "+y+" fps";if(c.setTransform(1,0,0,1,0,0),c.fillStyle="rgba(255, 0, 0, 0.75)",c.strokeStyle="rgba(255, 0, 0, 0.75)",c.font="30px Arial",!kv){var g=c.measureText(p);kv=g.actualBoundingBoxAscent}c.fillText(p,0,kv);var b=60;c.strokeRect(0,kv+10,250,20),c.fillRect(0,kv+10,250*Math.min(y/b,1),20)}u||(s[t.SELECT_BOX]=!1)}};function D2(r,e,t){var n=r.createShader(e);if(r.shaderSource(n,t),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))throw new Error(r.getShaderInfoLog(n));return n}function OH(r,e,t){var n=D2(r,r.VERTEX_SHADER,e),i=D2(r,r.FRAGMENT_SHADER,t),o=r.createProgram();if(r.attachShader(o,n),r.attachShader(o,i),r.linkProgram(o),!r.getProgramParameter(o,r.LINK_STATUS))throw new Error("Could not initialize shaders");return o}function SH(r,e,t){t===void 0&&(t=e);var n=r.makeOffscreenCanvas(e,t),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function OE(r){var e=r.pixelRatio,t=r.cy.zoom(),n=r.cy.pan();return{zoom:t*e,pan:{x:n.x*e,y:n.y*e}}}function TH(r){var e=r.pixelRatio,t=r.cy.zoom();return t*e}function CH(r,e,t,n,i){var o=n*t+e.x,a=i*t+e.y;return a=Math.round(r.canvasHeight-a),[o,a]}function PH(r){return r.pstyle("background-fill").value!=="solid"||r.pstyle("background-image").strValue!=="none"?!1:r.pstyle("border-width").value===0||r.pstyle("border-opacity").value===0?!0:r.pstyle("border-style").value==="solid"}function AH(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function xc(r,e,t){var n=r[0]/255,i=r[1]/255,o=r[2]/255,a=e,u=t||new Array(4);return u[0]=n*a,u[1]=i*a,u[2]=o*a,u[3]=a,u}function hh(r,e){var t=e||new Array(4);return t[0]=(r>>0&255)/255,t[1]=(r>>8&255)/255,t[2]=(r>>16&255)/255,t[3]=(r>>24&255)/255,t}function RH(r){return r[0]+(r[1]<<8)+(r[2]<<16)+(r[3]<<24)}function IH(r,e){var t=r.createTexture();return t.buffer=function(n){r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,n),r.generateMipmap(r.TEXTURE_2D),r.bindTexture(r.TEXTURE_2D,null)},t.deleteTexture=function(){r.deleteTexture(t)},t}function mA(r,e){switch(e){case"float":return[1,r.FLOAT,4];case"vec2":return[2,r.FLOAT,4];case"vec3":return[3,r.FLOAT,4];case"vec4":return[4,r.FLOAT,4];case"int":return[1,r.INT,4];case"ivec2":return[2,r.INT,4]}}function bA(r,e,t){switch(e){case r.FLOAT:return new Float32Array(t);case r.INT:return new Int32Array(t)}}function DH(r,e,t,n,i,o){switch(e){case r.FLOAT:return new Float32Array(t.buffer,o*n,i);case r.INT:return new Int32Array(t.buffer,o*n,i)}}function MH(r,e,t,n){var i=mA(r,e),o=Gn(i,2),a=o[0],u=o[1],s=bA(r,u,n),l=r.createBuffer();return r.bindBuffer(r.ARRAY_BUFFER,l),r.bufferData(r.ARRAY_BUFFER,s,r.STATIC_DRAW),u===r.FLOAT?r.vertexAttribPointer(t,a,u,!1,0,0):u===r.INT&&r.vertexAttribIPointer(t,a,u,0,0),r.enableVertexAttribArray(t),r.bindBuffer(r.ARRAY_BUFFER,null),l}function Os(r,e,t,n){var i=mA(r,t),o=Gn(i,3),a=o[0],u=o[1],s=o[2],l=bA(r,u,e*a),c=a*s,f=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,f),r.bufferData(r.ARRAY_BUFFER,e*c,r.DYNAMIC_DRAW),r.enableVertexAttribArray(n),u===r.FLOAT?r.vertexAttribPointer(n,a,u,!1,c,0):u===r.INT&&r.vertexAttribIPointer(n,a,u,c,0),r.vertexAttribDivisor(n,1),r.bindBuffer(r.ARRAY_BUFFER,null);for(var h=new Array(e),v=0;v<e;v++)h[v]=DH(r,u,l,c,a,v);return f.dataArray=l,f.stride=c,f.size=a,f.getView=function(d){return h[d]},f.setPoint=function(d,y,p){var g=h[d];g[0]=y,g[1]=p},f.bufferSubData=function(d){r.bindBuffer(r.ARRAY_BUFFER,f),d?r.bufferSubData(r.ARRAY_BUFFER,0,l,0,d*a):r.bufferSubData(r.ARRAY_BUFFER,0,l)},f}function kH(r,e,t){for(var n=9,i=new Float32Array(e*n),o=new Array(e),a=0;a<e;a++){var u=a*n*4;o[a]=new Float32Array(i.buffer,u,n)}var s=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,s),r.bufferData(r.ARRAY_BUFFER,i.byteLength,r.DYNAMIC_DRAW);for(var l=0;l<3;l++){var c=t+l;r.enableVertexAttribArray(c),r.vertexAttribPointer(c,3,r.FLOAT,!1,3*12,l*12),r.vertexAttribDivisor(c,1)}return r.bindBuffer(r.ARRAY_BUFFER,null),s.getMatrixView=function(f){return o[f]},s.setData=function(f,h){o[h].set(f,0)},s.bufferSubData=function(){r.bindBuffer(r.ARRAY_BUFFER,s),r.bufferSubData(r.ARRAY_BUFFER,0,i)},s}function NH(r){var e=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,e);var t=r.createTexture();return r.bindTexture(r.TEXTURE_2D,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.bindFramebuffer(r.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,i){r.bindTexture(r.TEXTURE_2D,t),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,n,i,0,r.RGBA,r.UNSIGNED_BYTE,null)},e}var M2=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,e=arguments.length;e--;)r+=arguments[e]*arguments[e];return Math.sqrt(r)});function Pw(){var r=new M2(9);return M2!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[5]=0,r[6]=0,r[7]=0),r[0]=1,r[4]=1,r[8]=1,r}function k2(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=1,r[5]=0,r[6]=0,r[7]=0,r[8]=1,r}function LH(r,e,t){var n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=t[0],v=t[1],d=t[2],y=t[3],p=t[4],g=t[5],b=t[6],m=t[7],_=t[8];return r[0]=h*n+v*a+d*l,r[1]=h*i+v*u+d*c,r[2]=h*o+v*s+d*f,r[3]=y*n+p*a+g*l,r[4]=y*i+p*u+g*c,r[5]=y*o+p*s+g*f,r[6]=b*n+m*a+_*l,r[7]=b*i+m*u+_*c,r[8]=b*o+m*s+_*f,r}function Mm(r,e,t){var n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=t[0],v=t[1];return r[0]=n,r[1]=i,r[2]=o,r[3]=a,r[4]=u,r[5]=s,r[6]=h*n+v*a+l,r[7]=h*i+v*u+c,r[8]=h*o+v*s+f,r}function N2(r,e,t){var n=e[0],i=e[1],o=e[2],a=e[3],u=e[4],s=e[5],l=e[6],c=e[7],f=e[8],h=Math.sin(t),v=Math.cos(t);return r[0]=v*n+h*a,r[1]=v*i+h*u,r[2]=v*o+h*s,r[3]=v*a-h*n,r[4]=v*u-h*i,r[5]=v*s-h*o,r[6]=l,r[7]=c,r[8]=f,r}function $w(r,e,t){var n=t[0],i=t[1];return r[0]=n*e[0],r[1]=n*e[1],r[2]=n*e[2],r[3]=i*e[3],r[4]=i*e[4],r[5]=i*e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r}function jH(r,e,t){return r[0]=2/e,r[1]=0,r[2]=0,r[3]=0,r[4]=-2/t,r[5]=0,r[6]=-1,r[7]=1,r[8]=1,r}var BH=function(){function r(e,t,n,i){fl(this,r),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=t,this.texRows=n,this.texHeight=Math.floor(t/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(e,t,t),this.scratch=i(e,t,this.texHeight,"scratch")}return hl(r,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(t){var n=t.w,i=t.h,o=this.texHeight,a=this.texSize,u=o/i,s=n*u,l=i*u;return s>a&&(u=a/n,s=n*u,l=i*u),{scale:u,texW:s,texH:l}}},{key:"draw",value:function(t,n,i){var o=this;if(this.locked)throw new Error("can't draw, atlas is locked");var a=this.texSize,u=this.texRows,s=this.texHeight,l=this.getScale(n),c=l.scale,f=l.texW,h=l.texH,v=function(m,_){if(i&&_){var w=_.context,O=m.x,E=m.row,S=O,P=s*E;w.save(),w.translate(S,P),w.scale(c,c),i(w,n),w.restore()}},d=[null,null],y=function(){v(o.freePointer,o.canvas),d[0]={x:o.freePointer.x,y:o.freePointer.row*s,w:f,h},d[1]={x:o.freePointer.x+f,y:o.freePointer.row*s,w:0,h},o.freePointer.x+=f,o.freePointer.x==a&&(o.freePointer.x=0,o.freePointer.row++)},p=function(){var m=o.scratch,_=o.canvas;m.clear(),v({x:0,row:0},m);var w=a-o.freePointer.x,O=f-w,E=s;{var S=o.freePointer.x,P=o.freePointer.row*s,I=w;_.context.drawImage(m,0,0,I,E,S,P,I,E),d[0]={x:S,y:P,w:I,h}}{var R=w,D=(o.freePointer.row+1)*s,k=O;_&&_.context.drawImage(m,R,0,k,E,0,D,k,E),d[1]={x:0,y:D,w:k,h}}o.freePointer.x=O,o.freePointer.row++},g=function(){o.freePointer.x=0,o.freePointer.row++};if(this.freePointer.x+f<=a)y();else{if(this.freePointer.row>=u-1)return!1;this.freePointer.x===a?(g(),y()):this.enableWrapping?p():(g(),y())}return this.keyToLocation.set(t,d),this.needsBuffer=!0,d}},{key:"getOffsets",value:function(t){return this.keyToLocation.get(t)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(t){if(this.locked)return!1;var n=this.texSize,i=this.texRows,o=this.getScale(t),a=o.texW;return this.freePointer.x+a>n?this.freePointer.row<i-1:!0}},{key:"bufferIfNeeded",value:function(t){this.texture||(this.texture=IH(t,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),FH=function(){function r(e,t,n,i){fl(this,r),this.r=e,this.texSize=t,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return hl(r,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var t=this.r,n=this.texSize,i=this.texRows,o=this.createTextureCanvas;return new BH(t,n,i,o)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var t=this.r,n=this.texSize,i=this.texRows,o=this.createTextureCanvas,a=Math.floor(n/i);this.scratch=o(t,n,a,"scratch")}return this.scratch}},{key:"draw",value:function(t,n,i){var o=this.styleKeyToAtlas.get(t);return o||(o=this.atlases[this.atlases.length-1],(!o||!o.canFit(n))&&(o&&o.lock(),o=this._createAtlas(),this.atlases.push(o)),o.draw(t,n,i),this.styleKeyToAtlas.set(t,o)),o}},{key:"getAtlas",value:function(t){return this.styleKeyToAtlas.get(t)}},{key:"hasAtlas",value:function(t){return this.styleKeyToAtlas.has(t)}},{key:"markKeyForGC",value:function(t){this.markedKeys.add(t)}},{key:"gc",value:function(){var t=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var i=[],o=new Map,a=null,u=Io(this.atlases),s;try{var l=function(){var f=s.value,h=f.getKeys(),v=UH(n,h);if(v.size===0)return i.push(f),h.forEach(function(w){return o.set(w,f)}),1;a||(a=t._createAtlas(),i.push(a));var d=Io(h),y;try{for(d.s();!(y=d.n()).done;){var p=y.value;if(!v.has(p)){var g=f.getOffsets(p),b=Gn(g,2),m=b[0],_=b[1];a.canFit({w:m.w+_.w,h:m.h})||(a.lock(),a=t._createAtlas(),i.push(a)),f.canvas&&(t._copyTextureToNewAtlas(p,f,a),o.set(p,a))}}}catch(w){d.e(w)}finally{d.f()}f.dispose()};for(u.s();!(s=u.n()).done;)l()}catch(c){u.e(c)}finally{u.f()}this.atlases=i,this.styleKeyToAtlas=o,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(t,n,i){var o=n.getOffsets(t),a=Gn(o,2),u=a[0],s=a[1];if(s.w===0)i.draw(t,u,function(h){h.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h)});else{var l=this._getScratchCanvas();l.clear(),l.context.drawImage(n.canvas,u.x,u.y,u.w,u.h,0,0,u.w,u.h),l.context.drawImage(n.canvas,s.x,s.y,s.w,s.h,u.w,0,s.w,s.h);var c=u.w+s.w,f=u.h;i.draw(t,{w:c,h:f},function(h){h.drawImage(l,0,0,c,f,0,0,c,f)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();function UH(r,e){return r.intersection?r.intersection(e):new Set(km(r).filter(function(t){return e.has(t)}))}var zH=function(){function r(e,t){fl(this,r),this.r=e,this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return hl(r,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(t,n){var i=this.globalOptions,o=i.webglTexSize,a=i.createTextureCanvas,u=n.texRows,s=this._cacheScratchCanvas(a),l=new FH(this.r,o,u,s);this.collections.set(t,l)}},{key:"addRenderType",value:function(t,n){var i=n.collection;if(!this.collections.has(i))throw new Error("invalid atlas collection name '".concat(i,"'"));var o=this.collections.get(i),a=Nt({type:t,atlasCollection:o},n);this.renderTypes.set(t,a)}},{key:"getRenderTypeOpts",value:function(t){return this.renderTypes.get(t)}},{key:"getAtlasCollection",value:function(t){return this.collections.get(t)}},{key:"_cacheScratchCanvas",value:function(t){var n=-1,i=-1,o=null;return function(a,u,s,l){return l?((!o||u!=n||s!=i)&&(n=u,i=s,o=t(a,u,s)),o):t(a,u,s)}}},{key:"_key",value:function(t,n){return"".concat(t,"-").concat(n)}},{key:"invalidate",value:function(t){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.forceRedraw,a=o===void 0?!1:o,u=i.filterEle,s=u===void 0?function(){return!0}:u,l=i.filterType,c=l===void 0?function(){return!0}:l,f=!1,h=!1,v=Io(t),d;try{for(v.s();!(d=v.n()).done;){var y=d.value;if(s(y)){var p=Io(this.renderTypes.values()),g;try{var b=function(){var _=g.value,w=_.type;if(c(w)){var O=n.collections.get(_.collection),E=_.getKey(y),S=Array.isArray(E)?E:[E];if(a)S.forEach(function(D){return O.markKeyForGC(D)}),h=!0;else{var P=_.getID?_.getID(y):y.id(),I=n._key(w,P),R=n.typeAndIdToKey.get(I);R!==void 0&&!AH(S,R)&&(f=!0,n.typeAndIdToKey.delete(I),R.forEach(function(D){return O.markKeyForGC(D)}))}}};for(p.s();!(g=p.n()).done;)b()}catch(m){p.e(m)}finally{p.f()}}}}catch(m){v.e(m)}finally{v.f()}return h&&(this.gc(),f=!1),f}},{key:"gc",value:function(){var t=Io(this.collections.values()),n;try{for(t.s();!(n=t.n()).done;){var i=n.value;i.gc()}}catch(o){t.e(o)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(t,n,i,o){var a=this.renderTypes.get(n),u=this.collections.get(a.collection),s=!1,l=u.draw(o,i,function(h){a.drawClipped?(h.save(),h.beginPath(),h.rect(0,0,i.w,i.h),h.clip(),a.drawElement(h,t,i,!0,!0),h.restore()):a.drawElement(h,t,i,!0,!0),s=!0});if(s){var c=a.getID?a.getID(t):t.id(),f=this._key(n,c);this.typeAndIdToKey.has(f)?this.typeAndIdToKey.get(f).push(o):this.typeAndIdToKey.set(f,[o])}return l}},{key:"getAtlasInfo",value:function(t,n){var i=this,o=this.renderTypes.get(n),a=o.getKey(t),u=Array.isArray(a)?a:[a];return u.map(function(s){var l=o.getBoundingBox(t,s),c=i.getOrCreateAtlas(t,n,l,s),f=c.getOffsets(s),h=Gn(f,2),v=h[0],d=h[1];return{atlas:c,tex:v,tex1:v,tex2:d,bb:l}})}},{key:"getDebugInfo",value:function(){var t=[],n=Io(this.collections),i;try{for(n.s();!(i=n.n()).done;){var o=Gn(i.value,2),a=o[0],u=o[1],s=u.getCounts(),l=s.keyCount,c=s.atlasCount;t.push({type:a,keyCount:l,atlasCount:c})}}catch(f){n.e(f)}finally{n.f()}return t}}])}(),qH=function(){function r(e){fl(this,r),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return hl(r,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(t,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(t){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(t):!0}},{key:"getAtlasIndexForBatch",value:function(t){var n=this.batchAtlases.indexOf(t);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(t),n=this.batchAtlases.length-1}return n}}])}(),GH=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,VH=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,WH=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,HH=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,qv={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},Hm={IGNORE:1,USE_BB:2},Aw=0,L2=1,j2=2,Rw=3,dh=4,Em=5,Nv=6,Lv=7,YH=function(){function r(e,t,n){fl(this,r),this.r=e,this.gl=t,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=SH,this.atlasManager=new zH(e,n),this.batchManager=new qH(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(qv.SCREEN),this.pickingProgram=this._createShaderProgram(qv.PICKING),this.vao=this._createVAO()}return hl(r,[{key:"addAtlasCollection",value:function(t,n){this.atlasManager.addAtlasCollection(t,n)}},{key:"addTextureAtlasRenderType",value:function(t,n){this.atlasManager.addRenderType(t,n)}},{key:"addSimpleShapeRenderType",value:function(t,n){this.simpleShapeOptions.set(t,n)}},{key:"invalidate",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.type,o=this.atlasManager;return i?o.invalidate(t,{filterType:function(u){return u===i},forceRedraw:!0}):o.invalidate(t)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(t){var n=this.gl,i=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Aw,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(dh," || aVertType == ").concat(Lv,` 
             || aVertType == `).concat(Em," || aVertType == ").concat(Nv,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(L2,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(j2,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Rw,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),o=this.batchManager.getIndexArray(),a=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(o.map(function(l){return"uniform sampler2D uTexture".concat(l,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(GH,`
      `).concat(VH,`
      `).concat(WH,`
      `).concat(HH,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Aw,`) {
          // look up the texel from the texture unit
          `).concat(o.map(function(l){return"if(vAtlasId == ".concat(l,") outColor = texture(uTexture").concat(l,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Rw,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(dh,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(dh," || vVertType == ").concat(Lv,` 
          || vVertType == `).concat(Em," || vVertType == ").concat(Nv,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(dh,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(Lv,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(Lv,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(t.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),u=OH(n,i,a);u.aPosition=n.getAttribLocation(u,"aPosition"),u.aIndex=n.getAttribLocation(u,"aIndex"),u.aVertType=n.getAttribLocation(u,"aVertType"),u.aTransform=n.getAttribLocation(u,"aTransform"),u.aAtlasId=n.getAttribLocation(u,"aAtlasId"),u.aTex=n.getAttribLocation(u,"aTex"),u.aPointAPointB=n.getAttribLocation(u,"aPointAPointB"),u.aPointCPointD=n.getAttribLocation(u,"aPointCPointD"),u.aLineWidth=n.getAttribLocation(u,"aLineWidth"),u.aColor=n.getAttribLocation(u,"aColor"),u.aCornerRadius=n.getAttribLocation(u,"aCornerRadius"),u.aBorderColor=n.getAttribLocation(u,"aBorderColor"),u.uPanZoomMatrix=n.getUniformLocation(u,"uPanZoomMatrix"),u.uAtlasSize=n.getUniformLocation(u,"uAtlasSize"),u.uBGColor=n.getUniformLocation(u,"uBGColor"),u.uZoom=n.getUniformLocation(u,"uZoom"),u.uTextures=[];for(var s=0;s<this.batchManager.getMaxAtlasesPerBatch();s++)u.uTextures.push(n.getUniformLocation(u,"uTexture".concat(s)));return u}},{key:"_createVAO",value:function(){var t=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=t.length/2;var n=this.maxInstances,i=this.gl,o=this.program,a=i.createVertexArray();return i.bindVertexArray(a),MH(i,"vec2",o.aPosition,t),this.transformBuffer=kH(i,n,o.aTransform),this.indexBuffer=Os(i,n,"vec4",o.aIndex),this.vertTypeBuffer=Os(i,n,"int",o.aVertType),this.atlasIdBuffer=Os(i,n,"int",o.aAtlasId),this.texBuffer=Os(i,n,"vec4",o.aTex),this.pointAPointBBuffer=Os(i,n,"vec4",o.aPointAPointB),this.pointCPointDBuffer=Os(i,n,"vec4",o.aPointCPointD),this.lineWidthBuffer=Os(i,n,"vec2",o.aLineWidth),this.colorBuffer=Os(i,n,"vec4",o.aColor),this.cornerRadiusBuffer=Os(i,n,"vec4",o.aCornerRadius),this.borderColorBuffer=Os(i,n,"vec4",o.aBorderColor),i.bindVertexArray(null),a}},{key:"buffers",get:function(){var t=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return el(n,"Buffer")}).map(function(n){return t[n]})),this._buffers}},{key:"startFrame",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qv.SCREEN;this.panZoomMatrix=t,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(t,n){return t.visible()?n&&n.isVisible?n.isVisible(t):!0:!1}},{key:"drawTexture",value:function(t,n,i){var o=this.atlasManager,a=this.batchManager,u=o.getRenderTypeOpts(i);if(this._isVisible(t,u)&&!(t.isEdge()&&!this._isValidEdge(t))){if(this.renderTarget.picking&&u.getTexPickingMode){var s=u.getTexPickingMode(t);if(s===Hm.IGNORE)return;if(s==Hm.USE_BB){this.drawPickingRectangle(t,n,i);return}}var l=o.getAtlasInfo(t,i),c=Io(l),f;try{for(c.s();!(f=c.n()).done;){var h=f.value,v=h.atlas,d=h.tex1,y=h.tex2;a.canAddToCurrentBatch(v)||this.endBatch();for(var p=a.getAtlasIndexForBatch(v),g=0,b=[[d,!0],[y,!1]];g<b.length;g++){var m=Gn(b[g],2),_=m[0],w=m[1];if(_.w!=0){var O=this.instanceCount;this.vertTypeBuffer.getView(O)[0]=Aw;var E=this.indexBuffer.getView(O);hh(n,E);var S=this.atlasIdBuffer.getView(O);S[0]=p;var P=this.texBuffer.getView(O);P[0]=_.x,P[1]=_.y,P[2]=_.w,P[3]=_.h;var I=this.transformBuffer.getMatrixView(O);this.setTransformMatrix(t,I,u,h,w),this.instanceCount++,w||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(R){c.e(R)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(t,n,i,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=0;if(i.shapeProps&&i.shapeProps.padding&&(u=t.pstyle(i.shapeProps.padding).pfValue),o){var s=o.bb,l=o.tex1,c=o.tex2,f=l.w/(l.w+c.w);a||(f=1-f);var h=this._getAdjustedBB(s,u,a,f);this._applyTransformMatrix(n,h,i,t)}else{var v=i.getBoundingBox(t),d=this._getAdjustedBB(v,u,!0,1);this._applyTransformMatrix(n,d,i,t)}}},{key:"_applyTransformMatrix",value:function(t,n,i,o){var a,u;k2(t);var s=i.getRotation?i.getRotation(o):0;if(s!==0){var l=i.getRotationPoint(o),c=l.x,f=l.y;Mm(t,t,[c,f]),N2(t,t,s);var h=i.getRotationOffset(o);a=h.x+(n.xOffset||0),u=h.y+(n.yOffset||0)}else a=n.x1,u=n.y1;Mm(t,t,[a,u]),$w(t,t,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(t,n,i,o){var a=t.x1,u=t.y1,s=t.w,l=t.h,c=t.yOffset;n&&(a-=n,u-=n,s+=2*n,l+=2*n);var f=0,h=s*o;return i&&o<1?s=h:!i&&o<1&&(f=s-h,a+=f,s=h),{x1:a,y1:u,w:s,h:l,xOffset:f,yOffset:c}}},{key:"drawPickingRectangle",value:function(t,n,i){var o=this.atlasManager.getRenderTypeOpts(i),a=this.instanceCount;this.vertTypeBuffer.getView(a)[0]=dh;var u=this.indexBuffer.getView(a);hh(n,u);var s=this.colorBuffer.getView(a);xc([0,0,0],1,s);var l=this.transformBuffer.getMatrixView(a);this.setTransformMatrix(t,l,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(t,n,i){var o=this.simpleShapeOptions.get(i);if(this._isVisible(t,o)){var a=o.shapeProps,u=this._getVertTypeForShape(t,a.shape);if(u===void 0||o.isSimple&&!o.isSimple(t)){this.drawTexture(t,n,i);return}var s=this.instanceCount;if(this.vertTypeBuffer.getView(s)[0]=u,u===Em||u===Nv){var l=o.getBoundingBox(t),c=this._getCornerRadius(t,a.radius,l),f=this.cornerRadiusBuffer.getView(s);f[0]=c,f[1]=c,f[2]=c,f[3]=c,u===Nv&&(f[0]=0,f[2]=0)}var h=this.indexBuffer.getView(s);hh(n,h);var v=t.pstyle(a.color).value,d=t.pstyle(a.opacity).value,y=this.colorBuffer.getView(s);xc(v,d,y);var p=this.lineWidthBuffer.getView(s);if(p[0]=0,p[1]=0,a.border){var g=t.pstyle("border-width").value;if(g>0){var b=t.pstyle("border-color").value,m=t.pstyle("border-opacity").value,_=this.borderColorBuffer.getView(s);xc(b,m,_);var w=t.pstyle("border-position").value;if(w==="inside")p[0]=0,p[1]=-g;else if(w==="outside")p[0]=g,p[1]=0;else{var O=g/2;p[0]=O,p[1]=-O}}}var E=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(t,E,o),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(t,n){var i=t.pstyle(n).value;switch(i){case"rectangle":return dh;case"ellipse":return Lv;case"roundrectangle":case"round-rectangle":return Em;case"bottom-round-rectangle":return Nv;default:return}}},{key:"_getCornerRadius",value:function(t,n,i){var o=i.w,a=i.h;if(t.pstyle(n).value==="auto")return sl(o,a);var u=t.pstyle(n).pfValue,s=o/2,l=a/2;return Math.min(u,l,s)}},{key:"drawEdgeArrow",value:function(t,n,i){if(t.visible()){var o=t._private.rscratch,a,u,s;if(i==="source"?(a=o.arrowStartX,u=o.arrowStartY,s=o.srcArrowAngle):(a=o.arrowEndX,u=o.arrowEndY,s=o.tgtArrowAngle),!(isNaN(a)||a==null||isNaN(u)||u==null||isNaN(s)||s==null)){var l=t.pstyle(i+"-arrow-shape").value;if(l!=="none"){var c=t.pstyle(i+"-arrow-color").value,f=t.pstyle("opacity").value,h=t.pstyle("line-opacity").value,v=f*h,d=t.pstyle("width").pfValue,y=t.pstyle("arrow-scale").value,p=this.r.getArrowWidth(d,y),g=this.instanceCount,b=this.transformBuffer.getMatrixView(g);k2(b),Mm(b,b,[a,u]),$w(b,b,[p,p]),N2(b,b,s),this.vertTypeBuffer.getView(g)[0]=Rw;var m=this.indexBuffer.getView(g);hh(n,m);var _=this.colorBuffer.getView(g);xc(c,v,_),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(t,n){if(t.visible()){var i=this._getEdgePoints(t);if(i){var o=t.pstyle("opacity").value,a=t.pstyle("line-opacity").value,u=t.pstyle("width").pfValue,s=t.pstyle("line-color").value,l=o*a;if(i.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),i.length==4){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=L2;var f=this.indexBuffer.getView(c);hh(n,f);var h=this.colorBuffer.getView(c);xc(s,l,h);var v=this.lineWidthBuffer.getView(c);v[0]=u;var d=this.pointAPointBBuffer.getView(c);d[0]=i[0],d[1]=i[1],d[2]=i[2],d[3]=i[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var y=0;y<i.length-2;y+=2){var p=this.instanceCount;this.vertTypeBuffer.getView(p)[0]=j2;var g=this.indexBuffer.getView(p);hh(n,g);var b=this.colorBuffer.getView(p);xc(s,l,b);var m=this.lineWidthBuffer.getView(p);m[0]=u;var _=i[y-2],w=i[y-1],O=i[y],E=i[y+1],S=i[y+2],P=i[y+3],I=i[y+4],R=i[y+5];y==0&&(_=2*O-S+.001,w=2*E-P+.001),y==i.length-4&&(I=2*S-O+.001,R=2*P-E+.001);var D=this.pointAPointBBuffer.getView(p);D[0]=_,D[1]=w,D[2]=O,D[3]=E;var k=this.pointCPointDBuffer.getView(p);k[0]=S,k[1]=P,k[2]=I,k[3]=R,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(t){var n=t._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(t){var n=t._private.rscratch;if(this._isValidEdge(t)){var i=n.allpts;if(i.length==4)return i;var o=this._getNumSegments(t);return this._getCurveSegmentPoints(i,o)}}},{key:"_getNumSegments",value:function(t){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(t,n){if(t.length==4)return t;for(var i=Array((n+1)*2),o=0;o<=n;o++)if(o==0)i[0]=t[0],i[1]=t[1];else if(o==n)i[o*2]=t[t.length-2],i[o*2+1]=t[t.length-1];else{var a=o/n;this._setCurvePoint(t,a,i,o*2)}return i}},{key:"_setCurvePoint",value:function(t,n,i,o){if(t.length<=2)i[o]=t[0],i[o+1]=t[1];else{for(var a=Array(t.length-2),u=0;u<a.length;u+=2){var s=(1-n)*t[u]+n*t[u+2],l=(1-n)*t[u+1]+n*t[u+3];a[u]=s,a[u+1]=l}return this._setCurvePoint(a,n,i,o)}}},{key:"endBatch",value:function(){var t=this.gl,n=this.vao,i=this.vertexCount,o=this.instanceCount;if(o!==0){var a=this.renderTarget.picking?this.pickingProgram:this.program;t.useProgram(a),t.bindVertexArray(n);var u=Io(this.buffers),s;try{for(u.s();!(s=u.n()).done;){var l=s.value;l.bufferSubData(o)}}catch(d){u.e(d)}finally{u.f()}for(var c=this.batchManager.getAtlases(),f=0;f<c.length;f++)c[f].bufferIfNeeded(t);for(var h=0;h<c.length;h++)t.activeTexture(t.TEXTURE0+h),t.bindTexture(t.TEXTURE_2D,c[h].texture),t.uniform1i(a.uTextures[h],h);t.uniform1f(a.uZoom,TH(this.r)),t.uniformMatrix3fv(a.uPanZoomMatrix,!1,this.panZoomMatrix),t.uniform1i(a.uAtlasSize,this.batchManager.getAtlasSize());var v=xc(this.bgColor,1);t.uniform4fv(a.uBGColor,v),t.drawArraysInstanced(t.TRIANGLES,0,i,o),t.bindVertexArray(null),t.bindTexture(t.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:o,atlasCount:c.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var t=this.atlasManager.getDebugInfo(),n=t.reduce(function(a,u){return a+u.atlasCount},0),i=this.batchDebugInfo,o=i.reduce(function(a,u){return a+u.count},0);return{atlasInfo:t,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:i.length,batchInfo:i,totalInstances:o}}}])}(),_A={};_A.initWebgl=function(r,e){var t=this,n=t.data.contexts[t.WEBGL];r.bgColor=XH(t),r.webglTexSize=Math.min(r.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),r.webglTexRows=Math.min(r.webglTexRows,54),r.webglTexRowsNodes=Math.min(r.webglTexRowsNodes,54),r.webglBatchSize=Math.min(r.webglBatchSize,16384),r.webglTexPerBatch=Math.min(r.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),t.webglDebug=r.webglDebug,t.webglDebugShowAtlases=r.webglDebugShowAtlases,t.pickingFrameBuffer=NH(n),t.pickingFrameBuffer.needsDraw=!0,t.drawing=new YH(t,n,r);var i=function(f){return function(h){return t.getTextAngle(h,f)}},o=function(f){return function(h){var v=h.pstyle(f);return v&&v.value}},a=function(f){return function(h){return h.pstyle("".concat(f,"-opacity")).value>0}},u=function(f){var h=f.pstyle("text-events").strValue==="yes";return h?Hm.USE_BB:Hm.IGNORE},s=function(f){var h=f.position(),v=h.x,d=h.y,y=f.outerWidth(),p=f.outerHeight();return{w:y,h:p,x1:v-y/2,y1:d-p/2}};t.drawing.addAtlasCollection("node",{texRows:r.webglTexRowsNodes}),t.drawing.addAtlasCollection("label",{texRows:r.webglTexRows}),t.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),t.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:s,isSimple:PH,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),t.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:s,isVisible:a("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),t.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:s,isVisible:a("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),t.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:u,getKey:Iw(e.getLabelKey,null),getBoundingBox:Dw(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:i(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:o("label")}),t.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:u,getKey:Iw(e.getSourceLabelKey,"source"),getBoundingBox:Dw(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:i("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:o("source-label")}),t.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:u,getKey:Iw(e.getTargetLabelKey,"target"),getBoundingBox:Dw(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:i("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:o("target-label")});var l=ip(function(){console.log("garbage collect flag set"),t.data.gc=!0},1e4);t.onUpdateEleCalcs(function(c,f){var h=!1;f&&f.length>0&&(h|=t.drawing.invalidate(f)),h&&l()}),KH(t)};function XH(r){var e=r.cy.container(),t=e&&e.style&&e.style.backgroundColor||"white";return X2(t)}function wA(r,e){var t=r._private.rscratch;return Ao(t,"labelWrapCachedLines",e)||[]}var Iw=function(e,t){return function(n){var i=e(n),o=wA(n,t);return o.length>1?o.map(function(a,u){return"".concat(i,"_").concat(u)}):i}},Dw=function(e,t){return function(n,i){var o=e(n);if(typeof i=="string"){var a=i.indexOf("_");if(a>0){var u=Number(i.substring(a+1)),s=wA(n,t),l=o.h/s.length,c=l*u,f=o.y1+c;return{x1:o.x1,w:o.w,y1:f,h:l,yOffset:c}}}return o}};function KH(r){{var e=r.render;r.render=function(o){o=o||{};var a=r.cy;r.webgl&&(a.zoom()>dA?($H(r),e.call(r,o)):(ZH(r),xA(r,o,qv.SCREEN)))}}{var t=r.matchCanvasSize;r.matchCanvasSize=function(o){t.call(r,o),r.pickingFrameBuffer.setFramebufferAttachmentSizes(r.canvasWidth,r.canvasHeight),r.pickingFrameBuffer.needsDraw=!0}}r.findNearestElements=function(o,a,u,s){return nY(r,o,a)};{var n=r.invalidateCachedZSortedEles;r.invalidateCachedZSortedEles=function(){n.call(r),r.pickingFrameBuffer.needsDraw=!0}}{var i=r.notify;r.notify=function(o,a){i.call(r,o,a),o==="viewport"||o==="bounds"?r.pickingFrameBuffer.needsDraw=!0:o==="background"&&r.drawing.invalidate(a,{type:"node-body"})}}}function $H(r){var e=r.data.contexts[r.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function ZH(r){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.canvasWidth,r.canvasHeight),n.restore()};e(r.data.contexts[r.NODE]),e(r.data.contexts[r.DRAG])}function QH(r){var e=r.canvasWidth,t=r.canvasHeight,n=OE(r),i=n.pan,o=n.zoom,a=Pw();Mm(a,a,[i.x,i.y]),$w(a,a,[o,o]);var u=Pw();jH(u,e,t);var s=Pw();return LH(s,u,a),s}function EA(r,e){var t=r.canvasWidth,n=r.canvasHeight,i=OE(r),o=i.pan,a=i.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t,n),e.translate(o.x,o.y),e.scale(a,a)}function JH(r,e){r.drawSelectionRectangle(e,function(t){return EA(r,t)})}function eY(r){var e=r.data.contexts[r.NODE];e.save(),EA(r,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function tY(r){var e=function(i,o,a){for(var u=i.atlasManager.getAtlasCollection(o),s=r.data.contexts[r.NODE],l=u.atlases,c=0;c<l.length;c++){var f=l[c],h=f.canvas;if(h){var v=h.width,d=h.height,y=v*c,p=h.height*a,g=.4;s.save(),s.scale(g,g),s.drawImage(h,y,p),s.strokeStyle="black",s.rect(y,p,v,d),s.stroke(),s.restore()}}},t=0;e(r.drawing,"node",t++),e(r.drawing,"label",t++)}function rY(r,e,t,n,i){var o,a,u,s,l=OE(r),c=l.pan,f=l.zoom;{var h=CH(r,c,f,e,t),v=Gn(h,2),d=v[0],y=v[1],p=6;o=d-p/2,a=y-p/2,u=p,s=p}if(u===0||s===0)return[];var g=r.data.contexts[r.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,r.pickingFrameBuffer),r.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),xA(r,null,qv.PICKING),r.pickingFrameBuffer.needsDraw=!1);var b=u*s,m=new Uint8Array(b*4);g.readPixels(o,a,u,s,g.RGBA,g.UNSIGNED_BYTE,m),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var _=new Set,w=0;w<b;w++){var O=m.slice(w*4,w*4+4),E=RH(O)-1;E>=0&&_.add(E)}return _}function nY(r,e,t){var n=rY(r,e,t),i=r.getCachedZSortedEles(),o,a,u=Io(n),s;try{for(u.s();!(s=u.n()).done;){var l=s.value,c=i[l];if(!o&&c.isNode()&&(o=c),!a&&c.isEdge()&&(a=c),o&&a)break}}catch(f){u.e(f)}finally{u.f()}return[o,a].filter(Boolean)}function Mw(r,e,t){var n=r.drawing;e+=1,t.isNode()?(n.drawNode(t,e,"node-underlay"),n.drawNode(t,e,"node-body"),n.drawTexture(t,e,"label"),n.drawNode(t,e,"node-overlay")):(n.drawEdgeLine(t,e),n.drawEdgeArrow(t,e,"source"),n.drawEdgeArrow(t,e,"target"),n.drawTexture(t,e,"label"),n.drawTexture(t,e,"edge-source-label"),n.drawTexture(t,e,"edge-target-label"))}function xA(r,e,t){var n;r.webglDebug&&(n=performance.now());var i=r.drawing,o=0;if(t.screen&&r.data.canvasNeedsRedraw[r.SELECT_BOX]&&JH(r,e),r.data.canvasNeedsRedraw[r.NODE]||t.picking){var a=r.data.contexts[r.WEBGL];t.screen?(a.clearColor(0,0,0,0),a.enable(a.BLEND),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA)):a.disable(a.BLEND),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),a.viewport(0,0,a.canvas.width,a.canvas.height);var u=QH(r),s=r.getCachedZSortedEles();if(o=s.length,i.startFrame(u,t),t.screen){for(var l=0;l<s.nondrag.length;l++)Mw(r,l,s.nondrag[l]);for(var c=0;c<s.drag.length;c++)Mw(r,c,s.drag[c])}else if(t.picking)for(var f=0;f<s.length;f++)Mw(r,f,s[f]);i.endFrame(),t.screen&&r.webglDebugShowAtlases&&(eY(r),tY(r)),r.data.canvasNeedsRedraw[r.NODE]=!1,r.data.canvasNeedsRedraw[r.DRAG]=!1}if(r.webglDebug){var h=performance.now(),v=!1,d=Math.ceil(h-n),y=i.getDebugInfo(),p=["".concat(o," elements"),"".concat(y.totalInstances," instances"),"".concat(y.batchCount," batches"),"".concat(y.totalAtlases," atlases"),"".concat(y.wrappedCount," wrapped textures"),"".concat(y.simpleCount," simple shapes")].join(", ");if(v)console.log("WebGL (".concat(t.name,") - time ").concat(d,"ms, ").concat(p));else{console.log("WebGL (".concat(t.name,") - frame time ").concat(d,"ms")),console.log("Totals:"),console.log("  ".concat(p)),console.log("Texture Atlases Used:");var g=y.atlasInfo,b=Io(g),m;try{for(b.s();!(m=b.n()).done;){var _=m.value;console.log("  ".concat(_.type,": ").concat(_.keyCount," keys, ").concat(_.atlasCount," atlases"))}}catch(w){b.e(w)}finally{b.f()}console.log("")}}r.data.gc&&(console.log("Garbage Collect!"),r.data.gc=!1,i.gc())}var pl={};pl.drawPolygonPath=function(r,e,t,n,i,o){var a=n/2,u=i/2;r.beginPath&&r.beginPath(),r.moveTo(e+a*o[0],t+u*o[1]);for(var s=1;s<o.length/2;s++)r.lineTo(e+a*o[s*2],t+u*o[s*2+1]);r.closePath()};pl.drawRoundPolygonPath=function(r,e,t,n,i,o,a){a.forEach(function(u){return iA(r,u)}),r.closePath()};pl.drawRoundRectanglePath=function(r,e,t,n,i,o){var a=n/2,u=i/2,s=o==="auto"?sl(n,i):Math.min(o,u,a);r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.arcTo(e+a,t-u,e+a,t,s),r.arcTo(e+a,t+u,e,t+u,s),r.arcTo(e-a,t+u,e-a,t,s),r.arcTo(e-a,t-u,e,t-u,s),r.lineTo(e,t-u),r.closePath()};pl.drawBottomRoundRectanglePath=function(r,e,t,n,i,o){var a=n/2,u=i/2,s=o==="auto"?sl(n,i):o;r.beginPath&&r.beginPath(),r.moveTo(e,t-u),r.lineTo(e+a,t-u),r.lineTo(e+a,t),r.arcTo(e+a,t+u,e,t+u,s),r.arcTo(e-a,t+u,e-a,t,s),r.lineTo(e-a,t-u),r.lineTo(e,t-u),r.closePath()};pl.drawCutRectanglePath=function(r,e,t,n,i,o,a){var u=n/2,s=i/2,l=a==="auto"?cE():a;r.beginPath&&r.beginPath(),r.moveTo(e-u+l,t-s),r.lineTo(e+u-l,t-s),r.lineTo(e+u,t-s+l),r.lineTo(e+u,t+s-l),r.lineTo(e+u-l,t+s),r.lineTo(e-u+l,t+s),r.lineTo(e-u,t+s-l),r.lineTo(e-u,t-s+l),r.closePath()};pl.drawBarrelPath=function(r,e,t,n,i){var o=n/2,a=i/2,u=e-o,s=e+o,l=t-a,c=t+a,f=Lw(n,i),h=f.widthOffset,v=f.heightOffset,d=f.ctrlPtOffsetPct*h;r.beginPath&&r.beginPath(),r.moveTo(u,l+v),r.lineTo(u,c-v),r.quadraticCurveTo(u+d,c,u+h,c),r.lineTo(s-h,c),r.quadraticCurveTo(s-d,c,s,c-v),r.lineTo(s,l+v),r.quadraticCurveTo(s-d,l,s-h,l),r.lineTo(u+h,l),r.quadraticCurveTo(u+d,l,u,l+v),r.closePath()};var B2=Math.sin(0),F2=Math.cos(0),Zw={},Qw={},OA=Math.PI/40;for(Oc=0*Math.PI;Oc<2*Math.PI;Oc+=OA)Zw[Oc]=Math.sin(Oc),Qw[Oc]=Math.cos(Oc);var Oc;pl.drawEllipsePath=function(r,e,t,n,i){if(r.beginPath&&r.beginPath(),r.ellipse)r.ellipse(e,t,n/2,i/2,0,0,2*Math.PI);else for(var o,a,u=n/2,s=i/2,l=0*Math.PI;l<2*Math.PI;l+=OA)o=e-u*Zw[l]*B2+u*Qw[l]*F2,a=t+s*Qw[l]*B2+s*Zw[l]*F2,l===0?r.moveTo(o,a):r.lineTo(o,a);r.closePath()};var cp={};cp.createBuffer=function(r,e){var t=document.createElement("canvas");return t.width=r,t.height=e,[t,t.getContext("2d")]};cp.bufferCanvasImage=function(r){var e=this.cy,t=e.mutableElements(),n=t.boundingBox(),i=this.findContainerClientCoords(),o=r.full?Math.ceil(n.w):i[2],a=r.full?Math.ceil(n.h):i[3],u=at(r.maxWidth)||at(r.maxHeight),s=this.getPixelRatio(),l=1;if(r.scale!==void 0)o*=r.scale,a*=r.scale,l=r.scale;else if(u){var c=1/0,f=1/0;at(r.maxWidth)&&(c=l*r.maxWidth/o),at(r.maxHeight)&&(f=l*r.maxHeight/a),l=Math.min(c,f),o*=l,a*=l}u||(o*=s,a*=s,l*=s);var h=document.createElement("canvas");h.width=o,h.height=a,h.style.width=o+"px",h.style.height=a+"px";var v=h.getContext("2d");if(o>0&&a>0){v.clearRect(0,0,o,a),v.globalCompositeOperation="source-over";var d=this.getCachedZSortedEles();if(r.full)v.translate(-n.x1*l,-n.y1*l),v.scale(l,l),this.drawElements(v,d),v.scale(1/l,1/l),v.translate(n.x1*l,n.y1*l);else{var y=e.pan(),p={x:y.x*l,y:y.y*l};l*=e.zoom(),v.translate(p.x,p.y),v.scale(l,l),this.drawElements(v,d),v.scale(1/l,1/l),v.translate(-p.x,-p.y)}r.bg&&(v.globalCompositeOperation="destination-over",v.fillStyle=r.bg,v.rect(0,0,o,a),v.fill())}return h};function iY(r,e){for(var t=atob(r),n=new ArrayBuffer(t.length),i=new Uint8Array(n),o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return new Blob([n],{type:e})}function U2(r){var e=r.indexOf(",");return r.substr(e+1)}function SA(r,e,t){var n=function(){return e.toDataURL(t,r.quality)};switch(r.output){case"blob-promise":return new Th(function(i,o){try{e.toBlob(function(a){a!=null?i(a):o(new Error("`canvas.toBlob()` sent a null value in its callback"))},t,r.quality)}catch(a){o(a)}});case"blob":return iY(U2(n()),t);case"base64":return U2(n());case"base64uri":default:return n()}}cp.png=function(r){return SA(r,this.bufferCanvasImage(r),"image/png")};cp.jpg=function(r){return SA(r,this.bufferCanvasImage(r),"image/jpeg")};var TA={};TA.nodeShapeImpl=function(r,e,t,n,i,o,a,u){switch(r){case"ellipse":return this.drawEllipsePath(e,t,n,i,o);case"polygon":return this.drawPolygonPath(e,t,n,i,o,a);case"round-polygon":return this.drawRoundPolygonPath(e,t,n,i,o,a,u);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,t,n,i,o,u);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,t,n,i,o,a,u);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,t,n,i,o,u);case"barrel":return this.drawBarrelPath(e,t,n,i,o)}};var oY=CA,fr=CA.prototype;fr.CANVAS_LAYERS=3;fr.SELECT_BOX=0;fr.DRAG=1;fr.NODE=2;fr.WEBGL=3;fr.CANVAS_TYPES=["2d","2d","2d","webgl2"];fr.BUFFER_COUNT=3;fr.TEXTURE_BUFFER=0;fr.MOTIONBLUR_BUFFER_NODE=1;fr.MOTIONBLUR_BUFFER_DRAG=2;function CA(r){var e=this,t=e.cy.window(),n=t.document;r.webgl&&(fr.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(fr.CANVAS_LAYERS),contexts:new Array(fr.CANVAS_LAYERS),canvasNeedsRedraw:new Array(fr.CANVAS_LAYERS),bufferCanvases:new Array(fr.BUFFER_COUNT),bufferContexts:new Array(fr.CANVAS_LAYERS)};var i="-webkit-tap-highlight-color",o="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var a=e.data.canvasContainer.style;e.data.canvasContainer.style[i]=o,a.position="relative",a.zIndex="0",a.overflow="hidden";var u=r.cy.container();u.appendChild(e.data.canvasContainer),u.style[i]=o;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Jq()&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var l=0;l<fr.CANVAS_LAYERS;l++){var c=e.data.canvases[l]=n.createElement("canvas"),f=fr.CANVAS_TYPES[l];e.data.contexts[l]=c.getContext(f),e.data.contexts[l]||mn("Could not create canvas of type "+f),Object.keys(s).forEach(function(ee){c.style[ee]=s[ee]}),c.style.position="absolute",c.setAttribute("data-id","layer"+l),c.style.zIndex=String(fr.CANVAS_LAYERS-l),e.data.canvasContainer.appendChild(c),e.data.canvasNeedsRedraw[l]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[fr.NODE].setAttribute("data-id","layer"+fr.NODE+"-node"),e.data.canvases[fr.SELECT_BOX].setAttribute("data-id","layer"+fr.SELECT_BOX+"-selectbox"),e.data.canvases[fr.DRAG].setAttribute("data-id","layer"+fr.DRAG+"-drag"),e.data.canvases[fr.WEBGL]&&e.data.canvases[fr.WEBGL].setAttribute("data-id","layer"+fr.WEBGL+"-webgl");for(var l=0;l<fr.BUFFER_COUNT;l++)e.data.bufferCanvases[l]=n.createElement("canvas"),e.data.bufferContexts[l]=e.data.bufferCanvases[l].getContext("2d"),e.data.bufferCanvases[l].style.position="absolute",e.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),e.data.bufferCanvases[l].style.zIndex=String(-l-1),e.data.bufferCanvases[l].style.visibility="hidden";e.pathsEnabled=!0;var h=eo(),v=function(K){return{x:(K.x1+K.x2)/2,y:(K.y1+K.y2)/2}},d=function(K){return{x:-K.w/2,y:-K.h/2}},y=function(K){var J=K[0]._private,ie=J.oldBackgroundTimestamp===J.backgroundTimestamp;return!ie},p=function(K){return K[0]._private.nodeKey},g=function(K){return K[0]._private.labelStyleKey},b=function(K){return K[0]._private.sourceLabelStyleKey},m=function(K){return K[0]._private.targetLabelStyleKey},_=function(K,J,ie,de,_e){return e.drawElement(K,J,ie,!1,!1,_e)},w=function(K,J,ie,de,_e){return e.drawElementText(K,J,ie,de,"main",_e)},O=function(K,J,ie,de,_e){return e.drawElementText(K,J,ie,de,"source",_e)},E=function(K,J,ie,de,_e){return e.drawElementText(K,J,ie,de,"target",_e)},S=function(K){return K.boundingBox(),K[0]._private.bodyBounds},P=function(K){return K.boundingBox(),K[0]._private.labelBounds.main||h},I=function(K){return K.boundingBox(),K[0]._private.labelBounds.source||h},R=function(K){return K.boundingBox(),K[0]._private.labelBounds.target||h},D=function(K,J){return J},k=function(K){return v(S(K))},N=function(K,J,ie){var de=K?K+"-":"";return{x:J.x+ie.pstyle(de+"text-margin-x").pfValue,y:J.y+ie.pstyle(de+"text-margin-y").pfValue}},B=function(K,J,ie){var de=K[0]._private.rscratch;return{x:de[J],y:de[ie]}},z=function(K){return N("",B(K,"labelX","labelY"),K)},F=function(K){return N("source",B(K,"sourceLabelX","sourceLabelY"),K)},U=function(K){return N("target",B(K,"targetLabelX","targetLabelY"),K)},W=function(K){return d(S(K))},Y=function(K){return d(I(K))},X=function(K){return d(R(K))},Q=function(K){var J=P(K),ie=d(P(K));if(K.isNode()){switch(K.pstyle("text-halign").value){case"left":ie.x=-J.w-(J.leftPad||0);break;case"right":ie.x=-(J.rightPad||0);break}switch(K.pstyle("text-valign").value){case"top":ie.y=-J.h-(J.topPad||0);break;case"bottom":ie.y=-(J.botPad||0);break}}return ie},ue=e.data.eleTxrCache=new Fv(e,{getKey:p,doesEleInvalidateKey:y,drawElement:_,getBoundingBox:S,getRotationPoint:k,getRotationOffset:W,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ce=e.data.lblTxrCache=new Fv(e,{getKey:g,drawElement:w,getBoundingBox:P,getRotationPoint:z,getRotationOffset:Q,isVisible:D}),ae=e.data.slbTxrCache=new Fv(e,{getKey:b,drawElement:O,getBoundingBox:I,getRotationPoint:F,getRotationOffset:Y,isVisible:D}),pe=e.data.tlbTxrCache=new Fv(e,{getKey:m,drawElement:E,getBoundingBox:R,getRotationPoint:U,getRotationOffset:X,isVisible:D}),fe=e.data.lyrTxrCache=new vA(e);e.onUpdateEleCalcs(function(K,J){ue.invalidateElements(J),ce.invalidateElements(J),ae.invalidateElements(J),pe.invalidateElements(J),fe.invalidateElements(J);for(var ie=0;ie<J.length;ie++){var de=J[ie]._private;de.oldBackgroundTimestamp=de.backgroundTimestamp}});var he=function(K){for(var J=0;J<K.length;J++)fe.enqueueElementRefinement(K[J].ele)};ue.onDequeue(he),ce.onDequeue(he),ae.onDequeue(he),pe.onDequeue(he),r.webgl&&e.initWebgl(r,{getStyleKey:p,getLabelKey:g,getSourceLabelKey:b,getTargetLabelKey:m,drawElement:_,drawLabel:w,drawSourceLabel:O,drawTargetLabel:E,getElementBox:S,getLabelBox:P,getSourceLabelBox:I,getTargetLabelBox:R,getElementRotationPoint:k,getElementRotationOffset:W,getLabelRotationPoint:z,getSourceLabelRotationPoint:F,getTargetLabelRotationPoint:U,getLabelRotationOffset:Q,getSourceLabelRotationOffset:Y,getTargetLabelRotationOffset:X})}fr.redrawHint=function(r,e){var t=this;switch(r){case"eles":t.data.canvasNeedsRedraw[fr.NODE]=e;break;case"drag":t.data.canvasNeedsRedraw[fr.DRAG]=e;break;case"select":t.data.canvasNeedsRedraw[fr.SELECT_BOX]=e;break;case"gc":t.data.gc=!0;break}};var aY=typeof Path2D<"u";fr.path2dEnabled=function(r){if(r===void 0)return this.pathsEnabled;this.pathsEnabled=!!r};fr.usePaths=function(){return aY&&this.pathsEnabled};fr.setImgSmoothing=function(r,e){r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled=e:(r.webkitImageSmoothingEnabled=e,r.mozImageSmoothingEnabled=e,r.msImageSmoothingEnabled=e)};fr.getImgSmoothing=function(r){return r.imageSmoothingEnabled!=null?r.imageSmoothingEnabled:r.webkitImageSmoothingEnabled||r.mozImageSmoothingEnabled||r.msImageSmoothingEnabled};fr.makeOffscreenCanvas=function(r,e){var t;if((typeof OffscreenCanvas>"u"?"undefined":ri(OffscreenCanvas))!=="undefined")t=new OffscreenCanvas(r,e);else{var n=this.cy.window(),i=n.document;t=i.createElement("canvas"),t.width=r,t.height=e}return t};[pA,As,du,xE,Lc,vl,to,_A,pl,cp,TA].forEach(function(r){Nt(fr,r)});var sY=[{name:"null",impl:tA},{name:"base",impl:fA},{name:"canvas",impl:oY}],uY=[{type:"layout",extensions:MW},{type:"renderer",extensions:sY}],PA={},AA={};function RA(r,e,t){var n=t,i=function(S){Gr("Can not register `"+e+"` for `"+r+"` since `"+S+"` already exists in the prototype and can not be overridden")};if(r==="core"){if(Zv.prototype[e])return i(e);Zv.prototype[e]=t}else if(r==="collection"){if(Ti.prototype[e])return i(e);Ti.prototype[e]=t}else if(r==="layout"){for(var o=function(S){this.options=S,t.call(this,S),Dr(this._private)||(this._private={}),this._private.cy=S.cy,this._private.listeners=[],this.createEmitter()},a=o.prototype=Object.create(t.prototype),u=[],s=0;s<u.length;s++){var l=u[s];a[l]=a[l]||function(){return this}}a.start&&!a.run?a.run=function(){return this.start(),this}:!a.start&&a.run&&(a.start=function(){return this.run(),this});var c=t.prototype.stop;a.stop=function(){var E=this.options;if(E&&E.animate){var S=this.animations;if(S)for(var P=0;P<S.length;P++)S[P].stop()}return c?c.call(this):this.emit("layoutstop"),this},a.destroy||(a.destroy=function(){return this}),a.cy=function(){return this._private.cy};var f=function(S){return S._private.cy},h={addEventFields:function(S,P){P.layout=S,P.cy=f(S),P.target=S},bubble:function(){return!0},parent:function(S){return f(S)}};Nt(a,{createEmitter:function(){return this._private.emitter=new i0(h,this),this},emitter:function(){return this._private.emitter},on:function(S,P){return this.emitter().on(S,P),this},one:function(S,P){return this.emitter().one(S,P),this},once:function(S,P){return this.emitter().one(S,P),this},removeListener:function(S,P){return this.emitter().removeListener(S,P),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(S,P){return this.emitter().emit(S,P),this}}),qr.eventAliasesOn(a),n=o}else if(r==="renderer"&&e!=="null"&&e!=="base"){var v=IA("renderer","base"),d=v.prototype,y=t,p=t.prototype,g=function(){v.apply(this,arguments),y.apply(this,arguments)},b=g.prototype;for(var m in d){var _=d[m],w=p[m]!=null;if(w)return i(m);b[m]=_}for(var O in p)b[O]=p[O];d.clientFunctions.forEach(function(E){b[E]=b[E]||function(){mn("Renderer does not implement `renderer."+E+"()` on its prototype")}}),n=g}else if(r==="__proto__"||r==="constructor"||r==="prototype")return mn(r+" is an illegal type to be registered, possibly lead to prototype pollutions");return K2({map:PA,keys:[r,e],value:n})}function IA(r,e){return $2({map:PA,keys:[r,e]})}function lY(r,e,t,n,i){return K2({map:AA,keys:[r,e,t,n],value:i})}function cY(r,e,t,n){return $2({map:AA,keys:[r,e,t,n]})}var Jw=function(){if(arguments.length===2)return IA.apply(null,arguments);if(arguments.length===3)return RA.apply(null,arguments);if(arguments.length===4)return cY.apply(null,arguments);if(arguments.length===5)return lY.apply(null,arguments);mn("Invalid extension access syntax")};Zv.prototype.extension=Jw;uY.forEach(function(r){r.extensions.forEach(function(e){RA(r.type,e.name,e.impl)})});var Ym=function(){if(!(this instanceof Ym))return new Ym;this.length=0},kc=Ym.prototype;kc.instanceString=function(){return"stylesheet"};kc.selector=function(r){var e=this.length++;return this[e]={selector:r,properties:[]},this};kc.css=function(r,e){var t=this.length-1;if(St(r))this[t].properties.push({name:r,value:e});else if(Dr(r))for(var n=r,i=Object.keys(n),o=0;o<i.length;o++){var a=i[o],u=n[a];if(u!=null){var s=vi.properties[a]||vi.properties[Xm(a)];if(s!=null){var l=s.name,c=u;this[t].properties.push({name:l,value:c})}}}return this};kc.style=kc.css;kc.generateStyle=function(r){var e=new vi(r);return this.appendToStyle(e)};kc.appendToStyle=function(r){for(var e=0;e<this.length;e++){var t=this[e],n=t.selector,i=t.properties;r.selector(n);for(var o=0;o<i.length;o++){var a=i[o];r.css(a.name,a.value)}}return r};var fY="3.33.1",fu=function(e){if(e===void 0&&(e={}),Dr(e))return new Zv(e);if(St(e))return Jw.apply(Jw,arguments)};fu.use=function(r){var e=Array.prototype.slice.call(arguments,1);return e.unshift(fu),r.apply(null,e),this};fu.warnings=function(r){return nP(r)};fu.version=fY;fu.stylesheet=fu.Stylesheet=Ym;var MA=wc(DA(),1);fu.use(MA.default);var hY="cose-bilkent",kA=(r,e)=>{let t=fu({headless:!0,styleEnabled:!1});t.add(r);let n={};return t.layout({name:hY,animate:!1,spacingFactor:e,quality:"default",tile:!1,randomize:!0,stop:()=>{t.nodes().forEach(o=>{n[o.id()]={...o.position()}})}}).run(),{positions:n}};var RE=class{start(){}postMessage(e){let{elements:t,spacingFactor:n}=e,i=kA(t,n);this.onmessage({data:i})}onmessage(){}close(){}},NA={port:new RE};var LA=()=>new SharedWorker(new URL("./CoseBilkentLayout.worker.js",import.meta.url),{type:"module",name:"CoseBilkentLayout"});var zx=wc(c3(),1),x3=wc(p3(),1),O3=wc(ta(),1);var g3="tight-tree";var jx="up",G0="down",Ole="left",Bx="right",y3={[jx]:"BT",[G0]:"TB",[Ole]:"RL",[Bx]:"LR"},m3="bin";var b3=25;var _3=1/.38;var Sle=r=>r===jx||r===G0,Tle=r=>r===G0||r===Bx,Fx=r=>{let e=null,t=null,n=null,i=null,o=null,a=null,u=null,s=null;for(let l of r.nodes()){let c=r.node(l);(o===null||c.x<o)&&(o=c.x),(a===null||c.y<a)&&(a=c.y),(u===null||c.x>u)&&(u=c.x),(s===null||c.y>s)&&(s=c.y);let f=Math.ceil(c.width/2);(e===null||c.x-f<e)&&(e=c.x-f),(t===null||c.y-f<t)&&(t=c.y-f),(n===null||c.x+f>n)&&(n=c.x+f),(i===null||c.y+f>i)&&(i=c.y+f)}return{minX:e,minY:t,maxX:n,maxY:i,minCenterX:o,minCenterY:a,maxCenterX:u,maxCenterY:s,width:n-e,height:i-t,xOffset:o-e,yOffset:a-t}},S3=r=>{let e=new zx.default.graphlib.Graph;return e.setGraph({}),e.setDefaultEdgeLabel(()=>({})),e.graph().nodesep=75*r,e.graph().ranksep=75*r,e},w3=(r,e,t)=>{let{rank:n}=t.node(r),i=null,o=null;for(let a of e){let{rank:u}=t.node(a);if(!(a===r||u>=n))if(u===n-1){i=u,o=a;break}else(i===null&&o===null||u>i)&&(i=u,o=a)}return o},Cle=(r,e)=>{let t=w3(r,e.predecessors(r),e);return t===null&&(t=w3(r,e.successors(r),e)),t},Ple=(r,e)=>{let t=[],n=O3.default.alg.components(r);if(n.length>1)for(let i of n){let o=S3(e);for(let a of i){let u=r.node(a);o.setNode(a,{width:u.width,height:u.height});let s=r.outEdges(a);if(s)for(let l of s)o.setEdge(l.v,l.w)}t.push(o)}else t.push(r);return t},E3=(r,e,t)=>{r.graph().ranker=g3,r.graph().rankdir=y3[e];let n=zx.default.layout(r);for(let i of n.nodes()){let o=Cle(i,n);o!==null&&(t[i]=o)}},Ux=(r,e)=>Math.sqrt((r.x-e.x)*(r.x-e.x)+(r.y-e.y)*(r.y-e.y)),Ale=r=>{let e=[r[0]],t={p1:r[0],p2:r[1]},n=Ux(t.p1,t.p2);for(let i=2;i<r.length;i++){let o={p1:r[i-1],p2:r[i]},a=Ux(o.p1,o.p2),u={p1:t.p1,p2:o.p2},s=Ux(u.p1,u.p2);a+n-s<.1&&(e.pop(),o=u,a=s),e.push(o.p1),t=o,n=a}return e.push(r[r.length-1]),e},T3=(r,e,t,n,i,o,a=1)=>{let u=S3(a),s={},l={x:0,y:0},c=r.length;for(let m of r){let _=t[m.id];l.x+=_?.x||0,l.y+=_?.y||0;let w=(m.size||b3)*_3*a;u.setNode(m.id,{width:w,height:w})}let f=c?[l.x/c,l.y/c]:[0,0],h={};for(let m of n)if(e[m.from]&&e[m.to]&&m.from!==m.to){let _=m.from<m.to?`${m.from}-${m.to}`:`${m.to}-${m.from}`;h[_]||(h[_]=1,u.setEdge(m.from,m.to))}let v=Ple(u,a);if(v.length>1){v.forEach(E=>E3(E,i,s));let m=Sle(i),_=Tle(i),w=v.filter(E=>E.nodeCount()===1),O=v.filter(E=>E.nodeCount()!==1);if(o===m3){O.sort((F,U)=>U.nodeCount()-F.nodeCount());let P=m?({width:F,height:U,...W})=>({...W,width:F+100,height:U+100}):({width:F,height:U,...W})=>({...W,width:U+100,height:F+100}),I=O.map(Fx).map(P),R=w.map(Fx).map(P),D=I.concat(R);(0,x3.default)(D,{inPlace:!0});let k=Math.floor(100/2),N=m?"x":"y",B=m?"y":"x";if(!_){let F=m?"y":"x",U=m?"height":"width",W=D.reduce((X,Q)=>X===null?Q[F]:Math.min(Q[F],X[U]||0),null),Y=D.reduce((X,Q)=>X===null?Q[F]+Q[U]:Math.max(Q[F]+Q[U],X[U]||0),null);D.forEach(X=>{X[F]=W+(Y-(X[F]+X[U]))})}let z=(F,U)=>{for(let W of F.nodes()){let Y=F.node(W),X=u.node(W);X.x=Y.x-U.xOffset+U[N]+k,X.y=Y.y-U.yOffset+U[B]+k}};for(let F=0;F<O.length;F++){let U=O[F],W=I[F];z(U,W)}for(let F=0;F<w.length;F++){let U=w[F],W=R[F];z(U,W)}}else{O.sort(_?(U,W)=>W.nodeCount()-U.nodeCount():(U,W)=>U.nodeCount()-W.nodeCount());let E=O.map(Fx),S=w.reduce((U,W)=>U+u.node(W.nodes()[0]).width,0),P=w.reduce((U,W)=>Math.max(U,u.node(W.nodes()[0]).width),0),I=w.length>0?S+(w.length-1)*100:0,R=E.reduce((U,{width:W})=>Math.max(U,W),0),D=Math.max(R,I),k=E.reduce((U,{height:W})=>Math.max(U,W),0),N=Math.max(k,I),B=0,z=()=>{for(let U=0;U<O.length;U++){let W=O[U],Y=E[U],X=Math.floor(m?(D-Y.width)/2:(N-Y.height)/2);for(let Q of W.nodes()){let ue=W.node(Q),ce=u.node(Q);m?(ce.x=ue.x-Y.minX+X,ce.y=ue.y-Y.minY+B):(ce.x=ue.x-Y.minX+B,ce.y=ue.y-Y.minY+X)}for(let Q of W.edges()){let ue=W.edge(Q),ce=u.edge(Q);ue.points&&ue.points.length>3&&(ce.points=ue.points.map(({x:ae,y:pe})=>({x:ae-Y.minX+(m?X:B),y:pe-Y.minY+(m?B:X)})))}B+=(m?Y.height:Y.width)+100}},F=()=>{let U=Math.floor(((m?D:N)-I)/2);B+=Math.floor(P/2);let W=U;for(let Y of w){let X=Y.nodes()[0],Q=u.node(X);m?(Q.x=W+Math.floor(Q.width/2),Q.y=B):(Q.x=B,Q.y=W+Math.floor(Q.width/2)),W+=100+Q.width}B=P+100};_?(z(),F()):(F(),z())}}else E3(u,i,s);l.x=0,l.y=0;let d={};for(let m of u.nodes()){let _=u.node(m);l.x+=_.x||0,l.y+=_.y||0,d[m]={x:_.x,y:_.y}}let y=c?[l.x/c,l.y/c]:[0,0],p=f[0]-y[0],g=f[1]-y[1];for(let m in d)d[m].x+=p,d[m].y+=g;let b={};for(let m of u.edges()){let _=u.edge(m);if(_.points&&_.points.length>3){let w=Ale(_.points);for(let O of w)O.x+=p,O.y+=g;b[`${m.v}-${m.w}`]={points:[...w],from:{x:d[m.v].x,y:d[m.v].y},to:{x:d[m.w].x,y:d[m.w].y}},b[`${m.w}-${m.v}`]={points:w.reverse(),from:{x:d[m.w].x,y:d[m.w].y},to:{x:d[m.v].x,y:d[m.v].y}}}}return{positions:d,parents:s,waypoints:b}};var qx=class{start(){}postMessage(e){let{nodes:t,nodeIds:n,idToPosition:i,rels:o,direction:a,packing:u,pixelRatio:s,forcedDelay:l=0}=e,c=T3(t,n,i,o,a,u,s);l?setTimeout(()=>{this.onmessage({data:c})},l):this.onmessage({data:c})}onmessage(){}close(){}},C3={port:new qx};var P3=()=>new SharedWorker(new URL("./HierarchicalLayout.worker.js",import.meta.url),{type:"module",name:"HierarchicalLayout"});var Rle={5:function(r,e,t){var n=this&&this.__extends||function(){var m=function(_,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,E){O.__proto__=E}||function(O,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(O[S]=E[S])},m(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function O(){this.constructor=_}m(_,w),_.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var i=t(1018),o=t(8014),a=t(3413),u=t(7315),s=t(1342),l=t(9052),c=t(9155),f=t(9223),h=function(m){function _(w){var O=m.call(this)||this;return O.isStopped=!1,w?(O.destination=w,o.isSubscription(w)&&w.add(O)):O.destination=e.EMPTY_OBSERVER,O}return n(_,m),_.create=function(w,O,E){return new p(w,O,E)},_.prototype.next=function(w){this.isStopped?b(l.nextNotification(w),this):this._next(w)},_.prototype.error=function(w){this.isStopped?b(l.errorNotification(w),this):(this.isStopped=!0,this._error(w))},_.prototype.complete=function(){this.isStopped?b(l.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},_.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,m.prototype.unsubscribe.call(this),this.destination=null)},_.prototype._next=function(w){this.destination.next(w)},_.prototype._error=function(w){try{this.destination.error(w)}finally{this.unsubscribe()}},_.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},_}(o.Subscription);e.Subscriber=h;var v=Function.prototype.bind;function d(m,_){return v.call(m,_)}var y=function(){function m(_){this.partialObserver=_}return m.prototype.next=function(_){var w=this.partialObserver;if(w.next)try{w.next(_)}catch(O){g(O)}},m.prototype.error=function(_){var w=this.partialObserver;if(w.error)try{w.error(_)}catch(O){g(O)}else g(_)},m.prototype.complete=function(){var _=this.partialObserver;if(_.complete)try{_.complete()}catch(w){g(w)}},m}(),p=function(m){function _(w,O,E){var S,P,I=m.call(this)||this;return i.isFunction(w)||!w?S={next:w??void 0,error:O??void 0,complete:E??void 0}:I&&a.config.useDeprecatedNextContext?((P=Object.create(w)).unsubscribe=function(){return I.unsubscribe()},S={next:w.next&&d(w.next,P),error:w.error&&d(w.error,P),complete:w.complete&&d(w.complete,P)}):S=w,I.destination=new y(S),I}return n(_,m),_}(h);function g(m){a.config.useDeprecatedSynchronousErrorHandling?f.captureError(m):u.reportUnhandledError(m)}function b(m,_){var w=a.config.onStoppedNotification;w&&c.timeoutProvider.setTimeout(function(){return w(m,_)})}e.SafeSubscriber=p,e.EMPTY_OBSERVER={closed:!0,next:s.noop,error:function(m){throw m},complete:s.noop}},45:function(r,e){var t=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function o(a){this.position=0,this.length=a}return o.prototype.getUInt8=function(a){throw new Error("Not implemented")},o.prototype.getInt8=function(a){throw new Error("Not implemented")},o.prototype.getFloat64=function(a){throw new Error("Not implemented")},o.prototype.getVarInt=function(a){throw new Error("Not implemented")},o.prototype.putUInt8=function(a,u){throw new Error("Not implemented")},o.prototype.putInt8=function(a,u){throw new Error("Not implemented")},o.prototype.putFloat64=function(a,u){throw new Error("Not implemented")},o.prototype.getInt16=function(a){return this.getInt8(a)<<8|this.getUInt8(a+1)},o.prototype.getUInt16=function(a){return this.getUInt8(a)<<8|this.getUInt8(a+1)},o.prototype.getInt32=function(a){return this.getInt8(a)<<24|this.getUInt8(a+1)<<16|this.getUInt8(a+2)<<8|this.getUInt8(a+3)},o.prototype.getUInt32=function(a){return this.getUInt8(a)<<24|this.getUInt8(a+1)<<16|this.getUInt8(a+2)<<8|this.getUInt8(a+3)},o.prototype.getInt64=function(a){return this.getInt8(a)<<56|this.getUInt8(a+1)<<48|this.getUInt8(a+2)<<40|this.getUInt8(a+3)<<32|this.getUInt8(a+4)<<24|this.getUInt8(a+5)<<16|this.getUInt8(a+6)<<8|this.getUInt8(a+7)},o.prototype.getSlice=function(a,u){return new i(a,u,this)},o.prototype.putInt16=function(a,u){this.putInt8(a,u>>8),this.putUInt8(a+1,255&u)},o.prototype.putUInt16=function(a,u){this.putUInt8(a,u>>8&255),this.putUInt8(a+1,255&u)},o.prototype.putInt32=function(a,u){this.putInt8(a,u>>24),this.putUInt8(a+1,u>>16&255),this.putUInt8(a+2,u>>8&255),this.putUInt8(a+3,255&u)},o.prototype.putUInt32=function(a,u){this.putUInt8(a,u>>24&255),this.putUInt8(a+1,u>>16&255),this.putUInt8(a+2,u>>8&255),this.putUInt8(a+3,255&u)},o.prototype.putInt64=function(a,u){this.putInt8(a,u>>48),this.putUInt8(a+1,u>>42&255),this.putUInt8(a+2,u>>36&255),this.putUInt8(a+3,u>>30&255),this.putUInt8(a+4,u>>24&255),this.putUInt8(a+5,u>>16&255),this.putUInt8(a+6,u>>8&255),this.putUInt8(a+7,255&u)},o.prototype.putVarInt=function(a,u){for(var s=0;u>1;){var l=u%128;u>=128&&(l+=128),u/=128,this.putUInt8(a+s,l),s+=1}return s},o.prototype.putBytes=function(a,u){for(var s=0,l=u.remaining();s<l;s++)this.putUInt8(a+s,u.readUInt8())},o.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},o.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},o.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},o.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},o.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},o.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},o.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},o.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},o.prototype.readVarInt=function(){var a=this.getVarInt(this.position);return this._updatePos(a.length),a.value},o.prototype.writeUInt8=function(a){this.putUInt8(this._updatePos(1),a)},o.prototype.writeInt8=function(a){this.putInt8(this._updatePos(1),a)},o.prototype.writeInt16=function(a){this.putInt16(this._updatePos(2),a)},o.prototype.writeInt32=function(a){this.putInt32(this._updatePos(4),a)},o.prototype.writeUInt32=function(a){this.putUInt32(this._updatePos(4),a)},o.prototype.writeInt64=function(a){this.putInt64(this._updatePos(8),a)},o.prototype.writeFloat64=function(a){this.putFloat64(this._updatePos(8),a)},o.prototype.writeVarInt=function(a){var u=this.putVarInt(this.position,a);this._updatePos(u)},o.prototype.writeBytes=function(a){this.putBytes(this._updatePos(a.remaining()),a)},o.prototype.readSlice=function(a){return this.getSlice(this._updatePos(a),a)},o.prototype._updatePos=function(a){var u=this.position;return this.position+=a,u},o.prototype.remaining=function(){return this.length-this.position},o.prototype.hasRemaining=function(){return this.remaining()>0},o.prototype.reset=function(){this.position=0},o.prototype.toString=function(){return this.constructor.name+"( position="+this.position+` )
  `+this.toHex()},o.prototype.toHex=function(){for(var a="",u=0;u<this.length;u++){var s=this.getUInt8(u).toString(16);s.length===1&&(s="0"+s),a+=s,u!==this.length-1&&(a+=" ")}return a},o}();e.default=n;var i=function(o){function a(u,s,l){var c=o.call(this,s)||this;return c._start=u,c._inner=l,c}return t(a,o),a.prototype.putUInt8=function(u,s){this._inner.putUInt8(this._start+u,s)},a.prototype.getUInt8=function(u){return this._inner.getUInt8(this._start+u)},a.prototype.putInt8=function(u,s){this._inner.putInt8(this._start+u,s)},a.prototype.putFloat64=function(u,s){this._inner.putFloat64(this._start+u,s)},a.prototype.getInt8=function(u){return this._inner.getInt8(this._start+u)},a.prototype.getFloat64=function(u){return this._inner.getFloat64(this._start+u)},a}(n)},93:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getBrokenObjectReason=e.isBrokenObject=e.createBrokenObject=void 0;var t="__isBrokenObject__",n="__reason__";e.createBrokenObject=function(i,o){o===void 0&&(o={});var a=function(){throw i};return new Proxy(o,{get:function(u,s){return s===t||(s===n?i:void(s!=="toJSON"&&a()))},set:a,apply:a,construct:a,defineProperty:a,deleteProperty:a,getOwnPropertyDescriptor:a,getPrototypeOf:a,has:a,isExtensible:a,ownKeys:a,preventExtensions:a,setPrototypeOf:a})},e.isBrokenObject=function(i){return i!==null&&typeof i=="object"&&i[t]===!0},e.getBrokenObjectReason=function(i){return i[n]}},95:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncSubject=void 0;var i=function(o){function a(){var u=o!==null&&o.apply(this,arguments)||this;return u._value=null,u._hasValue=!1,u._isComplete=!1,u}return n(a,o),a.prototype._checkFinalizedStatuses=function(u){var s=this,l=s.hasError,c=s._hasValue,f=s._value,h=s.thrownError,v=s.isStopped,d=s._isComplete;l?u.error(h):(v||d)&&(c&&u.next(f),u.complete())},a.prototype.next=function(u){this.isStopped||(this._value=u,this._hasValue=!0)},a.prototype.complete=function(){var u=this,s=u._hasValue,l=u._value;u._isComplete||(this._isComplete=!0,s&&o.prototype.next.call(this,l),o.prototype.complete.call(this))},a}(t(2483).Subject);e.AsyncSubject=i},137:r=>{r.exports=class{constructor(e,t,n,i){let o;if(typeof e=="object"){let a=e;e=a.k_p,t=a.k_i,n=a.k_d,i=a.dt,o=a.i_max}this.k_p=typeof e=="number"?e:1,this.k_i=t||0,this.k_d=n||0,this.dt=i||0,this.i_max=o||0,this.sumError=0,this.lastError=0,this.lastTime=0,this.target=0}setTarget(e){this.target=e}update(e){this.currentValue=e;let t=this.dt;if(!t){let o=Date.now();t=this.lastTime===0?0:(o-this.lastTime)/1e3,this.lastTime=o}typeof t=="number"&&t!==0||(t=1);let n=this.target-this.currentValue;if(this.sumError=this.sumError+n*t,this.i_max>0&&Math.abs(this.sumError)>this.i_max){let o=this.sumError>0?1:-1;this.sumError=o*this.i_max}let i=(n-this.lastError)/t;return this.lastError=n,this.k_p*n+this.k_i*this.sumError+this.k_d*i}reset(){this.sumError=0,this.lastError=0,this.lastTime=0}}},182:function(r,e,t){var n=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.VirtualAction=e.VirtualTimeScheduler=void 0;var i=t(5267),o=t(8014),a=function(s){function l(c,f){c===void 0&&(c=u),f===void 0&&(f=1/0);var h=s.call(this,c,function(){return h.frame})||this;return h.maxFrames=f,h.frame=0,h.index=-1,h}return n(l,s),l.prototype.flush=function(){for(var c,f,h=this.actions,v=this.maxFrames;(f=h[0])&&f.delay<=v&&(h.shift(),this.frame=f.delay,!(c=f.execute(f.state,f.delay))););if(c){for(;f=h.shift();)f.unsubscribe();throw c}},l.frameTimeFactor=10,l}(t(5648).AsyncScheduler);e.VirtualTimeScheduler=a;var u=function(s){function l(c,f,h){h===void 0&&(h=c.index+=1);var v=s.call(this,c,f)||this;return v.scheduler=c,v.work=f,v.index=h,v.active=!0,v.index=c.index=h,v}return n(l,s),l.prototype.schedule=function(c,f){if(f===void 0&&(f=0),Number.isFinite(f)){if(!this.id)return s.prototype.schedule.call(this,c,f);this.active=!1;var h=new l(this.scheduler,this.work);return this.add(h),h.schedule(c,f)}return o.Subscription.EMPTY},l.prototype.requestAsyncId=function(c,f,h){h===void 0&&(h=0),this.delay=c.frame+h;var v=c.actions;return v.push(this),v.sort(l.sortActions),1},l.prototype.recycleAsyncId=function(c,f,h){h===void 0&&(h=0)},l.prototype._execute=function(c,f){if(this.active===!0)return s.prototype._execute.call(this,c,f)},l.sortActions=function(c,f){return c.delay===f.delay?c.index===f.index?0:c.index>f.index?1:-1:c.delay>f.delay?1:-1},l}(i.AsyncAction);e.VirtualAction=u},187:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.zipAll=void 0;var n=t(7286),i=t(3638);e.zipAll=function(o){return i.joinAllInternals(n.zip,o)}},206:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingTable=e.Rediscovery=void 0;var i=n(t(4151));e.Rediscovery=i.default;var o=n(t(9018));e.RoutingTable=o.default,e.default=i.default},245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.not=void 0,e.not=function(t,n){return function(i,o){return!t.call(n,i,o)}}},269:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.startWith=void 0;var n=t(3865),i=t(1107),o=t(7843);e.startWith=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var s=i.popScheduler(a);return o.operate(function(l,c){(s?n.concat(a,l,s):n.concat(a,l)).subscribe(c)})}},326:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TELEMETRY_APIS=e.BOLT_PROTOCOL_V5_8=e.BOLT_PROTOCOL_V5_7=e.BOLT_PROTOCOL_V5_6=e.BOLT_PROTOCOL_V5_5=e.BOLT_PROTOCOL_V5_4=e.BOLT_PROTOCOL_V5_3=e.BOLT_PROTOCOL_V5_2=e.BOLT_PROTOCOL_V5_1=e.BOLT_PROTOCOL_V5_0=e.BOLT_PROTOCOL_V4_4=e.BOLT_PROTOCOL_V4_3=e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.DEFAULT_POOL_MAX_SIZE=e.DEFAULT_POOL_ACQUISITION_TIMEOUT=e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=e.FETCH_ALL=void 0,e.FETCH_ALL=-1,e.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,e.DEFAULT_POOL_MAX_SIZE=100,e.DEFAULT_CONNECTION_TIMEOUT_MILLIS=3e4,e.ACCESS_MODE_READ="READ",e.ACCESS_MODE_WRITE="WRITE",e.BOLT_PROTOCOL_V1=1,e.BOLT_PROTOCOL_V2=2,e.BOLT_PROTOCOL_V3=3,e.BOLT_PROTOCOL_V4_0=4,e.BOLT_PROTOCOL_V4_1=4.1,e.BOLT_PROTOCOL_V4_2=4.2,e.BOLT_PROTOCOL_V4_3=4.3,e.BOLT_PROTOCOL_V4_4=4.4,e.BOLT_PROTOCOL_V5_0=5,e.BOLT_PROTOCOL_V5_1=5.1,e.BOLT_PROTOCOL_V5_2=5.2,e.BOLT_PROTOCOL_V5_3=5.3,e.BOLT_PROTOCOL_V5_4=5.4,e.BOLT_PROTOCOL_V5_5=5.5,e.BOLT_PROTOCOL_V5_6=5.6,e.BOLT_PROTOCOL_V5_7=5.7,e.BOLT_PROTOCOL_V5_8=5.8,e.TELEMETRY_APIS={MANAGED_TRANSACTION:0,UNMANAGED_TRANSACTION:1,AUTO_COMMIT_TRANSACTION:2,EXECUTE_QUERY:3}},347:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromEventPattern=void 0;var n=t(4662),i=t(1018),o=t(1251);e.fromEventPattern=function a(u,s,l){return l?a(u,s).pipe(o.mapOneOrManyArgs(l)):new n.Observable(function(c){var f=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];return c.next(v.length===1?v[0]:v)},h=u(f);return i.isFunction(s)?function(){return s(f,h)}:void 0})}},361:function(r,e,t){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,v,d=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=d.next()).done;)y.push(h.value)}catch(p){v={error:p}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(v)throw v.error}}return y},i=this&&this.__spreadArray||function(l,c){for(var f=0,h=c.length,v=l.length;f<h;f++,v++)l[v]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var o=t(7843),a=t(7302),u=t(1107),s=t(4917);e.merge=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=u.popScheduler(l),h=u.popNumber(l,1/0);return o.operate(function(v,d){a.mergeAll(h)(s.from(i([v],n(l)),f)).subscribe(d)})}},373:function(r,e,t){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(v[y]=d[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),i=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var o=i(t(45)),a=t(5319),u=i(t(5553)),s=function(c){function f(h,v){var d=c.call(this,0)||this;return d._bufferSize=v||1400,d._ch=h,d._buffer=(0,a.alloc)(d._bufferSize),d._currentChunkStart=0,d._chunkOpen=!1,d}return n(f,c),f.prototype.putUInt8=function(h,v){this._ensure(1),this._buffer.writeUInt8(v)},f.prototype.putInt8=function(h,v){this._ensure(1),this._buffer.writeInt8(v)},f.prototype.putFloat64=function(h,v){this._ensure(8),this._buffer.writeFloat64(v)},f.prototype.putBytes=function(h,v){for(;v.remaining()>0;)this._ensure(1),this._buffer.remaining()>v.remaining()?this._buffer.writeBytes(v):this._buffer.writeBytes(v.readSlice(this._buffer.remaining()));return this},f.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var h=this._buffer;this._buffer=null,this._ch.write(h.getSlice(0,h.position)),this._buffer=(0,a.alloc)(this._bufferSize),this._chunkOpen=!1}return this},f.prototype.messageBoundary=function(){this._closeChunkIfOpen(),this._buffer.remaining()<2&&this.flush(),this._buffer.writeInt16(0)},f.prototype._ensure=function(h){var v=this._chunkOpen?h:h+2;this._buffer.remaining()<v&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},f.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var h=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,h),this._chunkOpen=!1}},f}(o.default);e.Chunker=s;var l=function(){function c(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return c.prototype.AWAITING_CHUNK=function(f){return f.remaining()>=2?this._onHeader(f.readUInt16()):(this._partialChunkHeader=f.readUInt8()<<8,this.IN_HEADER)},c.prototype.IN_HEADER=function(f){return this._onHeader(65535&(this._partialChunkHeader|f.readUInt8()))},c.prototype.IN_CHUNK=function(f){return this._chunkSize<=f.remaining()?(this._currentMessage.push(f.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=f.remaining(),this._currentMessage.push(f.readSlice(f.remaining())),this.IN_CHUNK)},c.prototype.CLOSED=function(f){},c.prototype._onHeader=function(f){if(f===0){var h=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:h=this._currentMessage[0];break;default:h=new u.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(h),this.AWAITING_CHUNK}return this._chunkSize=f,this.IN_CHUNK},c.prototype.write=function(f){for(;f.hasRemaining();)this._state=this._state(f)},c}();e.Dechunker=l},378:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defaultIfEmpty=void 0;var n=t(7843),i=t(3111);e.defaultIfEmpty=function(o){return n.operate(function(a,u){var s=!1;a.subscribe(i.createOperatorSubscriber(u,function(l){s=!0,u.next(l)},function(){s||u.next(o),u.complete()}))})}},397:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.assertNotificationFilterIsEmpty=e.assertImpersonatedUserIsEmpty=e.assertTxConfigIsEmpty=e.assertDatabaseIsEmpty=void 0;var n=t(9305);t(9014),e.assertTxConfigIsEmpty=function(i,o,a){if(o===void 0&&(o=function(){}),i&&!i.isEmpty()){var u=(0,n.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw o(u.message),a.onError(u),u}},e.assertDatabaseIsEmpty=function(i,o,a){if(o===void 0&&(o=function(){}),i){var u=(0,n.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw o(u.message),a.onError(u),u}},e.assertImpersonatedUserIsEmpty=function(i,o,a){if(o===void 0&&(o=function(){}),i){var u=(0,n.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. "+"Trying to impersonate ".concat(i,"."));throw o(u.message),a.onError(u),u}},e.assertNotificationFilterIsEmpty=function(i,o,a){if(o===void 0&&(o=function(){}),i!==void 0){var u=(0,n.newError)("Driver is connected to a database that does not support user notification filters. Please upgrade to Neo4j 5.7.0 or later in order to use this functionality. "+"Trying to set notifications to ".concat(n.json.stringify(i),"."));throw o(u.message),a.onError(u),u}}},407:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,v=arguments.length;h<v;h++)for(var d in f=arguments[h])Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var v,d,y=h.call(c),p=[];try{for(;(f===void 0||f-- >0)&&!(v=y.next()).done;)p.push(v.value)}catch(g){d={error:g}}finally{try{v&&!v.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return p};Object.defineProperty(e,"__esModule",{value:!0}),e.Url=e.formatIPv6Address=e.formatIPv4Address=e.defaultPortForScheme=e.parseDatabaseUrl=void 0;var o=t(6587),a=function(c,f,h,v,d){this.scheme=c,this.host=f,this.port=h,this.hostAndPort=v,this.query=d};function u(c,f,h){if((c=(c??"").trim())==="")throw new Error("Illegal empty ".concat(f," in URL query '").concat(h,"'"));return c}function s(c){var f=c.charAt(0)==="[",h=c.charAt(c.length-1)==="]";if(f||h){if(f&&h)return c;throw new Error("Illegal IPv6 address ".concat(c))}return"[".concat(c,"]")}function l(c){return c==="http"?7474:c==="https"?7473:7687}e.Url=a,e.parseDatabaseUrl=function(c){var f;(0,o.assertString)(c,"URL");var h,v=function(w){return(w=w.trim()).includes("://")?{schemeMissing:!1,url:w}:{schemeMissing:!0,url:"none://".concat(w)}}(c),d=function(w){function O(P,I){var R=P.indexOf(I);return R>=0?[P.substring(0,R),P[R],P.substring(R+1)]:[P,"",""]}var E,S={};return(E=O(w,":"))[1]===":"&&(S.scheme=decodeURIComponent(E[0]),w=E[2]),(E=O(w,"#"))[1]==="#"&&(S.fragment=decodeURIComponent(E[2]),w=E[0]),(E=O(w,"?"))[1]==="?"&&(S.query=E[2],w=E[0]),w.startsWith("//")?(E=O(w.substr(2),"/"),(S=n(n({},S),function(P){var I,R,D,k,N={};(R=P,D="@",k=R.lastIndexOf(D),I=k>=0?[R.substring(0,k),R[k],R.substring(k+1)]:["","",R])[1]==="@"&&(N.userInfo=decodeURIComponent(I[0]),P=I[2]);var B=i(function(U,W,Y){var X=O(U,W),Q=O(X[2],Y);return[Q[0],Q[2]]}(P,"[","]"),2),z=B[0],F=B[1];return z!==""?(N.host=z,I=O(F,":")):(I=O(P,":"),N.host=I[0]),I[1]===":"&&(N.port=I[2]),N}(E[0]))).path=E[1]+E[2]):S.path=w,S}(v.url),y=v.schemeMissing?null:function(w){return w!=null?((w=w.trim()).charAt(w.length-1)===":"&&(w=w.substring(0,w.length-1)),w):null}(d.scheme),p=function(w){if(w==null)throw new Error("Unable to extract host from null or undefined URL");return w.trim()}(d.host),g=function(w){if(w===""||w==null)throw new Error("Illegal host ".concat(w));return w.includes(":")?s(w):w}(p),b=function(w,O){var E=typeof w=="string"?parseInt(w,10):w;return E==null||isNaN(E)?l(O):E}(d.port,y),m="".concat(g,":").concat(b),_=function(w,O){var E=w!=null?function(P){return((P=(P??"").trim())==null?void 0:P.charAt(0))==="?"&&(P=P.substring(1,P.length)),P}(w):null,S={};return E?.split("&").forEach(function(P){var I=P.split("=");if(I.length!==2)throw new Error("Invalid parameters: '".concat(I.toString(),"' in URL '").concat(O,"'."));var R=u(I[0],"key",O),D=u(I[1],"value",O);if(S[R]!==void 0)throw new Error("Duplicated query parameters with key '".concat(R,"' in URL '").concat(O,"'"));S[R]=D}),S}((f=d.query)!==null&&f!==void 0?f:typeof(h=d.resourceName)!="string"?null:i(h.split("?"),2)[1],c);return new a(y,p,b,m,_)},e.formatIPv4Address=function(c,f){return"".concat(c,":").concat(f)},e.formatIPv6Address=function(c,f){var h=s(c);return"".concat(h,":").concat(f)},e.defaultPortForScheme=l},481:(r,e,t)=>{r.exports=t(137)},489:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TimeInterval=e.timeInterval=void 0;var n=t(7961),i=t(7843),o=t(3111);e.timeInterval=function(u){return u===void 0&&(u=n.asyncScheduler),i.operate(function(s,l){var c=u.now();s.subscribe(o.createOperatorSubscriber(l,function(f){var h=u.now(),v=h-c;c=h,l.next(new a(f,v))}))})};var a=function(u,s){this.value=u,this.interval=s};e.TimeInterval=a},490:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ignoreElements=void 0;var n=t(7843),i=t(3111),o=t(1342);e.ignoreElements=function(){return n.operate(function(a,u){a.subscribe(i.createOperatorSubscriber(u,o.noop))})}},582:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sequenceEqual=void 0;var n=t(7843),i=t(3111),o=t(9445);e.sequenceEqual=function(a,u){return u===void 0&&(u=function(s,l){return s===l}),n.operate(function(s,l){var c={buffer:[],complete:!1},f={buffer:[],complete:!1},h=function(d){l.next(d),l.complete()},v=function(d,y){var p=i.createOperatorSubscriber(l,function(g){var b=y.buffer,m=y.complete;b.length===0?m?h(!1):d.buffer.push(g):!u(g,b.shift())&&h(!1)},function(){d.complete=!0;var g=y.complete,b=y.buffer;g&&h(b.length===0),p?.unsubscribe()});return p};s.subscribe(v(c,f)),o.innerFrom(a).subscribe(v(f,c))})}},614:function(r,e){var t=this&&this.__awaiter||function(i,o,a,u){return new(a||(a=Promise))(function(s,l){function c(v){try{h(u.next(v))}catch(d){l(d)}}function f(v){try{h(u.throw(v))}catch(d){l(d)}}function h(v){var d;v.done?s(v.value):(d=v.value,d instanceof a?d:new a(function(y){y(d)})).then(c,f)}h((u=u.apply(i,o||[])).next())})},n=this&&this.__generator||function(i,o){var a,u,s,l,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return l={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function f(h){return function(v){return function(d){if(a)throw new TypeError("Generator is already executing.");for(;l&&(l=0,d[0]&&(c=0)),c;)try{if(a=1,u&&(s=2&d[0]?u.return:d[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,d[1])).done)return s;switch(u=0,s&&(d=[2&d[0],s.value]),d[0]){case 0:case 1:s=d;break;case 4:return c.label++,{value:d[1],done:!1};case 5:c.label++,u=d[1],d=[0];continue;case 7:d=c.ops.pop(),c.trys.pop();continue;default:if(!((s=(s=c.trys).length>0&&s[s.length-1])||d[0]!==6&&d[0]!==2)){c=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){c.label=d[1];break}if(d[0]===6&&c.label<s[1]){c.label=s[1],s=d;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(d);break}s[2]&&c.ops.pop(),c.trys.pop();continue}d=o.call(i,c)}catch(y){d=[6,y],u=0}finally{a=s=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([h,v])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.default={load:function(i){return t(this,void 0,void 0,function(){return n(this,function(o){return[2,i]})})}}},715:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){this._offset=i||0}return n.prototype.next=function(i){if(i===0)return-1;var o=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),o%i},n}();e.default=t},754:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,h,v,d){d===void 0&&(d=v);var y=Object.getOwnPropertyDescriptor(h,v);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(f,d,y)}:function(f,h,v,d){d===void 0&&(d=v),f[d]=h[v]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),o=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&n(h,f,v);return i(h,f),h};Object.defineProperty(e,"__esModule",{value:!0}),e.TxConfig=void 0;var a=o(t(6587)),u=t(9691),s=t(3371),l=function(){function f(h,v){(function(d){d!=null&&a.assertObject(d,"Transaction config")})(h),this.timeout=function(d,y){if(a.isObject(d)&&d.timeout!=null){a.assertNumberOrInteger(d.timeout,"Transaction timeout"),function(g){return typeof g.timeout=="number"&&!Number.isInteger(g.timeout)}(d)&&y?.isInfoEnabled()===!0&&y?.info("Transaction timeout expected to be an integer, got: ".concat(d.timeout,". The value will be rounded up."));var p=(0,s.int)(d.timeout,{ceilFloat:!0});if(p.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return p}return null}(h,v),this.metadata=function(d){if(a.isObject(d)&&d.metadata!=null){var y=d.metadata;if(a.assertObject(y,"config.metadata"),Object.keys(y).length!==0)return y}return null}(h)}return f.empty=function(){return c},f.prototype.isEmpty=function(){return Object.values(this).every(function(h){return h==null})},f}();e.TxConfig=l;var c=new l({})},766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publish=void 0;var n=t(2483),i=t(9247),o=t(1483);e.publish=function(a){return a?function(u){return o.connect(a)(u)}:function(u){return i.multicast(new n.Subject)(u)}}},783:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.filter=void 0;var n=t(7843),i=t(3111);e.filter=function(o,a){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){return o.call(a,c,l++)&&s.next(c)}))})}},827:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapScheduler=void 0;var i=function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return n(a,o),a.prototype.flush=function(u){this._active=!0;var s=this._scheduled;this._scheduled=void 0;var l,c=this.actions;u=u||c.shift();do if(l=u.execute(u.state,u.delay))break;while((u=c[0])&&u.id===s&&c.shift());if(this._active=!1,l){for(;(u=c[0])&&u.id===s&&c.shift();)u.unsubscribe();throw l}},a}(t(5648).AsyncScheduler);e.AsapScheduler=i},844:function(r,e,t){var n=this&&this.__extends||function(){var v=function(d,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(p[b]=g[b])},v(d,y)};return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function p(){this.constructor=d}v(d,y),d.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),i=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(1711)),a=t(397),u=i(t(7449)),s=i(t(3321)),l=i(t(7021)),c=t(9014),f=t(9305).internal.constants.BOLT_PROTOCOL_V5_0,h=function(v){function d(){return v!==null&&v.apply(this,arguments)||this}return n(d,v),Object.defineProperty(d.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(p){return p(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),d.prototype.initialize=function(y){var p=this,g=y===void 0?{}:y,b=g.userAgent,m=(g.boltAgent,g.authToken),_=g.notificationFilter,w=g.onError,O=g.onComplete,E=new c.LoginObserver({onError:function(S){return p._onLoginError(S,w)},onCompleted:function(S){return p._onLoginCompleted(S,m,O)}});return(0,a.assertNotificationFilterIsEmpty)(_,this._onProtocolError,E),this.write(l.default.hello(b,m,this._serversideRouting),E,!0),E},d}(o.default);e.default=h},846:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.take=void 0;var n=t(8616),i=t(7843),o=t(3111);e.take=function(a){return a<=0?function(){return n.EMPTY}:i.operate(function(u,s){var l=0;u.subscribe(o.createOperatorSubscriber(s,function(c){++l<=a&&(s.next(c),a<=l&&s.complete())}))})}},854:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleAsyncIterable=void 0;var n=t(4662),i=t(7110);e.scheduleAsyncIterable=function(o,a){if(!o)throw new Error("Iterable cannot be null");return new n.Observable(function(u){i.executeSchedule(u,a,function(){var s=o[Symbol.asyncIterator]();i.executeSchedule(u,a,function(){s.next().then(function(l){l.done?u.complete():u.next(l.value)})},0,!0)})})}},914:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0;var n=t(7961),i=t(8766),o=t(4092);e.delay=function(a,u){u===void 0&&(u=n.asyncScheduler);var s=o.timer(a,u);return i.delayWhen(function(){return s})}},934:function(r,e,t){var n=this&&this.__extends||function(){var y=function(p,g){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(b[_]=m[_])},y(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function b(){this.constructor=p}y(p,g),p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(y){for(var p,g=1,b=arguments.length;g<b;g++)for(var m in p=arguments[g])Object.prototype.hasOwnProperty.call(p,m)&&(y[m]=p[m]);return y},i.apply(this,arguments)},o=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(6345)),u=o(t(3019)),s=o(t(3321)),l=o(t(7021)),c=t(9014),f=t(9305).internal.constants,h=f.BOLT_PROTOCOL_V5_2,v=f.FETCH_ALL,d=function(y){function p(){return y!==null&&y.apply(this,arguments)||this}return n(p,y),Object.defineProperty(p.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"transformer",{get:function(){var g=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(b){return b(g._config,g._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),p.prototype.initialize=function(g){var b=this,m=g===void 0?{}:g,_=m.userAgent,w=(m.boltAgent,m.authToken),O=m.notificationFilter,E=m.onError,S=m.onComplete,P={},I=new c.LoginObserver({onError:function(R){return b._onLoginError(R,E)},onCompleted:function(R){return P.metadata=R,b._onLoginCompleted(R)}});return this.write(l.default.hello5x2(_,O,this._serversideRouting),I,!1),this.logon({authToken:w,onComplete:function(R){return S(i(i({},R),P.metadata))},onError:E,flush:!0})},p.prototype.beginTransaction=function(g){var b=g===void 0?{}:g,m=b.bookmarks,_=b.txConfig,w=b.database,O=b.mode,E=b.impersonatedUser,S=b.notificationFilter,P=b.beforeError,I=b.afterError,R=b.beforeComplete,D=b.afterComplete,k=new c.ResultStreamObserver({server:this._server,beforeError:P,afterError:I,beforeComplete:R,afterComplete:D});return k.prepareToHandleSingleResponse(),this.write(l.default.begin({bookmarks:m,txConfig:_,database:w,mode:O,impersonatedUser:E,notificationFilter:S}),k,!0),k},p.prototype.run=function(g,b,m){var _=m===void 0?{}:m,w=_.bookmarks,O=_.txConfig,E=_.database,S=_.mode,P=_.impersonatedUser,I=_.notificationFilter,R=_.beforeKeys,D=_.afterKeys,k=_.beforeError,N=_.afterError,B=_.beforeComplete,z=_.afterComplete,F=_.flush,U=F===void 0||F,W=_.reactive,Y=W!==void 0&&W,X=_.fetchSize,Q=X===void 0?v:X,ue=_.highRecordWatermark,ce=ue===void 0?Number.MAX_VALUE:ue,ae=_.lowRecordWatermark,pe=ae===void 0?Number.MAX_VALUE:ae,fe=new c.ResultStreamObserver({server:this._server,reactive:Y,fetchSize:Q,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:R,afterKeys:D,beforeError:k,afterError:N,beforeComplete:B,afterComplete:z,highRecordWatermark:ce,lowRecordWatermark:pe}),he=Y;return this.write(l.default.runWithMetadata(g,b,{bookmarks:w,txConfig:O,database:E,mode:S,impersonatedUser:P,notificationFilter:I}),fe,he&&U),Y||this.write(l.default.pull({n:Q}),fe,U),fe},p}(a.default);e.default=d},983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMap=void 0;var n=t(5471),i=t(9445),o=t(7843),a=t(1983),u=t(1018);e.mergeMap=function s(l,c,f){return f===void 0&&(f=1/0),u.isFunction(c)?s(function(h,v){return n.map(function(d,y){return c(h,d,v,y)})(i.innerFrom(l(h,v)))},f):(typeof c=="number"&&(f=c),o.operate(function(h,v){return a.mergeInternals(h,v,l,f)}))}},1004:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.of=void 0;var n=t(1107),i=t(4917);e.of=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var u=n.popScheduler(o);return i.from(o,u)}},1018:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=void 0,e.isFunction=function(t){return typeof t=="function"}},1038:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.count=void 0;var n=t(9139);e.count=function(i){return n.reduce(function(o,a,u){return!i||i(a,u)?o+1:o},0)}},1048:(r,e,t)=>{let n=t(7991),i=t(9318),o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(j){return+j!=j&&(j=0),s.alloc(+j)},e.INSPECT_MAX_BYTES=50;let a=2147483647;function u(j){if(j>a)throw new RangeError('The value "'+j+'" is invalid for option "size"');let G=new Uint8Array(j);return Object.setPrototypeOf(G,s.prototype),G}function s(j,G,H){if(typeof j=="number"){if(typeof G=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(j)}return l(j,G,H)}function l(j,G,H){if(typeof j=="string")return function(ye,we){if(typeof we=="string"&&we!==""||(we="utf8"),!s.isEncoding(we))throw new TypeError("Unknown encoding: "+we);let je=0|y(ye,we),ze=u(je),rt=ze.write(ye,we);return rt!==je&&(ze=ze.slice(0,rt)),ze}(j,G);if(ArrayBuffer.isView(j))return function(ye){if(de(ye,Uint8Array)){let we=new Uint8Array(ye);return v(we.buffer,we.byteOffset,we.byteLength)}return h(ye)}(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(de(j,ArrayBuffer)||j&&de(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(j,SharedArrayBuffer)||j&&de(j.buffer,SharedArrayBuffer)))return v(j,G,H);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let oe=j.valueOf&&j.valueOf();if(oe!=null&&oe!==j)return s.from(oe,G,H);let ve=function(ye){if(s.isBuffer(ye)){let we=0|d(ye.length),je=u(we);return je.length===0||ye.copy(je,0,0,we),je}return ye.length!==void 0?typeof ye.length!="number"||_e(ye.length)?u(0):h(ye):ye.type==="Buffer"&&Array.isArray(ye.data)?h(ye.data):void 0}(j);if(ve)return ve;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return s.from(j[Symbol.toPrimitive]("string"),G,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}function c(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function f(j){return c(j),u(j<0?0:0|d(j))}function h(j){let G=j.length<0?0:0|d(j.length),H=u(G);for(let oe=0;oe<G;oe+=1)H[oe]=255&j[oe];return H}function v(j,G,H){if(G<0||j.byteLength<G)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<G+(H||0))throw new RangeError('"length" is outside of buffer bounds');let oe;return oe=G===void 0&&H===void 0?new Uint8Array(j):H===void 0?new Uint8Array(j,G):new Uint8Array(j,G,H),Object.setPrototypeOf(oe,s.prototype),oe}function d(j){if(j>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|j}function y(j,G){if(s.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||de(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);let H=j.length,oe=arguments.length>2&&arguments[2]===!0;if(!oe&&H===0)return 0;let ve=!1;for(;;)switch(G){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return K(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*H;case"hex":return H>>>1;case"base64":return J(j).length;default:if(ve)return oe?-1:K(j).length;G=(""+G).toLowerCase(),ve=!0}}function p(j,G,H){let oe=!1;if((G===void 0||G<0)&&(G=0),G>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0)<=(G>>>=0))return"";for(j||(j="utf8");;)switch(j){case"hex":return N(this,G,H);case"utf8":case"utf-8":return I(this,G,H);case"ascii":return D(this,G,H);case"latin1":case"binary":return k(this,G,H);case"base64":return P(this,G,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,G,H);default:if(oe)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),oe=!0}}function g(j,G,H){let oe=j[G];j[G]=j[H],j[H]=oe}function b(j,G,H,oe,ve){if(j.length===0)return-1;if(typeof H=="string"?(oe=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),_e(H=+H)&&(H=ve?0:j.length-1),H<0&&(H=j.length+H),H>=j.length){if(ve)return-1;H=j.length-1}else if(H<0){if(!ve)return-1;H=0}if(typeof G=="string"&&(G=s.from(G,oe)),s.isBuffer(G))return G.length===0?-1:m(j,G,H,oe,ve);if(typeof G=="number")return G&=255,typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(j,G,H):Uint8Array.prototype.lastIndexOf.call(j,G,H):m(j,[G],H,oe,ve);throw new TypeError("val must be string, number or Buffer")}function m(j,G,H,oe,ve){let ye,we=1,je=j.length,ze=G.length;if(oe!==void 0&&((oe=String(oe).toLowerCase())==="ucs2"||oe==="ucs-2"||oe==="utf16le"||oe==="utf-16le")){if(j.length<2||G.length<2)return-1;we=2,je/=2,ze/=2,H/=2}function rt(Ze,Je){return we===1?Ze[Je]:Ze.readUInt16BE(Je*we)}if(ve){let Ze=-1;for(ye=H;ye<je;ye++)if(rt(j,ye)===rt(G,Ze===-1?0:ye-Ze)){if(Ze===-1&&(Ze=ye),ye-Ze+1===ze)return Ze*we}else Ze!==-1&&(ye-=ye-Ze),Ze=-1}else for(H+ze>je&&(H=je-ze),ye=H;ye>=0;ye--){let Ze=!0;for(let Je=0;Je<ze;Je++)if(rt(j,ye+Je)!==rt(G,Je)){Ze=!1;break}if(Ze)return ye}return-1}function _(j,G,H,oe){H=Number(H)||0;let ve=j.length-H;oe?(oe=Number(oe))>ve&&(oe=ve):oe=ve;let ye=G.length,we;for(oe>ye/2&&(oe=ye/2),we=0;we<oe;++we){let je=parseInt(G.substr(2*we,2),16);if(_e(je))return we;j[H+we]=je}return we}function w(j,G,H,oe){return ie(K(G,j.length-H),j,H,oe)}function O(j,G,H,oe){return ie(function(ve){let ye=[];for(let we=0;we<ve.length;++we)ye.push(255&ve.charCodeAt(we));return ye}(G),j,H,oe)}function E(j,G,H,oe){return ie(J(G),j,H,oe)}function S(j,G,H,oe){return ie(function(ve,ye){let we,je,ze,rt=[];for(let Ze=0;Ze<ve.length&&!((ye-=2)<0);++Ze)we=ve.charCodeAt(Ze),je=we>>8,ze=we%256,rt.push(ze),rt.push(je);return rt}(G,j.length-H),j,H,oe)}function P(j,G,H){return G===0&&H===j.length?n.fromByteArray(j):n.fromByteArray(j.slice(G,H))}function I(j,G,H){H=Math.min(j.length,H);let oe=[],ve=G;for(;ve<H;){let ye=j[ve],we=null,je=ye>239?4:ye>223?3:ye>191?2:1;if(ve+je<=H){let ze,rt,Ze,Je;switch(je){case 1:ye<128&&(we=ye);break;case 2:ze=j[ve+1],(192&ze)==128&&(Je=(31&ye)<<6|63&ze,Je>127&&(we=Je));break;case 3:ze=j[ve+1],rt=j[ve+2],(192&ze)==128&&(192&rt)==128&&(Je=(15&ye)<<12|(63&ze)<<6|63&rt,Je>2047&&(Je<55296||Je>57343)&&(we=Je));break;case 4:ze=j[ve+1],rt=j[ve+2],Ze=j[ve+3],(192&ze)==128&&(192&rt)==128&&(192&Ze)==128&&(Je=(15&ye)<<18|(63&ze)<<12|(63&rt)<<6|63&Ze,Je>65535&&Je<1114112&&(we=Je))}}we===null?(we=65533,je=1):we>65535&&(we-=65536,oe.push(we>>>10&1023|55296),we=56320|1023&we),oe.push(we),ve+=je}return function(ye){let we=ye.length;if(we<=R)return String.fromCharCode.apply(String,ye);let je="",ze=0;for(;ze<we;)je+=String.fromCharCode.apply(String,ye.slice(ze,ze+=R));return je}(oe)}e.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=function(){try{let j=new Uint8Array(1),G={foo:function(){return 42}};return Object.setPrototypeOf(G,Uint8Array.prototype),Object.setPrototypeOf(j,G),j.foo()===42}catch{return!1}}(),s.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(j,G,H){return l(j,G,H)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(j,G,H){return function(oe,ve,ye){return c(oe),oe<=0?u(oe):ve!==void 0?typeof ye=="string"?u(oe).fill(ve,ye):u(oe).fill(ve):u(oe)}(j,G,H)},s.allocUnsafe=function(j){return f(j)},s.allocUnsafeSlow=function(j){return f(j)},s.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==s.prototype},s.compare=function(j,G){if(de(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),de(G,Uint8Array)&&(G=s.from(G,G.offset,G.byteLength)),!s.isBuffer(j)||!s.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===G)return 0;let H=j.length,oe=G.length;for(let ve=0,ye=Math.min(H,oe);ve<ye;++ve)if(j[ve]!==G[ve]){H=j[ve],oe=G[ve];break}return H<oe?-1:oe<H?1:0},s.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(j,G){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return s.alloc(0);let H;if(G===void 0)for(G=0,H=0;H<j.length;++H)G+=j[H].length;let oe=s.allocUnsafe(G),ve=0;for(H=0;H<j.length;++H){let ye=j[H];if(de(ye,Uint8Array))ve+ye.length>oe.length?(s.isBuffer(ye)||(ye=s.from(ye)),ye.copy(oe,ve)):Uint8Array.prototype.set.call(oe,ye,ve);else{if(!s.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(oe,ve)}ve+=ye.length}return oe},s.byteLength=y,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let j=this.length;if(j%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<j;G+=2)g(this,G,G+1);return this},s.prototype.swap32=function(){let j=this.length;if(j%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<j;G+=4)g(this,G,G+3),g(this,G+1,G+2);return this},s.prototype.swap64=function(){let j=this.length;if(j%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<j;G+=8)g(this,G,G+7),g(this,G+1,G+6),g(this,G+2,G+5),g(this,G+3,G+4);return this},s.prototype.toString=function(){let j=this.length;return j===0?"":arguments.length===0?I(this,0,j):p.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(j){if(!s.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j||s.compare(this,j)===0},s.prototype.inspect=function(){let j="",G=e.INSPECT_MAX_BYTES;return j=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(j+=" ... "),"<Buffer "+j+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(j,G,H,oe,ve){if(de(j,Uint8Array)&&(j=s.from(j,j.offset,j.byteLength)),!s.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if(G===void 0&&(G=0),H===void 0&&(H=j?j.length:0),oe===void 0&&(oe=0),ve===void 0&&(ve=this.length),G<0||H>j.length||oe<0||ve>this.length)throw new RangeError("out of range index");if(oe>=ve&&G>=H)return 0;if(oe>=ve)return-1;if(G>=H)return 1;if(this===j)return 0;let ye=(ve>>>=0)-(oe>>>=0),we=(H>>>=0)-(G>>>=0),je=Math.min(ye,we),ze=this.slice(oe,ve),rt=j.slice(G,H);for(let Ze=0;Ze<je;++Ze)if(ze[Ze]!==rt[Ze]){ye=ze[Ze],we=rt[Ze];break}return ye<we?-1:we<ye?1:0},s.prototype.includes=function(j,G,H){return this.indexOf(j,G,H)!==-1},s.prototype.indexOf=function(j,G,H){return b(this,j,G,H,!0)},s.prototype.lastIndexOf=function(j,G,H){return b(this,j,G,H,!1)},s.prototype.write=function(j,G,H,oe){if(G===void 0)oe="utf8",H=this.length,G=0;else if(H===void 0&&typeof G=="string")oe=G,H=this.length,G=0;else{if(!isFinite(G))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");G>>>=0,isFinite(H)?(H>>>=0,oe===void 0&&(oe="utf8")):(oe=H,H=void 0)}let ve=this.length-G;if((H===void 0||H>ve)&&(H=ve),j.length>0&&(H<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let ye=!1;for(;;)switch(oe){case"hex":return _(this,j,G,H);case"utf8":case"utf-8":return w(this,j,G,H);case"ascii":case"latin1":case"binary":return O(this,j,G,H);case"base64":return E(this,j,G,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,j,G,H);default:if(ye)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ye=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};let R=4096;function D(j,G,H){let oe="";H=Math.min(j.length,H);for(let ve=G;ve<H;++ve)oe+=String.fromCharCode(127&j[ve]);return oe}function k(j,G,H){let oe="";H=Math.min(j.length,H);for(let ve=G;ve<H;++ve)oe+=String.fromCharCode(j[ve]);return oe}function N(j,G,H){let oe=j.length;(!G||G<0)&&(G=0),(!H||H<0||H>oe)&&(H=oe);let ve="";for(let ye=G;ye<H;++ye)ve+=Ce[j[ye]];return ve}function B(j,G,H){let oe=j.slice(G,H),ve="";for(let ye=0;ye<oe.length-1;ye+=2)ve+=String.fromCharCode(oe[ye]+256*oe[ye+1]);return ve}function z(j,G,H){if(j%1!=0||j<0)throw new RangeError("offset is not uint");if(j+G>H)throw new RangeError("Trying to access beyond buffer length")}function F(j,G,H,oe,ve,ye){if(!s.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(G>ve||G<ye)throw new RangeError('"value" argument is out of bounds');if(H+oe>j.length)throw new RangeError("Index out of range")}function U(j,G,H,oe,ve){pe(G,oe,ve,j,H,7);let ye=Number(G&BigInt(4294967295));j[H++]=ye,ye>>=8,j[H++]=ye,ye>>=8,j[H++]=ye,ye>>=8,j[H++]=ye;let we=Number(G>>BigInt(32)&BigInt(4294967295));return j[H++]=we,we>>=8,j[H++]=we,we>>=8,j[H++]=we,we>>=8,j[H++]=we,H}function W(j,G,H,oe,ve){pe(G,oe,ve,j,H,7);let ye=Number(G&BigInt(4294967295));j[H+7]=ye,ye>>=8,j[H+6]=ye,ye>>=8,j[H+5]=ye,ye>>=8,j[H+4]=ye;let we=Number(G>>BigInt(32)&BigInt(4294967295));return j[H+3]=we,we>>=8,j[H+2]=we,we>>=8,j[H+1]=we,we>>=8,j[H]=we,H+8}function Y(j,G,H,oe,ve,ye){if(H+oe>j.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function X(j,G,H,oe,ve){return G=+G,H>>>=0,ve||Y(j,0,H,4),i.write(j,G,H,oe,23,4),H+4}function Q(j,G,H,oe,ve){return G=+G,H>>>=0,ve||Y(j,0,H,8),i.write(j,G,H,oe,52,8),H+8}s.prototype.slice=function(j,G){let H=this.length;(j=~~j)<0?(j+=H)<0&&(j=0):j>H&&(j=H),(G=G===void 0?H:~~G)<0?(G+=H)<0&&(G=0):G>H&&(G=H),G<j&&(G=j);let oe=this.subarray(j,G);return Object.setPrototypeOf(oe,s.prototype),oe},s.prototype.readUintLE=s.prototype.readUIntLE=function(j,G,H){j>>>=0,G>>>=0,H||z(j,G,this.length);let oe=this[j],ve=1,ye=0;for(;++ye<G&&(ve*=256);)oe+=this[j+ye]*ve;return oe},s.prototype.readUintBE=s.prototype.readUIntBE=function(j,G,H){j>>>=0,G>>>=0,H||z(j,G,this.length);let oe=this[j+--G],ve=1;for(;G>0&&(ve*=256);)oe+=this[j+--G]*ve;return oe},s.prototype.readUint8=s.prototype.readUInt8=function(j,G){return j>>>=0,G||z(j,1,this.length),this[j]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(j,G){return j>>>=0,G||z(j,2,this.length),this[j]|this[j+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(j,G){return j>>>=0,G||z(j,2,this.length),this[j]<<8|this[j+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(j,G){return j>>>=0,G||z(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+16777216*this[j+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(j,G){return j>>>=0,G||z(j,4,this.length),16777216*this[j]+(this[j+1]<<16|this[j+2]<<8|this[j+3])},s.prototype.readBigUInt64LE=Ae(function(j){fe(j>>>=0,"offset");let G=this[j],H=this[j+7];G!==void 0&&H!==void 0||he(j,this.length-8);let oe=G+256*this[++j]+65536*this[++j]+this[++j]*2**24,ve=this[++j]+256*this[++j]+65536*this[++j]+H*2**24;return BigInt(oe)+(BigInt(ve)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ae(function(j){fe(j>>>=0,"offset");let G=this[j],H=this[j+7];G!==void 0&&H!==void 0||he(j,this.length-8);let oe=G*2**24+65536*this[++j]+256*this[++j]+this[++j],ve=this[++j]*2**24+65536*this[++j]+256*this[++j]+H;return(BigInt(oe)<<BigInt(32))+BigInt(ve)}),s.prototype.readIntLE=function(j,G,H){j>>>=0,G>>>=0,H||z(j,G,this.length);let oe=this[j],ve=1,ye=0;for(;++ye<G&&(ve*=256);)oe+=this[j+ye]*ve;return ve*=128,oe>=ve&&(oe-=Math.pow(2,8*G)),oe},s.prototype.readIntBE=function(j,G,H){j>>>=0,G>>>=0,H||z(j,G,this.length);let oe=G,ve=1,ye=this[j+--oe];for(;oe>0&&(ve*=256);)ye+=this[j+--oe]*ve;return ve*=128,ye>=ve&&(ye-=Math.pow(2,8*G)),ye},s.prototype.readInt8=function(j,G){return j>>>=0,G||z(j,1,this.length),128&this[j]?-1*(255-this[j]+1):this[j]},s.prototype.readInt16LE=function(j,G){j>>>=0,G||z(j,2,this.length);let H=this[j]|this[j+1]<<8;return 32768&H?4294901760|H:H},s.prototype.readInt16BE=function(j,G){j>>>=0,G||z(j,2,this.length);let H=this[j+1]|this[j]<<8;return 32768&H?4294901760|H:H},s.prototype.readInt32LE=function(j,G){return j>>>=0,G||z(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},s.prototype.readInt32BE=function(j,G){return j>>>=0,G||z(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},s.prototype.readBigInt64LE=Ae(function(j){fe(j>>>=0,"offset");let G=this[j],H=this[j+7];G!==void 0&&H!==void 0||he(j,this.length-8);let oe=this[j+4]+256*this[j+5]+65536*this[j+6]+(H<<24);return(BigInt(oe)<<BigInt(32))+BigInt(G+256*this[++j]+65536*this[++j]+this[++j]*2**24)}),s.prototype.readBigInt64BE=Ae(function(j){fe(j>>>=0,"offset");let G=this[j],H=this[j+7];G!==void 0&&H!==void 0||he(j,this.length-8);let oe=(G<<24)+65536*this[++j]+256*this[++j]+this[++j];return(BigInt(oe)<<BigInt(32))+BigInt(this[++j]*2**24+65536*this[++j]+256*this[++j]+H)}),s.prototype.readFloatLE=function(j,G){return j>>>=0,G||z(j,4,this.length),i.read(this,j,!0,23,4)},s.prototype.readFloatBE=function(j,G){return j>>>=0,G||z(j,4,this.length),i.read(this,j,!1,23,4)},s.prototype.readDoubleLE=function(j,G){return j>>>=0,G||z(j,8,this.length),i.read(this,j,!0,52,8)},s.prototype.readDoubleBE=function(j,G){return j>>>=0,G||z(j,8,this.length),i.read(this,j,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(j,G,H,oe){j=+j,G>>>=0,H>>>=0,oe||F(this,j,G,H,Math.pow(2,8*H)-1,0);let ve=1,ye=0;for(this[G]=255&j;++ye<H&&(ve*=256);)this[G+ye]=j/ve&255;return G+H},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(j,G,H,oe){j=+j,G>>>=0,H>>>=0,oe||F(this,j,G,H,Math.pow(2,8*H)-1,0);let ve=H-1,ye=1;for(this[G+ve]=255&j;--ve>=0&&(ye*=256);)this[G+ve]=j/ye&255;return G+H},s.prototype.writeUint8=s.prototype.writeUInt8=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,1,255,0),this[G]=255&j,G+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,2,65535,0),this[G]=255&j,this[G+1]=j>>>8,G+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,2,65535,0),this[G]=j>>>8,this[G+1]=255&j,G+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,4,4294967295,0),this[G+3]=j>>>24,this[G+2]=j>>>16,this[G+1]=j>>>8,this[G]=255&j,G+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,4,4294967295,0),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=255&j,G+4},s.prototype.writeBigUInt64LE=Ae(function(j,G=0){return U(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ae(function(j,G=0){return W(this,j,G,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(j,G,H,oe){if(j=+j,G>>>=0,!oe){let je=Math.pow(2,8*H-1);F(this,j,G,H,je-1,-je)}let ve=0,ye=1,we=0;for(this[G]=255&j;++ve<H&&(ye*=256);)j<0&&we===0&&this[G+ve-1]!==0&&(we=1),this[G+ve]=(j/ye|0)-we&255;return G+H},s.prototype.writeIntBE=function(j,G,H,oe){if(j=+j,G>>>=0,!oe){let je=Math.pow(2,8*H-1);F(this,j,G,H,je-1,-je)}let ve=H-1,ye=1,we=0;for(this[G+ve]=255&j;--ve>=0&&(ye*=256);)j<0&&we===0&&this[G+ve+1]!==0&&(we=1),this[G+ve]=(j/ye|0)-we&255;return G+H},s.prototype.writeInt8=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,1,127,-128),j<0&&(j=255+j+1),this[G]=255&j,G+1},s.prototype.writeInt16LE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,2,32767,-32768),this[G]=255&j,this[G+1]=j>>>8,G+2},s.prototype.writeInt16BE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,2,32767,-32768),this[G]=j>>>8,this[G+1]=255&j,G+2},s.prototype.writeInt32LE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,4,2147483647,-2147483648),this[G]=255&j,this[G+1]=j>>>8,this[G+2]=j>>>16,this[G+3]=j>>>24,G+4},s.prototype.writeInt32BE=function(j,G,H){return j=+j,G>>>=0,H||F(this,j,G,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[G]=j>>>24,this[G+1]=j>>>16,this[G+2]=j>>>8,this[G+3]=255&j,G+4},s.prototype.writeBigInt64LE=Ae(function(j,G=0){return U(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ae(function(j,G=0){return W(this,j,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(j,G,H){return X(this,j,G,!0,H)},s.prototype.writeFloatBE=function(j,G,H){return X(this,j,G,!1,H)},s.prototype.writeDoubleLE=function(j,G,H){return Q(this,j,G,!0,H)},s.prototype.writeDoubleBE=function(j,G,H){return Q(this,j,G,!1,H)},s.prototype.copy=function(j,G,H,oe){if(!s.isBuffer(j))throw new TypeError("argument should be a Buffer");if(H||(H=0),oe||oe===0||(oe=this.length),G>=j.length&&(G=j.length),G||(G=0),oe>0&&oe<H&&(oe=H),oe===H||j.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),j.length-G<oe-H&&(oe=j.length-G+H);let ve=oe-H;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,H,oe):Uint8Array.prototype.set.call(j,this.subarray(H,oe),G),ve},s.prototype.fill=function(j,G,H,oe){if(typeof j=="string"){if(typeof G=="string"?(oe=G,G=0,H=this.length):typeof H=="string"&&(oe=H,H=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!s.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(j.length===1){let ye=j.charCodeAt(0);(oe==="utf8"&&ye<128||oe==="latin1")&&(j=ye)}}else typeof j=="number"?j&=255:typeof j=="boolean"&&(j=Number(j));if(G<0||this.length<G||this.length<H)throw new RangeError("Out of range index");if(H<=G)return this;let ve;if(G>>>=0,H=H===void 0?this.length:H>>>0,j||(j=0),typeof j=="number")for(ve=G;ve<H;++ve)this[ve]=j;else{let ye=s.isBuffer(j)?j:s.from(j,oe),we=ye.length;if(we===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(ve=0;ve<H-G;++ve)this[ve+G]=ye[ve%we]}return this};let ue={};function ce(j,G,H){ue[j]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:G.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}function ae(j){let G="",H=j.length,oe=j[0]==="-"?1:0;for(;H>=oe+4;H-=3)G=`_${j.slice(H-3,H)}${G}`;return`${j.slice(0,H)}${G}`}function pe(j,G,H,oe,ve,ye){if(j>H||j<G){let we=typeof G=="bigint"?"n":"",je;throw je=ye>3?G===0||G===BigInt(0)?`>= 0${we} and < 2${we} ** ${8*(ye+1)}${we}`:`>= -(2${we} ** ${8*(ye+1)-1}${we}) and < 2 ** ${8*(ye+1)-1}${we}`:`>= ${G}${we} and <= ${H}${we}`,new ue.ERR_OUT_OF_RANGE("value",je,j)}(function(we,je,ze){fe(je,"offset"),we[je]!==void 0&&we[je+ze]!==void 0||he(je,we.length-(ze+1))})(oe,ve,ye)}function fe(j,G){if(typeof j!="number")throw new ue.ERR_INVALID_ARG_TYPE(G,"number",j)}function he(j,G,H){throw Math.floor(j)!==j?(fe(j,H),new ue.ERR_OUT_OF_RANGE(H||"offset","an integer",j)):G<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE(H||"offset",`>= ${H?1:0} and <= ${G}`,j)}ce("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ce("ERR_INVALID_ARG_TYPE",function(j,G){return`The "${j}" argument must be of type number. Received type ${typeof G}`},TypeError),ce("ERR_OUT_OF_RANGE",function(j,G,H){let oe=`The value of "${j}" is out of range.`,ve=H;return Number.isInteger(H)&&Math.abs(H)>2**32?ve=ae(String(H)):typeof H=="bigint"&&(ve=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(ve=ae(ve)),ve+="n"),oe+=` It must be ${G}. Received ${ve}`,oe},RangeError);let ee=/[^+/0-9A-Za-z-_]/g;function K(j,G){let H;G=G||1/0;let oe=j.length,ve=null,ye=[];for(let we=0;we<oe;++we){if(H=j.charCodeAt(we),H>55295&&H<57344){if(!ve){if(H>56319){(G-=3)>-1&&ye.push(239,191,189);continue}if(we+1===oe){(G-=3)>-1&&ye.push(239,191,189);continue}ve=H;continue}if(H<56320){(G-=3)>-1&&ye.push(239,191,189),ve=H;continue}H=65536+(ve-55296<<10|H-56320)}else ve&&(G-=3)>-1&&ye.push(239,191,189);if(ve=null,H<128){if((G-=1)<0)break;ye.push(H)}else if(H<2048){if((G-=2)<0)break;ye.push(H>>6|192,63&H|128)}else if(H<65536){if((G-=3)<0)break;ye.push(H>>12|224,H>>6&63|128,63&H|128)}else{if(!(H<1114112))throw new Error("Invalid code point");if((G-=4)<0)break;ye.push(H>>18|240,H>>12&63|128,H>>6&63|128,63&H|128)}}return ye}function J(j){return n.toByteArray(function(G){if((G=(G=G.split("=")[0]).trim().replace(ee,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(j))}function ie(j,G,H,oe){let ve;for(ve=0;ve<oe&&!(ve+H>=G.length||ve>=j.length);++ve)G[ve+H]=j[ve];return ve}function de(j,G){return j instanceof G||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===G.name}function _e(j){return j!=j}let Ce=function(){let j="0123456789abcdef",G=new Array(256);for(let H=0;H<16;++H){let oe=16*H;for(let ve=0;ve<16;++ve)G[oe+ve]=j[H]+j[ve]}return G}();function Ae(j){return typeof BigInt>"u"?xe:j}function xe(){throw new Error("BigInt not supported")}},1053:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.rawPolyfilledDiagnosticRecord=void 0,e.rawPolyfilledDiagnosticRecord={OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"},Object.freeze(e.rawPolyfilledDiagnosticRecord)},1074:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isValidDate=void 0,e.isValidDate=function(t){return t instanceof Date&&!isNaN(t)}},1092:function(r,e,t){var n=this&&this.__extends||function(){var d=function(y,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(g[m]=b[m])},d(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=y}d(y,p),y.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(6377)),a=i(t(6161)),u=i(t(3321)),s=i(t(7021)),l=t(9014),c=t(9305).internal.constants,f=c.BOLT_PROTOCOL_V5_8,h=c.FETCH_ALL,v=function(d){function y(){return d!==null&&d.apply(this,arguments)||this}return n(y,d),Object.defineProperty(y.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new u.default(Object.values(a.default).map(function(g){return g(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.run=function(p,g,b){var m=b===void 0?{}:b,_=m.bookmarks,w=m.txConfig,O=m.database,E=m.mode,S=m.impersonatedUser,P=m.notificationFilter,I=m.beforeKeys,R=m.afterKeys,D=m.beforeError,k=m.afterError,N=m.beforeComplete,B=m.afterComplete,z=m.flush,F=z===void 0||z,U=m.reactive,W=U!==void 0&&U,Y=m.fetchSize,X=Y===void 0?h:Y,Q=m.highRecordWatermark,ue=Q===void 0?Number.MAX_VALUE:Q,ce=m.lowRecordWatermark,ae=ce===void 0?Number.MAX_VALUE:ce,pe=m.onDb,fe=new l.ResultStreamObserver({server:this._server,reactive:W,fetchSize:X,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:I,afterKeys:R,beforeError:D,afterError:k,beforeComplete:N,afterComplete:B,highRecordWatermark:ue,lowRecordWatermark:ae,enrichMetadata:this._enrichMetadata,onDb:pe}),he=W;return this.write(s.default.runWithMetadata5x5(p,g,{bookmarks:_,txConfig:w,database:O,mode:E,impersonatedUser:S,notificationFilter:P}),fe,he&&F),W||this.write(s.default.pull({n:X}),fe,F),fe},y}(o.default);e.default=v},1103:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwError=void 0;var n=t(4662),i=t(1018);e.throwError=function(o,a){var u=i.isFunction(o)?o:function(){return o},s=function(l){return l.error(u())};return new n.Observable(a?function(l){return a.schedule(s,0,l)}:s)}},1107:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.popNumber=e.popScheduler=e.popResultSelector=void 0;var n=t(1018),i=t(8613);function o(a){return a[a.length-1]}e.popResultSelector=function(a){return n.isFunction(o(a))?a.pop():void 0},e.popScheduler=function(a){return i.isScheduler(o(a))?a.pop():void 0},e.popNumber=function(a,u){return typeof o(a)=="number"?a.pop():u}},1116:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isInteropObservable=void 0;var n=t(3327),i=t(1018);e.isInteropObservable=function(o){return i.isFunction(o[n.observable])}},1141:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowWhen=void 0;var n=t(2483),i=t(7843),o=t(3111),a=t(9445);e.windowWhen=function(u){return i.operate(function(s,l){var c,f,h=function(d){c.error(d),l.error(d)},v=function(){var d;f?.unsubscribe(),c?.complete(),c=new n.Subject,l.next(c.asObservable());try{d=a.innerFrom(u())}catch(y){return void h(y)}d.subscribe(f=o.createOperatorSubscriber(l,v,v,h))};v(),s.subscribe(o.createOperatorSubscriber(l,function(d){return c.next(d)},function(){c.complete(),l.complete()},h,function(){f?.unsubscribe(),c=null}))})}},1175:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(3448));e.default=n({},o.default)},1187:function(r,e,t){var n=this&&this.__awaiter||function(B,z,F,U){return new(F||(F=Promise))(function(W,Y){function X(ce){try{ue(U.next(ce))}catch(ae){Y(ae)}}function Q(ce){try{ue(U.throw(ce))}catch(ae){Y(ae)}}function ue(ce){var ae;ce.done?W(ce.value):(ae=ce.value,ae instanceof F?ae:new F(function(pe){pe(ae)})).then(X,Q)}ue((U=U.apply(B,z||[])).next())})},i=this&&this.__generator||function(B,z){var F,U,W,Y,X={label:0,sent:function(){if(1&W[0])throw W[1];return W[1]},trys:[],ops:[]};return Y={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(Y[Symbol.iterator]=function(){return this}),Y;function Q(ue){return function(ce){return function(ae){if(F)throw new TypeError("Generator is already executing.");for(;Y&&(Y=0,ae[0]&&(X=0)),X;)try{if(F=1,U&&(W=2&ae[0]?U.return:ae[0]?U.throw||((W=U.return)&&W.call(U),0):U.next)&&!(W=W.call(U,ae[1])).done)return W;switch(U=0,W&&(ae=[2&ae[0],W.value]),ae[0]){case 0:case 1:W=ae;break;case 4:return X.label++,{value:ae[1],done:!1};case 5:X.label++,U=ae[1],ae=[0];continue;case 7:ae=X.ops.pop(),X.trys.pop();continue;default:if(!((W=(W=X.trys).length>0&&W[W.length-1])||ae[0]!==6&&ae[0]!==2)){X=0;continue}if(ae[0]===3&&(!W||ae[1]>W[0]&&ae[1]<W[3])){X.label=ae[1];break}if(ae[0]===6&&X.label<W[1]){X.label=W[1],W=ae;break}if(W&&X.label<W[2]){X.label=W[2],X.ops.push(ae);break}W[2]&&X.ops.pop(),X.trys.pop();continue}ae=z.call(B,X)}catch(pe){ae=[6,pe],U=0}finally{F=W=0}if(5&ae[0])throw ae[1];return{value:ae[0]?ae[1]:void 0,done:!0}}([ue,ce])}}},o=this&&this.__importDefault||function(B){return B&&B.__esModule?B:{default:B}};Object.defineProperty(e,"__esModule",{value:!0}),e.UnboundRelationship=e.Relationship=e.Node=e.Record=e.ServerInfo=e.GqlStatusObject=e.Notification=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ResultSummary=e.RxResult=e.RxManagedTransaction=e.RxTransaction=e.RxSession=e.EagerResult=e.Result=e.ManagedTransaction=e.Transaction=e.Session=e.Driver=e.temporal=e.spatial=e.graph=e.error=e.routing=e.session=e.types=e.logging=e.auth=e.isRetriableError=e.Neo4jError=e.integer=e.isUnboundRelationship=e.isRelationship=e.isPathSegment=e.isPath=e.isNode=e.isDateTime=e.isLocalDateTime=e.isDate=e.isTime=e.isLocalTime=e.isDuration=e.isPoint=e.isInt=e.int=e.hasReachableServer=e.driver=e.authTokenManagers=void 0,e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.bookmarkManager=e.DateTime=e.LocalDateTime=e.Date=e.Time=e.LocalTime=e.Duration=e.Integer=e.Point=e.PathSegment=e.Path=void 0;var a=t(7857);Object.defineProperty(e,"Driver",{enumerable:!0,get:function(){return a.Driver}});var u=o(t(3659)),s=t(9305);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return s.authTokenManagers}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return s.Neo4jError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return s.isRetriableError}}),Object.defineProperty(e,"error",{enumerable:!0,get:function(){return s.error}}),Object.defineProperty(e,"Integer",{enumerable:!0,get:function(){return s.Integer}}),Object.defineProperty(e,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return s.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return s.Point}}),Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return s.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return s.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return s.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return s.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return s.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return s.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return s.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return s.isLocalTime}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return s.isNode}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return s.isPath}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return s.isPathSegment}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return s.isRelationship}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return s.isTime}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return s.isUnboundRelationship}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return s.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return s.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return s.Time}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return s.Node}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return s.Path}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return s.PathSegment}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return s.Relationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return s.UnboundRelationship}}),Object.defineProperty(e,"Record",{enumerable:!0,get:function(){return s.Record}}),Object.defineProperty(e,"ResultSummary",{enumerable:!0,get:function(){return s.ResultSummary}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return s.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return s.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return s.QueryStatistics}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return s.Notification}}),Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return s.GqlStatusObject}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return s.ServerInfo}}),Object.defineProperty(e,"Result",{enumerable:!0,get:function(){return s.Result}}),Object.defineProperty(e,"EagerResult",{enumerable:!0,get:function(){return s.EagerResult}}),Object.defineProperty(e,"auth",{enumerable:!0,get:function(){return s.auth}}),Object.defineProperty(e,"Session",{enumerable:!0,get:function(){return s.Session}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return s.Transaction}}),Object.defineProperty(e,"ManagedTransaction",{enumerable:!0,get:function(){return s.ManagedTransaction}}),Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return s.bookmarkManager}}),Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return s.routing}}),Object.defineProperty(e,"resultTransformers",{enumerable:!0,get:function(){return s.resultTransformers}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return s.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return s.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return s.notificationSeverityLevel}}),Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return s.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return s.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return s.notificationFilterMinimumSeverityLevel}}),Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return s.clientCertificateProviders}});var l=t(6672),c=o(t(3466));e.RxSession=c.default;var f=o(t(5742));e.RxTransaction=f.default;var h=o(t(1530));e.RxManagedTransaction=h.default;var v=o(t(3057));e.RxResult=v.default;var d=s.internal.util,y=d.ENCRYPTION_ON,p=d.assertString,g=d.isEmptyObjectOrNull,b=s.internal.serverAddress.ServerAddress,m=s.internal.urlUtil,_="neo4j-javascript/"+u.default;function w(B,z,F){F===void 0&&(F={}),p(B,"Bolt URL");var U,W=m.parseDatabaseUrl(B),Y=!1,X=!1;switch(W.scheme){case"bolt":break;case"bolt+s":X=!0,U="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":X=!0,U="TRUST_ALL_CERTIFICATES";break;case"neo4j":Y=!0;break;case"neo4j+s":X=!0,U="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",Y=!0;break;case"neo4j+ssc":X=!0,U="TRUST_ALL_CERTIFICATES",Y=!0;break;default:throw new Error("Unknown scheme: ".concat(W.scheme))}if(X){if("encrypted"in F||"trust"in F)throw new Error("Encryption/trust can only be configured either through URL or config, not both");F.encrypted=y,F.trust=U,F.clientCertificate=(0,s.resolveCertificateProvider)(F.clientCertificate)}var Q=function(ae){if(typeof(pe=ae)=="object"&&pe!=null&&"getToken"in pe&&"handleSecurityException"in pe&&typeof pe.getToken=="function"&&typeof pe.handleSecurityException=="function")return ae;var pe,fe=ae;return(fe=fe||{}).scheme=fe.scheme||"none",(0,s.staticAuthTokenManager)({authToken:fe})}(z);F.userAgent=F.userAgent||_,F.boltAgent=s.internal.boltAgent.fromVersion(u.default);var ue=b.fromUrl(W.hostAndPort),ce={address:ue,typename:Y?"Routing":"Direct",routing:Y};return new a.Driver(ce,F,function(){if(Y)return function(ae,pe,fe,he){return new l.RoutingConnectionProvider({id:ae,config:pe,log:fe,hostNameResolver:he,authTokenManager:Q,address:ue,userAgent:pe.userAgent,boltAgent:pe.boltAgent,routingContext:W.query})};if(!g(W.query))throw new Error("Parameters are not supported with none routed scheme. Given URL: '".concat(B,"'"));return function(ae,pe,fe){return new l.DirectConnectionProvider({id:ae,config:pe,log:fe,authTokenManager:Q,address:ue,userAgent:pe.userAgent,boltAgent:pe.boltAgent})}}())}function O(B,z){return n(this,void 0,void 0,function(){var F;return i(this,function(U){switch(U.label){case 0:F=w(B,{scheme:"none",principal:"",credentials:""},z),U.label=1;case 1:return U.trys.push([1,,3,5]),[4,F.getNegotiatedProtocolVersion()];case 2:return U.sent(),[2,!0];case 3:return[4,F.close()];case 4:return U.sent(),[7];case 5:return[2]}})})}e.driver=w,e.hasReachableServer=O;var E={console:function(B){return{level:B,logger:function(z,F){return console.log("".concat(t.g.Date.now()," ").concat(z.toUpperCase()," ").concat(F))}}}};e.logging=E;var S={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,EagerResult:s.EagerResult,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer};e.types=S;var P={READ:a.READ,WRITE:a.WRITE};e.session=P;var I={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange};e.integer=I;var R={isPoint:s.isPoint};e.spatial=R;var D={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};e.temporal=D;var k={isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship};e.graph=k;var N={authTokenManagers:s.authTokenManagers,driver:w,hasReachableServer:O,int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,isNode:s.isNode,isPath:s.isPath,isPathSegment:s.isPathSegment,isRelationship:s.isRelationship,isUnboundRelationship:s.isUnboundRelationship,integer:I,Neo4jError:s.Neo4jError,isRetriableError:s.isRetriableError,auth:s.auth,logging:E,types:S,session:P,routing:s.routing,error:s.error,graph:k,spatial:R,temporal:D,Driver:a.Driver,Session:s.Session,Transaction:s.Transaction,ManagedTransaction:s.ManagedTransaction,Result:s.Result,EagerResult:s.EagerResult,RxSession:c.default,RxTransaction:f.default,RxManagedTransaction:h.default,RxResult:v.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,GqlStatusObject:s.GqlStatusObject,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime,bookmarkManager:s.bookmarkManager,resultTransformers:s.resultTransformers,notificationCategory:s.notificationCategory,notificationSeverityLevel:s.notificationSeverityLevel,notificationFilterDisabledCategory:s.notificationFilterDisabledCategory,notificationFilterMinimumSeverityLevel:s.notificationFilterMinimumSeverityLevel,clientCertificateProviders:s.clientCertificateProviders};e.default=N},1226:function(r,e,t){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,v=c.call(s),d=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return d},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=e.onErrorResumeNextWith=void 0;var o=t(8535),a=t(6102);function u(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=o.argsOrArgArray(s);return function(f){return a.onErrorResumeNext.apply(void 0,i([f],n(c)))}}e.onErrorResumeNextWith=u,e.onErrorResumeNext=u},1242:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaySubject=void 0;var i=t(2483),o=t(9568),a=function(u){function s(l,c,f){l===void 0&&(l=1/0),c===void 0&&(c=1/0),f===void 0&&(f=o.dateTimestampProvider);var h=u.call(this)||this;return h._bufferSize=l,h._windowTime=c,h._timestampProvider=f,h._buffer=[],h._infiniteTimeWindow=!0,h._infiniteTimeWindow=c===1/0,h._bufferSize=Math.max(1,l),h._windowTime=Math.max(1,c),h}return n(s,u),s.prototype.next=function(l){var c=this,f=c.isStopped,h=c._buffer,v=c._infiniteTimeWindow,d=c._timestampProvider,y=c._windowTime;f||(h.push(l),!v&&h.push(d.now()+y)),this._trimBuffer(),u.prototype.next.call(this,l)},s.prototype._subscribe=function(l){this._throwIfClosed(),this._trimBuffer();for(var c=this._innerSubscribe(l),f=this._infiniteTimeWindow,h=this._buffer.slice(),v=0;v<h.length&&!l.closed;v+=f?1:2)l.next(h[v]);return this._checkFinalizedStatuses(l),c},s.prototype._trimBuffer=function(){var l=this,c=l._bufferSize,f=l._timestampProvider,h=l._buffer,v=l._infiniteTimeWindow,d=(v?1:2)*c;if(c<1/0&&d<h.length&&h.splice(0,h.length-d),!v){for(var y=f.now(),p=0,g=1;g<h.length&&h[g]<=y;g+=2)p=g;p&&h.splice(0,p+1)}},s}(i.Subject);e.ReplaySubject=a},1251:function(r,e,t){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),v=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)v.push(c.value)}catch(d){f={error:d}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.mapOneOrManyArgs=void 0;var o=t(5471),a=Array.isArray;e.mapOneOrManyArgs=function(u){return o.map(function(s){return function(l,c){return a(c)?l.apply(void 0,i([],n(c))):l(c)}(u,s)})}},1293:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueScheduler=void 0;var i=function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return n(a,o),a}(t(5648).AsyncScheduler);e.QueueScheduler=i},1342:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0,e.noop=function(){}},1358:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isAsyncIterable=void 0;var n=t(1018);e.isAsyncIterable=function(i){return Symbol.asyncIterator&&n.isFunction(i?.[Symbol.asyncIterator])}},1409:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.beginTransaction=function(i){throw new Error("Not implemented")},n.prototype.run=function(i,o,a){throw new Error("Not implemented")},n.prototype.commitTransaction=function(i){throw new Error("Not implemented")},n.prototype.rollbackTransaction=function(i){throw new Error("Not implemented")},n.prototype.resetAndFlush=function(){throw new Error("Not implemented")},n.prototype.isOpen=function(){throw new Error("Not implemented")},n.prototype.getProtocolVersion=function(){throw new Error("Not implemented")},n.prototype.hasOngoingObservableRequests=function(){throw new Error("Not implemented")},n}();e.default=t},1415:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.max=void 0;var n=t(9139),i=t(1018);e.max=function(o){return n.reduce(i.isFunction(o)?function(a,u){return o(a,u)>0?a:u}:function(a,u){return a>u?a:u})}},1439:function(r,e,t){var n=this&&this.__read||function(f,h){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var d,y,p=v.call(f),g=[];try{for(;(h===void 0||h-- >0)&&!(d=p.next()).done;)g.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(y)throw y.error}}return g},i=this&&this.__spreadArray||function(f,h){for(var v=0,d=h.length,y=f.length;v<d;v++,y++)f[y]=h[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallbackInternals=void 0;var o=t(8613),a=t(4662),u=t(8960),s=t(1251),l=t(5184),c=t(95);e.bindCallbackInternals=function f(h,v,d,y){if(d){if(!o.isScheduler(d))return function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return f(h,v,y).apply(this,p).pipe(s.mapOneOrManyArgs(d))};y=d}return y?function(){for(var p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];return f(h,v).apply(this,p).pipe(u.subscribeOn(y),l.observeOn(y))}:function(){for(var p=this,g=[],b=0;b<arguments.length;b++)g[b]=arguments[b];var m=new c.AsyncSubject,_=!0;return new a.Observable(function(w){var O=m.subscribe(w);if(_){_=!1;var E=!1,S=!1;v.apply(p,i(i([],n(g)),[function(){for(var P=[],I=0;I<arguments.length;I++)P[I]=arguments[I];if(h){var R=P.shift();if(R!=null)return void m.error(R)}m.next(1<P.length?P:P[0]),S=!0,E&&m.complete()}])),S&&m.complete(),E=!0}return O})}}},1483:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connect=void 0;var n=t(2483),i=t(9445),o=t(7843),a=t(6824),u={connector:function(){return new n.Subject}};e.connect=function(s,l){l===void 0&&(l=u);var c=l.connector;return o.operate(function(f,h){var v=c();i.innerFrom(s(a.fromSubscribable(v))).subscribe(h),h.add(f.subscribe(v))})}},1505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SequenceError=void 0;var n=t(5568);e.SequenceError=n.createErrorClass(function(i){return function(o){i(this),this.name="SequenceError",this.message=o}})},1517:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=void 0;var n=t(4027),i={value:!0,enumerable:!1,configurable:!1,writable:!1},o="__isNode__",a="__isRelationship__",u="__isUnboundRelationship__",s="__isPath__",l="__isPathSegment__";function c(g,b){return g!=null&&g[b]===!0}var f=function(){function g(b,m,_,w){this.identity=b,this.labels=m,this.properties=_,this.elementId=p(w,function(){return b.toString()})}return g.prototype.toString=function(){for(var b="("+this.elementId,m=0;m<this.labels.length;m++)b+=":"+this.labels[m];var _=Object.keys(this.properties);if(_.length>0){for(b+=" {",m=0;m<_.length;m++)m>0&&(b+=","),b+=_[m]+":"+(0,n.stringify)(this.properties[_[m]]);b+="}"}return b+")"},g}();e.Node=f,Object.defineProperty(f.prototype,o,i),e.isNode=function(g){return c(g,o)};var h=function(){function g(b,m,_,w,O,E,S,P){this.identity=b,this.start=m,this.end=_,this.type=w,this.properties=O,this.elementId=p(E,function(){return b.toString()}),this.startNodeElementId=p(S,function(){return m.toString()}),this.endNodeElementId=p(P,function(){return _.toString()})}return g.prototype.toString=function(){var b="("+this.startNodeElementId+")-[:"+this.type,m=Object.keys(this.properties);if(m.length>0){b+=" {";for(var _=0;_<m.length;_++)_>0&&(b+=","),b+=m[_]+":"+(0,n.stringify)(this.properties[m[_]]);b+="}"}return b+"]->("+this.endNodeElementId+")"},g}();e.Relationship=h,Object.defineProperty(h.prototype,a,i),e.isRelationship=function(g){return c(g,a)};var v=function(){function g(b,m,_,w){this.identity=b,this.type=m,this.properties=_,this.elementId=p(w,function(){return b.toString()})}return g.prototype.bind=function(b,m){return new h(this.identity,b,m,this.type,this.properties,this.elementId)},g.prototype.bindTo=function(b,m){return new h(this.identity,b.identity,m.identity,this.type,this.properties,this.elementId,b.elementId,m.elementId)},g.prototype.toString=function(){var b="-[:"+this.type,m=Object.keys(this.properties);if(m.length>0){b+=" {";for(var _=0;_<m.length;_++)_>0&&(b+=","),b+=m[_]+":"+(0,n.stringify)(this.properties[m[_]]);b+="}"}return b+"]->"},g}();e.UnboundRelationship=v,Object.defineProperty(v.prototype,u,i),e.isUnboundRelationship=function(g){return c(g,u)};var d=function(g,b,m){this.start=g,this.relationship=b,this.end=m};e.PathSegment=d,Object.defineProperty(d.prototype,l,i),e.isPathSegment=function(g){return c(g,l)};var y=function(g,b,m){this.start=g,this.end=b,this.segments=m,this.length=m.length};function p(g,b){return g??b()}e.Path=y,Object.defineProperty(y.prototype,s,i),e.isPath=function(g){return c(g,s)}},1518:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairwise=void 0;var n=t(7843),i=t(3111);e.pairwise=function(){return n.operate(function(o,a){var u,s=!1;o.subscribe(i.createOperatorSubscriber(a,function(l){var c=u;u=l,s&&a.next([c,l]),s=!0}))})}},1530:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),n(t(3057)),n(t(5742));var i=function(){function o(a){var u=a.run;this._run=u}return o.fromTransaction=function(a){return new o({run:a.run.bind(a)})},o.prototype.run=function(a,u){return this._run(a,u)},o}();e.default=i},1551:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaust=void 0;var n=t(2752);e.exhaust=n.exhaustAll},1554:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeout=e.TimeoutError=void 0;var n=t(7961),i=t(1074),o=t(7843),a=t(9445),u=t(5568),s=t(3111),l=t(7110);function c(f){throw new e.TimeoutError(f)}e.TimeoutError=u.createErrorClass(function(f){return function(h){h===void 0&&(h=null),f(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=h}}),e.timeout=function(f,h){var v=i.isValidDate(f)?{first:f}:typeof f=="number"?{each:f}:f,d=v.first,y=v.each,p=v.with,g=p===void 0?c:p,b=v.scheduler,m=b===void 0?h??n.asyncScheduler:b,_=v.meta,w=_===void 0?null:_;if(d==null&&y==null)throw new TypeError("No timeout provided.");return o.operate(function(O,E){var S,P,I=null,R=0,D=function(k){P=l.executeSchedule(E,m,function(){try{S.unsubscribe(),a.innerFrom(g({meta:w,lastValue:I,seen:R})).subscribe(E)}catch(N){E.error(N)}},k)};S=O.subscribe(s.createOperatorSubscriber(E,function(k){P?.unsubscribe(),R++,E.next(I=k),y>0&&D(y)},void 0,void 0,function(){P?.closed||P==null||P.unsubscribe(),I=null})),!R&&D(d!=null?typeof d=="number"?d:+d-m.now():y)})}},1573:function(r,e,t){var n=this&&this.__awaiter||function(v,d,y,p){return new(y||(y=Promise))(function(g,b){function m(O){try{w(p.next(O))}catch(E){b(E)}}function _(O){try{w(p.throw(O))}catch(E){b(E)}}function w(O){var E;O.done?g(O.value):(E=O.value,E instanceof y?E:new y(function(S){S(E)})).then(m,_)}w((p=p.apply(v,d||[])).next())})},i=this&&this.__generator||function(v,d){var y,p,g,b,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(w){return function(O){return function(E){if(y)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(m=0)),m;)try{if(y=1,p&&(g=2&E[0]?p.return:E[0]?p.throw||((g=p.return)&&g.call(p),0):p.next)&&!(g=g.call(p,E[1])).done)return g;switch(p=0,g&&(E=[2&E[0],g.value]),E[0]){case 0:case 1:g=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,p=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!((g=(g=m.trys).length>0&&g[g.length-1])||E[0]!==6&&E[0]!==2)){m=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){m.label=E[1];break}if(E[0]===6&&m.label<g[1]){m.label=g[1],g=E;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(E);break}g[2]&&m.ops.pop(),m.trys.pop();continue}E=d.call(v,m)}catch(S){E=[6,S],p=0}finally{y=g=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([w,O])}}},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(8917)),u=t(9691),s=new(function(){function v(){}return v.prototype.eagerResultTransformer=function(){return l},v.prototype.eager=function(){return l},v.prototype.mappedResultTransformer=function(d){return c(d)},v.prototype.mapped=function(d){return c(d)},v.prototype.first=function(){return f},v.prototype.summary=function(){return h},v}());function l(v){return n(this,void 0,void 0,function(){var d,y,p,g;return i(this,function(b){switch(b.label){case 0:return[4,v];case 1:return d=b.sent(),y=d.summary,p=d.records,[4,v.keys()];case 2:return g=b.sent(),[2,new a.default(g,p,y)]}})})}function c(v){var d=this;if(v==null||v.collect==null&&v.map==null)throw(0,u.newError)("Requires a map or/and a collect functions.");return function(y){return n(d,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:return[4,new Promise(function(g,b){var m={records:[],keys:[]};y.subscribe({onKeys:function(_){m.keys=_},onNext:function(_){if(v.map!=null){var w=v.map(_);w!==void 0&&m.records.push(w)}else m.records.push(_)},onCompleted:function(_){if(v.collect!=null)g(v.collect(m.records,_,m.keys));else{var w={records:m.records,summary:_,keys:m.keys};g(w)}},onError:function(_){b(_)}})})];case 1:return[2,p.sent()]}})})}}function f(v){return n(this,void 0,void 0,function(){var d,y,p,g;return i(this,function(b){switch(b.label){case 0:return[4,(d=v[Symbol.asyncIterator]()).next()];case 1:y=b.sent(),p=y.value,g=y.done,b.label=2;case 2:return b.trys.push([2,,3,6]),g===!0?[2,void 0]:[2,p];case 3:return d.return==null?[3,5]:[4,d.return()];case 4:b.sent(),b.label=5;case 5:return[7];case 6:return[2]}})})}function h(v){return n(this,void 0,void 0,function(){return i(this,function(d){switch(d.label){case 0:return[4,v.summary()];case 1:return[2,d.sent()]}})})}Object.freeze(s),e.default=s},1637:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.BehaviorSubject=void 0;var i=function(o){function a(u){var s=o.call(this)||this;return s._value=u,s}return n(a,o),Object.defineProperty(a.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),a.prototype._subscribe=function(u){var s=o.prototype._subscribe.call(this,u);return!s.closed&&u.next(this._value),s},a.prototype.getValue=function(){var u=this,s=u.hasError,l=u.thrownError,c=u._value;if(s)throw l;return this._throwIfClosed(),c},a.prototype.next=function(u){o.prototype.next.call(this,this._value=u)},a}(t(2483).Subject);e.BehaviorSubject=i},1656:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduled=void 0;var n=t(9567),i=t(9589),o=t(6985),a=t(8808),u=t(854),s=t(1116),l=t(7629),c=t(8046),f=t(6368),h=t(1358),v=t(7614),d=t(9137),y=t(4953);e.scheduled=function(p,g){if(p!=null){if(s.isInteropObservable(p))return n.scheduleObservable(p,g);if(c.isArrayLike(p))return o.scheduleArray(p,g);if(l.isPromise(p))return i.schedulePromise(p,g);if(h.isAsyncIterable(p))return u.scheduleAsyncIterable(p,g);if(f.isIterable(p))return a.scheduleIterable(p,g);if(d.isReadableStreamLike(p))return y.scheduleReadableStreamLike(p,g)}throw v.createInvalidObservableTypeError(p)}},1699:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783),o=t(9445);e.partition=function(a,u,s){return[i.filter(u,s)(o.innerFrom(a)),i.filter(n.not(u,s))(o.innerFrom(a))]}},1711:function(r,e,t){var n=this&&this.__extends||function(){var m=function(_,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,E){O.__proto__=E}||function(O,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(O[S]=E[S])},m(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function O(){this.constructor=_}m(_,w),_.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(m){for(var _,w=1,O=arguments.length;w<O;w++)for(var E in _=arguments[w])Object.prototype.hasOwnProperty.call(_,E)&&(m[E]=_[E]);return m},i.apply(this,arguments)},o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(9054)),u=t(9305),s=o(t(7021)),l=t(9014),c=t(397),f=o(t(7518)),h=o(t(5045)),v=o(t(3321)),d=u.internal.constants,y=d.BOLT_PROTOCOL_V4_4,p=d.FETCH_ALL,g=u.internal.bookmarks.Bookmarks,b=function(m){function _(){return m!==null&&m.apply(this,arguments)||this}return n(_,m),Object.defineProperty(_.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new v.default(Object.values(f.default).map(function(O){return O(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.requestRoutingInformation=function(w){var O=w.routingContext,E=O===void 0?{}:O,S=w.databaseName,P=S===void 0?null:S,I=w.impersonatedUser,R=I===void 0?null:I,D=w.sessionContext,k=D===void 0?{}:D,N=w.onError,B=w.onCompleted,z=new l.RouteObserver({onProtocolError:this._onProtocolError,onError:N,onCompleted:B}),F=k.bookmarks||g.empty();return this.write(s.default.routeV4x4(E,F.values(),{databaseName:P,impersonatedUser:R}),z,!0),z},_.prototype.run=function(w,O,E){var S=E===void 0?{}:E,P=S.bookmarks,I=S.txConfig,R=S.database,D=S.mode,k=S.impersonatedUser,N=S.notificationFilter,B=S.beforeKeys,z=S.afterKeys,F=S.beforeError,U=S.afterError,W=S.beforeComplete,Y=S.afterComplete,X=S.flush,Q=X===void 0||X,ue=S.reactive,ce=ue!==void 0&&ue,ae=S.fetchSize,pe=ae===void 0?p:ae,fe=S.highRecordWatermark,he=fe===void 0?Number.MAX_VALUE:fe,ee=S.lowRecordWatermark,K=ee===void 0?Number.MAX_VALUE:ee,J=new l.ResultStreamObserver({server:this._server,reactive:ce,fetchSize:pe,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:B,afterKeys:z,beforeError:F,afterError:U,beforeComplete:W,afterComplete:Y,highRecordWatermark:he,lowRecordWatermark:K});(0,c.assertNotificationFilterIsEmpty)(N,this._onProtocolError,J);var ie=ce;return this.write(s.default.runWithMetadata(w,O,{bookmarks:P,txConfig:I,database:R,mode:D,impersonatedUser:k}),J,ie&&Q),ce||this.write(s.default.pull({n:pe}),J,Q),J},_.prototype.beginTransaction=function(w){var O=w===void 0?{}:w,E=O.bookmarks,S=O.txConfig,P=O.database,I=O.mode,R=O.impersonatedUser,D=O.notificationFilter,k=O.beforeError,N=O.afterError,B=O.beforeComplete,z=O.afterComplete,F=new l.ResultStreamObserver({server:this._server,beforeError:k,afterError:N,beforeComplete:B,afterComplete:z});return F.prepareToHandleSingleResponse(),(0,c.assertNotificationFilterIsEmpty)(D,this._onProtocolError,F),this.write(s.default.begin({bookmarks:E,txConfig:S,database:P,mode:I,impersonatedUser:R}),F,!0),F},_.prototype._applyUtcPatch=function(){var w=this;this._transformer=new v.default(Object.values(i(i({},f.default),h.default)).map(function(O){return O(w._config,w._log)}))},_}(a.default);e.default=b},1731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sample=void 0;var n=t(9445),i=t(7843),o=t(1342),a=t(3111);e.sample=function(u){return i.operate(function(s,l){var c=!1,f=null;s.subscribe(a.createOperatorSubscriber(l,function(h){c=!0,f=h})),n.innerFrom(u).subscribe(a.createOperatorSubscriber(l,function(){if(c){c=!1;var h=f;f=null,l.next(h)}},o.noop))})}},1751:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isObservable=void 0;var n=t(4662),i=t(1018);e.isObservable=function(o){return!!o&&(o instanceof n.Observable||i.isFunction(o.lift)&&i.isFunction(o.subscribe))}},1759:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NotFoundError=void 0;var n=t(5568);e.NotFoundError=n.createErrorClass(function(i){return function(o){i(this),this.name="NotFoundError",this.message=o}})},1776:function(r,e,t){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),v=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)v.push(c.value)}catch(d){f={error:d}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.endWith=void 0;var o=t(3865),a=t(1004);e.endWith=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return function(l){return o.concat(l,a.of.apply(void 0,i([],n(u))))}}},1803:r=>{var e,t,n=document.attachEvent,i=!1;function o(m){var _=m.__resizeTriggers__,w=_.firstElementChild,O=_.lastElementChild,E=w.firstElementChild;O.scrollLeft=O.scrollWidth,O.scrollTop=O.scrollHeight,E.style.width=w.offsetWidth+1+"px",E.style.height=w.offsetHeight+1+"px",w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight}function a(m){var _=this;o(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=u(function(){(function(w){return w.offsetWidth!=w.__resizeLast__.width||w.offsetHeight!=w.__resizeLast__.height})(_)&&(_.__resizeLast__.width=_.offsetWidth,_.__resizeLast__.height=_.offsetHeight,_.__resizeListeners__.forEach(function(w){w.call(_,m)}))})}if(!n){var u=(t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(m){return window.setTimeout(m,20)},function(m){return t(m)}),s=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(m){return e(m)}),l=!1,c="",f="animationstart",h="Webkit Moz O ms".split(" "),v="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d=document.createElement("fakeelement");if(d.style.animationName!==void 0&&(l=!0),l===!1){for(var y=0;y<h.length;y++)if(d.style[h[y]+"AnimationName"]!==void 0){c="-"+h[y].toLowerCase()+"-",f=v[y],l=!0;break}}var p="resizeanim",g="@"+c+"keyframes "+p+" { from { opacity: 0; } to { opacity: 0; } } ",b=c+"animation: 1ms "+p+"; "}r.exports=function(m,_){return n?m.attachEvent("onresize",_):(m.__resizeTriggers__||(getComputedStyle(m).position=="static"&&(m.style.position="relative"),function(){if(!i){var w=(g||"")+".resize-triggers { "+(b||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',O=document.head||document.getElementsByTagName("head")[0],E=document.createElement("style");E.type="text/css",E.styleSheet?E.styleSheet.cssText=w:E.appendChild(document.createTextNode(w)),O.appendChild(E),i=!0}}(),m.__resizeLast__={},m.__resizeListeners__=[],(m.__resizeTriggers__=document.createElement("div")).className="resize-triggers",m.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',m.appendChild(m.__resizeTriggers__),o(m),m.addEventListener("scroll",a,!0),f&&m.__resizeTriggers__.addEventListener(f,function(w){w.animationName==p&&o(m)})),m.__resizeListeners__.push(_)),function(){n?m.detachEvent("onresize",_):(m.__resizeListeners__.splice(m.__resizeListeners__.indexOf(_),1),m.__resizeListeners__.length||(m.removeEventListener("scroll",a),m.__resizeTriggers__=!m.removeChild(m.__resizeTriggers__)))}}},1839:function(r,e,t){var n=this&&this.__awaiter||function(s,l,c,f){return new(c||(c=Promise))(function(h,v){function d(g){try{p(f.next(g))}catch(b){v(b)}}function y(g){try{p(f.throw(g))}catch(b){v(b)}}function p(g){var b;g.done?h(g.value):(b=g.value,b instanceof c?b:new c(function(m){m(b)})).then(d,y)}p((f=f.apply(s,l||[])).next())})},i=this&&this.__generator||function(s,l){var c,f,h,v,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(p){return function(g){return function(b){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,b[0]&&(d=0)),d;)try{if(c=1,f&&(h=2&b[0]?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,f=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((h=(h=d.trys).length>0&&h[h.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){d.label=b[1];break}if(b[0]===6&&d.label<h[1]){d.label=h[1],h=b;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(b);break}h[2]&&d.ops.pop(),d.trys.pop();continue}b=l.call(s,d)}catch(m){b=[6,m],f=0}finally{c=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9305),a=t(6781),u=function(){function s(l){var c=l.authTokenManager,f=l.userAgent,h=l.boltAgent;this._authTokenManager=c||(0,o.staticAuthTokenManager)({}),this._userAgent=f,this._boltAgent=h}return s.prototype.authenticate=function(l){var c=l.connection,f=l.auth,h=l.skipReAuth,v=l.waitReAuth,d=l.forceReAuth;return n(this,void 0,void 0,function(){var y,p;return i(this,function(g){switch(g.label){case 0:return f==null?[3,3]:(y=c.supportsReAuth===!0&&(!a.object.equals(c.authToken,f)&&h!==!0||d===!0),c.authToken==null||y?[4,c.connect(this._userAgent,this._boltAgent,f,v||!1)]:[3,2]);case 1:case 5:return[2,g.sent()];case 2:case 6:return[2,c];case 3:return[4,this._authTokenManager.getToken()];case 4:return p=g.sent(),a.object.equals(p,c.authToken)?[3,6]:[4,c.connect(this._userAgent,this._boltAgent,p,!1)]}})})},s.prototype.handleError=function(l){var c=l.connection,f=l.code;return!(!c||!f.startsWith("Neo.ClientError.Security."))&&this._authTokenManager.handleSecurityException(c.authToken,f)},s}();e.default=u},1866:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(D){for(var k,N=1,B=arguments.length;N<B;N++)for(var z in k=arguments[N])Object.prototype.hasOwnProperty.call(k,z)&&(D[z]=k[z]);return D},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(D,k,N,B){B===void 0&&(B=N);var z=Object.getOwnPropertyDescriptor(k,N);z&&!("get"in z?!k.__esModule:z.writable||z.configurable)||(z={enumerable:!0,get:function(){return k[N]}}),Object.defineProperty(D,B,z)}:function(D,k,N,B){B===void 0&&(B=N),D[B]=k[N]}),o=this&&this.__setModuleDefault||(Object.create?function(D,k){Object.defineProperty(D,"default",{enumerable:!0,value:k})}:function(D,k){D.default=k}),a=this&&this.__importStar||function(D){if(D&&D.__esModule)return D;var k={};if(D!=null)for(var N in D)N!=="default"&&Object.prototype.hasOwnProperty.call(D,N)&&i(k,D,N);return o(k,D),k},u=this&&this.__read||function(D,k){var N=typeof Symbol=="function"&&D[Symbol.iterator];if(!N)return D;var B,z,F=N.call(D),U=[];try{for(;(k===void 0||k-- >0)&&!(B=F.next()).done;)U.push(B.value)}catch(W){z={error:W}}finally{try{B&&!B.done&&(N=F.return)&&N.call(F)}finally{if(z)throw z.error}}return U},s=this&&this.__spreadArray||function(D,k,N){if(N||arguments.length===2)for(var B,z=0,F=k.length;z<F;z++)!B&&z in k||(B||(B=Array.prototype.slice.call(k,0,z)),B[z]=k[z]);return D.concat(B||Array.prototype.slice.call(k))};Object.defineProperty(e,"__esModule",{value:!0}),e.buildNotificationsFromMetadata=e.buildGqlStatusObjectFromMetadata=e.polyfillNotification=e.polyfillGqlStatusObject=e.GqlStatusObject=e.Notification=e.notificationClassification=e.notificationCategory=e.notificationSeverityLevel=void 0;var l=a(t(4027)),c=t(6995),f=t(1053),h={WARNING:{gql_status:"01N42",status_description:"warn: unknown warning"},NO_DATA:{gql_status:"02N42",status_description:"note: no data - unknown subcondition"},INFORMATION:{gql_status:"03N42",status_description:"info: unknown notification"},ERROR:{gql_status:"50N42",status_description:"error: general processing exception - unexpected error"}},v={WARNING:"WARNING",INFORMATION:"INFORMATION",UNKNOWN:"UNKNOWN"};e.notificationSeverityLevel=v,Object.freeze(v);var d=Object.values(v),y={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",DEPRECATION:"DEPRECATION",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",GENERIC:"GENERIC",SCHEMA:"SCHEMA",UNKNOWN:"UNKNOWN"};e.notificationCategory=y,Object.freeze(y);var p=Object.values(y),g=y;e.notificationClassification=g;var b=function(D){this.code=D.code,this.title=D.title,this.description=D.description,this.severity=D.severity,this.position=P(D.position),this.severityLevel=I(D.severity),this.rawSeverityLevel=D.severity,this.category=R(D.category),this.rawCategory=D.category};e.Notification=b;var m=function(){function D(k){var N;this.gqlStatus=k.gql_status,this.statusDescription=k.status_description,this.diagnosticRecord=(N=k.diagnostic_record)!==null&&N!==void 0?N:{},this.position=this.diagnosticRecord._position!=null?P(this.diagnosticRecord._position):void 0,this.severity=I(this.diagnosticRecord._severity),this.rawSeverity=this.diagnosticRecord._severity,this.classification=R(this.diagnosticRecord._classification),this.rawClassification=this.diagnosticRecord._classification,this.isNotification=k.neo4j_code!=null,Object.freeze(this)}return Object.defineProperty(D.prototype,"diagnosticRecordAsJsonString",{get:function(){return l.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),D}();function _(D){var k,N,B;if(D.neo4j_code!=null)return new b({code:D.neo4j_code,title:D.title,description:D.description,severity:(k=D.diagnostic_record)===null||k===void 0?void 0:k._severity,category:(N=D.diagnostic_record)===null||N===void 0?void 0:N._classification,position:(B=D.diagnostic_record)===null||B===void 0?void 0:B._position})}function w(D){var k,N=D.severity===v.WARNING?h.WARNING:h.INFORMATION,B={gql_status:N.gql_status,status_description:(k=D.description)!==null&&k!==void 0?k:N.status_description,neo4j_code:D.code,title:D.title,diagnostic_record:n({},f.rawPolyfilledDiagnosticRecord)};return D.severity!=null&&(B.diagnostic_record._severity=D.severity),D.category!=null&&(B.diagnostic_record._classification=D.category),D.position!=null&&(B.diagnostic_record._position=D.position),new m(B)}e.GqlStatusObject=m,e.polyfillNotification=_,e.polyfillGqlStatusObject=w;var O={SUCCESS:new m({gql_status:"00000",status_description:"note: successful completion",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA:new m({gql_status:"02000",status_description:"note: no data",diagnostic_record:f.rawPolyfilledDiagnosticRecord}),NO_DATA_UNKNOWN_SUBCONDITION:new m(n(n({},h.NO_DATA),{diagnostic_record:f.rawPolyfilledDiagnosticRecord})),OMITTED_RESULT:new m({gql_status:"00001",status_description:"note: successful completion - omitted result",diagnostic_record:f.rawPolyfilledDiagnosticRecord})};Object.freeze(O),e.buildGqlStatusObjectFromMetadata=function(D){var k,N;if(D.statuses!=null)return D.statuses.map(function(F){return new m(F)});var B,z=((B=D.stream_summary)==null?void 0:B.have_records_streamed)===!0?O.SUCCESS:B?.has_keys===!1?O.OMITTED_RESULT:B?.pulled===!0?O.NO_DATA:O.NO_DATA_UNKNOWN_SUBCONDITION;return s([z],u((N=(k=D.notifications)===null||k===void 0?void 0:k.map(w))!==null&&N!==void 0?N:[]),!1).sort(function(F,U){return S(F)-S(U)})};var E=Object.freeze({"02":0,"01":1,"00":2});function S(D){var k,N,B=(k=D.gqlStatus)===null||k===void 0?void 0:k.slice(0,2);return(N=E[B])!==null&&N!==void 0?N:9999}function P(D){return D==null?{}:{offset:c.util.toNumber(D.offset),line:c.util.toNumber(D.line),column:c.util.toNumber(D.column)}}function I(D){return d.includes(D)?D:v.UNKNOWN}function R(D){return p.includes(D)?D:g.UNKNOWN}e.buildNotificationsFromMetadata=function(D){return D.notifications!=null?D.notifications.map(function(k){return new b(k)}):D.statuses!=null?D.statuses.map(_).filter(function(k){return k!=null}):[]},e.default=b},1964:(r,e)=>{function t(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.iterator=e.getSymbolIterator=void 0,e.getSymbolIterator=t,e.iterator=t()},1967:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9691),i=t(4027),o={basic:function(u,s,l){return l!=null?{scheme:"basic",principal:u,credentials:s,realm:l}:{scheme:"basic",principal:u,credentials:s}},kerberos:function(u){return{scheme:"kerberos",principal:"",credentials:u}},bearer:function(u){return{scheme:"bearer",credentials:u}},none:function(){return{scheme:"none"}},custom:function(u,s,l,c,f){var h={scheme:c,principal:u};if(a(s)&&(h.credentials=s),a(l)&&(h.realm=l),a(f)){try{(0,i.stringify)(f)}catch(v){throw(0,n.newError)("Circular references in custom auth token parameters",void 0,v)}h.parameters=f}return h}};function a(u){return!(u==null||u===""||Object.getPrototypeOf(u)===Object.prototype&&Object.keys(u).length===0)}e.default=o},1983:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeInternals=void 0;var n=t(9445),i=t(7110),o=t(3111);e.mergeInternals=function(a,u,s,l,c,f,h,v){var d=[],y=0,p=0,g=!1,b=function(){!g||d.length||y||u.complete()},m=function(w){return y<l?_(w):d.push(w)},_=function(w){f&&u.next(w),y++;var O=!1;n.innerFrom(s(w,p++)).subscribe(o.createOperatorSubscriber(u,function(E){c?.(E),f?m(E):u.next(E)},function(){O=!0},void 0,function(){if(O)try{y--;for(var E=function(){var S=d.shift();h?i.executeSchedule(u,h,function(){return _(S)}):_(S)};d.length&&y<l;)E();b()}catch(S){u.error(S)}}))};return a.subscribe(o.createOperatorSubscriber(u,m,function(){g=!0,b()})),function(){v?.()}}},1985:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationFilterMinimumSeverityLevel=void 0;var t={OFF:"OFF",WARNING:"WARNING",INFORMATION:"INFORMATION"};e.notificationFilterMinimumSeverityLevel=t,Object.freeze(t);var n={HINT:"HINT",UNRECOGNIZED:"UNRECOGNIZED",UNSUPPORTED:"UNSUPPORTED",PERFORMANCE:"PERFORMANCE",TOPOLOGY:"TOPOLOGY",SECURITY:"SECURITY",DEPRECATION:"DEPRECATION",GENERIC:"GENERIC",SCHEMA:"SCHEMA"};e.notificationFilterDisabledCategory=n,Object.freeze(n);var i=n;e.notificationFilterDisabledClassification=i,e.default=function(){throw this.minimumSeverityLevel=void 0,this.disabledCategories=void 0,this.disabledClassifications=void 0,new Error("Not implemented")}},2007:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Releasable=void 0;var t=function(){function i(){}return i.prototype.release=function(){throw new Error("Not implemented")},i}();e.Releasable=t;var n=function(){function i(){}return i.prototype.acquireConnection=function(o){throw Error("Not implemented")},i.prototype.supportsMultiDb=function(){throw Error("Not implemented")},i.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},i.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},i.prototype.supportsSessionAuth=function(){throw Error("Not implemented")},i.prototype.SSREnabled=function(){return!1},i.prototype.verifyConnectivityAndGetServerInfo=function(o){throw Error("Not implemented")},i.prototype.verifyAuthentication=function(o){throw Error("Not implemented")},i.prototype.getNegotiatedProtocolVersion=function(){throw Error("Not Implemented")},i.prototype.close=function(){throw Error("Not implemented")},i}();e.default=n},2063:r=>{r.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},2066:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(1175));e.default=n({},o.default)},2069:function(r,e,t){var n=this&&this.__awaiter||function(v,d,y,p){return new(y||(y=Promise))(function(g,b){function m(O){try{w(p.next(O))}catch(E){b(E)}}function _(O){try{w(p.throw(O))}catch(E){b(E)}}function w(O){var E;O.done?g(O.value):(E=O.value,E instanceof y?E:new y(function(S){S(E)})).then(m,_)}w((p=p.apply(v,d||[])).next())})},i=this&&this.__generator||function(v,d){var y,p,g,b,m={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return b={next:_(0),throw:_(1),return:_(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function _(w){return function(O){return function(E){if(y)throw new TypeError("Generator is already executing.");for(;b&&(b=0,E[0]&&(m=0)),m;)try{if(y=1,p&&(g=2&E[0]?p.return:E[0]?p.throw||((g=p.return)&&g.call(p),0):p.next)&&!(g=g.call(p,E[1])).done)return g;switch(p=0,g&&(E=[2&E[0],g.value]),E[0]){case 0:case 1:g=E;break;case 4:return m.label++,{value:E[1],done:!1};case 5:m.label++,p=E[1],E=[0];continue;case 7:E=m.ops.pop(),m.trys.pop();continue;default:if(!((g=(g=m.trys).length>0&&g[g.length-1])||E[0]!==6&&E[0]!==2)){m=0;continue}if(E[0]===3&&(!g||E[1]>g[0]&&E[1]<g[3])){m.label=E[1];break}if(E[0]===6&&m.label<g[1]){m.label=g[1],g=E;break}if(g&&m.label<g[2]){m.label=g[2],m.ops.push(E);break}g[2]&&m.ops.pop(),m.trys.pop();continue}E=d.call(v,m)}catch(S){E=[6,S],p=0}finally{y=g=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([w,O])}}},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.staticAuthTokenManager=e.authTokenManagers=e.AuthTokenAndExpiration=void 0;var a=o(t(1967)),u=t(6995),s=function(){function v(){}return v.prototype.getToken=function(){throw new Error("Not Implemented")},v.prototype.handleSecurityException=function(d,y){throw new Error("Not implemented")},v}();e.default=s,e.AuthTokenAndExpiration=function(){this.token=a.default.none(),this.expiration=void 0};var l=new(function(){function v(){}return v.prototype.bearer=function(d){var y=d.tokenProvider;if(typeof y!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof y));return new f(y,["Neo.ClientError.Security.Unauthorized","Neo.ClientError.Security.TokenExpired"])},v.prototype.basic=function(d){var y=this,p=d.tokenProvider;if(typeof p!="function")throw new TypeError("tokenProvider should be function, but got: ".concat(typeof p));return new f(function(){return n(y,void 0,void 0,function(){var g;return i(this,function(b){switch(b.label){case 0:return g={},[4,p()];case 1:return[2,(g.token=b.sent(),g)]}})})},["Neo.ClientError.Security.Unauthorized"])},v}());e.authTokenManagers=l,Object.freeze(l),e.staticAuthTokenManager=function(v){var d=v.authToken;return new h(d)};var c=function(){function v(d){d===void 0&&(d=[]),this._subscribers=d}return v.prototype.subscribe=function(d){this._subscribers.push(d)},v.prototype.onCompleted=function(d){this._subscribers.forEach(function(y){return y.onCompleted(d)})},v.prototype.onError=function(d){this._subscribers.forEach(function(y){return y.onError(d)})},v}(),f=function(){function v(d,y,p,g){this._tokenProvider=d,this._handledSecurityCodes=y,this._currentAuthData=p,this._refreshObservable=g}return v.prototype.getToken=function(){var d;return n(this,void 0,void 0,function(){return i(this,function(y){switch(y.label){case 0:return this._currentAuthData===void 0||this._currentAuthData.expiration!==void 0&&this._currentAuthData.expiration<new Date?[4,this._refreshAuthToken()]:[3,2];case 1:y.sent(),y.label=2;case 2:return[2,(d=this._currentAuthData)===null||d===void 0?void 0:d.token]}})})},v.prototype.handleSecurityException=function(d,y){var p;return!!this._handledSecurityCodes.includes(y)&&(u.util.equals(d,(p=this._currentAuthData)===null||p===void 0?void 0:p.token)&&this._scheduleRefreshAuthToken(),!0)},v.prototype._scheduleRefreshAuthToken=function(d){var y=this;this._refreshObservable===void 0&&(this._currentAuthData=void 0,this._refreshObservable=new c,Promise.resolve(this._tokenProvider()).then(function(p){var g;y._currentAuthData=p,(g=y._refreshObservable)===null||g===void 0||g.onCompleted(p)}).catch(function(p){var g;(g=y._refreshObservable)===null||g===void 0||g.onError(p)}).finally(function(){y._refreshObservable=void 0})),d!==void 0&&this._refreshObservable.subscribe(d)},v.prototype._refreshAuthToken=function(){return n(this,void 0,void 0,function(){var d=this;return i(this,function(y){switch(y.label){case 0:return[4,new Promise(function(p,g){d._scheduleRefreshAuthToken({onCompleted:p,onError:g})})];case 1:return[2,y.sent()]}})})},v}(),h=function(){function v(d){this._authToken=d}return v.prototype.getToken=function(){return this._authToken},v.prototype.handleSecurityException=function(d,y){return!1},v}()},2072:function(r,e,t){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(v[y]=d[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}(),i=this&&this.__createBinding||(Object.create?function(c,f,h,v){v===void 0&&(v=h);var d=Object.getOwnPropertyDescriptor(f,h);d&&!("get"in d?!f.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,v,d)}:function(c,f,h,v){v===void 0&&(v=h),c[v]=f[h]}),o=this&&this.__setModuleDefault||(Object.create?function(c,f){Object.defineProperty(c,"default",{enumerable:!0,value:f})}:function(c,f){c.default=f}),a=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var f={};if(c!=null)for(var h in c)h!=="default"&&Object.prototype.hasOwnProperty.call(c,h)&&i(f,c,h);return o(f,c),f};Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var u=a(t(5361)),s=function(c){function f(){return c!==null&&c.apply(this,arguments)||this}return n(f,c),f.prototype.disableByteArrays=function(){throw new Error("Bolt V2 should always support byte arrays")},f}(u.Packer);e.Packer=s;var l=function(c){function f(h,v){return h===void 0&&(h=!1),v===void 0&&(v=!1),c.call(this,h,v)||this}return n(f,c),f}(u.Unpacker);e.Unpacker=l},2129:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeWhile=void 0;var n=t(7843),i=t(3111);e.takeWhile=function(o,a){return a===void 0&&(a=!1),n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){var f=o(c,l++);(f||a)&&s.next(c),!f&&s.complete()}))})}},2171:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.partition=void 0;var n=t(245),i=t(783);e.partition=function(o,a){return function(u){return[i.filter(o,a)(u),i.filter(n.not(o,a))(u)]}}},2199:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return n(a,o),a.prototype.resolve=function(u){return this._resolveToItself(u)},a}(t(9305).internal.resolver.BaseHostNameResolver);e.default=i},2204:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(3019));e.default=n({},o.default)},2343:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toArray=void 0;var n=t(9139),i=t(7843),o=function(a,u){return a.push(u),a};e.toArray=function(){return i.operate(function(a,u){n.reduce(o,[])(a).subscribe(u)})}},2360:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.materialize=void 0;var n=t(7800),i=t(7843),o=t(3111);e.materialize=function(){return i.operate(function(a,u){a.subscribe(o.createOperatorSubscriber(u,function(s){u.next(n.Notification.createNext(s))},function(){u.next(n.Notification.createComplete()),u.complete()},function(s){u.next(n.Notification.createError(s)),u.complete()}))})}},2363:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.error.SERVICE_UNAVAILABLE,o=n.error.SESSION_EXPIRED,a=function(){function s(l,c,f,h){this._errorCode=l,this._handleUnavailability=c||u,this._handleWriteFailure=f||u,this._handleSecurityError=h||u}return s.create=function(l){return new s(l.errorCode,l.handleUnavailability,l.handleWriteFailure,l.handleSecurityError)},s.prototype.errorCode=function(){return this._errorCode},s.prototype.handleAndTransformError=function(l,c,f){return function(h){return h!=null&&h.code!=null&&h.code.startsWith("Neo.ClientError.Security.")}(l)?this._handleSecurityError(l,c,f):function(h){return!!h&&(h.code===o||h.code===i||h.code==="Neo.TransientError.General.DatabaseUnavailable")}(l)?this._handleUnavailability(l,c,f):function(h){return!!h&&(h.code==="Neo.ClientError.Cluster.NotALeader"||h.code==="Neo.ClientError.General.ForbiddenOnReadOnlyDatabase")}(l)?this._handleWriteFailure(l,c,f):l},s}();function u(s){return s}e.default=a},2481:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=n.internal.util,o=i.ENCRYPTION_OFF,a=i.ENCRYPTION_ON,u=n.error.SERVICE_UNAVAILABLE,s=[null,void 0,!0,!1,a,o],l=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function(c,f,h,v){this.address=c,this.encrypted=function(d){var y=d.encrypted;if(s.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the encrypted setting ".concat(y,". Expected one of ").concat(s));return y}(f),this.trust=function(d){var y=d.trust;if(l.indexOf(y)===-1)throw(0,n.newError)("Illegal value of the trust setting ".concat(y,". Expected one of ").concat(l));return y}(f),this.trustedCertificates=function(d){return d.trustedCertificates||[]}(f),this.knownHostsPath=function(d){return d.knownHosts||null}(f),this.connectionErrorCode=h||u,this.connectionTimeout=f.connectionTimeout,this.clientCertificate=v}},2483:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__values||function(h){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&h[v],y=0;if(d)return d.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.AnonymousSubject=e.Subject=void 0;var o=t(4662),a=t(8014),u=t(9686),s=t(7479),l=t(9223),c=function(h){function v(){var d=h.call(this)||this;return d.closed=!1,d.currentObservers=null,d.observers=[],d.isStopped=!1,d.hasError=!1,d.thrownError=null,d}return n(v,h),v.prototype.lift=function(d){var y=new f(this,this);return y.operator=d,y},v.prototype._throwIfClosed=function(){if(this.closed)throw new u.ObjectUnsubscribedError},v.prototype.next=function(d){var y=this;l.errorContext(function(){var p,g;if(y._throwIfClosed(),!y.isStopped){y.currentObservers||(y.currentObservers=Array.from(y.observers));try{for(var b=i(y.currentObservers),m=b.next();!m.done;m=b.next())m.value.next(d)}catch(_){p={error:_}}finally{try{m&&!m.done&&(g=b.return)&&g.call(b)}finally{if(p)throw p.error}}}})},v.prototype.error=function(d){var y=this;l.errorContext(function(){if(y._throwIfClosed(),!y.isStopped){y.hasError=y.isStopped=!0,y.thrownError=d;for(var p=y.observers;p.length;)p.shift().error(d)}})},v.prototype.complete=function(){var d=this;l.errorContext(function(){if(d._throwIfClosed(),!d.isStopped){d.isStopped=!0;for(var y=d.observers;y.length;)y.shift().complete()}})},v.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(v.prototype,"observed",{get:function(){var d;return((d=this.observers)===null||d===void 0?void 0:d.length)>0},enumerable:!1,configurable:!0}),v.prototype._trySubscribe=function(d){return this._throwIfClosed(),h.prototype._trySubscribe.call(this,d)},v.prototype._subscribe=function(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)},v.prototype._innerSubscribe=function(d){var y=this,p=this,g=p.hasError,b=p.isStopped,m=p.observers;return g||b?a.EMPTY_SUBSCRIPTION:(this.currentObservers=null,m.push(d),new a.Subscription(function(){y.currentObservers=null,s.arrRemove(m,d)}))},v.prototype._checkFinalizedStatuses=function(d){var y=this,p=y.hasError,g=y.thrownError,b=y.isStopped;p?d.error(g):b&&d.complete()},v.prototype.asObservable=function(){var d=new o.Observable;return d.source=this,d},v.create=function(d,y){return new f(d,y)},v}(o.Observable);e.Subject=c;var f=function(h){function v(d,y){var p=h.call(this)||this;return p.destination=d,p.source=y,p}return n(v,h),v.prototype.next=function(d){var y,p;(p=(y=this.destination)===null||y===void 0?void 0:y.next)===null||p===void 0||p.call(y,d)},v.prototype.error=function(d){var y,p;(p=(y=this.destination)===null||y===void 0?void 0:y.error)===null||p===void 0||p.call(y,d)},v.prototype.complete=function(){var d,y;(y=(d=this.destination)===null||d===void 0?void 0:d.complete)===null||y===void 0||y.call(d)},v.prototype._subscribe=function(d){var y,p;return(p=(y=this.source)===null||y===void 0?void 0:y.subscribe(d))!==null&&p!==void 0?p:a.EMPTY_SUBSCRIPTION},v}(c);e.AnonymousSubject=f},2533:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}(),i=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(715)),a=function(u){function s(l){var c=u.call(this)||this;return c._readersIndex=new o.default,c._writersIndex=new o.default,c._connectionPool=l,c}return n(s,u),s.prototype.selectReader=function(l){return this._select(l,this._readersIndex)},s.prototype.selectWriter=function(l){return this._select(l,this._writersIndex)},s.prototype._select=function(l,c){var f=l.length;if(f===0)return null;var h=c.next(f),v=h,d=null,y=Number.MAX_SAFE_INTEGER;do{var p=l[v],g=this._connectionPool.activeResourceCount(p);g<y&&(d=p,y=g),v===f-1?v=0:v++}while(v!==h);return d},s}(i(t(4311)).default);e.default=a},2539:function(r,e,t){var n=this&&this.__extends||function(){var w=function(O,E){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(S[I]=P[I])},w(O,E)};return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function S(){this.constructor=O}w(O,E),O.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(w){for(var O,E=1,S=arguments.length;E<S;E++)for(var P in O=arguments[E])Object.prototype.hasOwnProperty.call(O,P)&&(w[P]=O[P]);return w},i.apply(this,arguments)},o=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(5642)),u=o(t(7021)),s=t(397),l=t(9014),c=o(t(2066)),f=o(t(3321)),h=t(9305),v=(h.internal.bookmarks.Bookmarks,h.internal.constants),d=v.BOLT_PROTOCOL_V4_0,y=v.FETCH_ALL,p=h.internal.txConfig.TxConfig,g="context",b="database",m="CALL dbms.routing.getRoutingTable($".concat(g,", $").concat(b,")"),_=function(w){function O(){return w!==null&&w.apply(this,arguments)||this}return n(O,w),Object.defineProperty(O.prototype,"version",{get:function(){return d},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"transformer",{get:function(){var E=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(S){return S(E._config,E._log)}))),this._transformer},enumerable:!1,configurable:!0}),O.prototype.beginTransaction=function(E){var S=E===void 0?{}:E,P=S.bookmarks,I=S.txConfig,R=S.database,D=S.impersonatedUser,k=S.notificationFilter,N=S.mode,B=S.beforeError,z=S.afterError,F=S.beforeComplete,U=S.afterComplete,W=new l.ResultStreamObserver({server:this._server,beforeError:B,afterError:z,beforeComplete:F,afterComplete:U});return W.prepareToHandleSingleResponse(),(0,s.assertImpersonatedUserIsEmpty)(D,this._onProtocolError,W),(0,s.assertNotificationFilterIsEmpty)(k,this._onProtocolError,W),this.write(u.default.begin({bookmarks:P,txConfig:I,database:R,mode:N}),W,!0),W},O.prototype.run=function(E,S,P){var I=P===void 0?{}:P,R=I.bookmarks,D=I.txConfig,k=I.database,N=I.impersonatedUser,B=I.notificationFilter,z=I.mode,F=I.beforeKeys,U=I.afterKeys,W=I.beforeError,Y=I.afterError,X=I.beforeComplete,Q=I.afterComplete,ue=I.flush,ce=ue===void 0||ue,ae=I.reactive,pe=ae!==void 0&&ae,fe=I.fetchSize,he=fe===void 0?y:fe,ee=I.highRecordWatermark,K=ee===void 0?Number.MAX_VALUE:ee,J=I.lowRecordWatermark,ie=J===void 0?Number.MAX_VALUE:J,de=new l.ResultStreamObserver({server:this._server,reactive:pe,fetchSize:he,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:F,afterKeys:U,beforeError:W,afterError:Y,beforeComplete:X,afterComplete:Q,highRecordWatermark:K,lowRecordWatermark:ie});(0,s.assertImpersonatedUserIsEmpty)(N,this._onProtocolError,de),(0,s.assertNotificationFilterIsEmpty)(B,this._onProtocolError,de);var _e=pe;return this.write(u.default.runWithMetadata(E,S,{bookmarks:R,txConfig:D,database:k,mode:z}),de,_e&&ce),pe||this.write(u.default.pull({n:he}),de,ce),de},O.prototype._requestMore=function(E,S,P){this.write(u.default.pull({stmtId:E,n:S}),P,!0)},O.prototype._requestDiscard=function(E,S){this.write(u.default.discard({stmtId:E}),S,!0)},O.prototype._noOp=function(){},O.prototype.requestRoutingInformation=function(E){var S,P=E.routingContext,I=P===void 0?{}:P,R=E.databaseName,D=R===void 0?null:R,k=E.sessionContext,N=k===void 0?{}:k,B=E.onError,z=E.onCompleted,F=this.run(m,((S={})[g]=I,S[b]=D,S),i(i({},N),{txConfig:p.empty()}));return new l.ProcedureRouteObserver({resultObserver:F,onProtocolError:this._onProtocolError,onError:B,onCompleted:z})},O}(a.default);e.default=_},2551:function(r,e,t){var n=this&&this.__read||function(f,h){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var d,y,p=v.call(f),g=[];try{for(;(h===void 0||h-- >0)&&!(d=p.next()).done;)g.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(y)throw y.error}}return g},i=this&&this.__spreadArray||function(f,h){for(var v=0,d=h.length,y=f.length;v<d;v++,y++)f[y]=h[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatest=void 0;var o=t(3247),a=t(7843),u=t(8535),s=t(1251),l=t(2706),c=t(1107);e.combineLatest=function f(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];var d=c.popResultSelector(h);return d?l.pipe(f.apply(void 0,i([],n(h))),s.mapOneOrManyArgs(d)):a.operate(function(y,p){o.combineLatestInit(i([y],n(u.argsOrArgArray(h))))(p)})}},2578:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305);function i(){}function o(s){return s}var a={onNext:i,onCompleted:i,onError:i},u=function(){function s(l){var c=l===void 0?{}:l,f=c.transformMetadata,h=c.enrichErrorMetadata,v=c.log,d=c.observer;this._pendingObservers=[],this._log=v,this._transformMetadata=f||o,this._enrichErrorMetadata=h||o,this._observer=Object.assign({onObserversCountChange:i,onError:i,onFailure:i,onErrorApplyTransformation:o},d)}return Object.defineProperty(s.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),s.prototype.handleResponse=function(l){var c=l.fields[0];switch(l.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD ".concat(n.json.stringify(l))),this._currentObserver.onNext(c);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS ".concat(n.json.stringify(l)));try{var f=this._transformMetadata(c);this._currentObserver.onCompleted(f)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE ".concat(n.json.stringify(l)));try{this._currentFailure=this._handleErrorPayload(this._enrichErrorMetadata(c)),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED ".concat(n.json.stringify(l)));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,n.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,n.newError)("Unknown Bolt protocol message: "+l))}},s.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onObserversCountChange(this._observersCount)},Object.defineProperty(s.prototype,"_observersCount",{get:function(){return this._currentObserver==null?this._pendingObservers.length:this._pendingObservers.length+1},enumerable:!1,configurable:!0}),s.prototype._queueObserver=function(l){return(l=l||a).onCompleted=l.onCompleted||i,l.onError=l.onError||i,l.onNext=l.onNext||i,this._currentObserver===void 0?this._currentObserver=l:this._pendingObservers.push(l),this._observer.onObserversCountChange(this._observersCount),!0},s.prototype._notifyErrorToObservers=function(l){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(l);this._pendingObservers.length>0;){var c=this._pendingObservers.shift();c&&c.onError&&c.onError(l)}},s.prototype.hasOngoingObservableRequests=function(){return this._currentObserver!=null||this._pendingObservers.length>0},s.prototype._resetFailure=function(){this._currentFailure=null},s.prototype._handleErrorPayload=function(l){var c,f=(c=l.code)==="Neo.TransientError.Transaction.Terminated"?"Neo.ClientError.Transaction.Terminated":c==="Neo.TransientError.Transaction.LockClientStopped"?"Neo.ClientError.Transaction.LockClientStopped":c,h=l.cause!=null?this._handleErrorCause(l.cause):void 0,v=(0,n.newError)(l.message,f,h,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(v)},s.prototype._handleErrorCause=function(l){var c=l.cause!=null?this._handleErrorCause(l.cause):void 0,f=(0,n.newGQLError)(l.message,c,l.gql_status,l.description,l.diagnostic_record);return this._observer.onErrorApplyTransformation(f)},s}();e.default=u},2628:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameAction=void 0;var i=t(5267),o=t(9507),a=function(u){function s(l,c){var f=u.call(this,l,c)||this;return f.scheduler=l,f.work=c,f}return n(s,u),s.prototype.requestAsyncId=function(l,c,f){return f===void 0&&(f=0),f!==null&&f>0?u.prototype.requestAsyncId.call(this,l,c,f):(l.actions.push(this),l._scheduled||(l._scheduled=o.animationFrameProvider.requestAnimationFrame(function(){return l.flush(void 0)})))},s.prototype.recycleAsyncId=function(l,c,f){var h;if(f===void 0&&(f=0),f!=null?f>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,l,c,f);var v=l.actions;c!=null&&c===l._scheduled&&((h=v[v.length-1])===null||h===void 0?void 0:h.id)!==c&&(o.animationFrameProvider.cancelAnimationFrame(c),l._scheduled=void 0)},s}(i.AsyncAction);e.AnimationFrameAction=a},2669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.min=void 0;var n=t(9139),i=t(1018);e.min=function(o){return n.reduce(i.isFunction(o)?function(a,u){return o(a,u)<0?a:u}:function(a,u){return a<u?a:u})}},2696:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FailedObserver=e.CompletedObserver=void 0;var t=function(){function o(){}return o.prototype.subscribe=function(a){i(a,a.onKeys,[]),i(a,a.onCompleted,{})},o.prototype.cancel=function(){},o.prototype.pause=function(){},o.prototype.resume=function(){},o.prototype.prepareToHandleSingleResponse=function(){},o.prototype.markCompleted=function(){},o.prototype.onError=function(a){throw new Error("CompletedObserver not supposed to call onError",{cause:a})},o}();e.CompletedObserver=t;var n=function(){function o(a){var u=a.error,s=a.onError;this._error=u,this._beforeError=s,this._observers=[],this.onError(u)}return o.prototype.subscribe=function(a){i(a,a.onError,this._error),this._observers.push(a)},o.prototype.onError=function(a){i(this,this._beforeError,a),this._observers.forEach(function(u){return i(u,u.onError,a)})},o.prototype.cancel=function(){},o.prototype.pause=function(){},o.prototype.resume=function(){},o.prototype.markCompleted=function(){},o.prototype.prepareToHandleSingleResponse=function(){},o}();function i(o,a,u){a?.bind(o)(u)}e.FailedObserver=n},2706:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pipeFromArray=e.pipe=void 0;var n=t(6640);function i(o){return o.length===0?n.identity:o.length===1?o[0]:function(a){return o.reduce(function(u,s){return s(u)},a)}}e.pipe=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return i(o)},e.pipeFromArray=i},2713:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindCallback=void 0;var n=t(1439);e.bindCallback=function(i,o,a){return n.bindCallbackInternals(!1,i,o,a)}},2752:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustAll=void 0;var n=t(4753),i=t(6640);e.exhaustAll=function(){return n.exhaustMap(i.identity)}},2823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.EmptyError=void 0;var n=t(5568);e.EmptyError=n.createErrorClass(function(i){return function(){i(this),this.name="EmptyError",this.message="no elements in sequence"}})},2833:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.merge=void 0;var n=t(7302),i=t(9445),o=t(8616),a=t(1107),u=t(4917);e.merge=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=a.popScheduler(s),f=a.popNumber(s,1/0),h=s;return h.length?h.length===1?i.innerFrom(h[0]):n.mergeAll(f)(u.from(h,c)):o.EMPTY}},2857:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(8320)),a=i(t(7168)),u=t(9305),s=i(t(3448)),l=i(t(3321)),c=u.internal.constants.BOLT_PROTOCOL_V2,f=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return n(v,h),v.prototype._createPacker=function(d){return new a.default.Packer(d)},v.prototype._createUnpacker=function(d,y){return new a.default.Unpacker(d,y)},Object.defineProperty(v.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(s.default).map(function(y){return y(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),v}(o.default);e.default=f},2886:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.queue=e.queueScheduler=void 0;var n=t(4212),i=t(1293);e.queueScheduler=new i.QueueScheduler(n.QueueAction),e.queue=e.queueScheduler},2906:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,v)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),o=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c},a=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var u=o(t(7589));e.PoolConfig=u.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var s=a(t(6842));e.Pool=s.default,e.default=s.default},3001:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){this.maxSize=i,this.pruneCount=Math.max(Math.round(.01*i*Math.log(i)),1),this.map=new Map}return n.prototype.set=function(i,o){this.map.set(i,{database:o,lastUsed:Date.now()}),this._pruneCache()},n.prototype.get=function(i){var o=this.map.get(i);if(o!==void 0)return o.lastUsed=Date.now(),o.database},n.prototype.delete=function(i){this.map.delete(i)},n.prototype._pruneCache=function(){if(this.map.size>this.maxSize)for(var i=Array.from(this.map.entries()).sort(function(a,u){return a[1].lastUsed-u[1].lastUsed}),o=0;o<this.pruneCount;o++)this.map.delete(i[o][0])},n}();e.default=t},3019:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(9994));e.default=n({},o.default)},3057:function(r,e,t){var n=this&&this.__awaiter||function(c,f,h,v){return new(h||(h=Promise))(function(d,y){function p(m){try{b(v.next(m))}catch(_){y(_)}}function g(m){try{b(v.throw(m))}catch(_){y(_)}}function b(m){var _;m.done?d(m.value):(_=m.value,_ instanceof h?_:new h(function(w){w(_)})).then(p,g)}b((v=v.apply(c,f||[])).next())})},i=this&&this.__generator||function(c,f){var h,v,d,y,p={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return y={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function g(b){return function(m){return function(_){if(h)throw new TypeError("Generator is already executing.");for(;y&&(y=0,_[0]&&(p=0)),p;)try{if(h=1,v&&(d=2&_[0]?v.return:_[0]?v.throw||((d=v.return)&&d.call(v),0):v.next)&&!(d=d.call(v,_[1])).done)return d;switch(v=0,d&&(_=[2&_[0],d.value]),_[0]){case 0:case 1:d=_;break;case 4:return p.label++,{value:_[1],done:!1};case 5:p.label++,v=_[1],_=[0];continue;case 7:_=p.ops.pop(),p.trys.pop();continue;default:if(!((d=(d=p.trys).length>0&&d[d.length-1])||_[0]!==6&&_[0]!==2)){p=0;continue}if(_[0]===3&&(!d||_[1]>d[0]&&_[1]<d[3])){p.label=_[1];break}if(_[0]===6&&p.label<d[1]){p.label=d[1],d=_;break}if(d&&p.label<d[2]){p.label=d[2],p.ops.push(_);break}d[2]&&p.ops.pop(),p.trys.pop();continue}_=f.call(c,p)}catch(w){_=[6,w],v=0}finally{h=d=0}if(5&_[0])throw _[1];return{value:_[0]?_[1]:void 0,done:!0}}([b,m])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(9305),a=t(8813),u=t(9419),s=function(){function c(f,h){var v=f.pipe((0,u.publishReplay)(1),(0,u.refCount)());this._result=v,this._keys=v.pipe((0,u.mergeMap)(function(d){return(0,a.from)(d.keys())}),(0,u.publishReplay)(1),(0,u.refCount)()),this._records=void 0,this._controls=new l,this._summary=new a.ReplaySubject,this._state=h||0}return c.prototype.keys=function(){return this._keys},c.prototype.records=function(){var f=this,h=this._result.pipe((0,u.mergeMap)(function(v){return new a.Observable(function(d){return f._startStreaming({result:v,recordsObserver:d})})}));return h.push=function(){return f._push()},h},c.prototype.consume=function(){var f=this;return this._result.pipe((0,u.mergeMap)(function(h){return new a.Observable(function(v){return f._startStreaming({result:h,summaryObserver:v})})}))},c.prototype.pause=function(){this._controls.pause()},c.prototype.resume=function(){return this._controls.resume()},c.prototype.push=function(){return this._controls.push()},c.prototype._startStreaming=function(f){var h=f===void 0?{}:f,v=h.result,d=h.recordsObserver,y=d===void 0?null:d,p=h.summaryObserver,g=p===void 0?null:p,b=[];return g&&b.push(this._summary.subscribe(g)),this._state<1?(this._state=1,this._setupRecordsStream(v),y?b.push(this._records.subscribe(y)):v._cancel(),b.push({unsubscribe:function(){v._cancel&&v._cancel()}})):y&&y.error((0,o.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){b.forEach(function(m){return m.unsubscribe()})}},c.prototype._toObservable=function(){var f=this;return new a.Observable(function(h){f._result.subscribe({complete:function(){return h.complete()},next:function(v){return h.next(new c(function(d){return new a.Observable(function(y){y.next(d),y.complete()})}(v)),f._state)},error:function(v){return h.error(v)}})})},c.prototype._setupRecordsStream=function(f){var h=this;return this._records||(this._records=function(v,d,y){var p=this;y===void 0&&(y=new l);var g=new a.Subject,b=function(_){return n(p,void 0,void 0,function(){var w,O,E,S;return i(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,3,4]),y.pushing=!0,[4,_];case 1:return w=P.sent(),O=w.done,E=w.value,O?(g.complete(),d.complete()):(g.next(E),y.paused||b(v.next()).catch(function(){})),[3,4];case 2:return S=P.sent(),g.error(S),d.error(S),[3,4];case 3:return y.pushing=!1,[7];case 4:return[2]}})})};function m(_){return n(this,void 0,void 0,function(){return i(this,function(w){switch(w.label){case 0:return[4,b(v.next(_))];case 1:return w.sent(),[2]}})})}return y.pusher=m,m(),g}(f[Symbol.asyncIterator](),{complete:function(){return n(h,void 0,void 0,function(){var v,d;return i(this,function(y){switch(y.label){case 0:return this._state=2,d=(v=this._summary).next,[4,f.summary()];case 1:return d.apply(v,[y.sent()]),this._summary.complete(),[2]}})})},error:function(v){h._state=2,h._summary.error(v)}},this._controls)),this._records},c}();e.default=s;var l=function(){function c(f){f===void 0&&(f=function(){return n(h,void 0,void 0,function(){return i(this,function(v){return[2]})})});var h=this;this._paused=!1,this._pushing=!1,this._push=f}return c.prototype.pause=function(){this._paused=!0},Object.defineProperty(c.prototype,"paused",{get:function(){return this._paused},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"pushing",{get:function(){return this._pushing},set:function(f){this._pushing=f},enumerable:!1,configurable:!0}),c.prototype.resume=function(){return n(this,void 0,void 0,function(){var f;return i(this,function(h){switch(h.label){case 0:return f=this._paused,this._paused=!1,!f||this._pushing?[3,2]:[4,this._push()];case 1:h.sent(),h.label=2;case 2:return[2]}})})},c.prototype.push=function(){return n(this,void 0,void 0,function(){return i(this,function(f){switch(f.label){case 0:return this.pause(),[4,this._push()];case 1:return[2,f.sent()]}})})},Object.defineProperty(c.prototype,"pusher",{get:function(){return this._push},set:function(f){this._push=f},enumerable:!1,configurable:!0}),c}()},3110:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrames=void 0;var n=t(4662),i=t(4746),o=t(9507);function a(s){return new n.Observable(function(l){var c=s||i.performanceTimestampProvider,f=c.now(),h=0,v=function(){l.closed||(h=o.animationFrameProvider.requestAnimationFrame(function(d){h=0;var y=c.now();l.next({timestamp:s?y:d,elapsed:y-f}),v()}))};return v(),function(){h&&o.animationFrameProvider.cancelAnimationFrame(h)}})}e.animationFrames=function(s){return s?a(s):u};var u=a()},3111:function(r,e,t){var n=this&&this.__extends||function(){var a=function(u,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},a(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}a(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.OperatorSubscriber=e.createOperatorSubscriber=void 0;var i=t(5);e.createOperatorSubscriber=function(a,u,s,l,c){return new o(a,u,s,l,c)};var o=function(a){function u(s,l,c,f,h,v){var d=a.call(this,s)||this;return d.onFinalize=h,d.shouldUnsubscribe=v,d._next=l?function(y){try{l(y)}catch(p){s.error(p)}}:a.prototype._next,d._error=f?function(y){try{f(y)}catch(p){s.error(p)}finally{this.unsubscribe()}}:a.prototype._error,d._complete=c?function(){try{c()}catch(y){s.error(y)}finally{this.unsubscribe()}}:a.prototype._complete,d}return n(u,a),u.prototype.unsubscribe=function(){var s;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var l=this.closed;a.prototype.unsubscribe.call(this),!l&&((s=this.onFinalize)===null||s===void 0||s.call(this))}},u}(i.Subscriber);e.OperatorSubscriber=o},3133:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.shareReplay=void 0;var n=t(1242),i=t(8977);e.shareReplay=function(o,a,u){var s,l,c,f,h=!1;return o&&typeof o=="object"?(s=o.bufferSize,f=s===void 0?1/0:s,l=o.windowTime,a=l===void 0?1/0:l,h=(c=o.refCount)!==void 0&&c,u=o.scheduler):f=o??1/0,i.share({connector:function(){return new n.ReplaySubject(f,a,u)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}},3146:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.audit=void 0;var n=t(7843),i=t(9445),o=t(3111);e.audit=function(a){return n.operate(function(u,s){var l=!1,c=null,f=null,h=!1,v=function(){if(f?.unsubscribe(),f=null,l){l=!1;var y=c;c=null,s.next(y)}h&&s.complete()},d=function(){f=null,h&&s.complete()};u.subscribe(o.createOperatorSubscriber(s,function(y){l=!0,c=y,f||i.innerFrom(a(y)).subscribe(f=o.createOperatorSubscriber(s,v,d))},function(){h=!0,(!l||!f||f.closed)&&s.complete()}))})}},3206:(r,e,t)=>{r.exports=function(E){var S,P,I,R=0,D=0,k=s,N=[],B=[],z=1,F=0,U=0,W=!1,Y=!1,X="",Q=o,ue=n;(E=E||{}).version==="300 es"&&(Q=u,ue=a);var ce={},ae={};for(R=0;R<Q.length;R++)ce[Q[R]]=!0;for(R=0;R<ue.length;R++)ae[ue[R]]=!0;return function(j){return B=[],j!==null?function(G){var H;for(R=0,G.toString&&(G=G.toString()),X+=G.replace(/\r\n/g,`
`),I=X.length;S=X[R],R<I;){switch(H=R,k){case c:R=J();break;case f:R=K();break;case h:R=ee();break;case v:R=ie();break;case d:R=Ce();break;case w:R=_e();break;case y:R=Ae();break;case l:R=xe();break;case m:R=he();break;case s:R=fe()}H!==R&&(X[H]===`
`?(F=0,++z):++F)}return D+=R,X=X.slice(R),B}(j):(N.length&&pe(N.join("")),k=_,pe("(eof)"),B)};function pe(j){j.length&&B.push({type:O[k],data:j,position:U,line:z,column:F})}function fe(){return N=N.length?[]:N,P==="/"&&S==="*"?(U=D+R-1,k=c,P=S,R+1):P==="/"&&S==="/"?(U=D+R-1,k=f,P=S,R+1):S==="#"?(k=h,U=D+R,R):/\s/.test(S)?(k=m,U=D+R,R):(W=/\d/.test(S),Y=/[^\w_]/.test(S),U=D+R,k=W?d:Y?v:l,R)}function he(){return/[^\s]/g.test(S)?(pe(N.join("")),k=s,R):(N.push(S),P=S,R+1)}function ee(){return S!=="\r"&&S!==`
`||P==="\\"?(N.push(S),P=S,R+1):(pe(N.join("")),k=s,R)}function K(){return ee()}function J(){return S==="/"&&P==="*"?(N.push(S),pe(N.join("")),k=s,R+1):(N.push(S),P=S,R+1)}function ie(){if(P==="."&&/\d/.test(S))return k=y,R;if(P==="/"&&S==="*")return k=c,R;if(P==="/"&&S==="/")return k=f,R;if(S==="."&&N.length){for(;de(N););return k=y,R}if(S===";"||S===")"||S==="("){if(N.length)for(;de(N););return pe(S),k=s,R+1}var j=N.length===2&&S!=="=";if(/[\w_\d\s]/.test(S)||j){for(;de(N););return k=s,R}return N.push(S),P=S,R+1}function de(j){for(var G,H,oe=0;;){if(G=i.indexOf(j.slice(0,j.length+oe).join("")),H=i[G],G===-1){if(oe--+j.length>0)continue;H=j.slice(0,1).join("")}return pe(H),U+=H.length,(N=N.slice(H.length)).length}}function _e(){return/[^a-fA-F0-9]/.test(S)?(pe(N.join("")),k=s,R):(N.push(S),P=S,R+1)}function Ce(){return S==="."||/[eE]/.test(S)?(N.push(S),k=y,P=S,R+1):S==="x"&&N.length===1&&N[0]==="0"?(k=w,N.push(S),P=S,R+1):/[^\d]/.test(S)?(pe(N.join("")),k=s,R):(N.push(S),P=S,R+1)}function Ae(){return S==="f"&&(N.push(S),P=S,R+=1),/[eE]/.test(S)?(N.push(S),P=S,R+1):(S!=="-"&&S!=="+"||!/[eE]/.test(P))&&/[^\d]/.test(S)?(pe(N.join("")),k=s,R):(N.push(S),P=S,R+1)}function xe(){if(/[^\d\w_]/.test(S)){var j=N.join("");return k=ae[j]?b:ce[j]?g:p,pe(N.join("")),k=s,R}return N.push(S),P=S,R+1}};var n=t(4704),i=t(2063),o=t(7192),a=t(8784),u=t(5592),s=999,l=9999,c=0,f=1,h=2,v=3,d=4,y=5,p=6,g=7,b=8,m=9,_=10,w=11,O=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3218:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mapTo=void 0;var n=t(5471);e.mapTo=function(i){return n.map(function(){return i})}},3229:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AnimationFrameScheduler=void 0;var i=function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return n(a,o),a.prototype.flush=function(u){var s;this._active=!0,u?s=u.id:(s=this._scheduled,this._scheduled=void 0);var l,c=this.actions;u=u||c.shift();do if(l=u.execute(u.state,u.delay))break;while((u=c[0])&&u.id===s&&c.shift());if(this._active=!1,l){for(;(u=c[0])&&u.id===s&&c.shift();)u.unsubscribe();throw l}},a}(t(5648).AsyncScheduler);e.AnimationFrameScheduler=i},3231:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.auditTime=void 0;var n=t(7961),i=t(3146),o=t(4092);e.auditTime=function(a,u){return u===void 0&&(u=n.asyncScheduler),i.audit(function(){return o.timer(a,u)})}},3247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestInit=e.combineLatest=void 0;var n=t(4662),i=t(7360),o=t(4917),a=t(6640),u=t(1251),s=t(1107),l=t(6013),c=t(3111),f=t(7110);function h(d,y,p){return p===void 0&&(p=a.identity),function(g){v(y,function(){for(var b=d.length,m=new Array(b),_=b,w=b,O=function(S){v(y,function(){var P=o.from(d[S],y),I=!1;P.subscribe(c.createOperatorSubscriber(g,function(R){m[S]=R,I||(I=!0,w--),w||g.next(p(m.slice()))},function(){--_||g.complete()}))},g)},E=0;E<b;E++)O(E)},g)}}function v(d,y,p){d?f.executeSchedule(p,d,y):y()}e.combineLatest=function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];var p=s.popScheduler(d),g=s.popResultSelector(d),b=i.argsArgArrayOrObject(d),m=b.args,_=b.keys;if(m.length===0)return o.from([],p);var w=new n.Observable(h(m,p,_?function(O){return l.createObject(_,O)}:a.identity));return g?w.pipe(u.mapOneOrManyArgs(g)):w},e.combineLatestInit=h},3269:(r,e,t)=>{var n=t(6931),i=t(9975),o=Object.hasOwnProperty,a=Object.create(null);for(var u in n)o.call(n,u)&&(a[n[u]]=u);var s=r.exports={to:{},get:{}};function l(f,h,v){return Math.min(Math.max(h,f),v)}function c(f){var h=Math.round(f).toString(16).toUpperCase();return h.length<2?"0"+h:h}s.get=function(f){var h,v;switch(f.substring(0,3).toLowerCase()){case"hsl":h=s.get.hsl(f),v="hsl";break;case"hwb":h=s.get.hwb(f),v="hwb";break;default:h=s.get.rgb(f),v="rgb"}return h?{model:v,value:h}:null},s.get.rgb=function(f){if(!f)return null;var h,v,d,y=[0,0,0,1];if(h=f.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(d=h[2],h=h[1],v=0;v<3;v++){var p=2*v;y[v]=parseInt(h.slice(p,p+2),16)}d&&(y[3]=parseInt(d,16)/255)}else if(h=f.match(/^#([a-f0-9]{3,4})$/i)){for(d=(h=h[1])[3],v=0;v<3;v++)y[v]=parseInt(h[v]+h[v],16);d&&(y[3]=parseInt(d+d,16)/255)}else if(h=f.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(v=0;v<3;v++)y[v]=parseInt(h[v+1],0);h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}else{if(!(h=f.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(h=f.match(/^(\w+)$/))?h[1]==="transparent"?[0,0,0,0]:o.call(n,h[1])?((y=n[h[1]])[3]=1,y):null:null;for(v=0;v<3;v++)y[v]=Math.round(2.55*parseFloat(h[v+1]));h[4]&&(h[5]?y[3]=.01*parseFloat(h[4]):y[3]=parseFloat(h[4]))}for(v=0;v<3;v++)y[v]=l(y[v],0,255);return y[3]=l(y[3],0,1),y},s.get.hsl=function(f){if(!f)return null;var h=f.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var v=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(v)?1:v,0,1)]}return null},s.get.hwb=function(f){if(!f)return null;var h=f.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(h){var v=parseFloat(h[4]);return[(parseFloat(h[1])%360+360)%360,l(parseFloat(h[2]),0,100),l(parseFloat(h[3]),0,100),l(isNaN(v)?1:v,0,1)]}return null},s.to.hex=function(){var f=i(arguments);return"#"+c(f[0])+c(f[1])+c(f[2])+(f[3]<1?c(Math.round(255*f[3])):"")},s.to.rgb=function(){var f=i(arguments);return f.length<4||f[3]===1?"rgb("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+")":"rgba("+Math.round(f[0])+", "+Math.round(f[1])+", "+Math.round(f[2])+", "+f[3]+")"},s.to.rgb.percent=function(){var f=i(arguments),h=Math.round(f[0]/255*100),v=Math.round(f[1]/255*100),d=Math.round(f[2]/255*100);return f.length<4||f[3]===1?"rgb("+h+"%, "+v+"%, "+d+"%)":"rgba("+h+"%, "+v+"%, "+d+"%, "+f[3]+")"},s.to.hsl=function(){var f=i(arguments);return f.length<4||f[3]===1?"hsl("+f[0]+", "+f[1]+"%, "+f[2]+"%)":"hsla("+f[0]+", "+f[1]+"%, "+f[2]+"%, "+f[3]+")"},s.to.hwb=function(){var f=i(arguments),h="";return f.length>=4&&f[3]!==1&&(h=", "+f[3]),"hwb("+f[0]+", "+f[1]+"%, "+f[2]+"%"+h+")"},s.to.keyword=function(f){return a[f.slice(0,3)]}},3274:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMapTo=void 0;var n=t(3879),i=t(1018);e.switchMapTo=function(o,a){return i.isFunction(a)?n.switchMap(function(){return o},a):n.switchMap(function(){return o})}},3321:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TypeTransformer=void 0;var n=t(7168),i=t(9305).internal.objectUtil,o=function(){function u(s){this._transformers=s,this._transformersPerSignature=new Map(s.map(function(l){return[l.signature,l]})),this.fromStructure=this.fromStructure.bind(this),this.toStructure=this.toStructure.bind(this),Object.freeze(this)}return u.prototype.fromStructure=function(s){try{return s instanceof n.structure.Structure&&this._transformersPerSignature.has(s.signature)?(0,this._transformersPerSignature.get(s.signature).fromStructure)(s):s}catch(l){return i.createBrokenObject(l)}},u.prototype.toStructure=function(s){var l=this._transformers.find(function(c){return(0,c.isTypeInstance)(s)});return l!==void 0?l.toStructure(s):s},u}();e.default=o;var a=function(){function u(s){var l=s.signature,c=s.fromStructure,f=s.toStructure,h=s.isTypeInstance;this.signature=l,this.isTypeInstance=h,this.fromStructure=c,this.toStructure=f,Object.freeze(this)}return u.prototype.extendsWith=function(s){var l=s.signature,c=s.fromStructure,f=s.toStructure,h=s.isTypeInstance;return new u({signature:l||this.signature,fromStructure:c||this.fromStructure,toStructure:f||this.toStructure,isTypeInstance:h||this.isTypeInstance})},u}();e.TypeTransformer=a},3327:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observable=void 0,e.observable=typeof Symbol=="function"&&Symbol.observable||"@@observable"},3371:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var n=t(9691),i=new Map,o=function(){function y(p,g){this.low=p??0,this.high=g??0}return y.prototype.inSafeRange=function(){return this.greaterThanOrEqual(y.MIN_SAFE_VALUE)&&this.lessThanOrEqual(y.MAX_SAFE_VALUE)},y.prototype.toInt=function(){return this.low},y.prototype.toNumber=function(){return this.high*u+(this.low>>>0)},y.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(u)+BigInt(this.low>>>0);var p=this.negate();return BigInt(-1)*(BigInt(p.high>>>0)*BigInt(u)+BigInt(p.low>>>0))},y.prototype.toNumberOrInfinity=function(){return this.lessThan(y.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(y.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},y.prototype.toString=function(p){if((p=p??10)<2||p>36)throw RangeError("radix out of range: "+p.toString());if(this.isZero())return"0";var g;if(this.isNegative()){if(this.equals(y.MIN_VALUE)){var b=y.fromNumber(p),m=this.div(b);return g=m.multiply(b).subtract(this),m.toString(p)+g.toInt().toString(p)}return"-"+this.negate().toString(p)}var _=y.fromNumber(Math.pow(p,6));g=this;for(var w="";;){var O=g.div(_),E=(g.subtract(O.multiply(_)).toInt()>>>0).toString(p);if((g=O).isZero())return E+w;for(;E.length<6;)E="0"+E;w=""+E+w}},y.prototype.valueOf=function(){return this.toBigInt()},y.prototype.getHighBits=function(){return this.high},y.prototype.getLowBits=function(){return this.low},y.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(y.MIN_VALUE)?64:this.negate().getNumBitsAbs();var p=this.high!==0?this.high:this.low,g=0;for(g=31;g>0&&!(p&1<<g);g--);return this.high!==0?g+33:g+1},y.prototype.isZero=function(){return this.high===0&&this.low===0},y.prototype.isNegative=function(){return this.high<0},y.prototype.isPositive=function(){return this.high>=0},y.prototype.isOdd=function(){return!(1&~this.low)},y.prototype.isEven=function(){return!(1&this.low)},y.prototype.equals=function(p){var g=y.fromValue(p);return this.high===g.high&&this.low===g.low},y.prototype.notEquals=function(p){return!this.equals(p)},y.prototype.lessThan=function(p){return this.compare(p)<0},y.prototype.lessThanOrEqual=function(p){return this.compare(p)<=0},y.prototype.greaterThan=function(p){return this.compare(p)>0},y.prototype.greaterThanOrEqual=function(p){return this.compare(p)>=0},y.prototype.compare=function(p){var g=y.fromValue(p);if(this.equals(g))return 0;var b=this.isNegative(),m=g.isNegative();return b&&!m?-1:!b&&m?1:this.subtract(g).isNegative()?-1:1},y.prototype.negate=function(){return this.equals(y.MIN_VALUE)?y.MIN_VALUE:this.not().add(y.ONE)},y.prototype.add=function(p){var g=y.fromValue(p),b=this.high>>>16,m=65535&this.high,_=this.low>>>16,w=65535&this.low,O=g.high>>>16,E=65535&g.high,S=g.low>>>16,P=0,I=0,R=0,D=0;return R+=(D+=w+(65535&g.low))>>>16,D&=65535,I+=(R+=_+S)>>>16,R&=65535,P+=(I+=m+E)>>>16,I&=65535,P+=b+O,P&=65535,y.fromBits(R<<16|D,P<<16|I)},y.prototype.subtract=function(p){var g=y.fromValue(p);return this.add(g.negate())},y.prototype.multiply=function(p){if(this.isZero())return y.ZERO;var g=y.fromValue(p);if(g.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return g.isOdd()?y.MIN_VALUE:y.ZERO;if(g.equals(y.MIN_VALUE))return this.isOdd()?y.MIN_VALUE:y.ZERO;if(this.isNegative())return g.isNegative()?this.negate().multiply(g.negate()):this.negate().multiply(g).negate();if(g.isNegative())return this.multiply(g.negate()).negate();if(this.lessThan(l)&&g.lessThan(l))return y.fromNumber(this.toNumber()*g.toNumber());var b=this.high>>>16,m=65535&this.high,_=this.low>>>16,w=65535&this.low,O=g.high>>>16,E=65535&g.high,S=g.low>>>16,P=65535&g.low,I=0,R=0,D=0,k=0;return D+=(k+=w*P)>>>16,k&=65535,R+=(D+=_*P)>>>16,D&=65535,R+=(D+=w*S)>>>16,D&=65535,I+=(R+=m*P)>>>16,R&=65535,I+=(R+=_*S)>>>16,R&=65535,I+=(R+=w*E)>>>16,R&=65535,I+=b*P+m*S+_*E+w*O,I&=65535,y.fromBits(D<<16|k,I<<16|R)},y.prototype.div=function(p){var g,b,m,_=y.fromValue(p);if(_.isZero())throw(0,n.newError)("division by zero");if(this.isZero())return y.ZERO;if(this.equals(y.MIN_VALUE))return _.equals(y.ONE)||_.equals(y.NEG_ONE)?y.MIN_VALUE:_.equals(y.MIN_VALUE)?y.ONE:(g=this.shiftRight(1).div(_).shiftLeft(1)).equals(y.ZERO)?_.isNegative()?y.ONE:y.NEG_ONE:(b=this.subtract(_.multiply(g)),m=g.add(b.div(_)));if(_.equals(y.MIN_VALUE))return y.ZERO;if(this.isNegative())return _.isNegative()?this.negate().div(_.negate()):this.negate().div(_).negate();if(_.isNegative())return this.div(_.negate()).negate();for(m=y.ZERO,b=this;b.greaterThanOrEqual(_);){g=Math.max(1,Math.floor(b.toNumber()/_.toNumber()));for(var w=Math.ceil(Math.log(g)/Math.LN2),O=w<=48?1:Math.pow(2,w-48),E=y.fromNumber(g),S=E.multiply(_);S.isNegative()||S.greaterThan(b);)g-=O,S=(E=y.fromNumber(g)).multiply(_);E.isZero()&&(E=y.ONE),m=m.add(E),b=b.subtract(S)}return m},y.prototype.modulo=function(p){var g=y.fromValue(p);return this.subtract(this.div(g).multiply(g))},y.prototype.not=function(){return y.fromBits(~this.low,~this.high)},y.prototype.and=function(p){var g=y.fromValue(p);return y.fromBits(this.low&g.low,this.high&g.high)},y.prototype.or=function(p){var g=y.fromValue(p);return y.fromBits(this.low|g.low,this.high|g.high)},y.prototype.xor=function(p){var g=y.fromValue(p);return y.fromBits(this.low^g.low,this.high^g.high)},y.prototype.shiftLeft=function(p){var g=y.toNumber(p);return(g&=63)==0?y.ZERO:g<32?y.fromBits(this.low<<g,this.high<<g|this.low>>>32-g):y.fromBits(0,this.low<<g-32)},y.prototype.shiftRight=function(p){var g=y.toNumber(p),b=y.toNumber(p);return(g&=63)==0?y.ZERO:b<32?y.fromBits(this.low>>>g|this.high<<32-g,this.high>>g):y.fromBits(this.high>>g-32,this.high>=0?0:-1)},y.isInteger=function(p){return p?.__isInteger__===!0},y.fromInt=function(p){var g;if((p|=0)>=-128&&p<128&&(g=i.get(p))!=null)return g;var b=new y(p,p<0?-1:0);return p>=-128&&p<128&&i.set(p,b),b},y.fromBits=function(p,g){return new y(p,g)},y.fromNumber=function(p){return isNaN(p)||!isFinite(p)?y.ZERO:p<=-s?y.MIN_VALUE:p+1>=s?y.MAX_VALUE:p<0?y.fromNumber(-p).negate():new y(p%u|0,p/u|0)},y.fromString=function(p,g,b){var m,_=(b===void 0?{}:b).strictStringValidation;if(p.length===0)throw(0,n.newError)("number format error: empty string");if(p==="NaN"||p==="Infinity"||p==="+Infinity"||p==="-Infinity")return y.ZERO;if((g=g??10)<2||g>36)throw(0,n.newError)("radix out of range: "+g.toString());if((m=p.indexOf("-"))>0)throw(0,n.newError)('number format error: interior "-" character: '+p);if(m===0)return y.fromString(p.substring(1),g).negate();for(var w=y.fromNumber(Math.pow(g,8)),O=y.ZERO,E=0;E<p.length;E+=8){var S=Math.min(8,p.length-E),P=p.substring(E,E+S),I=parseInt(P,g);if(_===!0&&!a(P,I,g))throw(0,n.newError)('number format error: "'.concat(P,'" is NaN in radix ').concat(g,": ").concat(p));if(S<8){var R=y.fromNumber(Math.pow(g,S));O=O.multiply(R).add(y.fromNumber(I))}else O=(O=O.multiply(w)).add(y.fromNumber(I))}return O},y.fromValue=function(p,g){return g===void 0&&(g={}),p instanceof y?p:typeof p=="number"?(g.ceilFloat===!0&&(p=Math.ceil(p)),y.fromNumber(p)):typeof p=="string"?y.fromString(p,void 0,g):typeof p=="bigint"?y.fromString(p.toString()):new y(p.low,p.high)},y.toNumber=function(p){switch(typeof p){case"number":return p;case"bigint":return Number(p);default:return y.fromValue(p).toNumber()}},y.toString=function(p,g){return y.fromValue(p).toString(g)},y.inSafeRange=function(p){return y.fromValue(p).inSafeRange()},y.ZERO=y.fromInt(0),y.ONE=y.fromInt(1),y.NEG_ONE=y.fromInt(-1),y.MAX_VALUE=y.fromBits(-1,2147483647),y.MIN_VALUE=y.fromBits(0,-2147483648),y.MIN_SAFE_VALUE=y.fromBits(1,-2097152),y.MAX_SAFE_VALUE=y.fromBits(-1,2097151),y.__isInteger__=!0,y}();function a(y,p,g){return!Number.isNaN(y)&&!Number.isNaN(p)&&function(b,m,_){var w=b.toString(m),O=Math.max(_-w.length,0),E="0".repeat(O);return"".concat(E).concat(w)}(p,g,y.length)===y.toLowerCase()}Object.defineProperty(o.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var u=4294967296,s=u*u/2,l=o.fromInt(1<<24),c=o.fromValue;e.int=c;var f=o.isInteger;e.isInt=f;var h=o.inSafeRange;e.inSafeRange=h;var v=o.toNumber;e.toNumber=v;var d=o.toString;e.toString=d,e.default=o},3389:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.resolve=function(){throw new Error("Abstract function")},n.prototype._resolveToItself=function(i){return Promise.resolve([i])},n}();e.default=t},3399:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(9238));e.default=n({},o.default)},3413:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.config=void 0,e.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3448:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(p){for(var g,b=1,m=arguments.length;b<m;b++)for(var _ in g=arguments[b])Object.prototype.hasOwnProperty.call(g,_)&&(p[_]=g[_]);return p},n.apply(this,arguments)},i=this&&this.__read||function(p,g){var b=typeof Symbol=="function"&&p[Symbol.iterator];if(!b)return p;var m,_,w=b.call(p),O=[];try{for(;(g===void 0||g-- >0)&&!(m=w.next()).done;)O.push(m.value)}catch(E){_={error:E}}finally{try{m&&!m.done&&(b=w.return)&&b.call(w)}finally{if(_)throw _.error}}return O},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9305),u=t(7168),s=t(3321),l=t(5973),c=o(t(6661)),f=a.internal.temporalUtil,h=f.dateToEpochDay,v=f.localDateTimeToEpochSecond,d=f.localTimeToNanoOfDay;function y(p,g,b){if(!g&&!b)return p;var m=function(E){return b?E.toBigInt():E.toNumberOrInfinity()},_=Object.create(Object.getPrototypeOf(p));for(var w in p)if(Object.prototype.hasOwnProperty.call(p,w)===!0){var O=p[w];_[w]=(0,a.isInt)(O)?m(O):O}return Object.freeze(_),_}e.default=n(n({},c.default),{createPoint2DTransformer:function(){return new s.TypeTransformer({signature:88,isTypeInstance:function(p){return(0,a.isPoint)(p)&&(p.z===null||p.z===void 0)},toStructure:function(p){return new u.structure.Structure(88,[(0,a.int)(p.srid),p.x,p.y])},fromStructure:function(p){u.structure.verifyStructSize("Point2D",3,p.size);var g=i(p.fields,3),b=g[0],m=g[1],_=g[2];return new a.Point(b,m,_,void 0)}})},createPoint3DTransformer:function(){return new s.TypeTransformer({signature:89,isTypeInstance:function(p){return(0,a.isPoint)(p)&&p.z!==null&&p.z!==void 0},toStructure:function(p){return new u.structure.Structure(89,[(0,a.int)(p.srid),p.x,p.y,p.z])},fromStructure:function(p){u.structure.verifyStructSize("Point3D",4,p.size);var g=i(p.fields,4),b=g[0],m=g[1],_=g[2],w=g[3];return new a.Point(b,m,_,w)}})},createDurationTransformer:function(){return new s.TypeTransformer({signature:69,isTypeInstance:a.isDuration,toStructure:function(p){var g=(0,a.int)(p.months),b=(0,a.int)(p.days),m=(0,a.int)(p.seconds),_=(0,a.int)(p.nanoseconds);return new u.structure.Structure(69,[g,b,m,_])},fromStructure:function(p){u.structure.verifyStructSize("Duration",4,p.size);var g=i(p.fields,4),b=g[0],m=g[1],_=g[2],w=g[3];return new a.Duration(b,m,_,w)}})},createLocalTimeTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:116,isTypeInstance:a.isLocalTime,toStructure:function(m){var _=d(m.hour,m.minute,m.second,m.nanosecond);return new u.structure.Structure(116,[_])},fromStructure:function(m){u.structure.verifyStructSize("LocalTime",1,m.size);var _=i(m.fields,1)[0];return y((0,l.nanoOfDayToLocalTime)(_),g,b)}})},createTimeTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:84,isTypeInstance:a.isTime,toStructure:function(m){var _=d(m.hour,m.minute,m.second,m.nanosecond),w=(0,a.int)(m.timeZoneOffsetSeconds);return new u.structure.Structure(84,[_,w])},fromStructure:function(m){u.structure.verifyStructSize("Time",2,m.size);var _=i(m.fields,2),w=_[0],O=_[1],E=(0,l.nanoOfDayToLocalTime)(w);return y(new a.Time(E.hour,E.minute,E.second,E.nanosecond,O),g,b)}})},createDateTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:68,isTypeInstance:a.isDate,toStructure:function(m){var _=h(m.year,m.month,m.day);return new u.structure.Structure(68,[_])},fromStructure:function(m){u.structure.verifyStructSize("Date",1,m.size);var _=i(m.fields,1)[0];return y((0,l.epochDayToDate)(_),g,b)}})},createLocalDateTimeTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:100,isTypeInstance:a.isLocalDateTime,toStructure:function(m){var _=v(m.year,m.month,m.day,m.hour,m.minute,m.second,m.nanosecond),w=(0,a.int)(m.nanosecond);return new u.structure.Structure(100,[_,w])},fromStructure:function(m){u.structure.verifyStructSize("LocalDateTime",2,m.size);var _=i(m.fields,2),w=_[0],O=_[1];return y((0,l.epochSecondAndNanoToLocalDateTime)(w,O),g,b)}})},createDateTimeWithZoneIdTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:102,isTypeInstance:function(m){return(0,a.isDateTime)(m)&&m.timeZoneId!=null},toStructure:function(m){var _=v(m.year,m.month,m.day,m.hour,m.minute,m.second,m.nanosecond),w=(0,a.int)(m.nanosecond),O=m.timeZoneId;return new u.structure.Structure(102,[_,w,O])},fromStructure:function(m){u.structure.verifyStructSize("DateTimeWithZoneId",3,m.size);var _=i(m.fields,3),w=_[0],O=_[1],E=_[2],S=(0,l.epochSecondAndNanoToLocalDateTime)(w,O);return y(new a.DateTime(S.year,S.month,S.day,S.hour,S.minute,S.second,S.nanosecond,null,E),g,b)}})},createDateTimeWithOffsetTransformer:function(p){var g=p.disableLosslessIntegers,b=p.useBigInt;return new s.TypeTransformer({signature:70,isTypeInstance:function(m){return(0,a.isDateTime)(m)&&m.timeZoneId==null},toStructure:function(m){var _=v(m.year,m.month,m.day,m.hour,m.minute,m.second,m.nanosecond),w=(0,a.int)(m.nanosecond),O=(0,a.int)(m.timeZoneOffsetSeconds);return new u.structure.Structure(70,[_,w,O])},fromStructure:function(m){u.structure.verifyStructSize("DateTimeWithZoneOffset",3,m.size);var _=i(m.fields,3),w=_[0],O=_[1],E=_[2],S=(0,l.epochSecondAndNanoToLocalDateTime)(w,O);return y(new a.DateTime(S.year,S.month,S.day,S.hour,S.minute,S.second,S.nanosecond,E,null),g,b)}})}})},3466:function(r,e,t){var n=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),o=t(9419),a=n(t(3057)),u=t(9305),s=n(t(5742)),l=n(t(1530)),c=n(t(9823)),f=u.internal.constants,h=f.ACCESS_MODE_READ,v=f.ACCESS_MODE_WRITE,d=f.TELEMETRY_APIS,y=u.internal.txConfig.TxConfig,p=function(){function g(b){var m=b===void 0?{}:b,_=m.session,w=m.config,O=m.log;this._session=_,this._retryLogic=function(E){var S=E&&E.maxTransactionRetryTime?E.maxTransactionRetryTime:null;return new c.default({maxRetryTimeout:S})}(w),this._log=O}return g.prototype.run=function(b,m,_){var w=this;return new a.default(new i.Observable(function(O){try{O.next(w._session.run(b,m,_)),O.complete()}catch(E){O.error(E)}return function(){}}))},g.prototype.beginTransaction=function(b){return this._beginTransaction(this._session._mode,b,{api:d.UNMANAGED_TRANSACTION})},g.prototype.readTransaction=function(b,m){return this._runTransaction(h,b,m)},g.prototype.writeTransaction=function(b,m){return this._runTransaction(v,b,m)},g.prototype.executeRead=function(b,m){return this._executeInTransaction(h,b,m)},g.prototype.executeWrite=function(b,m){return this._executeInTransaction(v,b,m)},g.prototype._executeInTransaction=function(b,m,_){return this._runTransaction(b,m,_,function(w){return new l.default({run:w.run.bind(w)})})},g.prototype.close=function(){var b=this;return new i.Observable(function(m){b._session.close().then(function(){m.complete()}).catch(function(_){return m.error(_)})})},g.prototype[Symbol.asyncDispose]=function(){return this.close()},g.prototype.lastBookmark=function(){return this.lastBookmarks()},g.prototype.lastBookmarks=function(){return this._session.lastBookmarks()},g.prototype._beginTransaction=function(b,m,_){var w=this,O=y.empty();return m&&(O=new y(m,this._log)),new i.Observable(function(E){try{w._session._beginTransaction(b,O,_).then(function(S){E.next(new s.default(S)),E.complete()}).catch(function(S){return E.error(S)})}catch(S){E.error(S)}return function(){}})},g.prototype._runTransaction=function(b,m,_,w){var O=this;w===void 0&&(w=function(P){return P});var E=y.empty();_&&(E=new y(_));var S={apiTelemetryConfig:{api:d.MANAGED_TRANSACTION,onTelemetrySuccess:function(){S.apiTelemetryConfig=void 0}}};return this._retryLogic.retry((0,i.of)(1).pipe((0,o.mergeMap)(function(){return O._beginTransaction(b,E,S.apiTelemetryConfig)}),(0,o.mergeMap)(function(P){return(0,i.defer)(function(){try{return m(w(P))}catch(I){return(0,i.throwError)(function(){return I})}}).pipe((0,o.catchError)(function(I){return P.rollback().pipe((0,o.concatWith)((0,i.throwError)(function(){return I})))}),(0,o.concatWith)(P.commit()))})))},g}();e.default=p},3473:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),o=t(9305),a=n(t(1048)),u=new(t(8888)).StringDecoder("utf8");e.default={encode:function(s){return new i.default(function(l){return typeof a.default.Buffer.from=="function"?a.default.Buffer.from(l,"utf8"):new a.default.Buffer(l,"utf8")}(s))},decode:function(s,l){if(Object.prototype.hasOwnProperty.call(s,"_buffer"))return function(c,f){var h=c.position,v=h+f;return c.position=Math.min(v,c.length),c._buffer.toString("utf8",h,v)}(s,l);if(Object.prototype.hasOwnProperty.call(s,"_buffers"))return function(c,f){return function(h,v){var d=v,y=h.position;return h._updatePos(Math.min(v,h.length-y)),h._buffers.reduce(function(p,g){if(d<=0)return p;if(y>=g.length)return y-=g.length,"";g._updatePos(y-g.position);var b=Math.min(g.length-y,d),m=g.readSlice(b);return g._updatePos(b),d=Math.max(d-m.length,0),y=0,p+function(_){return u.write(_._buffer)}(m)},"")+u.end()}(c,f)}(s,l);throw(0,o.newError)("Don't know how to decode strings from '".concat(s,"'"))}}},3488:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(o,a,u,s){s===void 0&&(s=u);var l=Object.getOwnPropertyDescriptor(a,u);l&&!("get"in l?!a.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(o,s,l)}:function(o,a,u,s){s===void 0&&(s=u),o[s]=a[u]}),i=this&&this.__exportStar||function(o,a){for(var u in o)u==="default"||Object.prototype.hasOwnProperty.call(a,u)||n(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),i(t(5837),e)},3545:function(r,e,t){var n=this&&this.__extends||function(){var g=function(b,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(_[O]=w[O])},g(b,m)};return function(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function _(){this.constructor=b}g(b,m),b.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=this&&this.__awaiter||function(g,b,m,_){return new(m||(m=Promise))(function(w,O){function E(I){try{P(_.next(I))}catch(R){O(R)}}function S(I){try{P(_.throw(I))}catch(R){O(R)}}function P(I){var R;I.done?w(I.value):(R=I.value,R instanceof m?R:new m(function(D){D(R)})).then(E,S)}P((_=_.apply(g,b||[])).next())})},o=this&&this.__generator||function(g,b){var m,_,w,O,E={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return O={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function S(P){return function(I){return function(R){if(m)throw new TypeError("Generator is already executing.");for(;O&&(O=0,R[0]&&(E=0)),E;)try{if(m=1,_&&(w=2&R[0]?_.return:R[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,R[1])).done)return w;switch(_=0,w&&(R=[2&R[0],w.value]),R[0]){case 0:case 1:w=R;break;case 4:return E.label++,{value:R[1],done:!1};case 5:E.label++,_=R[1],R=[0];continue;case 7:R=E.ops.pop(),E.trys.pop();continue;default:if(!((w=(w=E.trys).length>0&&w[w.length-1])||R[0]!==6&&R[0]!==2)){E=0;continue}if(R[0]===3&&(!w||R[1]>w[0]&&R[1]<w[3])){E.label=R[1];break}if(R[0]===6&&E.label<w[1]){E.label=w[1],w=R;break}if(w&&E.label<w[2]){E.label=w[2],E.ops.push(R);break}w[2]&&E.ops.pop(),E.trys.pop();continue}R=b.call(g,E)}catch(D){R=[6,D],_=0}finally{m=w=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([P,I])}}},a=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(t(8987)),s=t(7721),l=t(9305),c=l.internal.constants,f=c.BOLT_PROTOCOL_V3,h=c.BOLT_PROTOCOL_V4_0,v=c.BOLT_PROTOCOL_V4_4,d=c.BOLT_PROTOCOL_V5_1,y=l.error.SERVICE_UNAVAILABLE,p=function(g){function b(m){var _=m.id,w=m.config,O=m.log,E=m.address,S=m.userAgent,P=m.boltAgent,I=m.authTokenManager,R=m.newPool,D=g.call(this,{id:_,config:w,log:O,userAgent:S,boltAgent:P,authTokenManager:I,newPool:R})||this;return D._address=E,D}return n(b,g),b.prototype.acquireConnection=function(m){var _=m===void 0?{}:m,w=(_.accessMode,_.database),O=(_.bookmarks,_.auth),E=_.forceReAuth;return i(this,void 0,void 0,function(){var S,P,I=this;return o(this,function(R){switch(R.label){case 0:return S=s.ConnectionErrorHandler.create({errorCode:y,handleSecurityError:function(D,k,N){return I._handleSecurityError(D,k,N,w)}}),[4,this._connectionPool.acquire({auth:O,forceReAuth:E},this._address)];case 1:return P=R.sent(),O?[4,this._verifyStickyConnection({auth:O,connection:P,address:this._address})]:[3,3];case 2:return R.sent(),[2,P];case 3:return[2,new s.DelegateConnection(P,S)]}})})},b.prototype._handleSecurityError=function(m,_,w,O){return this._log.warn("Direct driver ".concat(this._id," will close connection to ").concat(_," for database '").concat(O,"' because of an error ").concat(m.code," '").concat(m.message,"'")),g.prototype._handleSecurityError.call(this,m,_,w)},b.prototype._hasProtocolVersion=function(m){return i(this,void 0,void 0,function(){var _,w;return o(this,function(O){switch(O.label){case 0:return[4,this._createChannelConnection(this._address)];case 1:return _=O.sent(),w=_.protocol()?_.protocol().version:null,[4,_.close()];case 2:return O.sent(),w?[2,m(w)]:[2,!1]}})})},b.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return o(this,function(m){switch(m.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=h})];case 1:return[2,m.sent()]}})})},b.prototype.getNegotiatedProtocolVersion=function(){var m=this;return new Promise(function(_,w){m._hasProtocolVersion(_).catch(w)})},b.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return o(this,function(m){switch(m.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=f})];case 1:return[2,m.sent()]}})})},b.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return o(this,function(m){switch(m.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=v})];case 1:return[2,m.sent()]}})})},b.prototype.supportsSessionAuth=function(){return i(this,void 0,void 0,function(){return o(this,function(m){switch(m.label){case 0:return[4,this._hasProtocolVersion(function(_){return _>=d})];case 1:return[2,m.sent()]}})})},b.prototype.verifyAuthentication=function(m){var _=m.auth;return i(this,void 0,void 0,function(){var w=this;return o(this,function(O){return[2,this._verifyAuthentication({auth:_,getAddress:function(){return w._address}})]})})},b.prototype.verifyConnectivityAndGetServerInfo=function(){return i(this,void 0,void 0,function(){return o(this,function(m){switch(m.label){case 0:return[4,this._verifyConnectivityAndGetServerVersion({address:this._address})];case 1:return[2,m.sent()]}})})},b}(u.default);e.default=p},3555:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.finalize=void 0;var n=t(7843);e.finalize=function(i){return n.operate(function(o,a){try{o.subscribe(a)}finally{a.add(i)}})}},3618:function(r,e,t){var n=this&&this.__extends||function(){var y=function(p,g){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(b[_]=m[_])},y(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function b(){this.constructor=p}y(p,g),p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),i=this&&this.__awaiter||function(y,p,g,b){return new(g||(g=Promise))(function(m,_){function w(S){try{E(b.next(S))}catch(P){_(P)}}function O(S){try{E(b.throw(S))}catch(P){_(P)}}function E(S){var P;S.done?m(S.value):(P=S.value,P instanceof g?P:new g(function(I){I(P)})).then(w,O)}E((b=b.apply(y,p||[])).next())})},o=this&&this.__generator||function(y,p){var g,b,m,_,w={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(S){return function(P){if(g)throw new TypeError("Generator is already executing.");for(;_&&(_=0,P[0]&&(w=0)),w;)try{if(g=1,b&&(m=2&P[0]?b.return:P[0]?b.throw||((m=b.return)&&m.call(b),0):b.next)&&!(m=m.call(b,P[1])).done)return m;switch(b=0,m&&(P=[2&P[0],m.value]),P[0]){case 0:case 1:m=P;break;case 4:return w.label++,{value:P[1],done:!1};case 5:w.label++,b=P[1],P=[0];continue;case 7:P=w.ops.pop(),w.trys.pop();continue;default:if(!((m=(m=w.trys).length>0&&m[m.length-1])||P[0]!==6&&P[0]!==2)){w=0;continue}if(P[0]===3&&(!m||P[1]>m[0]&&P[1]<m[3])){w.label=P[1];break}if(P[0]===6&&w.label<m[1]){w.label=m[1],m=P;break}if(m&&w.label<m[2]){w.label=m[2],w.ops.push(P);break}m[2]&&w.ops.pop(),w.trys.pop();continue}P=p.call(y,w)}catch(I){P=[6,I],b=0}finally{g=m=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([E,S])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.ReadOnlyConnectionHolder=e.ConnectionHolder=void 0;var a=t(9691),u=t(6587),s=t(326),l=t(9730),c=t(4883),f=function(){function y(p){var g=p.mode,b=p.database,m=b===void 0?"":b,_=p.bookmarks,w=p.connectionProvider,O=p.impersonatedUser,E=p.onDatabaseNameResolved,S=p.getConnectionAcquistionBookmarks,P=p.auth,I=p.log;this._mode=g??s.ACCESS_MODE_WRITE,this._closed=!1,this._database=m!=null?(0,u.assertString)(m,"database"):"",this._bookmarks=_??l.Bookmarks.empty(),this._connectionProvider=w,this._impersonatedUser=O,this._referenceCount=0,this._connectionPromise=Promise.resolve(null),this._onDatabaseNameResolved=E,this._auth=P,this._log=I,this._logError=this._logError.bind(this),this._getConnectionAcquistionBookmarks=S??function(){return Promise.resolve(l.Bookmarks.empty())}}return y.prototype.mode=function(){return this._mode},y.prototype.database=function(){return this._database},y.prototype.setDatabase=function(p){this._database=p},y.prototype.bookmarks=function(){return this._bookmarks},y.prototype.connectionProvider=function(){return this._connectionProvider},y.prototype.referenceCount=function(){return this._referenceCount},y.prototype.initializeConnection=function(p){return this._referenceCount!==0||this._connectionProvider==null?(this._referenceCount++,!1):(this._connectionPromise=this._createConnectionPromise(this._connectionProvider,p),this._referenceCount++,!0)},y.prototype._createConnectionPromise=function(p,g){return i(this,void 0,void 0,function(){var b,m,_;return o(this,function(w){switch(w.label){case 0:return m=(b=p).acquireConnection,_={accessMode:this._mode,database:this._database},[4,this._getBookmarks()];case 1:return[4,m.apply(b,[(_.bookmarks=w.sent(),_.impersonatedUser=this._impersonatedUser,_.onDatabaseNameResolved=this._onDatabaseNameResolved,_.auth=this._auth,_.homeDb=g,_)])];case 2:return[2,w.sent()]}})})},y.prototype._getBookmarks=function(){return i(this,void 0,void 0,function(){return o(this,function(p){switch(p.label){case 0:return[4,this._getConnectionAcquistionBookmarks()];case 1:return[2,p.sent()]}})})},y.prototype.getConnection=function(){return this._connectionPromise},y.prototype.releaseConnection=function(){return this._referenceCount===0?this._connectionPromise:(this._referenceCount--,this._referenceCount===0?this._releaseConnection():this._connectionPromise)},y.prototype.close=function(p){return this._closed=!0,this._referenceCount===0?this._connectionPromise:(this._referenceCount=0,this._releaseConnection(p))},y.prototype.log=function(){return this._log},y.prototype._releaseConnection=function(p){return this._connectionPromise=this._connectionPromise.then(function(g){return g!=null?g.isOpen()&&(g.hasOngoingObservableRequests()||p===!0)?g.resetAndFlush().catch(d).then(function(){return g.release().then(function(){return null})}):g.release().then(function(){return null}):Promise.resolve(null)}).catch(this._logError),this._connectionPromise},y.prototype._logError=function(p){return this._log.isWarnEnabled()&&this._log.warn("ConnectionHolder got an error while releasing the connection. Error ".concat(p,". Stacktrace: ").concat(p.stack)),null},y}();e.ConnectionHolder=f;var h=function(y){function p(g){var b=y.call(this,{mode:g.mode(),database:g.database(),bookmarks:g.bookmarks(),getConnectionAcquistionBookmarks:g._getConnectionAcquistionBookmarks,connectionProvider:g.connectionProvider(),log:g.log()})||this;return b._connectionHolder=g,b}return n(p,y),p.prototype.initializeConnection=function(){return this._connectionHolder.referenceCount()!==0},p.prototype.getConnection=function(){return this._connectionHolder.getConnection()},p.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},p.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve(null)})},p}(f);e.ReadOnlyConnectionHolder=h,e.default=h;var v=new(function(y){function p(){return y.call(this,{log:c.Logger.create({})})||this}return n(p,y),p.prototype.mode=function(){},p.prototype.database=function(){},p.prototype.initializeConnection=function(){return!0},p.prototype.getConnection=function(){return i(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.reject((0,a.newError)("This connection holder does not serve connections"))];case 1:return[2,g.sent()]}})})},p.prototype.releaseConnection=function(){return i(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,g.sent()]}})})},p.prototype.close=function(){return i(this,void 0,void 0,function(){return o(this,function(g){switch(g.label){case 0:return[4,Promise.resolve(null)];case 1:return[2,g.sent()]}})})},p}(f));function d(y){return null}e.EMPTY_CONNECTION_HOLDER=v},3638:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.joinAllInternals=void 0;var n=t(6640),i=t(1251),o=t(2706),a=t(983),u=t(2343);e.joinAllInternals=function(s,l){return o.pipe(u.toArray(),a.mergeMap(function(c){return s(c)}),l?i.mapOneOrManyArgs(l):n.identity)}},3659:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default="5.28.2"},3692:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.asap=e.asapScheduler=void 0;var n=t(5006),i=t(827);e.asapScheduler=new i.AsapScheduler(n.AsapAction),e.asap=e.asapScheduler},3862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrame=e.animationFrameScheduler=void 0;var n=t(2628),i=t(3229);e.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),e.animationFrame=e.animationFrameScheduler},3865:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var n=t(8158),i=t(1107),o=t(4917);e.concat=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return n.concatAll()(o.from(a,i.popScheduler(a)))}},3879:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchMap=void 0;var n=t(9445),i=t(7843),o=t(3111);e.switchMap=function(a,u){return i.operate(function(s,l){var c=null,f=0,h=!1,v=function(){return h&&!c&&l.complete()};s.subscribe(o.createOperatorSubscriber(l,function(d){c?.unsubscribe();var y=0,p=f++;n.innerFrom(a(d,p)).subscribe(c=o.createOperatorSubscriber(l,function(g){return l.next(u?u(d,g,p,y++):g)},function(){c=null,v()}))},function(){h=!0,v()}))})}},3951:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.ClientCertificatesLoader=e.HostNameResolver=e.Channel=void 0;var i=n(t(6245)),o=n(t(2199)),a=n(t(614));e.Channel=i.default,e.HostNameResolver=o.default,e.ClientCertificatesLoader=a.default},3964:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.tap=void 0;var n=t(1018),i=t(7843),o=t(3111),a=t(6640);e.tap=function(u,s,l){var c=n.isFunction(u)||s||l?{next:u,error:s,complete:l}:u;return c?i.operate(function(f,h){var v;(v=c.subscribe)===null||v===void 0||v.call(c);var d=!0;f.subscribe(o.createOperatorSubscriber(h,function(y){var p;(p=c.next)===null||p===void 0||p.call(c,y),h.next(y)},function(){var y;d=!1,(y=c.complete)===null||y===void 0||y.call(c),h.complete()},function(y){var p;d=!1,(p=c.error)===null||p===void 0||p.call(c,y),h.error(y)},function(){var y,p;d&&((y=c.unsubscribe)===null||y===void 0||y.call(c)),(p=c.finalize)===null||p===void 0||p.call(c)}))}):a.identity}},3982:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skip=void 0;var n=t(783);e.skip=function(i){return n.filter(function(o,a){return i<=a})}},4027:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;var n=t(93);e.stringify=function(i,o){return JSON.stringify(i,function(a,u){return(0,n.isBrokenObject)(u)?{__isBrokenObject__:!0,__reason__:(0,n.getBrokenObjectReason)(u)}:typeof u=="bigint"?"".concat(u,"n"):o?.sortedElements!==!0||typeof u!="object"||Array.isArray(u)?o?.useCustomToString!==!0||typeof u!="object"||Array.isArray(u)||typeof u.toString!="function"||u.toString===Object.prototype.toString?u:u?.toString():Object.keys(u).sort().reduce(function(s,l){return s[l]=u[l],s},{})})}},4092:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timer=void 0;var n=t(4662),i=t(7961),o=t(8613),a=t(1074);e.timer=function(u,s,l){u===void 0&&(u=0),l===void 0&&(l=i.async);var c=-1;return s!=null&&(o.isScheduler(s)?l=s:c=s),new n.Observable(function(f){var h=a.isValidDate(u)?+u-l.now():u;h<0&&(h=0);var v=0;return l.schedule(function(){f.closed||(f.next(v++),0<=c?this.schedule(void 0,c):f.complete())},h)})}},4132:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(o){function a(u){var s=o.call(this)||this;return s._connection=u,s}return n(a,o),a.prototype.acquireConnection=function(u){var s=u===void 0?{}:u,l=(s.accessMode,s.database,s.bookmarks,this._connection);return this._connection=null,Promise.resolve(l)},a}(t(9305).ConnectionProvider);e.default=i},4151:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(9018)),o=(t(9305),function(){function a(u){this._routingContext=u}return a.prototype.lookupRoutingTableOnRouter=function(u,s,l,c){var f=this;return u._acquireConnection(function(h){return f._requestRawRoutingTable(h,u,s,l,c).then(function(v){return v.isNull?null:i.default.fromRawRoutingTable(s,l,v)})})},a.prototype._requestRawRoutingTable=function(u,s,l,c,f){var h=this;return new Promise(function(v,d){u.protocol().requestRoutingInformation({routingContext:h._routingContext,databaseName:l,impersonatedUser:f,sessionContext:{bookmarks:s._lastBookmarks,mode:s._mode,database:s._database,afterComplete:s._onComplete},onCompleted:v,onError:d})})},a}());e.default=o},4209:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.iif=void 0;var n=t(9353);e.iif=function(i,o,a){return n.defer(function(){return i()?o:a})}},4212:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.QueueAction=void 0;var i=function(o){function a(u,s){var l=o.call(this,u,s)||this;return l.scheduler=u,l.work=s,l}return n(a,o),a.prototype.schedule=function(u,s){return s===void 0&&(s=0),s>0?o.prototype.schedule.call(this,u,s):(this.delay=s,this.state=u,this.scheduler.flush(this),this)},a.prototype.execute=function(u,s){return s>0||this.closed?o.prototype.execute.call(this,u,s):this._execute(u,s)},a.prototype.requestAsyncId=function(u,s,l){return l===void 0&&(l=0),l!=null&&l>0||l==null&&this.delay>0?o.prototype.requestAsyncId.call(this,u,s,l):(u.flush(this),0)},a}(t(5267).AsyncAction);e.QueueAction=i},4271:function(r,e,t){var n=this&&this.__awaiter||function(u,s,l,c){return new(l||(l=Promise))(function(f,h){function v(p){try{y(c.next(p))}catch(g){h(g)}}function d(p){try{y(c.throw(p))}catch(g){h(g)}}function y(p){var g;p.done?f(p.value):(g=p.value,g instanceof l?g:new l(function(b){b(g)})).then(v,d)}y((c=c.apply(u,s||[])).next())})},i=this&&this.__generator||function(u,s){var l,c,f,h,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(p){return function(g){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(v=0)),v;)try{if(l=1,c&&(f=2&g[0]?c.return:g[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,g[1])).done)return f;switch(c=0,f&&(g=[2&g[0],f.value]),g[0]){case 0:case 1:f=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,c=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){v.label=g[1];break}if(g[0]===6&&v.label<f[1]){v.label=f[1],f=g;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(g);break}f[2]&&v.ops.pop(),v.trys.pop();continue}g=s.call(u,v)}catch(b){g=[6,b],c=0}finally{l=f=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([y,p])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(7452),a=function(){function u(s){var l=s.clientCertificateProvider,c=s.loader;this._clientCertificateProvider=l,this._loader=c||o.ClientCertificatesLoader,this._clientCertificate=null}return u.prototype.getClientCertificate=function(){return n(this,void 0,void 0,function(){var s,l,c=this;return i(this,function(f){switch(f.label){case 0:return(s=this._clientCertificateProvider!=null)?(l=this._clientCertificate==null)?[3,2]:[4,this._clientCertificateProvider.hasUpdate()]:[3,3];case 1:l=f.sent(),f.label=2;case 2:s=l,f.label=3;case 3:return s&&(this._clientCertificate=Promise.resolve(this._clientCertificateProvider.getClientCertificate()).then(this._loader.load).then(function(h){return c._clientCertificate=h,c._clientCertificate}).catch(function(h){throw c._clientCertificate=null,h})),[2,this._clientCertificate]}})})},u}();e.default=a},4311:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(){}return n.prototype.selectReader=function(i){throw new Error("Abstract function")},n.prototype.selectWriter=function(i){throw new Error("Abstract function")},n}();e.default=t},4325:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(2204));e.default=n({},o.default)},4360:r=>{r.exports=function(e){for(var t=[],n=0;n<e.length;n++)e[n].type!=="eof"&&t.push(e[n].data);return t.join("")}},4408:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeScan=void 0;var n=t(7843),i=t(1983);e.mergeScan=function(o,a,u){return u===void 0&&(u=1/0),n.operate(function(s,l){var c=a;return i.mergeInternals(s,l,function(f,h){return o(c,f,h)},u,function(f){c=f},!1,void 0,function(){return c=null})})}},4440:function(r,e,t){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),v=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)v.push(c.value)}catch(d){f={error:d}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.race=void 0;var o=t(8535),a=t(5600);e.race=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return a.raceWith.apply(void 0,i([],n(o.argsOrArgArray(u))))}},4455:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.LeastConnectedLoadBalancingStrategy=e.LoadBalancingStrategy=void 0;var i=n(t(4311));e.LoadBalancingStrategy=i.default;var o=n(t(2533));e.LeastConnectedLoadBalancingStrategy=o.default,e.default=o.default},4461:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0;var n=t(7843),i=t(1342),o=t(3111),a=t(9445);e.debounce=function(u){return n.operate(function(s,l){var c=!1,f=null,h=null,v=function(){if(h?.unsubscribe(),h=null,c){c=!1;var d=f;f=null,l.next(d)}};s.subscribe(o.createOperatorSubscriber(l,function(d){h?.unsubscribe(),c=!0,f=d,h=o.createOperatorSubscriber(l,v,i.noop),a.innerFrom(u(d)).subscribe(h)},function(){v(),l.complete()},void 0,function(){f=h=null}))})}},4520:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.elementAt=void 0;var n=t(7057),i=t(783),o=t(4869),a=t(378),u=t(846);e.elementAt=function(s,l){if(s<0)throw new n.ArgumentOutOfRangeError;var c=arguments.length>=2;return function(f){return f.pipe(i.filter(function(h,v){return v===s}),u.take(1),c?a.defaultIfEmpty(l):o.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},4531:function(r,e){var t=this&&this.__awaiter||function(o,a,u,s){return new(u||(u=Promise))(function(l,c){function f(d){try{v(s.next(d))}catch(y){c(y)}}function h(d){try{v(s.throw(d))}catch(y){c(y)}}function v(d){var y;d.done?l(d.value):(y=d.value,y instanceof u?y:new u(function(p){p(y)})).then(f,h)}v((s=s.apply(o,a||[])).next())})},n=this&&this.__generator||function(o,a){var u,s,l,c,f={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]};return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(v){return function(d){return function(y){if(u)throw new TypeError("Generator is already executing.");for(;c&&(c=0,y[0]&&(f=0)),f;)try{if(u=1,s&&(l=2&y[0]?s.return:y[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,y[1])).done)return l;switch(s=0,l&&(y=[2&y[0],l.value]),y[0]){case 0:case 1:l=y;break;case 4:return f.label++,{value:y[1],done:!1};case 5:f.label++,s=y[1],y=[0];continue;case 7:y=f.ops.pop(),f.trys.pop();continue;default:if(!((l=(l=f.trys).length>0&&l[l.length-1])||y[0]!==6&&y[0]!==2)){f=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){f.label=y[1];break}if(y[0]===6&&f.label<l[1]){f.label=l[1],l=y;break}if(l&&f.label<l[2]){f.label=l[2],f.ops.push(y);break}l[2]&&f.ops.pop(),f.trys.pop();continue}y=a.call(o,f)}catch(p){y=[6,p],s=0}finally{u=l=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([v,d])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function o(a){var u=a.connectionLivenessCheckTimeout;this._connectionLivenessCheckTimeout=u}return o.prototype.check=function(a){return t(this,void 0,void 0,function(){var u;return n(this,function(s){switch(s.label){case 0:return this._isCheckDisabled||this._isNewlyCreatedConnection(a)?[2,!0]:(u=Date.now()-a.idleTimestamp,this._connectionLivenessCheckTimeout===0||u>this._connectionLivenessCheckTimeout?[4,a.resetAndFlush().then(function(){return!0})]:[3,2]);case 1:return[2,s.sent()];case 2:return[2,!0]}})})},Object.defineProperty(o.prototype,"_isCheckDisabled",{get:function(){return this._connectionLivenessCheckTimeout==null||this._connectionLivenessCheckTimeout<0},enumerable:!1,configurable:!0}),o.prototype._isNewlyCreatedConnection=function(a){return a.authToken==null},o}();e.default=i},4569:function(r,e,t){var n,i=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(s){for(var l,c=1,f=arguments.length;c<f;c++)for(var h in l=arguments[c])Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h]);return s},o.apply(this,arguments)},a=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0});var u=function(s){function l(c){var f=c.connectionHolder,h=c.onClose,v=c.onBookmarks,d=c.onConnection,y=c.reactive,p=c.fetchSize,g=c.impersonatedUser,b=c.highRecordWatermark,m=c.lowRecordWatermark,_=c.notificationFilter,w=c.apiTelemetryConfig,O=c.onDbCallback,E=s.call(this,{connectionHolder:f,onClose:h,onBookmarks:v,onConnection:d,reactive:y,fetchSize:p,impersonatedUser:g,highRecordWatermark:b,lowRecordWatermark:m,notificationFilter:_,apiTelemetryConfig:w})||this;return E[n]="TransactionPromise",E._onDbCallback=O,E}return i(l,s),l.prototype.then=function(c,f){return this._getOrCreateBeginPromise().then(c,f)},l.prototype.catch=function(c){return this._getOrCreateBeginPromise().catch(c)},l.prototype.finally=function(c){return this._getOrCreateBeginPromise().finally(c)},l.prototype._getOrCreateBeginPromise=function(){var c=this;return this._beginPromise==null&&(this._beginPromise=new Promise(function(f,h){c._resolve=f,c._reject=h,c._beginError!=null&&h(c._beginError),c._beginMetadata!=null&&f(c._toTransaction())})),this._beginPromise},l.prototype._toTransaction=function(){return o(o({},this),{run:s.prototype.run.bind(this),commit:s.prototype.commit.bind(this),rollback:s.prototype.rollback.bind(this),close:s.prototype.close.bind(this),isOpen:s.prototype.isOpen.bind(this),_begin:this._begin.bind(this)})},l.prototype._begin=function(c,f){return s.prototype._begin.call(this,c,f,{onError:this._onBeginError.bind(this),onComplete:this._onBeginMetadata.bind(this),onDB:this._onDbCallback})},l.prototype._onBeginError=function(c){this._beginError=c,this._reject!=null&&this._reject(c)},l.prototype._onBeginMetadata=function(c){this._beginMetadata=c??{},this._resolve!=null&&this._resolve(this._toTransaction())},l}(a(t(9473)).default);n=Symbol.toStringTag,e.default=u},4596:function(r,e,t){var n=this&&this.__extends||function(){var d=function(y,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(g[m]=b[m])},d(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=y}d(y,p),y.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(2539)),a=i(t(7021)),u=t(9014),s=t(9305),l=t(397),c=i(t(7521)),f=i(t(3321)),h=s.internal.constants.BOLT_PROTOCOL_V4_1,v=function(d){function y(p,g,b,m,_,w,O){m===void 0&&(m=function(){return null});var E=d.call(this,p,g,b,m,_,w)||this;return E._serversideRouting=O,E}return n(y,d),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(g){return g(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),y.prototype.initialize=function(p){var g=this,b=p===void 0?{}:p,m=b.userAgent,_=(b.boltAgent,b.authToken),w=b.notificationFilter,O=b.onError,E=b.onComplete,S=new u.LoginObserver({onError:function(P){return g._onLoginError(P,O)},onCompleted:function(P){return g._onLoginCompleted(P,_,E)}});return(0,l.assertNotificationFilterIsEmpty)(w,this._onProtocolError,S),this.write(a.default.hello(m,_,this._serversideRouting),S,!0),S},y}(o.default);e.default=v},4662:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Observable=void 0;var n=t(5),i=t(8014),o=t(3327),a=t(2706),u=t(3413),s=t(1018),l=t(9223),c=function(){function h(v){v&&(this._subscribe=v)}return h.prototype.lift=function(v){var d=new h;return d.source=this,d.operator=v,d},h.prototype.subscribe=function(v,d,y){var p,g=this,b=(p=v)&&p instanceof n.Subscriber||function(m){return m&&s.isFunction(m.next)&&s.isFunction(m.error)&&s.isFunction(m.complete)}(p)&&i.isSubscription(p)?v:new n.SafeSubscriber(v,d,y);return l.errorContext(function(){var m=g,_=m.operator,w=m.source;b.add(_?_.call(b,w):w?g._subscribe(b):g._trySubscribe(b))}),b},h.prototype._trySubscribe=function(v){try{return this._subscribe(v)}catch(d){v.error(d)}},h.prototype.forEach=function(v,d){var y=this;return new(d=f(d))(function(p,g){var b=new n.SafeSubscriber({next:function(m){try{v(m)}catch(_){g(_),b.unsubscribe()}},error:g,complete:p});y.subscribe(b)})},h.prototype._subscribe=function(v){var d;return(d=this.source)===null||d===void 0?void 0:d.subscribe(v)},h.prototype[o.observable]=function(){return this},h.prototype.pipe=function(){for(var v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];return a.pipeFromArray(v)(this)},h.prototype.toPromise=function(v){var d=this;return new(v=f(v))(function(y,p){var g;d.subscribe(function(b){return g=b},function(b){return p(b)},function(){return y(g)})})},h.create=function(v){return new h(v)},h}();function f(h){var v;return(v=h??u.config.Promise)!==null&&v!==void 0?v:Promise}e.Observable=c},4671:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;var i=function(o){function a(u,s){return o.call(this)||this}return n(a,o),a.prototype.schedule=function(u,s){return s===void 0&&(s=0),this},a}(t(8014).Subscription);e.Action=i},4704:r=>{r.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},4721:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipWhile=void 0;var n=t(7843),i=t(3111);e.skipWhile=function(o){return n.operate(function(a,u){var s=!1,l=0;a.subscribe(i.createOperatorSubscriber(u,function(c){return(s||(s=!o(c,l++)))&&u.next(c)}))})}},4746:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.performanceTimestampProvider=void 0,e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},4753:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.exhaustMap=void 0;var n=t(5471),i=t(9445),o=t(7843),a=t(3111);e.exhaustMap=function u(s,l){return l?function(c){return c.pipe(u(function(f,h){return i.innerFrom(s(f,h)).pipe(n.map(function(v,d){return l(f,v,h,d)}))}))}:o.operate(function(c,f){var h=0,v=null,d=!1;c.subscribe(a.createOperatorSubscriber(f,function(y){v||(v=a.createOperatorSubscriber(f,void 0,function(){v=null,d&&f.complete()}),i.innerFrom(s(y,h++)).subscribe(v))},function(){d=!0,!v&&f.complete()}))})}},4780:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.takeUntil=void 0;var n=t(7843),i=t(3111),o=t(9445),a=t(1342);e.takeUntil=function(u){return n.operate(function(s,l){o.innerFrom(u).subscribe(i.createOperatorSubscriber(l,function(){return l.complete()},a.noop)),!l.closed&&s.subscribe(l)})}},4820:function(r,e,t){var n=this&&this.__generator||function(s,l){var c,f,h,v,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(p){return function(g){return function(b){if(c)throw new TypeError("Generator is already executing.");for(;v&&(v=0,b[0]&&(d=0)),d;)try{if(c=1,f&&(h=2&b[0]?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,f=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((h=(h=d.trys).length>0&&h[h.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){d.label=b[1];break}if(b[0]===6&&d.label<h[1]){d.label=h[1],h=b;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(b);break}h[2]&&d.ops.pop(),d.trys.pop();continue}b=l.call(s,d)}catch(m){b=[6,m],f=0}finally{c=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([p,g])}}},i=this&&this.__values||function(s){var l=typeof Symbol=="function"&&Symbol.iterator,c=l&&s[l],f=0;if(c)return c.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&f>=s.length&&(s=void 0),{value:s&&s[f++],done:!s}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,v=c.call(s),d=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return d};Object.defineProperty(e,"__esModule",{value:!0});var a=t(9691),u=function(){function s(l,c,f){this.keys=l,this.length=l.length,this._fields=c,this._fieldLookup=f??function(h){var v={};return h.forEach(function(d,y){v[d]=y}),v}(l)}return s.prototype.forEach=function(l){var c,f;try{for(var h=i(this.entries()),v=h.next();!v.done;v=h.next()){var d=o(v.value,2),y=d[0];l(d[1],y,this)}}catch(p){c={error:p}}finally{try{v&&!v.done&&(f=h.return)&&f.call(h)}finally{if(c)throw c.error}}},s.prototype.map=function(l){var c,f,h=[];try{for(var v=i(this.entries()),d=v.next();!d.done;d=v.next()){var y=o(d.value,2),p=y[0],g=y[1];h.push(l(g,p,this))}}catch(b){c={error:b}}finally{try{d&&!d.done&&(f=v.return)&&f.call(v)}finally{if(c)throw c.error}}return h},s.prototype.entries=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,[this.keys[l],this._fields[l]]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype.values=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype[Symbol.iterator]=function(){var l;return n(this,function(c){switch(c.label){case 0:l=0,c.label=1;case 1:return l<this.keys.length?[4,this._fields[l]]:[3,4];case 2:c.sent(),c.label=3;case 3:return l++,[3,1];case 4:return[2]}})},s.prototype.toObject=function(){var l,c,f={};try{for(var h=i(this.entries()),v=h.next();!v.done;v=h.next()){var d=o(v.value,2),y=d[0],p=d[1];f[y]=p}}catch(g){l={error:g}}finally{try{v&&!v.done&&(c=h.return)&&c.call(h)}finally{if(l)throw l.error}}return f},s.prototype.get=function(l){var c;if(typeof l!="number"){if((c=this._fieldLookup[l])===void 0)throw(0,a.newError)("This record has no field with key '".concat(l.toString(),"', available keys are: [")+this.keys.toString()+"].")}else c=l;if(c>this._fields.length-1||c<0)throw(0,a.newError)("This record has no field with index '"+c.toString()+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[c]},s.prototype.has=function(l){return typeof l=="number"?l>=0&&l<this._fields.length:this._fieldLookup[l]!==void 0},s}();e.default=u},4862:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutWith=void 0;var n=t(7961),i=t(1074),o=t(1554);e.timeoutWith=function(a,u,s){var l,c,f;if(s=s??n.async,i.isValidDate(a)?l=a:typeof a=="number"&&(c=a),!u)throw new TypeError("No observable provided to switch to");if(f=function(){return u},l==null&&c==null)throw new TypeError("No timeout provided.");return o.timeout({first:l,each:c,scheduler:s,with:f})}},4869:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throwIfEmpty=void 0;var n=t(2823),i=t(7843),o=t(3111);function a(){return new n.EmptyError}e.throwIfEmpty=function(u){return u===void 0&&(u=a),i.operate(function(s,l){var c=!1;s.subscribe(o.createOperatorSubscriber(l,function(f){c=!0,l.next(f)},function(){return c?l.complete():l.error(u())}))})}},4883:function(r,e,t){var n,i=this&&this.__extends||function(){var y=function(p,g){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(b[_]=m[_])},y(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function b(){this.constructor=p}y(p,g),p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var o=t(9691),a="error",u="warn",s="info",l="debug",c=s,f=((n={})[a]=0,n[u]=1,n[s]=2,n[l]=3,n),h=function(){function y(p,g){this._level=p,this._loggerFunction=g}return y.create=function(p){if(p?.logging!=null){var g=p.logging,b=function(_){if(_?.level!=null){var w=_.level,O=f[w];if(O==null&&O!==0)throw(0,o.newError)("Illegal logging level: ".concat(w,". Supported levels are: ").concat(Object.keys(f).toString()));return w}return c}(g),m=function(_){var w,O;if(_?.logger!=null){var E=_.logger;if(E!=null&&typeof E=="function")return E}throw(0,o.newError)("Illegal logger function: ".concat((O=(w=_?.logger)===null||w===void 0?void 0:w.toString())!==null&&O!==void 0?O:"undefined"))}(g);return new y(b,m)}return this.noOp()},y.noOp=function(){return v},y.prototype.isErrorEnabled=function(){return d(this._level,a)},y.prototype.error=function(p){this.isErrorEnabled()&&this._loggerFunction(a,p)},y.prototype.isWarnEnabled=function(){return d(this._level,u)},y.prototype.warn=function(p){this.isWarnEnabled()&&this._loggerFunction(u,p)},y.prototype.isInfoEnabled=function(){return d(this._level,s)},y.prototype.info=function(p){this.isInfoEnabled()&&this._loggerFunction(s,p)},y.prototype.isDebugEnabled=function(){return d(this._level,l)},y.prototype.debug=function(p){this.isDebugEnabled()&&this._loggerFunction(l,p)},y}();e.Logger=h;var v=new(function(y){function p(){return y.call(this,s,function(g,b){})||this}return i(p,y),p.prototype.isErrorEnabled=function(){return!1},p.prototype.error=function(g){},p.prototype.isWarnEnabled=function(){return!1},p.prototype.warn=function(g){},p.prototype.isInfoEnabled=function(){return!1},p.prototype.info=function(g){},p.prototype.isDebugEnabled=function(){return!1},p.prototype.debug=function(g){},p}(h));function d(y,p){return f[y]>=f[p]}},4912:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pluck=void 0;var n=t(5471);e.pluck=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=i.length;if(a===0)throw new Error("list of properties cannot be empty.");return n.map(function(u){for(var s=u,l=0;l<a;l++){var c=s?.[i[l]];if(c===void 0)return;s=c}return s})}},4917:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.from=void 0;var n=t(1656),i=t(9445);e.from=function(o,a){return a?n.scheduled(o,a):i.innerFrom(o)}},4953:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleReadableStreamLike=void 0;var n=t(854),i=t(9137);e.scheduleReadableStreamLike=function(o,a){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(o),a)}},5006:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsapAction=void 0;var i=t(5267),o=t(6293),a=function(u){function s(l,c){var f=u.call(this,l,c)||this;return f.scheduler=l,f.work=c,f}return n(s,u),s.prototype.requestAsyncId=function(l,c,f){return f===void 0&&(f=0),f!==null&&f>0?u.prototype.requestAsyncId.call(this,l,c,f):(l.actions.push(this),l._scheduled||(l._scheduled=o.immediateProvider.setImmediate(l.flush.bind(l,void 0))))},s.prototype.recycleAsyncId=function(l,c,f){var h;if(f===void 0&&(f=0),f!=null?f>0:this.delay>0)return u.prototype.recycleAsyncId.call(this,l,c,f);var v=l.actions;c!=null&&((h=v[v.length-1])===null||h===void 0?void 0:h.id)!==c&&(o.immediateProvider.clearImmediate(c),l._scheduled===c&&(l._scheduled=void 0))},s}(i.AsyncAction);e.AsapAction=a},5022:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(m,_,w,O){O===void 0&&(O=w);var E=Object.getOwnPropertyDescriptor(_,w);E&&!("get"in E?!_.__esModule:E.writable||E.configurable)||(E={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(m,O,E)}:function(m,_,w,O){O===void 0&&(O=w),m[O]=_[w]}),i=this&&this.__setModuleDefault||(Object.create?function(m,_){Object.defineProperty(m,"default",{enumerable:!0,value:_})}:function(m,_){m.default=_}),o=this&&this.__importStar||function(m){if(m&&m.__esModule)return m;var _={};if(m!=null)for(var w in m)w!=="default"&&Object.prototype.hasOwnProperty.call(m,w)&&n(_,m,w);return i(_,m),_};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var a=o(t(3371)),u=t(9691),s=t(6587),l=function(){function m(_,w){this._minNumber=_,this._maxNumber=w,this._minInteger=(0,a.int)(_),this._maxInteger=(0,a.int)(w)}return m.prototype.contains=function(_){if((0,a.isInt)(_)&&_ instanceof a.default)return _.greaterThanOrEqual(this._minInteger)&&_.lessThanOrEqual(this._maxInteger);if(typeof _=="bigint"){var w=(0,a.int)(_);return w.greaterThanOrEqual(this._minInteger)&&w.lessThanOrEqual(this._maxInteger)}return _>=this._minNumber&&_<=this._maxNumber},m.prototype.toString=function(){return"[".concat(this._minNumber,", ").concat(this._maxNumber,"]")},m}();function c(m,_,w){m=(0,a.int)(m),_=(0,a.int)(_),w=(0,a.int)(w);var O=m.multiply(365);return O=(O=(O=m.greaterThanOrEqual(0)?O.add(m.add(3).div(4).subtract(m.add(99).div(100)).add(m.add(399).div(400))):O.subtract(m.div(-4).subtract(m.div(-100)).add(m.div(-400)))).add(_.multiply(367).subtract(362).div(12))).add(w.subtract(1)),_.greaterThan(2)&&(O=O.subtract(1),function(E){return!(!(E=(0,a.int)(E)).modulo(4).equals(0)||E.modulo(100).equals(0)&&!E.modulo(400).equals(0))}(m)||(O=O.subtract(1))),O.subtract(e.DAYS_0000_TO_1970)}function f(m,_){return m===1?_%400==0||_%4==0&&_%100!=0?29:28:[0,2,4,6,7,9,11].includes(m)?31:30}e.YEAR_RANGE=new l(-999999999,999999999),e.MONTH_OF_YEAR_RANGE=new l(1,12),e.DAY_OF_MONTH_RANGE=new l(1,31),e.HOUR_OF_DAY_RANGE=new l(0,23),e.MINUTE_OF_HOUR_RANGE=new l(0,59),e.SECOND_OF_MINUTE_RANGE=new l(0,59),e.NANOSECOND_OF_SECOND_RANGE=new l(0,999999999),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400,e.normalizeSecondsForDuration=function(m,_){return(0,a.int)(m).add(y(_,e.NANOS_PER_SECOND))},e.normalizeNanosecondsForDuration=function(m){return p(m,e.NANOS_PER_SECOND)},e.localTimeToNanoOfDay=function(m,_,w,O){m=(0,a.int)(m),_=(0,a.int)(_),w=(0,a.int)(w),O=(0,a.int)(O);var E=m.multiply(e.NANOS_PER_HOUR);return(E=(E=E.add(_.multiply(e.NANOS_PER_MINUTE))).add(w.multiply(e.NANOS_PER_SECOND))).add(O)},e.localDateTimeToEpochSecond=function(m,_,w,O,E,S,P){var I=c(m,_,w),R=function(D,k,N){D=(0,a.int)(D),k=(0,a.int)(k),N=(0,a.int)(N);var B=D.multiply(e.SECONDS_PER_HOUR);return(B=B.add(k.multiply(e.SECONDS_PER_MINUTE))).add(N)}(O,E,S);return I.multiply(e.SECONDS_PER_DAY).add(R)},e.dateToEpochDay=c,e.durationToIsoString=function(m,_,w,O){var E=b(m),S=b(_),P=function(I,R){var D,k;I=(0,a.int)(I),R=(0,a.int)(R);var N=I.isNegative(),B=R.greaterThan(0);return D=N&&B?I.equals(-1)?"-0":I.add(1).toString():I.toString(),B&&(k=g(N?R.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND):R.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),k!=null?D+k:D}(w,O);return"P".concat(E,"M").concat(S,"DT").concat(P,"S")},e.timeToIsoString=function(m,_,w,O){var E=b(m,2),S=b(_,2),P=b(w,2),I=g(O);return"".concat(E,":").concat(S,":").concat(P).concat(I)},e.timeZoneOffsetToIsoString=function(m){if((m=(0,a.int)(m)).equals(0))return"Z";var _=m.isNegative();_&&(m=m.multiply(-1));var w=_?"-":"+",O=b(m.div(e.SECONDS_PER_HOUR),2),E=b(m.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),S=m.modulo(e.SECONDS_PER_MINUTE),P=S.equals(0)?null:b(S,2);return P!=null?"".concat(w).concat(O,":").concat(E,":").concat(P):"".concat(w).concat(O,":").concat(E)},e.dateToIsoString=function(m,_,w){var O=function(P){var I=(0,a.int)(P);return I.isNegative()||I.greaterThan(9999)?b(I,6,{usePositiveSign:!0}):b(I,4)}(m),E=b(_,2),S=b(w,2);return"".concat(O,"-").concat(E,"-").concat(S)},e.isoStringToStandardDate=function(m){return new Date(m)},e.toStandardDate=function(m){return new Date(m)},e.newDate=function(m){return new Date(m)},e.totalNanoseconds=function(m,_){return function(w,O){return w instanceof a.default?w.add(O):typeof w=="bigint"?w+BigInt(O):w+O}(_=_??0,m.getMilliseconds()*e.NANOS_PER_MILLISECOND)},e.timeZoneOffsetInSeconds=function(m){var _=m.getSeconds()-m.getUTCSeconds(),w=m.getMinutes()-m.getUTCMinutes(),O=m.getHours()-m.getUTCHours(),E=function(S){return S.getMonth()===S.getUTCMonth()?S.getDate()-S.getUTCDate():S.getFullYear()>S.getUTCFullYear()||S.getMonth()>S.getUTCMonth()&&S.getFullYear()===S.getUTCFullYear()?S.getDate()+f(S.getUTCMonth(),S.getUTCFullYear())-S.getUTCDate():S.getDate()-(S.getUTCDate()+f(S.getMonth(),S.getFullYear()))}(m);return O*e.SECONDS_PER_HOUR+w*e.SECONDS_PER_MINUTE+_+E*e.SECONDS_PER_DAY},e.assertValidYear=function(m){return d(m,e.YEAR_RANGE,"Year")},e.assertValidMonth=function(m){return d(m,e.MONTH_OF_YEAR_RANGE,"Month")},e.assertValidDay=function(m){return d(m,e.DAY_OF_MONTH_RANGE,"Day")},e.assertValidHour=function(m){return d(m,e.HOUR_OF_DAY_RANGE,"Hour")},e.assertValidMinute=function(m){return d(m,e.MINUTE_OF_HOUR_RANGE,"Minute")},e.assertValidSecond=function(m){return d(m,e.SECOND_OF_MINUTE_RANGE,"Second")},e.assertValidNanosecond=function(m){return d(m,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")};var h=new Map,v=function(m,_){return(0,u.newError)("".concat(_,' is expected to be a valid ZoneId but was: "').concat(m,'"'))};function d(m,_,w){if((0,s.assertNumberOrInteger)(m,w),!_.contains(m))throw(0,u.newError)("".concat(w," is expected to be in range ").concat(_.toString()," but was: ").concat(m.toString()));return m}function y(m,_){m=(0,a.int)(m),_=(0,a.int)(_);var w=m.div(_);return m.isPositive()!==_.isPositive()&&w.multiply(_).notEquals(m)&&(w=w.subtract(1)),w}function p(m,_){return m=(0,a.int)(m),_=(0,a.int)(_),m.subtract(y(m,_).multiply(_))}function g(m){return(m=(0,a.int)(m)).equals(0)?"":"."+b(m,9)}function b(m,_,w){var O=(m=(0,a.int)(m)).isNegative();O&&(m=m.negate());var E=m.toString();if(_!=null)for(;E.length<_;)E="0"+E;return O?"-"+E:w?.usePositiveSign===!0?"+"+E:E}e.assertValidZoneId=function(m,_){var w=h.get(_);if(w!==!0){if(w===!1)throw v(_,m);try{Intl.DateTimeFormat(void 0,{timeZone:_}),h.set(_,!0)}catch{throw h.set(_,!1),v(_,m)}}},e.floorDiv=y,e.floorMod=p},5045:function(r,e,t){var n=this&&this.__read||function(d,y){var p=typeof Symbol=="function"&&d[Symbol.iterator];if(!p)return d;var g,b,m=p.call(d),_=[];try{for(;(y===void 0||y-- >0)&&!(g=m.next()).done;)_.push(g.value)}catch(w){b={error:w}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(b)throw b.error}}return _},i=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(7168),a=t(9305),u=i(t(7518)),s=t(5973),l=t(6492),c=a.internal.temporalUtil.localDateTimeToEpochSecond,f=new Map;function h(d,y,p){var g=function(w){if(!f.has(w)){var O=new Intl.DateTimeFormat("en-US",{timeZone:w,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"});f.set(w,O)}return f.get(w)}(d),b=(0,a.int)(y).multiply(1e3).add((0,a.int)(p).div(1e6)).toNumber(),m=g.formatToParts(b).reduce(function(w,O){return O.type==="era"?w.adjustEra=O.value.toUpperCase()==="B"?function(E){return E.subtract(1).negate()}:l.identity:O.type==="hour"?w.hour=(0,a.int)(O.value).modulo(24):O.type!=="literal"&&(w[O.type]=(0,a.int)(O.value)),w},{});m.year=m.adjustEra(m.year);var _=c(m.year,m.month,m.day,m.hour,m.minute,m.second,m.nanosecond);return m.timeZoneOffsetSeconds=_.subtract(y),m.hour=m.hour.modulo(24),m}function v(d,y,p){if(!y&&!p)return d;var g=function(w){return p?w.toBigInt():w.toNumberOrInfinity()},b=Object.create(Object.getPrototypeOf(d));for(var m in d)if(Object.prototype.hasOwnProperty.call(d,m)===!0){var _=d[m];b[m]=(0,a.isInt)(_)?g(_):_}return Object.freeze(b),b}e.default={createDateTimeWithZoneIdTransformer:function(d,y){var p=d.disableLosslessIntegers,g=d.useBigInt;return u.default.createDateTimeWithZoneIdTransformer(d).extendsWith({signature:105,fromStructure:function(b){o.structure.verifyStructSize("DateTimeWithZoneId",3,b.size);var m=n(b.fields,3),_=m[0],w=m[1],O=m[2],E=h(O,_,w);return v(new a.DateTime(E.year,E.month,E.day,E.hour,E.minute,E.second,(0,a.int)(w),E.timeZoneOffsetSeconds,O),p,g)},toStructure:function(b){var m=c(b.year,b.month,b.day,b.hour,b.minute,b.second,b.nanosecond),_=b.timeZoneOffsetSeconds!=null?b.timeZoneOffsetSeconds:function(S,P,I){var R=h(S,P,I),D=c(R.year,R.month,R.day,R.hour,R.minute,R.second,I).subtract(P),k=P.subtract(D),N=h(S,k,I);return c(N.year,N.month,N.day,N.hour,N.minute,N.second,I).subtract(k)}(b.timeZoneId,m,b.nanosecond);b.timeZoneOffsetSeconds==null&&y.warn('DateTime objects without "timeZoneOffsetSeconds" property are prune to bugs related to ambiguous times. For instance, 2022-10-30T2:30:00[Europe/Berlin] could be GMT+1 or GMT+2.');var w=m.subtract(_),O=(0,a.int)(b.nanosecond),E=b.timeZoneId;return new o.structure.Structure(105,[w,O,E])}})},createDateTimeWithOffsetTransformer:function(d){var y=d.disableLosslessIntegers,p=d.useBigInt;return u.default.createDateTimeWithOffsetTransformer(d).extendsWith({signature:73,toStructure:function(g){var b=c(g.year,g.month,g.day,g.hour,g.minute,g.second,g.nanosecond),m=(0,a.int)(g.nanosecond),_=(0,a.int)(g.timeZoneOffsetSeconds),w=b.subtract(_);return new o.structure.Structure(73,[w,m,_])},fromStructure:function(g){o.structure.verifyStructSize("DateTimeWithZoneOffset",3,g.size);var b=n(g.fields,3),m=b[0],_=b[1],w=b[2],O=(0,a.int)(m).add(w),E=(0,s.epochSecondAndNanoToLocalDateTime)(O,_);return v(new a.DateTime(E.year,E.month,E.day,E.hour,E.minute,E.second,E.nanosecond,w,null),y,p)}})}}},5184:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeOn=void 0;var n=t(7110),i=t(7843),o=t(3111);e.observeOn=function(a,u){return u===void 0&&(u=0),i.operate(function(s,l){s.subscribe(o.createOperatorSubscriber(l,function(c){return n.executeSchedule(l,a,function(){return l.next(c)},u)},function(){return n.executeSchedule(l,a,function(){return l.complete()},u)},function(c){return n.executeSchedule(l,a,function(){return l.error(c)},u)}))})}},5250:function(r,e,t){var n;r=t.nmd(r),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",u="__lodash_placeholder__",s=32,l=128,c=1/0,f=9007199254740991,h=NaN,v=4294967295,d=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],y="[object Arguments]",p="[object Array]",g="[object Boolean]",b="[object Date]",m="[object Error]",_="[object Function]",w="[object GeneratorFunction]",O="[object Map]",E="[object Number]",S="[object Object]",P="[object Promise]",I="[object RegExp]",R="[object Set]",D="[object String]",k="[object Symbol]",N="[object WeakMap]",B="[object ArrayBuffer]",z="[object DataView]",F="[object Float32Array]",U="[object Float64Array]",W="[object Int8Array]",Y="[object Int16Array]",X="[object Int32Array]",Q="[object Uint8Array]",ue="[object Uint8ClampedArray]",ce="[object Uint16Array]",ae="[object Uint32Array]",pe=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,he=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ee=/&(?:amp|lt|gt|quot|#39);/g,K=/[&<>"']/g,J=RegExp(ee.source),ie=RegExp(K.source),de=/<%-([\s\S]+?)%>/g,_e=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ae=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,G=/[\\^$.*+?()[\]{}|]/g,H=RegExp(G.source),oe=/^\s+/,ve=/\s/,ye=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,we=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rt=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tt=/\w*$/,Xe=/^[-+]0x[0-9a-f]+$/i,ke=/^0b[01]+$/i,te=/^\[object .+?Constructor\]$/,Se=/^0o[0-7]+$/i,De=/^(?:0|[1-9]\d*)$/,Me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ne=/($^)/,nt=/['\n\r\u2028\u2029\\]/g,Be="\\ud800-\\udfff",ot="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qe="\\u2700-\\u27bf",it="a-z\\xdf-\\xf6\\xf8-\\xff",gt="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",lt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lt="["+Be+"]",dt="["+lt+"]",Qt="["+ot+"]",Yt="\\d+",Rt="["+Qe+"]",wt="["+it+"]",dr="[^"+Be+lt+Yt+Qe+it+gt+"]",ir="\\ud83c[\\udffb-\\udfff]",vr="[^"+Be+"]",wr="(?:\\ud83c[\\udde6-\\uddff]){2}",Er="[\\ud800-\\udbff][\\udc00-\\udfff]",Pr="["+gt+"]",Vr="\\u200d",cn="(?:"+wt+"|"+dr+")",Dn="(?:"+Pr+"|"+dr+")",On="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",xr="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",mr="(?:"+Qt+"|"+ir+")?",Wr="["+Pt+"]?",fn=Wr+mr+"(?:"+Vr+"(?:"+[vr,wr,Er].join("|")+")"+Wr+mr+")*",Jt="(?:"+[Rt,wr,Er].join("|")+")"+fn,Mn="(?:"+[vr+Qt+"?",Qt,wr,Er,Lt].join("|")+")",Sn=RegExp("['\u2019]","g"),ut=RegExp(Qt,"g"),jt=RegExp(ir+"(?="+ir+")|"+Mn+fn,"g"),kn=RegExp([Pr+"?"+wt+"+"+On+"(?="+[dt,Pr,"$"].join("|")+")",Dn+"+"+xr+"(?="+[dt,Pr+cn,"$"].join("|")+")",Pr+"?"+cn+"+"+On,Pr+"+"+xr,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Yt,Jt].join("|"),"g"),co=RegExp("["+Vr+Be+ot+Pt+"]"),fo=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Vn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oi=-1,pr={};pr[F]=pr[U]=pr[W]=pr[Y]=pr[X]=pr[Q]=pr[ue]=pr[ce]=pr[ae]=!0,pr[y]=pr[p]=pr[B]=pr[g]=pr[z]=pr[b]=pr[m]=pr[_]=pr[O]=pr[E]=pr[S]=pr[I]=pr[R]=pr[D]=pr[N]=!1;var Xt={};Xt[y]=Xt[p]=Xt[B]=Xt[z]=Xt[g]=Xt[b]=Xt[F]=Xt[U]=Xt[W]=Xt[Y]=Xt[X]=Xt[O]=Xt[E]=Xt[S]=Xt[I]=Xt[R]=Xt[D]=Xt[k]=Xt[Q]=Xt[ue]=Xt[ce]=Xt[ae]=!0,Xt[m]=Xt[_]=Xt[N]=!1;var Mi={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},es=parseFloat,Tu=parseInt,Wn=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,ts=typeof self=="object"&&self&&self.Object===Object&&self,en=Wn||ts||Function("return this")(),aa=e&&!e.nodeType&&e,Tn=aa&&r&&!r.nodeType&&r,Ia=Tn&&Tn.exports===aa,Us=Ia&&Wn.process,ai=function(){try{return Tn&&Tn.require&&Tn.require("util").types||Us&&Us.binding&&Us.binding("util")}catch{}}(),ql=ai&&ai.isArrayBuffer,Gl=ai&&ai.isDate,Cu=ai&&ai.isMap,sf=ai&&ai.isRegExp,Vl=ai&&ai.isSet,Pu=ai&&ai.isTypedArray;function Hn(Re,He,Ue){switch(Ue.length){case 0:return Re.call(He);case 1:return Re.call(He,Ue[0]);case 2:return Re.call(He,Ue[0],Ue[1]);case 3:return Re.call(He,Ue[0],Ue[1],Ue[2])}return Re.apply(He,Ue)}function rs(Re,He,Ue,ft){for(var zt=-1,er=Re==null?0:Re.length;++zt<er;){var hn=Re[zt];He(ft,hn,Ue(hn),Re)}return ft}function yi(Re,He){for(var Ue=-1,ft=Re==null?0:Re.length;++Ue<ft&&He(Re[Ue],Ue,Re)!==!1;);return Re}function uf(Re,He){for(var Ue=Re==null?0:Re.length;Ue--&&He(Re[Ue],Ue,Re)!==!1;);return Re}function lf(Re,He){for(var Ue=-1,ft=Re==null?0:Re.length;++Ue<ft;)if(!He(Re[Ue],Ue,Re))return!1;return!0}function ko(Re,He){for(var Ue=-1,ft=Re==null?0:Re.length,zt=0,er=[];++Ue<ft;){var hn=Re[Ue];He(hn,Ue,Re)&&(er[zt++]=hn)}return er}function zs(Re,He){return!(Re==null||!Re.length)&&ns(Re,He,0)>-1}function Au(Re,He,Ue){for(var ft=-1,zt=Re==null?0:Re.length;++ft<zt;)if(Ue(He,Re[ft]))return!0;return!1}function Hr(Re,He){for(var Ue=-1,ft=Re==null?0:Re.length,zt=Array(ft);++Ue<ft;)zt[Ue]=He(Re[Ue],Ue,Re);return zt}function sa(Re,He){for(var Ue=-1,ft=He.length,zt=Re.length;++Ue<ft;)Re[zt+Ue]=He[Ue];return Re}function Wl(Re,He,Ue,ft){var zt=-1,er=Re==null?0:Re.length;for(ft&&er&&(Ue=Re[++zt]);++zt<er;)Ue=He(Ue,Re[zt],zt,Re);return Ue}function yd(Re,He,Ue,ft){var zt=Re==null?0:Re.length;for(ft&&zt&&(Ue=Re[--zt]);zt--;)Ue=He(Ue,Re[zt],zt,Re);return Ue}function Ru(Re,He){for(var Ue=-1,ft=Re==null?0:Re.length;++Ue<ft;)if(He(Re[Ue],Ue,Re))return!0;return!1}var md=Yl("length");function cf(Re,He,Ue){var ft;return Ue(Re,function(zt,er,hn){if(He(zt,er,hn))return ft=er,!1}),ft}function Iu(Re,He,Ue,ft){for(var zt=Re.length,er=Ue+(ft?1:-1);ft?er--:++er<zt;)if(He(Re[er],er,Re))return er;return-1}function ns(Re,He,Ue){return He==He?function(ft,zt,er){for(var hn=er-1,po=ft.length;++hn<po;)if(ft[hn]===zt)return hn;return-1}(Re,He,Ue):Iu(Re,ff,Ue)}function Hl(Re,He,Ue,ft){for(var zt=Ue-1,er=Re.length;++zt<er;)if(ft(Re[zt],He))return zt;return-1}function ff(Re){return Re!=Re}function hf(Re,He){var Ue=Re==null?0:Re.length;return Ue?jr(Re,He)/Ue:h}function Yl(Re){return function(He){return He==null?i:He[Re]}}function Xl(Re){return function(He){return Re==null?i:Re[He]}}function df(Re,He,Ue,ft,zt){return zt(Re,function(er,hn,po){Ue=ft?(ft=!1,er):He(Ue,er,hn,po)}),Ue}function jr(Re,He){for(var Ue,ft=-1,zt=Re.length;++ft<zt;){var er=He(Re[ft]);er!==i&&(Ue=Ue===i?er:Ue+er)}return Ue}function kr(Re,He){for(var Ue=-1,ft=Array(Re);++Ue<Re;)ft[Ue]=He(Ue);return ft}function vf(Re){return Re&&Re.slice(0,la(Re)+1).replace(oe,"")}function mi(Re){return function(He){return Re(He)}}function Kl(Re,He){return Hr(He,function(Ue){return Re[Ue]})}function qs(Re,He){return Re.has(He)}function pf(Re,He){for(var Ue=-1,ft=Re.length;++Ue<ft&&ns(He,Re[Ue],0)>-1;);return Ue}function gf(Re,He){for(var Ue=Re.length;Ue--&&ns(He,Re[Ue],0)>-1;);return Ue}var yf=Xl({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),bd=Xl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Cn(Re){return"\\"+Mi[Re]}function ua(Re){return co.test(Re)}function No(Re){var He=-1,Ue=Array(Re.size);return Re.forEach(function(ft,zt){Ue[++He]=[zt,ft]}),Ue}function $l(Re,He){return function(Ue){return Re(He(Ue))}}function ho(Re,He){for(var Ue=-1,ft=Re.length,zt=0,er=[];++Ue<ft;){var hn=Re[Ue];hn!==He&&hn!==u||(Re[Ue]=u,er[zt++]=Ue)}return er}function Yn(Re){var He=-1,Ue=Array(Re.size);return Re.forEach(function(ft){Ue[++He]=ft}),Ue}function mf(Re){var He=-1,Ue=Array(Re.size);return Re.forEach(function(ft){Ue[++He]=[ft,ft]}),Ue}function Da(Re){return ua(Re)?function(He){for(var Ue=jt.lastIndex=0;jt.test(He);)++Ue;return Ue}(Re):md(Re)}function Nn(Re){return ua(Re)?function(He){return He.match(jt)||[]}(Re):function(He){return He.split("")}(Re)}function la(Re){for(var He=Re.length;He--&&ve.test(Re.charAt(He)););return He}var vo=Xl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Hi=function Re(He){var Ue,ft=(He=He==null?en:Hi.defaults(en.Object(),He,Hi.pick(en,Vn))).Array,zt=He.Date,er=He.Error,hn=He.Function,po=He.Math,Bt=He.Object,ca=He.RegExp,_d=He.String,go=He.TypeError,Du=ft.prototype,Zb=hn.prototype,Mu=Bt.prototype,bf=He["__core-js_shared__"],Zl=Zb.toString,Or=Mu.hasOwnProperty,ku=0,Qg=(Ue=/[^.]+$/.exec(bf&&bf.keys&&bf.keys.IE_PROTO||""))?"Symbol(src)_1."+Ue:"",Ql=Mu.toString,Jg=Zl.call(Bt),wd=en._,Ed=ca("^"+Zl.call(Or).replace(G,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jl=Ia?He.Buffer:i,is=He.Symbol,Nu=He.Uint8Array,_f=Jl?Jl.allocUnsafe:i,wf=$l(Bt.getPrototypeOf,Bt),xd=Bt.create,ki=Mu.propertyIsEnumerable,Lu=Du.splice,ju=is?is.isConcatSpreadable:i,Bu=is?is.iterator:i,os=is?is.toStringTag:i,Ef=function(){try{var T=Vo(Bt,"defineProperty");return T({},"",{}),T}catch{}}(),Qb=He.clearTimeout!==en.clearTimeout&&He.clearTimeout,Jb=zt&&zt.now!==en.Date.now&&zt.now,e_=He.setTimeout!==en.setTimeout&&He.setTimeout,xf=po.ceil,Ma=po.floor,Od=Bt.getOwnPropertySymbols,t_=Jl?Jl.isBuffer:i,Of=He.isFinite,ey=Du.join,as=$l(Bt.keys,Bt),dn=po.max,si=po.min,r_=zt.now,n_=He.parseInt,Gs=po.random,Lo=Du.reverse,Sf=Vo(He,"DataView"),ec=Vo(He,"Map"),Sd=Vo(He,"Promise"),Fu=Vo(He,"Set"),tc=Vo(He,"WeakMap"),rc=Vo(Bt,"create"),jo=tc&&new tc,Te={},Fe=ja(Sf),Le=ja(ec),pt=ja(Sd),Gt=ja(Fu),Ar=ja(tc),vn=is?is.prototype:i,Rr=vn?vn.valueOf:i,Tf=vn?vn.toString:i;function ne(T){if(sn(T)&&!Ht(T)&&!(T instanceof tr)){if(T instanceof yo)return T;if(Or.call(T,"__wrapped__"))return Oy(T)}return new yo(T)}var Xn=function(){function T(){}return function(A){if(!an(A))return{};if(xd)return xd(A);T.prototype=A;var L=new T;return T.prototype=i,L}}();function Vs(){}function yo(T,A){this.__wrapped__=T,this.__actions__=[],this.__chain__=!!A,this.__index__=0,this.__values__=i}function tr(T){this.__wrapped__=T,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=v,this.__views__=[]}function fa(T){var A=-1,L=T==null?0:T.length;for(this.clear();++A<L;){var V=T[A];this.set(V[0],V[1])}}function mo(T){var A=-1,L=T==null?0:T.length;for(this.clear();++A<L;){var V=T[A];this.set(V[0],V[1])}}function ur(T){var A=-1,L=T==null?0:T.length;for(this.clear();++A<L;){var V=T[A];this.set(V[0],V[1])}}function Ws(T){var A=-1,L=T==null?0:T.length;for(this.__data__=new ur;++A<L;)this.add(T[A])}function bo(T){var A=this.__data__=new mo(T);this.size=A.size}function nc(T,A){var L=Ht(T),V=!L&&ga(T),Z=!L&&!V&&ya(T),le=!L&&!V&&!Z&&Yo(T),be=L||V||Z||le,Oe=be?kr(T.length,_d):[],Ie=Oe.length;for(var qe in T)!A&&!Or.call(T,qe)||be&&(qe=="length"||Z&&(qe=="offset"||qe=="parent")||le&&(qe=="buffer"||qe=="byteLength"||qe=="byteOffset")||Wo(qe,Ie))||Oe.push(qe);return Oe}function ty(T){var A=T.length;return A?T[Ni(0,A-1)]:i}function i_(T,A){return Bf(Li(T),da(A,0,T.length))}function o_(T){return Bf(Li(T))}function Uu(T,A,L){(L!==i&&!So(T[A],L)||L===i&&!(A in T))&&ha(T,A,L)}function _o(T,A,L){var V=T[A];Or.call(T,A)&&So(V,L)&&(L!==i||A in T)||ha(T,A,L)}function Hs(T,A){for(var L=T.length;L--;)if(So(T[L][0],A))return L;return-1}function ry(T,A,L,V){return ls(T,function(Z,le,be){A(V,Z,L(Z),be)}),V}function ic(T,A){return T&&xo(A,zn(A),T)}function ha(T,A,L){A=="__proto__"&&Ef?Ef(T,A,{configurable:!0,enumerable:!0,value:L,writable:!0}):T[A]=L}function Cf(T,A){for(var L=-1,V=A.length,Z=ft(V),le=T==null;++L<V;)Z[L]=le?i:Xo(T,A[L]);return Z}function da(T,A,L){return T==T&&(L!==i&&(T=T<=L?T:L),A!==i&&(T=T>=A?T:A)),T}function Yi(T,A,L,V,Z,le){var be,Oe=1&A,Ie=2&A,qe=4&A;if(L&&(be=Z?L(T,V,Z,le):L(T)),be!==i)return be;if(!an(T))return T;var Ve=Ht(T);if(Ve){if(be=function(Ye){var et=Ye.length,Ot=new Ye.constructor(et);return et&&typeof Ye[0]=="string"&&Or.call(Ye,"index")&&(Ot.index=Ye.index,Ot.input=Ye.input),Ot}(T),!Oe)return Li(T,be)}else{var $e=ui(T),vt=$e==_||$e==w;if(ya(T))return py(T,Oe);if($e==S||$e==y||vt&&!Z){if(be=Ie||vt?{}:Ey(T),!Oe)return Ie?function(Ye,et){return xo(Ye,wy(Ye),et)}(T,function(Ye,et){return Ye&&xo(et,Fi(et),Ye)}(be,T)):function(Ye,et){return xo(Ye,kf(Ye),et)}(T,ic(be,T))}else{if(!Xt[$e])return Z?T:{};be=function(Ye,et,Ot){var ct,Vt=Ye.constructor;switch(et){case B:return Ld(Ye);case g:case b:return new Vt(+Ye);case z:return function(qt,Cr){var _t=Cr?Ld(qt.buffer):qt.buffer;return new qt.constructor(_t,qt.byteOffset,qt.byteLength)}(Ye,Ot);case F:case U:case W:case Y:case X:case Q:case ue:case ce:case ae:return gy(Ye,Ot);case O:return new Vt;case E:case D:return new Vt(Ye);case I:return function(qt){var Cr=new qt.constructor(qt.source,tt.exec(qt));return Cr.lastIndex=qt.lastIndex,Cr}(Ye);case R:return new Vt;case k:return ct=Ye,Rr?Bt(Rr.call(ct)):{}}}(T,$e,Oe)}}le||(le=new bo);var mt=le.get(T);if(mt)return mt;le.set(T,be),Hf(T)?T.forEach(function(Ye){be.add(Yi(Ye,A,L,Ye,T,le))}):jy(T)&&T.forEach(function(Ye,et){be.set(et,Yi(Ye,A,L,et,T,le))});var At=Ve?i:(qe?Ie?Kn:Df:Ie?Fi:zn)(T);return yi(At||T,function(Ye,et){At&&(Ye=T[et=Ye]),_o(be,et,Yi(Ye,A,L,et,T,le))}),be}function zu(T,A,L){var V=L.length;if(T==null)return!V;for(T=Bt(T);V--;){var Z=L[V],le=A[Z],be=T[Z];if(be===i&&!(Z in T)||!le(be))return!1}return!0}function ss(T,A,L){if(typeof T!="function")throw new go(o);return gs(function(){T.apply(i,L)},A)}function us(T,A,L,V){var Z=-1,le=zs,be=!0,Oe=T.length,Ie=[],qe=A.length;if(!Oe)return Ie;L&&(A=Hr(A,mi(L))),V?(le=Au,be=!1):A.length>=200&&(le=qs,be=!1,A=new Ws(A));e:for(;++Z<Oe;){var Ve=T[Z],$e=L==null?Ve:L(Ve);if(Ve=V||Ve!==0?Ve:0,be&&$e==$e){for(var vt=qe;vt--;)if(A[vt]===$e)continue e;Ie.push(Ve)}else le(A,$e,V)||Ie.push(Ve)}return Ie}ne.templateSettings={escape:de,evaluate:_e,interpolate:Ce,variable:"",imports:{_:ne}},ne.prototype=Vs.prototype,ne.prototype.constructor=ne,yo.prototype=Xn(Vs.prototype),yo.prototype.constructor=yo,tr.prototype=Xn(Vs.prototype),tr.prototype.constructor=tr,fa.prototype.clear=function(){this.__data__=rc?rc(null):{},this.size=0},fa.prototype.delete=function(T){var A=this.has(T)&&delete this.__data__[T];return this.size-=A?1:0,A},fa.prototype.get=function(T){var A=this.__data__;if(rc){var L=A[T];return L===a?i:L}return Or.call(A,T)?A[T]:i},fa.prototype.has=function(T){var A=this.__data__;return rc?A[T]!==i:Or.call(A,T)},fa.prototype.set=function(T,A){var L=this.__data__;return this.size+=this.has(T)?0:1,L[T]=rc&&A===i?a:A,this},mo.prototype.clear=function(){this.__data__=[],this.size=0},mo.prototype.delete=function(T){var A=this.__data__,L=Hs(A,T);return!(L<0||(L==A.length-1?A.pop():Lu.call(A,L,1),--this.size,0))},mo.prototype.get=function(T){var A=this.__data__,L=Hs(A,T);return L<0?i:A[L][1]},mo.prototype.has=function(T){return Hs(this.__data__,T)>-1},mo.prototype.set=function(T,A){var L=this.__data__,V=Hs(L,T);return V<0?(++this.size,L.push([T,A])):L[V][1]=A,this},ur.prototype.clear=function(){this.size=0,this.__data__={hash:new fa,map:new(ec||mo),string:new fa}},ur.prototype.delete=function(T){var A=Vu(this,T).delete(T);return this.size-=A?1:0,A},ur.prototype.get=function(T){return Vu(this,T).get(T)},ur.prototype.has=function(T){return Vu(this,T).has(T)},ur.prototype.set=function(T,A){var L=Vu(this,T),V=L.size;return L.set(T,A),this.size+=L.size==V?0:1,this},Ws.prototype.add=Ws.prototype.push=function(T){return this.__data__.set(T,a),this},Ws.prototype.has=function(T){return this.__data__.has(T)},bo.prototype.clear=function(){this.__data__=new mo,this.size=0},bo.prototype.delete=function(T){var A=this.__data__,L=A.delete(T);return this.size=A.size,L},bo.prototype.get=function(T){return this.__data__.get(T)},bo.prototype.has=function(T){return this.__data__.has(T)},bo.prototype.set=function(T,A){var L=this.__data__;if(L instanceof mo){var V=L.__data__;if(!ec||V.length<199)return V.push([T,A]),this.size=++L.size,this;L=this.__data__=new ur(V)}return L.set(T,A),this.size=L.size,this};var ls=my(va),ny=my(Pd,!0);function a_(T,A){var L=!0;return ls(T,function(V,Z,le){return L=!!A(V,Z,le)}),L}function Ys(T,A,L){for(var V=-1,Z=T.length;++V<Z;){var le=T[V],be=A(le);if(be!=null&&(Oe===i?be==be&&!ci(be):L(be,Oe)))var Oe=be,Ie=le}return Ie}function oc(T,A){var L=[];return ls(T,function(V,Z,le){A(V,Z,le)&&L.push(V)}),L}function Ln(T,A,L,V,Z){var le=-1,be=T.length;for(L||(L=d_),Z||(Z=[]);++le<be;){var Oe=T[le];A>0&&L(Oe)?A>1?Ln(Oe,A-1,L,V,Z):sa(Z,Oe):V||(Z[Z.length]=Oe)}return Z}var Td=Fd(),Cd=Fd(!0);function va(T,A){return T&&Td(T,A,zn)}function Pd(T,A){return T&&Cd(T,A,zn)}function pn(T,A){return ko(A,function(L){return Zn(T[L])})}function gn(T,A){for(var L=0,V=(A=hs(A,T)).length;T!=null&&L<V;)T=T[Ho(A[L++])];return L&&L==V?T:i}function iy(T,A,L){var V=A(T);return Ht(T)?V:sa(V,L(T))}function bi(T){return T==null?T===i?"[object Undefined]":"[object Null]":os&&os in Bt(T)?function(A){var L=Or.call(A,os),V=A[os];try{A[os]=i;var Z=!0}catch{}var le=Ql.call(A);return Z&&(L?A[os]=V:delete A[os]),le}(T):function(A){return Ql.call(A)}(T)}function Pf(T,A){return T>A}function s_(T,A){return T!=null&&Or.call(T,A)}function Ad(T,A){return T!=null&&A in Bt(T)}function Xs(T,A,L){for(var V=L?Au:zs,Z=T[0].length,le=T.length,be=le,Oe=ft(le),Ie=1/0,qe=[];be--;){var Ve=T[be];be&&A&&(Ve=Hr(Ve,mi(A))),Ie=si(Ve.length,Ie),Oe[be]=!L&&(A||Z>=120&&Ve.length>=120)?new Ws(be&&Ve):i}Ve=T[0];var $e=-1,vt=Oe[0];e:for(;++$e<Z&&qe.length<Ie;){var mt=Ve[$e],At=A?A(mt):mt;if(mt=L||mt!==0?mt:0,!(vt?qs(vt,At):V(qe,At,L))){for(be=le;--be;){var Ye=Oe[be];if(!(Ye?qs(Ye,At):V(T[be],At,L)))continue e}vt&&vt.push(At),qe.push(mt)}}return qe}function Ks(T,A,L){var V=(T=Xd(T,A=hs(A,T)))==null?T:T[Ho(wi(A))];return V==null?i:Hn(V,T,L)}function $s(T){return sn(T)&&bi(T)==y}function ka(T,A,L,V,Z){return T===A||(T==null||A==null||!sn(T)&&!sn(A)?T!=T&&A!=A:function(le,be,Oe,Ie,qe,Ve){var $e=Ht(le),vt=Ht(be),mt=$e?p:ui(le),At=vt?p:ui(be),Ye=(mt=mt==y?S:mt)==S,et=(At=At==y?S:At)==S,Ot=mt==At;if(Ot&&ya(le)){if(!ya(be))return!1;$e=!0,Ye=!1}if(Ot&&!Ye)return Ve||(Ve=new bo),$e||Yo(le)?cc(le,be,Oe,Ie,qe,Ve):function(_t,Mt,jn,wn,Oi,$r,fi){switch(jn){case z:if(_t.byteLength!=Mt.byteLength||_t.byteOffset!=Mt.byteOffset)return!1;_t=_t.buffer,Mt=Mt.buffer;case B:return!(_t.byteLength!=Mt.byteLength||!$r(new Nu(_t),new Nu(Mt)));case g:case b:case E:return So(+_t,+Mt);case m:return _t.name==Mt.name&&_t.message==Mt.message;case I:case D:return _t==Mt+"";case O:var ma=No;case R:var ba=1&wn;if(ma||(ma=Yn),_t.size!=Mt.size&&!ba)return!1;var Es=fi.get(_t);if(Es)return Es==Mt;wn|=2,fi.set(_t,Mt);var Ua=cc(ma(_t),ma(Mt),wn,Oi,$r,fi);return fi.delete(_t),Ua;case k:if(Rr)return Rr.call(_t)==Rr.call(Mt)}return!1}(le,be,mt,Oe,Ie,qe,Ve);if(!(1&Oe)){var ct=Ye&&Or.call(le,"__wrapped__"),Vt=et&&Or.call(be,"__wrapped__");if(ct||Vt){var qt=ct?le.value():le,Cr=Vt?be.value():be;return Ve||(Ve=new bo),qe(qt,Cr,Oe,Ie,Ve)}}return!!Ot&&(Ve||(Ve=new bo),function(_t,Mt,jn,wn,Oi,$r){var fi=1&jn,ma=Df(_t),ba=ma.length;if(ba!=Df(Mt).length&&!fi)return!1;for(var Es=ba;Es--;){var Ua=ma[Es];if(!(fi?Ua in Mt:Or.call(Mt,Ua)))return!1}var Qy=$r.get(_t),Jy=$r.get(Mt);if(Qy&&Jy)return Qy==Mt&&Jy==_t;var th=!0;$r.set(_t,Mt),$r.set(Mt,_t);for(var Pv=fi;++Es<ba;){var rh=_t[Ua=ma[Es]],nh=Mt[Ua];if(wn)var em=fi?wn(nh,rh,Ua,Mt,_t,$r):wn(rh,nh,Ua,_t,Mt,$r);if(!(em===i?rh===nh||Oi(rh,nh,jn,wn,$r):em)){th=!1;break}Pv||(Pv=Ua=="constructor")}if(th&&!Pv){var bc=_t.constructor,ih=Mt.constructor;bc==ih||!("constructor"in _t)||!("constructor"in Mt)||typeof bc=="function"&&bc instanceof bc&&typeof ih=="function"&&ih instanceof ih||(th=!1)}return $r.delete(_t),$r.delete(Mt),th}(le,be,Oe,Ie,qe,Ve))}(T,A,L,V,ka,Z))}function Zs(T,A,L,V){var Z=L.length,le=Z,be=!V;if(T==null)return!le;for(T=Bt(T);Z--;){var Oe=L[Z];if(be&&Oe[2]?Oe[1]!==T[Oe[0]]:!(Oe[0]in T))return!1}for(;++Z<le;){var Ie=(Oe=L[Z])[0],qe=T[Ie],Ve=Oe[1];if(be&&Oe[2]){if(qe===i&&!(Ie in T))return!1}else{var $e=new bo;if(V)var vt=V(qe,Ve,Ie,T,A,$e);if(!(vt===i?ka(Ve,qe,3,V,$e):vt))return!1}}return!0}function ac(T){return!(!an(T)||(A=T,Qg&&Qg in A))&&(Zn(T)?Ed:te).test(ja(T));var A}function Qs(T){return typeof T=="function"?T:T==null?Ui:typeof T=="object"?Ht(T)?sy(T[0],T[1]):ay(T):Ov(T)}function Rd(T){if(!Hu(T))return as(T);var A=[];for(var L in Bt(T))Or.call(T,L)&&L!="constructor"&&A.push(L);return A}function Id(T,A){return T<A}function oy(T,A){var L=-1,V=$n(T)?ft(T.length):[];return ls(T,function(Z,le,be){V[++L]=A(Z,le,be)}),V}function ay(T){var A=Wd(T);return A.length==1&&A[0][2]?xy(A[0][0],A[0][1]):function(L){return L===T||Zs(L,T,A)}}function sy(T,A){return Hd(T)&&Nf(A)?xy(Ho(T),A):function(L){var V=Xo(L,T);return V===i&&V===A?Jn(L,T):ka(A,V,3)}}function Js(T,A,L,V,Z){T!==A&&Td(A,function(le,be){if(Z||(Z=new bo),an(le))(function(Ie,qe,Ve,$e,vt,mt,At){var Ye=jf(Ie,Ve),et=jf(qe,Ve),Ot=At.get(et);if(Ot)Uu(Ie,Ve,Ot);else{var ct=mt?mt(Ye,et,Ve+"",Ie,qe,At):i,Vt=ct===i;if(Vt){var qt=Ht(et),Cr=!qt&&ya(et),_t=!qt&&!Cr&&Yo(et);ct=et,qt||Cr||_t?Ht(Ye)?ct=Ye:yn(Ye)?ct=Li(Ye):Cr?(Vt=!1,ct=py(et,!0)):_t?(Vt=!1,ct=gy(et,!0)):ct=[]:$i(et)||ga(et)?(ct=Ye,ga(Ye)?ct=Qn(Ye):an(Ye)&&!Zn(Ye)||(ct=Ey(et))):Vt=!1}Vt&&(At.set(et,ct),vt(ct,et,$e,mt,At),At.delete(et)),Uu(Ie,Ve,ct)}})(T,A,be,L,Js,V,Z);else{var Oe=V?V(jf(T,be),le,be+"",T,A,Z):i;Oe===i&&(Oe=le),Uu(T,be,Oe)}},Fi)}function qu(T,A){var L=T.length;if(L)return Wo(A+=A<0?L:0,L)?T[A]:i}function Dd(T,A,L){A=A.length?Hr(A,function(le){return Ht(le)?function(be){return gn(be,le.length===1?le[0]:le)}:le}):[Ui];var V=-1;A=Hr(A,mi(It()));var Z=oy(T,function(le,be,Oe){var Ie=Hr(A,function(qe){return qe(le)});return{criteria:Ie,index:++V,value:le}});return function(le){var be=le.length;for(le.sort(function(Oe,Ie){return function(qe,Ve,$e){for(var vt=-1,mt=qe.criteria,At=Ve.criteria,Ye=mt.length,et=$e.length;++vt<Ye;){var Ot=jd(mt[vt],At[vt]);if(Ot)return vt>=et?Ot:Ot*($e[vt]=="desc"?-1:1)}return qe.index-Ve.index}(Oe,Ie,L)});be--;)le[be]=le[be].value;return le}(Z)}function re(T,A,L){for(var V=-1,Z=A.length,le={};++V<Z;){var be=A[V],Oe=gn(T,be);L(Oe,be)&&Bo(le,hs(be,T),Oe)}return le}function cs(T,A,L,V){var Z=V?Hl:ns,le=-1,be=A.length,Oe=T;for(T===A&&(A=Li(A)),L&&(Oe=Hr(T,mi(L)));++le<be;)for(var Ie=0,qe=A[le],Ve=L?L(qe):qe;(Ie=Z(Oe,Ve,Ie,V))>-1;)Oe!==T&&Lu.call(Oe,Ie,1),Lu.call(T,Ie,1);return T}function sc(T,A){for(var L=T?A.length:0,V=L-1;L--;){var Z=A[L];if(L==V||Z!==le){var le=Z;Wo(Z)?Lu.call(T,Z,1):Fo(T,Z)}}return T}function Ni(T,A){return T+Ma(Gs()*(A-T+1))}function lr(T,A){var L="";if(!T||A<1||A>f)return L;do A%2&&(L+=T),(A=Ma(A/2))&&(T+=T);while(A);return L}function or(T,A){return $d(Lf(T,A,Ui),T+"")}function u_(T){return ty(ru(T))}function l_(T,A){var L=ru(T);return Bf(L,da(A,0,L.length))}function Bo(T,A,L,V){if(!an(T))return T;for(var Z=-1,le=(A=hs(A,T)).length,be=le-1,Oe=T;Oe!=null&&++Z<le;){var Ie=Ho(A[Z]),qe=L;if(Ie==="__proto__"||Ie==="constructor"||Ie==="prototype")return T;if(Z!=be){var Ve=Oe[Ie];(qe=V?V(Ve,Ie,Oe):i)===i&&(qe=an(Ve)?Ve:Wo(A[Z+1])?[]:{})}_o(Oe,Ie,qe),Oe=Oe[Ie]}return T}var uy=jo?function(T,A){return jo.set(T,A),T}:Ui,c_=Ef?function(T,A){return Ef(T,"toString",{configurable:!0,enumerable:!1,value:eh(A),writable:!0})}:Ui;function f_(T){return Bf(ru(T))}function wo(T,A,L){var V=-1,Z=T.length;A<0&&(A=-A>Z?0:Z+A),(L=L>Z?Z:L)<0&&(L+=Z),Z=A>L?0:L-A>>>0,A>>>=0;for(var le=ft(Z);++V<Z;)le[V]=T[V+A];return le}function h_(T,A){var L;return ls(T,function(V,Z,le){return!(L=A(V,Z,le))}),!!L}function Eo(T,A,L){var V=0,Z=T==null?V:T.length;if(typeof A=="number"&&A==A&&Z<=2147483647){for(;V<Z;){var le=V+Z>>>1,be=T[le];be!==null&&!ci(be)&&(L?be<=A:be<A)?V=le+1:Z=le}return Z}return Md(T,A,Ui,L)}function Md(T,A,L,V){var Z=0,le=T==null?0:T.length;if(le===0)return 0;for(var be=(A=L(A))!=A,Oe=A===null,Ie=ci(A),qe=A===i;Z<le;){var Ve=Ma((Z+le)/2),$e=L(T[Ve]),vt=$e!==i,mt=$e===null,At=$e==$e,Ye=ci($e);if(be)var et=V||At;else et=qe?At&&(V||vt):Oe?At&&vt&&(V||!mt):Ie?At&&vt&&!mt&&(V||!Ye):!mt&&!Ye&&(V?$e<=A:$e<A);et?Z=Ve+1:le=Ve}return si(le,4294967294)}function ly(T,A){for(var L=-1,V=T.length,Z=0,le=[];++L<V;){var be=T[L],Oe=A?A(be):be;if(!L||!So(Oe,Ie)){var Ie=Oe;le[Z++]=be===0?0:be}}return le}function cy(T){return typeof T=="number"?T:ci(T)?h:+T}function Xi(T){if(typeof T=="string")return T;if(Ht(T))return Hr(T,Xi)+"";if(ci(T))return Tf?Tf.call(T):"";var A=T+"";return A=="0"&&1/T==-1/0?"-0":A}function fs(T,A,L){var V=-1,Z=zs,le=T.length,be=!0,Oe=[],Ie=Oe;if(L)be=!1,Z=Au;else if(le>=200){var qe=A?null:_y(T);if(qe)return Yn(qe);be=!1,Z=qs,Ie=new Ws}else Ie=A?[]:Oe;e:for(;++V<le;){var Ve=T[V],$e=A?A(Ve):Ve;if(Ve=L||Ve!==0?Ve:0,be&&$e==$e){for(var vt=Ie.length;vt--;)if(Ie[vt]===$e)continue e;A&&Ie.push($e),Oe.push(Ve)}else Z(Ie,$e,L)||(Ie!==Oe&&Ie.push($e),Oe.push(Ve))}return Oe}function Fo(T,A){var L=-1,V=(A=hs(A,T)).length;if(!V)return!0;for(var Z=T==null||typeof T!="object"&&typeof T!="function";++L<V;){var le=A[L];if(typeof le=="string"){if(le==="__proto__"&&!Or.call(T,"__proto__"))return!1;if(le==="constructor"&&L+1<V&&typeof A[L+1]=="string"&&A[L+1]==="prototype"){if(Z&&L===0)continue;return!1}}}var be=Xd(T,A);return be==null||delete be[Ho(wi(A))]}function fy(T,A,L,V){return Bo(T,A,L(gn(T,A)),V)}function Af(T,A,L,V){for(var Z=T.length,le=V?Z:-1;(V?le--:++le<Z)&&A(T[le],le,T););return L?wo(T,V?0:le,V?le+1:Z):wo(T,V?le+1:0,V?Z:le)}function hy(T,A){var L=T;return L instanceof tr&&(L=L.value()),Wl(A,function(V,Z){return Z.func.apply(Z.thisArg,sa([V],Z.args))},L)}function kd(T,A,L){var V=T.length;if(V<2)return V?fs(T[0]):[];for(var Z=-1,le=ft(V);++Z<V;)for(var be=T[Z],Oe=-1;++Oe<V;)Oe!=Z&&(le[Z]=us(le[Z]||be,T[Oe],A,L));return fs(Ln(le,1),A,L)}function dy(T,A,L){for(var V=-1,Z=T.length,le=A.length,be={};++V<Z;){var Oe=V<le?A[V]:i;L(be,T[V],Oe)}return be}function Na(T){return yn(T)?T:[]}function Nd(T){return typeof T=="function"?T:Ui}function hs(T,A){return Ht(T)?T:Hd(T,A)?[T]:Uf(Nr(T))}var Uo=or;function ds(T,A,L){var V=T.length;return L=L===i?V:L,!A&&L>=V?T:wo(T,A,L)}var vy=Qb||function(T){return en.clearTimeout(T)};function py(T,A){if(A)return T.slice();var L=T.length,V=_f?_f(L):new T.constructor(L);return T.copy(V),V}function Ld(T){var A=new T.constructor(T.byteLength);return new Nu(A).set(new Nu(T)),A}function gy(T,A){var L=A?Ld(T.buffer):T.buffer;return new T.constructor(L,T.byteOffset,T.length)}function jd(T,A){if(T!==A){var L=T!==i,V=T===null,Z=T==T,le=ci(T),be=A!==i,Oe=A===null,Ie=A==A,qe=ci(A);if(!Oe&&!qe&&!le&&T>A||le&&be&&Ie&&!Oe&&!qe||V&&be&&Ie||!L&&Ie||!Z)return 1;if(!V&&!le&&!qe&&T<A||qe&&L&&Z&&!V&&!le||Oe&&L&&Z||!be&&Z||!Ie)return-1}return 0}function Bd(T,A,L,V){for(var Z=-1,le=T.length,be=L.length,Oe=-1,Ie=A.length,qe=dn(le-be,0),Ve=ft(Ie+qe),$e=!V;++Oe<Ie;)Ve[Oe]=A[Oe];for(;++Z<be;)($e||Z<le)&&(Ve[L[Z]]=T[Z]);for(;qe--;)Ve[Oe++]=T[Z++];return Ve}function yy(T,A,L,V){for(var Z=-1,le=T.length,be=-1,Oe=L.length,Ie=-1,qe=A.length,Ve=dn(le-Oe,0),$e=ft(Ve+qe),vt=!V;++Z<Ve;)$e[Z]=T[Z];for(var mt=Z;++Ie<qe;)$e[mt+Ie]=A[Ie];for(;++be<Oe;)(vt||Z<le)&&($e[mt+L[be]]=T[Z++]);return $e}function Li(T,A){var L=-1,V=T.length;for(A||(A=ft(V));++L<V;)A[L]=T[L];return A}function xo(T,A,L,V){var Z=!L;L||(L={});for(var le=-1,be=A.length;++le<be;){var Oe=A[le],Ie=V?V(L[Oe],T[Oe],Oe,L,T):i;Ie===i&&(Ie=T[Oe]),Z?ha(L,Oe,Ie):_o(L,Oe,Ie)}return L}function vs(T,A){return function(L,V){var Z=Ht(L)?rs:ry,le=A?A():{};return Z(L,T,It(V,2),le)}}function La(T){return or(function(A,L){var V=-1,Z=L.length,le=Z>1?L[Z-1]:i,be=Z>2?L[2]:i;for(le=T.length>3&&typeof le=="function"?(Z--,le):i,be&&li(L[0],L[1],be)&&(le=Z<3?i:le,Z=1),A=Bt(A);++V<Z;){var Oe=L[V];Oe&&T(A,Oe,V,le)}return A})}function my(T,A){return function(L,V){if(L==null)return L;if(!$n(L))return T(L,V);for(var Z=L.length,le=A?Z:-1,be=Bt(L);(A?le--:++le<Z)&&V(be[le],le,be)!==!1;);return L}}function Fd(T){return function(A,L,V){for(var Z=-1,le=Bt(A),be=V(A),Oe=be.length;Oe--;){var Ie=be[T?Oe:++Z];if(L(le[Ie],Ie,le)===!1)break}return A}}function by(T){return function(A){var L=ua(A=Nr(A))?Nn(A):i,V=L?L[0]:A.charAt(0),Z=L?ds(L,1).join(""):A.slice(1);return V[T]()+Z}}function ji(T){return function(A){return Wl(Ko(Zf(A).replace(Sn,"")),T,"")}}function eu(T){return function(){var A=arguments;switch(A.length){case 0:return new T;case 1:return new T(A[0]);case 2:return new T(A[0],A[1]);case 3:return new T(A[0],A[1],A[2]);case 4:return new T(A[0],A[1],A[2],A[3]);case 5:return new T(A[0],A[1],A[2],A[3],A[4]);case 6:return new T(A[0],A[1],A[2],A[3],A[4],A[5]);case 7:return new T(A[0],A[1],A[2],A[3],A[4],A[5],A[6])}var L=Xn(T.prototype),V=T.apply(L,A);return an(V)?V:L}}function ps(T){return function(A,L,V){var Z=Bt(A);if(!$n(A)){var le=It(L,3);A=zn(A),L=function(Oe){return le(Z[Oe],Oe,Z)}}var be=T(A,L,V);return be>-1?Z[le?A[be]:be]:i}}function Ki(T){return _i(function(A){var L=A.length,V=L,Z=yo.prototype.thru;for(T&&A.reverse();V--;){var le=A[V];if(typeof le!="function")throw new go(o);if(Z&&!be&&Mf(le)=="wrapper")var be=new yo([],!0)}for(V=be?V:L;++V<L;){var Oe=Mf(le=A[V]),Ie=Oe=="wrapper"?fc(le):i;be=Ie&&Yd(Ie[0])&&Ie[1]==424&&!Ie[4].length&&Ie[9]==1?be[Mf(Ie[0])].apply(be,Ie[3]):le.length==1&&Yd(le)?be[Oe]():be.thru(le)}return function(){var qe=arguments,Ve=qe[0];if(be&&qe.length==1&&Ht(Ve))return be.plant(Ve).value();for(var $e=0,vt=L?A[$e].apply(this,qe):Ve;++$e<L;)vt=A[$e].call(this,vt);return vt}})}function Rf(T,A,L,V,Z,le,be,Oe,Ie,qe){var Ve=A&l,$e=1&A,vt=2&A,mt=24&A,At=512&A,Ye=vt?i:eu(T);return function et(){for(var Ot=arguments.length,ct=ft(Ot),Vt=Ot;Vt--;)ct[Vt]=arguments[Vt];if(mt)var qt=Gu(et),Cr=function(wn,Oi){for(var $r=wn.length,fi=0;$r--;)wn[$r]===Oi&&++fi;return fi}(ct,qt);if(V&&(ct=Bd(ct,V,Z,mt)),le&&(ct=yy(ct,le,be,mt)),Ot-=Cr,mt&&Ot<qe){var _t=ho(ct,qt);return lc(T,A,Rf,et.placeholder,L,ct,_t,Oe,Ie,qe-Ot)}var Mt=$e?L:this,jn=vt?Mt[T]:T;return Ot=ct.length,Oe?ct=function(wn,Oi){for(var $r=wn.length,fi=si(Oi.length,$r),ma=Li(wn);fi--;){var ba=Oi[fi];wn[fi]=Wo(ba,$r)?ma[ba]:i}return wn}(ct,Oe):At&&Ot>1&&ct.reverse(),Ve&&Ie<Ot&&(ct.length=Ie),this&&this!==en&&this instanceof et&&(jn=Ye||eu(jn)),jn.apply(Mt,ct)}}function Ud(T,A){return function(L,V){return function(Z,le,be,Oe){return va(Z,function(Ie,qe,Ve){le(Oe,be(Ie),qe,Ve)}),Oe}(L,T,A(V),{})}}function uc(T,A){return function(L,V){var Z;if(L===i&&V===i)return A;if(L!==i&&(Z=L),V!==i){if(Z===i)return V;typeof L=="string"||typeof V=="string"?(L=Xi(L),V=Xi(V)):(L=cy(L),V=cy(V)),Z=T(L,V)}return Z}}function tu(T){return _i(function(A){return A=Hr(A,mi(It())),or(function(L){var V=this;return T(A,function(Z){return Hn(Z,V,L)})})})}function zo(T,A){var L=(A=A===i?" ":Xi(A)).length;if(L<2)return L?lr(A,T):A;var V=lr(A,xf(T/Da(A)));return ua(A)?ds(Nn(V),0,T).join(""):V.slice(0,T)}function zd(T){return function(A,L,V){return V&&typeof V!="number"&&li(A,L,V)&&(L=V=i),A=xi(A),L===i?(L=A,A=0):L=xi(L),function(Z,le,be,Oe){for(var Ie=-1,qe=dn(xf((le-Z)/(be||1)),0),Ve=ft(qe);qe--;)Ve[Oe?qe:++Ie]=Z,Z+=be;return Ve}(A,L,V=V===i?A<L?1:-1:xi(V),T)}}function If(T){return function(A,L){return typeof A=="string"&&typeof L=="string"||(A=Zi(A),L=Zi(L)),T(A,L)}}function lc(T,A,L,V,Z,le,be,Oe,Ie,qe){var Ve=8&A;A|=Ve?s:64,4&(A&=~(Ve?64:s))||(A&=-4);var $e=[T,A,Z,Ve?le:i,Ve?be:i,Ve?i:le,Ve?i:be,Oe,Ie,qe],vt=L.apply(i,$e);return Yd(T)&&Kd(vt,$e),vt.placeholder=V,Zd(vt,T,A)}function qd(T){var A=po[T];return function(L,V){if(L=Zi(L),(V=V==null?0:si(rr(V),292))&&Of(L)){var Z=(Nr(L)+"e").split("e");return+((Z=(Nr(A(Z[0]+"e"+(+Z[1]+V)))+"e").split("e"))[0]+"e"+(+Z[1]-V))}return A(L)}}var _y=Fu&&1/Yn(new Fu([,-0]))[1]==c?function(T){return new Fu(T)}:xv;function Un(T){return function(A){var L=ui(A);return L==O?No(A):L==R?mf(A):function(V,Z){return Hr(Z,function(le){return[le,V[le]]})}(A,T(A))}}function qo(T,A,L,V,Z,le,be,Oe){var Ie=2&A;if(!Ie&&typeof T!="function")throw new go(o);var qe=V?V.length:0;if(qe||(A&=-97,V=Z=i),be=be===i?be:dn(rr(be),0),Oe=Oe===i?Oe:rr(Oe),qe-=Z?Z.length:0,64&A){var Ve=V,$e=Z;V=Z=i}var vt=Ie?i:fc(T),mt=[T,A,L,V,Z,Ve,$e,le,be,Oe];if(vt&&function(Ye,et){var Ot=Ye[1],ct=et[1],Vt=Ot|ct,qt=Vt<131,Cr=ct==l&&Ot==8||ct==l&&Ot==256&&Ye[7].length<=et[8]||ct==384&&et[7].length<=et[8]&&Ot==8;if(!qt&&!Cr)return Ye;1&ct&&(Ye[2]=et[2],Vt|=1&Ot?0:4);var _t=et[3];if(_t){var Mt=Ye[3];Ye[3]=Mt?Bd(Mt,_t,et[4]):_t,Ye[4]=Mt?ho(Ye[3],u):et[4]}(_t=et[5])&&(Mt=Ye[5],Ye[5]=Mt?yy(Mt,_t,et[6]):_t,Ye[6]=Mt?ho(Ye[5],u):et[6]),(_t=et[7])&&(Ye[7]=_t),ct&l&&(Ye[8]=Ye[8]==null?et[8]:si(Ye[8],et[8])),Ye[9]==null&&(Ye[9]=et[9]),Ye[0]=et[0],Ye[1]=Vt}(mt,vt),T=mt[0],A=mt[1],L=mt[2],V=mt[3],Z=mt[4],!(Oe=mt[9]=mt[9]===i?Ie?0:T.length:dn(mt[9]-qe,0))&&24&A&&(A&=-25),A&&A!=1)At=A==8||A==16?function(Ye,et,Ot){var ct=eu(Ye);return function Vt(){for(var qt=arguments.length,Cr=ft(qt),_t=qt,Mt=Gu(Vt);_t--;)Cr[_t]=arguments[_t];var jn=qt<3&&Cr[0]!==Mt&&Cr[qt-1]!==Mt?[]:ho(Cr,Mt);return(qt-=jn.length)<Ot?lc(Ye,et,Rf,Vt.placeholder,i,Cr,jn,i,i,Ot-qt):Hn(this&&this!==en&&this instanceof Vt?ct:Ye,this,Cr)}}(T,A,Oe):A!=s&&A!=33||Z.length?Rf.apply(i,mt):function(Ye,et,Ot,ct){var Vt=1&et,qt=eu(Ye);return function Cr(){for(var _t=-1,Mt=arguments.length,jn=-1,wn=ct.length,Oi=ft(wn+Mt),$r=this&&this!==en&&this instanceof Cr?qt:Ye;++jn<wn;)Oi[jn]=ct[jn];for(;Mt--;)Oi[jn++]=arguments[++_t];return Hn($r,Vt?Ot:this,Oi)}}(T,A,L,V);else var At=function(Ye,et,Ot){var ct=1&et,Vt=eu(Ye);return function qt(){return(this&&this!==en&&this instanceof qt?Vt:Ye).apply(ct?Ot:this,arguments)}}(T,A,L);return Zd((vt?uy:Kd)(At,mt),T,A)}function Gd(T,A,L,V){return T===i||So(T,Mu[L])&&!Or.call(V,L)?A:T}function Go(T,A,L,V,Z,le){return an(T)&&an(A)&&(le.set(A,T),Js(T,A,i,Go,le),le.delete(A)),T}function Vd(T){return $i(T)?i:T}function cc(T,A,L,V,Z,le){var be=1&L,Oe=T.length,Ie=A.length;if(Oe!=Ie&&!(be&&Ie>Oe))return!1;var qe=le.get(T),Ve=le.get(A);if(qe&&Ve)return qe==A&&Ve==T;var $e=-1,vt=!0,mt=2&L?new Ws:i;for(le.set(T,A),le.set(A,T);++$e<Oe;){var At=T[$e],Ye=A[$e];if(V)var et=be?V(Ye,At,$e,A,T,le):V(At,Ye,$e,T,A,le);if(et!==i){if(et)continue;vt=!1;break}if(mt){if(!Ru(A,function(Ot,ct){if(!qs(mt,ct)&&(At===Ot||Z(At,Ot,L,V,le)))return mt.push(ct)})){vt=!1;break}}else if(At!==Ye&&!Z(At,Ye,L,V,le)){vt=!1;break}}return le.delete(T),le.delete(A),vt}function _i(T){return $d(Lf(T,i,tv),T+"")}function Df(T){return iy(T,zn,kf)}function Kn(T){return iy(T,Fi,wy)}var fc=jo?function(T){return jo.get(T)}:xv;function Mf(T){for(var A=T.name+"",L=Te[A],V=Or.call(Te,A)?L.length:0;V--;){var Z=L[V],le=Z.func;if(le==null||le==T)return Z.name}return A}function Gu(T){return(Or.call(ne,"placeholder")?ne:T).placeholder}function It(){var T=ne.iteratee||wv;return T=T===wv?Qs:T,arguments.length?T(arguments[0],arguments[1]):T}function Vu(T,A){var L,V,Z=T.__data__;return((V=typeof(L=A))=="string"||V=="number"||V=="symbol"||V=="boolean"?L!=="__proto__":L===null)?Z[typeof A=="string"?"string":"hash"]:Z.map}function Wd(T){for(var A=zn(T),L=A.length;L--;){var V=A[L],Z=T[V];A[L]=[V,Z,Nf(Z)]}return A}function Vo(T,A){var L=function(V,Z){return V==null?i:V[Z]}(T,A);return ac(L)?L:i}var kf=Od?function(T){return T==null?[]:(T=Bt(T),ko(Od(T),function(A){return ki.call(T,A)}))}:Sv,wy=Od?function(T){for(var A=[];T;)sa(A,kf(T)),T=wf(T);return A}:Sv,ui=bi;function Wu(T,A,L){for(var V=-1,Z=(A=hs(A,T)).length,le=!1;++V<Z;){var be=Ho(A[V]);if(!(le=T!=null&&L(T,be)))break;T=T[be]}return le||++V!=Z?le:!!(Z=T==null?0:T.length)&&pc(Z)&&Wo(be,Z)&&(Ht(T)||ga(T))}function Ey(T){return typeof T.constructor!="function"||Hu(T)?{}:Xn(wf(T))}function d_(T){return Ht(T)||ga(T)||!!(ju&&T&&T[ju])}function Wo(T,A){var L=typeof T;return!!(A=A??f)&&(L=="number"||L!="symbol"&&De.test(T))&&T>-1&&T%1==0&&T<A}function li(T,A,L){if(!an(L))return!1;var V=typeof A;return!!(V=="number"?$n(L)&&Wo(A,L.length):V=="string"&&A in L)&&So(L[A],T)}function Hd(T,A){if(Ht(T))return!1;var L=typeof T;return!(L!="number"&&L!="symbol"&&L!="boolean"&&T!=null&&!ci(T))||xe.test(T)||!Ae.test(T)||A!=null&&T in Bt(A)}function Yd(T){var A=Mf(T),L=ne[A];if(typeof L!="function"||!(A in tr.prototype))return!1;if(T===L)return!0;var V=fc(L);return!!V&&T===V[0]}(Sf&&ui(new Sf(new ArrayBuffer(1)))!=z||ec&&ui(new ec)!=O||Sd&&ui(Sd.resolve())!=P||Fu&&ui(new Fu)!=R||tc&&ui(new tc)!=N)&&(ui=function(T){var A=bi(T),L=A==S?T.constructor:i,V=L?ja(L):"";if(V)switch(V){case Fe:return z;case Le:return O;case pt:return P;case Gt:return R;case Ar:return N}return A});var v_=bf?Zn:Tv;function Hu(T){var A=T&&T.constructor;return T===(typeof A=="function"&&A.prototype||Mu)}function Nf(T){return T==T&&!an(T)}function xy(T,A){return function(L){return L!=null&&L[T]===A&&(A!==i||T in Bt(L))}}function Lf(T,A,L){return A=dn(A===i?T.length-1:A,0),function(){for(var V=arguments,Z=-1,le=dn(V.length-A,0),be=ft(le);++Z<le;)be[Z]=V[A+Z];Z=-1;for(var Oe=ft(A+1);++Z<A;)Oe[Z]=V[Z];return Oe[A]=L(be),Hn(T,this,Oe)}}function Xd(T,A){return A.length<2?T:gn(T,wo(A,0,-1))}function jf(T,A){if((A!=="constructor"||typeof T[A]!="function")&&A!="__proto__")return T[A]}var Kd=Qd(uy),gs=e_||function(T,A){return en.setTimeout(T,A)},$d=Qd(c_);function Zd(T,A,L){var V=A+"";return $d(T,function(Z,le){var be=le.length;if(!be)return Z;var Oe=be-1;return le[Oe]=(be>1?"& ":"")+le[Oe],le=le.join(be>2?", ":" "),Z.replace(ye,`{
/* [wrapped with `+le+`] */
`)}(V,function(Z,le){return yi(d,function(be){var Oe="_."+be[0];le&be[1]&&!zs(Z,Oe)&&Z.push(Oe)}),Z.sort()}(function(Z){var le=Z.match(we);return le?le[1].split(je):[]}(V),L)))}function Qd(T){var A=0,L=0;return function(){var V=r_(),Z=16-(V-L);if(L=V,Z>0){if(++A>=800)return arguments[0]}else A=0;return T.apply(i,arguments)}}function Bf(T,A){var L=-1,V=T.length,Z=V-1;for(A=A===i?V:A;++L<A;){var le=Ni(L,Z),be=T[le];T[le]=T[L],T[L]=be}return T.length=A,T}var Ff,Jd,Uf=(Ff=Fa(function(T){var A=[];return T.charCodeAt(0)===46&&A.push(""),T.replace(j,function(L,V,Z,le){A.push(Z?le.replace(Ze,"$1"):V||L)}),A},function(T){return Jd.size===500&&Jd.clear(),T}),Jd=Ff.cache,Ff);function Ho(T){if(typeof T=="string"||ci(T))return T;var A=T+"";return A=="0"&&1/T==-1/0?"-0":A}function ja(T){if(T!=null){try{return Zl.call(T)}catch{}try{return T+""}catch{}}return""}function Oy(T){if(T instanceof tr)return T.clone();var A=new yo(T.__wrapped__,T.__chain__);return A.__actions__=Li(T.__actions__),A.__index__=T.__index__,A.__values__=T.__values__,A}var ev=or(function(T,A){return yn(T)?us(T,Ln(A,1,yn,!0)):[]}),ar=or(function(T,A){var L=wi(A);return yn(L)&&(L=i),yn(T)?us(T,Ln(A,1,yn,!0),It(L,2)):[]}),p_=or(function(T,A){var L=wi(A);return yn(L)&&(L=i),yn(T)?us(T,Ln(A,1,yn,!0),i,L):[]});function Sy(T,A,L){var V=T==null?0:T.length;if(!V)return-1;var Z=L==null?0:rr(L);return Z<0&&(Z=dn(V+Z,0)),Iu(T,It(A,3),Z)}function Yu(T,A,L){var V=T==null?0:T.length;if(!V)return-1;var Z=V-1;return L!==i&&(Z=rr(L),Z=L<0?dn(V+Z,0):si(Z,V-1)),Iu(T,It(A,3),Z,!0)}function tv(T){return T!=null&&T.length?Ln(T,1):[]}function Ty(T){return T&&T.length?T[0]:i}var g_=or(function(T){var A=Hr(T,Na);return A.length&&A[0]===T[0]?Xs(A):[]}),Oo=or(function(T){var A=wi(T),L=Hr(T,Na);return A===wi(L)?A=i:L.pop(),L.length&&L[0]===T[0]?Xs(L,It(A,2)):[]}),y_=or(function(T){var A=wi(T),L=Hr(T,Na);return(A=typeof A=="function"?A:i)&&L.pop(),L.length&&L[0]===T[0]?Xs(L,i,A):[]});function wi(T){var A=T==null?0:T.length;return A?T[A-1]:i}var rv=or(nv);function nv(T,A){return T&&T.length&&A&&A.length?cs(T,A):T}var Cy=_i(function(T,A){var L=T==null?0:T.length,V=Cf(T,A);return sc(T,Hr(A,function(Z){return Wo(Z,L)?+Z:Z}).sort(jd)),V});function Ei(T){return T==null?T:Lo.call(T)}var ys=or(function(T){return fs(Ln(T,1,yn,!0))}),iv=or(function(T){var A=wi(T);return yn(A)&&(A=i),fs(Ln(T,1,yn,!0),It(A,2))}),Py=or(function(T){var A=wi(T);return A=typeof A=="function"?A:i,fs(Ln(T,1,yn,!0),i,A)});function Xu(T){if(!T||!T.length)return[];var A=0;return T=ko(T,function(L){if(yn(L))return A=dn(L.length,A),!0}),kr(A,function(L){return Hr(T,Yl(L))})}function ov(T,A){if(!T||!T.length)return[];var L=Xu(T);return A==null?L:Hr(L,function(V){return Hn(A,i,V)})}var av=or(function(T,A){return yn(T)?us(T,A):[]}),Ay=or(function(T){return kd(ko(T,yn))}),sv=or(function(T){var A=wi(T);return yn(A)&&(A=i),kd(ko(T,yn),It(A,2))}),uv=or(function(T){var A=wi(T);return A=typeof A=="function"?A:i,kd(ko(T,yn),i,A)}),ms=or(Xu),m_=or(function(T){var A=T.length,L=A>1?T[A-1]:i;return L=typeof L=="function"?(T.pop(),L):i,ov(T,L)});function Ba(T){var A=ne(T);return A.__chain__=!0,A}function hc(T,A){return A(T)}var Ry=_i(function(T){var A=T.length,L=A?T[0]:0,V=this.__wrapped__,Z=function(le){return Cf(le,T)};return!(A>1||this.__actions__.length)&&V instanceof tr&&Wo(L)?((V=V.slice(L,+L+(A?1:0))).__actions__.push({func:hc,args:[Z],thisArg:i}),new yo(V,this.__chain__).thru(function(le){return A&&!le.length&&le.push(i),le})):this.thru(Z)}),lv=vs(function(T,A,L){Or.call(T,L)?++T[L]:ha(T,L,1)}),b_=ps(Sy),__=ps(Yu);function Iy(T,A){return(Ht(T)?yi:ls)(T,It(A,3))}function cv(T,A){return(Ht(T)?uf:ny)(T,It(A,3))}var Dy=vs(function(T,A,L){Or.call(T,L)?T[L].push(A):ha(T,L,[A])}),w_=or(function(T,A,L){var V=-1,Z=typeof A=="function",le=$n(T)?ft(T.length):[];return ls(T,function(be){le[++V]=Z?Hn(A,be,L):Ks(be,A,L)}),le}),My=vs(function(T,A,L){ha(T,L,A)});function dc(T,A){return(Ht(T)?Hr:oy)(T,It(A,3))}var Bi=vs(function(T,A,L){T[L?0:1].push(A)},function(){return[[],[]]}),pa=or(function(T,A){if(T==null)return[];var L=A.length;return L>1&&li(T,A[0],A[1])?A=[]:L>2&&li(A[0],A[1],A[2])&&(A=[A[0]]),Dd(T,Ln(A,1),[])}),zf=Jb||function(){return en.Date.now()};function ky(T,A,L){return A=L?i:A,A=T&&A==null?T.length:A,qo(T,l,i,i,i,i,A)}function vc(T,A){var L;if(typeof A!="function")throw new go(o);return T=rr(T),function(){return--T>0&&(L=A.apply(this,arguments)),T<=1&&(A=i),L}}var bs=or(function(T,A,L){var V=1;if(L.length){var Z=ho(L,Gu(bs));V|=s}return qo(T,V,A,L,Z)}),fv=or(function(T,A,L){var V=3;if(L.length){var Z=ho(L,Gu(fv));V|=s}return qo(A,V,T,L,Z)});function hv(T,A,L){var V,Z,le,be,Oe,Ie,qe=0,Ve=!1,$e=!1,vt=!0;if(typeof T!="function")throw new go(o);function mt(ct){var Vt=V,qt=Z;return V=Z=i,qe=ct,be=T.apply(qt,Vt)}function At(ct){var Vt=ct-Ie;return Ie===i||Vt>=A||Vt<0||$e&&ct-qe>=le}function Ye(){var ct=zf();if(At(ct))return et(ct);Oe=gs(Ye,function(Vt){var qt=A-(Vt-Ie);return $e?si(qt,le-(Vt-qe)):qt}(ct))}function et(ct){return Oe=i,vt&&V?mt(ct):(V=Z=i,be)}function Ot(){var ct=zf(),Vt=At(ct);if(V=arguments,Z=this,Ie=ct,Vt){if(Oe===i)return function(qt){return qe=qt,Oe=gs(Ye,A),Ve?mt(qt):be}(Ie);if($e)return vy(Oe),Oe=gs(Ye,A),mt(Ie)}return Oe===i&&(Oe=gs(Ye,A)),be}return A=Zi(A)||0,an(L)&&(Ve=!!L.leading,le=($e="maxWait"in L)?dn(Zi(L.maxWait)||0,A):le,vt="trailing"in L?!!L.trailing:vt),Ot.cancel=function(){Oe!==i&&vy(Oe),qe=0,V=Ie=Z=Oe=i},Ot.flush=function(){return Oe===i?be:et(zf())},Ot}var E_=or(function(T,A){return ss(T,1,A)}),Ny=or(function(T,A,L){return ss(T,Zi(A)||0,L)});function Fa(T,A){if(typeof T!="function"||A!=null&&typeof A!="function")throw new go(o);var L=function(){var V=arguments,Z=A?A.apply(this,V):V[0],le=L.cache;if(le.has(Z))return le.get(Z);var be=T.apply(this,V);return L.cache=le.set(Z,be)||le,be};return L.cache=new(Fa.Cache||ur),L}function _s(T){if(typeof T!="function")throw new go(o);return function(){var A=arguments;switch(A.length){case 0:return!T.call(this);case 1:return!T.call(this,A[0]);case 2:return!T.call(this,A[0],A[1]);case 3:return!T.call(this,A[0],A[1],A[2])}return!T.apply(this,A)}}Fa.Cache=ur;var x_=Uo(function(T,A){var L=(A=A.length==1&&Ht(A[0])?Hr(A[0],mi(It())):Hr(Ln(A,1),mi(It()))).length;return or(function(V){for(var Z=-1,le=si(V.length,L);++Z<le;)V[Z]=A[Z].call(this,V[Z]);return Hn(T,this,V)})}),qf=or(function(T,A){var L=ho(A,Gu(qf));return qo(T,s,i,A,L)}),dv=or(function(T,A){var L=ho(A,Gu(dv));return qo(T,64,i,A,L)}),Gf=_i(function(T,A){return qo(T,256,i,i,i,A)});function So(T,A){return T===A||T!=T&&A!=A}var Vf=If(Pf),vv=If(function(T,A){return T>=A}),ga=$s(function(){return arguments}())?$s:function(T){return sn(T)&&Or.call(T,"callee")&&!ki.call(T,"callee")},Ht=ft.isArray,Ly=ql?mi(ql):function(T){return sn(T)&&bi(T)==B};function $n(T){return T!=null&&pc(T.length)&&!Zn(T)}function yn(T){return sn(T)&&$n(T)}var ya=t_||Tv,O_=Gl?mi(Gl):function(T){return sn(T)&&bi(T)==b};function Wf(T){if(!sn(T))return!1;var A=bi(T);return A==m||A=="[object DOMException]"||typeof T.message=="string"&&typeof T.name=="string"&&!$i(T)}function Zn(T){if(!an(T))return!1;var A=bi(T);return A==_||A==w||A=="[object AsyncFunction]"||A=="[object Proxy]"}function pv(T){return typeof T=="number"&&T==rr(T)}function pc(T){return typeof T=="number"&&T>-1&&T%1==0&&T<=f}function an(T){var A=typeof T;return T!=null&&(A=="object"||A=="function")}function sn(T){return T!=null&&typeof T=="object"}var jy=Cu?mi(Cu):function(T){return sn(T)&&ui(T)==O};function By(T){return typeof T=="number"||sn(T)&&bi(T)==E}function $i(T){if(!sn(T)||bi(T)!=S)return!1;var A=wf(T);if(A===null)return!0;var L=Or.call(A,"constructor")&&A.constructor;return typeof L=="function"&&L instanceof L&&Zl.call(L)==Jg}var gc=sf?mi(sf):function(T){return sn(T)&&bi(T)==I},Hf=Vl?mi(Vl):function(T){return sn(T)&&ui(T)==R};function Ku(T){return typeof T=="string"||!Ht(T)&&sn(T)&&bi(T)==D}function ci(T){return typeof T=="symbol"||sn(T)&&bi(T)==k}var Yo=Pu?mi(Pu):function(T){return sn(T)&&pc(T.length)&&!!pr[bi(T)]},Dt=If(Id),Yf=If(function(T,A){return T<=A});function Xf(T){if(!T)return[];if($n(T))return Ku(T)?Nn(T):Li(T);if(Bu&&T[Bu])return function(L){for(var V,Z=[];!(V=L.next()).done;)Z.push(V.value);return Z}(T[Bu]());var A=ui(T);return(A==O?No:A==R?Yn:ru)(T)}function xi(T){return T?(T=Zi(T))===c||T===-1/0?17976931348623157e292*(T<0?-1:1):T==T?T:0:T===0?T:0}function rr(T){var A=xi(T),L=A%1;return A==A?L?A-L:A:0}function Kf(T){return T?da(rr(T),0,v):0}function Zi(T){if(typeof T=="number")return T;if(ci(T))return h;if(an(T)){var A=typeof T.valueOf=="function"?T.valueOf():T;T=an(A)?A+"":A}if(typeof T!="string")return T===0?T:+T;T=vf(T);var L=ke.test(T);return L||Se.test(T)?Tu(T.slice(2),L?2:8):Xe.test(T)?h:+T}function Qn(T){return xo(T,Fi(T))}function Nr(T){return T==null?"":Xi(T)}var S_=La(function(T,A){if(Hu(A)||$n(A))xo(A,zn(A),T);else for(var L in A)Or.call(A,L)&&_o(T,L,A[L])}),gv=La(function(T,A){xo(A,Fi(A),T)}),$f=La(function(T,A,L,V){xo(A,Fi(A),T,V)}),Fy=La(function(T,A,L,V){xo(A,zn(A),T,V)}),T_=_i(Cf),C_=or(function(T,A){T=Bt(T);var L=-1,V=A.length,Z=V>2?A[2]:i;for(Z&&li(A[0],A[1],Z)&&(V=1);++L<V;)for(var le=A[L],be=Fi(le),Oe=-1,Ie=be.length;++Oe<Ie;){var qe=be[Oe],Ve=T[qe];(Ve===i||So(Ve,Mu[qe])&&!Or.call(T,qe))&&(T[qe]=le[qe])}return T}),P_=or(function(T){return T.push(i,Go),Hn(bv,i,T)});function Xo(T,A,L){var V=T==null?i:gn(T,A);return V===i?L:V}function Jn(T,A){return T!=null&&Wu(T,A,Ad)}var yv=Ud(function(T,A,L){A!=null&&typeof A.toString!="function"&&(A=Ql.call(A)),T[A]=L},eh(Ui)),A_=Ud(function(T,A,L){A!=null&&typeof A.toString!="function"&&(A=Ql.call(A)),Or.call(T,A)?T[A].push(L):T[A]=[L]},It),mv=or(Ks);function zn(T){return $n(T)?nc(T):Rd(T)}function Fi(T){return $n(T)?nc(T,!0):function(A){if(!an(A))return function(le){var be=[];if(le!=null)for(var Oe in Bt(le))be.push(Oe);return be}(A);var L=Hu(A),V=[];for(var Z in A)(Z!="constructor"||!L&&Or.call(A,Z))&&V.push(Z);return V}(T)}var yc=La(function(T,A,L){Js(T,A,L)}),bv=La(function(T,A,L,V){Js(T,A,L,V)}),Uy=_i(function(T,A){var L={};if(T==null)return L;var V=!1;A=Hr(A,function(le){return le=hs(le,T),V||(V=le.length>1),le}),xo(T,Kn(T),L),V&&(L=Yi(L,7,Vd));for(var Z=A.length;Z--;)Fo(L,A[Z]);return L}),R_=_i(function(T,A){return T==null?{}:function(L,V){return re(L,V,function(Z,le){return Jn(L,le)})}(T,A)});function zy(T,A){if(T==null)return{};var L=Hr(Kn(T),function(V){return[V]});return A=It(A),re(T,L,function(V,Z){return A(V,Z[0])})}var qy=Un(zn),Gy=Un(Fi);function ru(T){return T==null?[]:Kl(T,zn(T))}var Vy=ji(function(T,A,L){return A=A.toLowerCase(),T+(L?Wy(A):A)});function Wy(T){return Jf(Nr(T).toLowerCase())}function Zf(T){return(T=Nr(T))&&T.replace(Me,yf).replace(ut,"")}var Hy=ji(function(T,A,L){return T+(L?"-":"")+A.toLowerCase()}),mc=ji(function(T,A,L){return T+(L?" ":"")+A.toLowerCase()}),_v=by("toLowerCase"),Yy=ji(function(T,A,L){return T+(L?"_":"")+A.toLowerCase()}),Xy=ji(function(T,A,L){return T+(L?" ":"")+Jf(A)}),Qf=ji(function(T,A,L){return T+(L?" ":"")+A.toUpperCase()}),Jf=by("toUpperCase");function Ko(T,A,L){return T=Nr(T),(A=L?i:A)===i?function(V){return fo.test(V)}(T)?function(V){return V.match(kn)||[]}(T):function(V){return V.match(ze)||[]}(T):T.match(A)||[]}var ws=or(function(T,A){try{return Hn(T,i,A)}catch(L){return Wf(L)?L:new er(L)}}),I_=_i(function(T,A){return yi(A,function(L){L=Ho(L),ha(T,L,bs(T[L],T))}),T});function eh(T){return function(){return T}}var D_=Ki(),M_=Ki(!0);function Ui(T){return T}function wv(T){return Qs(typeof T=="function"?T:Yi(T,1))}var k_=or(function(T,A){return function(L){return Ks(L,T,A)}}),N_=or(function(T,A){return function(L){return Ks(T,L,A)}});function Ev(T,A,L){var V=zn(A),Z=pn(A,V);L!=null||an(A)&&(Z.length||!V.length)||(L=A,A=T,T=this,Z=pn(A,zn(A)));var le=!(an(L)&&"chain"in L&&!L.chain),be=Zn(T);return yi(Z,function(Oe){var Ie=A[Oe];T[Oe]=Ie,be&&(T.prototype[Oe]=function(){var qe=this.__chain__;if(le||qe){var Ve=T(this.__wrapped__);return(Ve.__actions__=Li(this.__actions__)).push({func:Ie,args:arguments,thisArg:T}),Ve.__chain__=qe,Ve}return Ie.apply(T,sa([this.value()],arguments))})}),T}function xv(){}var L_=tu(Hr),j_=tu(lf),B_=tu(Ru);function Ov(T){return Hd(T)?Yl(Ho(T)):function(A){return function(L){return gn(L,A)}}(T)}var Ky=zd(),$y=zd(!0);function Sv(){return[]}function Tv(){return!1}var Cv,Zy=uc(function(T,A){return T+A},0),F_=qd("ceil"),U_=uc(function(T,A){return T/A},1),z_=qd("floor"),q_=uc(function(T,A){return T*A},1),G_=qd("round"),V_=uc(function(T,A){return T-A},0);return ne.after=function(T,A){if(typeof A!="function")throw new go(o);return T=rr(T),function(){if(--T<1)return A.apply(this,arguments)}},ne.ary=ky,ne.assign=S_,ne.assignIn=gv,ne.assignInWith=$f,ne.assignWith=Fy,ne.at=T_,ne.before=vc,ne.bind=bs,ne.bindAll=I_,ne.bindKey=fv,ne.castArray=function(){if(!arguments.length)return[];var T=arguments[0];return Ht(T)?T:[T]},ne.chain=Ba,ne.chunk=function(T,A,L){A=(L?li(T,A,L):A===i)?1:dn(rr(A),0);var V=T==null?0:T.length;if(!V||A<1)return[];for(var Z=0,le=0,be=ft(xf(V/A));Z<V;)be[le++]=wo(T,Z,Z+=A);return be},ne.compact=function(T){for(var A=-1,L=T==null?0:T.length,V=0,Z=[];++A<L;){var le=T[A];le&&(Z[V++]=le)}return Z},ne.concat=function(){var T=arguments.length;if(!T)return[];for(var A=ft(T-1),L=arguments[0],V=T;V--;)A[V-1]=arguments[V];return sa(Ht(L)?Li(L):[L],Ln(A,1))},ne.cond=function(T){var A=T==null?0:T.length,L=It();return T=A?Hr(T,function(V){if(typeof V[1]!="function")throw new go(o);return[L(V[0]),V[1]]}):[],or(function(V){for(var Z=-1;++Z<A;){var le=T[Z];if(Hn(le[0],this,V))return Hn(le[1],this,V)}})},ne.conforms=function(T){return function(A){var L=zn(A);return function(V){return zu(V,A,L)}}(Yi(T,1))},ne.constant=eh,ne.countBy=lv,ne.create=function(T,A){var L=Xn(T);return A==null?L:ic(L,A)},ne.curry=function T(A,L,V){var Z=qo(A,8,i,i,i,i,i,L=V?i:L);return Z.placeholder=T.placeholder,Z},ne.curryRight=function T(A,L,V){var Z=qo(A,16,i,i,i,i,i,L=V?i:L);return Z.placeholder=T.placeholder,Z},ne.debounce=hv,ne.defaults=C_,ne.defaultsDeep=P_,ne.defer=E_,ne.delay=Ny,ne.difference=ev,ne.differenceBy=ar,ne.differenceWith=p_,ne.drop=function(T,A,L){var V=T==null?0:T.length;return V?wo(T,(A=L||A===i?1:rr(A))<0?0:A,V):[]},ne.dropRight=function(T,A,L){var V=T==null?0:T.length;return V?wo(T,0,(A=V-(A=L||A===i?1:rr(A)))<0?0:A):[]},ne.dropRightWhile=function(T,A){return T&&T.length?Af(T,It(A,3),!0,!0):[]},ne.dropWhile=function(T,A){return T&&T.length?Af(T,It(A,3),!0):[]},ne.fill=function(T,A,L,V){var Z=T==null?0:T.length;return Z?(L&&typeof L!="number"&&li(T,A,L)&&(L=0,V=Z),function(le,be,Oe,Ie){var qe=le.length;for((Oe=rr(Oe))<0&&(Oe=-Oe>qe?0:qe+Oe),(Ie=Ie===i||Ie>qe?qe:rr(Ie))<0&&(Ie+=qe),Ie=Oe>Ie?0:Kf(Ie);Oe<Ie;)le[Oe++]=be;return le}(T,A,L,V)):[]},ne.filter=function(T,A){return(Ht(T)?ko:oc)(T,It(A,3))},ne.flatMap=function(T,A){return Ln(dc(T,A),1)},ne.flatMapDeep=function(T,A){return Ln(dc(T,A),c)},ne.flatMapDepth=function(T,A,L){return L=L===i?1:rr(L),Ln(dc(T,A),L)},ne.flatten=tv,ne.flattenDeep=function(T){return T!=null&&T.length?Ln(T,c):[]},ne.flattenDepth=function(T,A){return T!=null&&T.length?Ln(T,A=A===i?1:rr(A)):[]},ne.flip=function(T){return qo(T,512)},ne.flow=D_,ne.flowRight=M_,ne.fromPairs=function(T){for(var A=-1,L=T==null?0:T.length,V={};++A<L;){var Z=T[A];V[Z[0]]=Z[1]}return V},ne.functions=function(T){return T==null?[]:pn(T,zn(T))},ne.functionsIn=function(T){return T==null?[]:pn(T,Fi(T))},ne.groupBy=Dy,ne.initial=function(T){return T!=null&&T.length?wo(T,0,-1):[]},ne.intersection=g_,ne.intersectionBy=Oo,ne.intersectionWith=y_,ne.invert=yv,ne.invertBy=A_,ne.invokeMap=w_,ne.iteratee=wv,ne.keyBy=My,ne.keys=zn,ne.keysIn=Fi,ne.map=dc,ne.mapKeys=function(T,A){var L={};return A=It(A,3),va(T,function(V,Z,le){ha(L,A(V,Z,le),V)}),L},ne.mapValues=function(T,A){var L={};return A=It(A,3),va(T,function(V,Z,le){ha(L,Z,A(V,Z,le))}),L},ne.matches=function(T){return ay(Yi(T,1))},ne.matchesProperty=function(T,A){return sy(T,Yi(A,1))},ne.memoize=Fa,ne.merge=yc,ne.mergeWith=bv,ne.method=k_,ne.methodOf=N_,ne.mixin=Ev,ne.negate=_s,ne.nthArg=function(T){return T=rr(T),or(function(A){return qu(A,T)})},ne.omit=Uy,ne.omitBy=function(T,A){return zy(T,_s(It(A)))},ne.once=function(T){return vc(2,T)},ne.orderBy=function(T,A,L,V){return T==null?[]:(Ht(A)||(A=A==null?[]:[A]),Ht(L=V?i:L)||(L=L==null?[]:[L]),Dd(T,A,L))},ne.over=L_,ne.overArgs=x_,ne.overEvery=j_,ne.overSome=B_,ne.partial=qf,ne.partialRight=dv,ne.partition=Bi,ne.pick=R_,ne.pickBy=zy,ne.property=Ov,ne.propertyOf=function(T){return function(A){return T==null?i:gn(T,A)}},ne.pull=rv,ne.pullAll=nv,ne.pullAllBy=function(T,A,L){return T&&T.length&&A&&A.length?cs(T,A,It(L,2)):T},ne.pullAllWith=function(T,A,L){return T&&T.length&&A&&A.length?cs(T,A,i,L):T},ne.pullAt=Cy,ne.range=Ky,ne.rangeRight=$y,ne.rearg=Gf,ne.reject=function(T,A){return(Ht(T)?ko:oc)(T,_s(It(A,3)))},ne.remove=function(T,A){var L=[];if(!T||!T.length)return L;var V=-1,Z=[],le=T.length;for(A=It(A,3);++V<le;){var be=T[V];A(be,V,T)&&(L.push(be),Z.push(V))}return sc(T,Z),L},ne.rest=function(T,A){if(typeof T!="function")throw new go(o);return or(T,A=A===i?A:rr(A))},ne.reverse=Ei,ne.sampleSize=function(T,A,L){return A=(L?li(T,A,L):A===i)?1:rr(A),(Ht(T)?i_:l_)(T,A)},ne.set=function(T,A,L){return T==null?T:Bo(T,A,L)},ne.setWith=function(T,A,L,V){return V=typeof V=="function"?V:i,T==null?T:Bo(T,A,L,V)},ne.shuffle=function(T){return(Ht(T)?o_:f_)(T)},ne.slice=function(T,A,L){var V=T==null?0:T.length;return V?(L&&typeof L!="number"&&li(T,A,L)?(A=0,L=V):(A=A==null?0:rr(A),L=L===i?V:rr(L)),wo(T,A,L)):[]},ne.sortBy=pa,ne.sortedUniq=function(T){return T&&T.length?ly(T):[]},ne.sortedUniqBy=function(T,A){return T&&T.length?ly(T,It(A,2)):[]},ne.split=function(T,A,L){return L&&typeof L!="number"&&li(T,A,L)&&(A=L=i),(L=L===i?v:L>>>0)?(T=Nr(T))&&(typeof A=="string"||A!=null&&!gc(A))&&!(A=Xi(A))&&ua(T)?ds(Nn(T),0,L):T.split(A,L):[]},ne.spread=function(T,A){if(typeof T!="function")throw new go(o);return A=A==null?0:dn(rr(A),0),or(function(L){var V=L[A],Z=ds(L,0,A);return V&&sa(Z,V),Hn(T,this,Z)})},ne.tail=function(T){var A=T==null?0:T.length;return A?wo(T,1,A):[]},ne.take=function(T,A,L){return T&&T.length?wo(T,0,(A=L||A===i?1:rr(A))<0?0:A):[]},ne.takeRight=function(T,A,L){var V=T==null?0:T.length;return V?wo(T,(A=V-(A=L||A===i?1:rr(A)))<0?0:A,V):[]},ne.takeRightWhile=function(T,A){return T&&T.length?Af(T,It(A,3),!1,!0):[]},ne.takeWhile=function(T,A){return T&&T.length?Af(T,It(A,3)):[]},ne.tap=function(T,A){return A(T),T},ne.throttle=function(T,A,L){var V=!0,Z=!0;if(typeof T!="function")throw new go(o);return an(L)&&(V="leading"in L?!!L.leading:V,Z="trailing"in L?!!L.trailing:Z),hv(T,A,{leading:V,maxWait:A,trailing:Z})},ne.thru=hc,ne.toArray=Xf,ne.toPairs=qy,ne.toPairsIn=Gy,ne.toPath=function(T){return Ht(T)?Hr(T,Ho):ci(T)?[T]:Li(Uf(Nr(T)))},ne.toPlainObject=Qn,ne.transform=function(T,A,L){var V=Ht(T),Z=V||ya(T)||Yo(T);if(A=It(A,4),L==null){var le=T&&T.constructor;L=Z?V?new le:[]:an(T)&&Zn(le)?Xn(wf(T)):{}}return(Z?yi:va)(T,function(be,Oe,Ie){return A(L,be,Oe,Ie)}),L},ne.unary=function(T){return ky(T,1)},ne.union=ys,ne.unionBy=iv,ne.unionWith=Py,ne.uniq=function(T){return T&&T.length?fs(T):[]},ne.uniqBy=function(T,A){return T&&T.length?fs(T,It(A,2)):[]},ne.uniqWith=function(T,A){return A=typeof A=="function"?A:i,T&&T.length?fs(T,i,A):[]},ne.unset=function(T,A){return T==null||Fo(T,A)},ne.unzip=Xu,ne.unzipWith=ov,ne.update=function(T,A,L){return T==null?T:fy(T,A,Nd(L))},ne.updateWith=function(T,A,L,V){return V=typeof V=="function"?V:i,T==null?T:fy(T,A,Nd(L),V)},ne.values=ru,ne.valuesIn=function(T){return T==null?[]:Kl(T,Fi(T))},ne.without=av,ne.words=Ko,ne.wrap=function(T,A){return qf(Nd(A),T)},ne.xor=Ay,ne.xorBy=sv,ne.xorWith=uv,ne.zip=ms,ne.zipObject=function(T,A){return dy(T||[],A||[],_o)},ne.zipObjectDeep=function(T,A){return dy(T||[],A||[],Bo)},ne.zipWith=m_,ne.entries=qy,ne.entriesIn=Gy,ne.extend=gv,ne.extendWith=$f,Ev(ne,ne),ne.add=Zy,ne.attempt=ws,ne.camelCase=Vy,ne.capitalize=Wy,ne.ceil=F_,ne.clamp=function(T,A,L){return L===i&&(L=A,A=i),L!==i&&(L=(L=Zi(L))==L?L:0),A!==i&&(A=(A=Zi(A))==A?A:0),da(Zi(T),A,L)},ne.clone=function(T){return Yi(T,4)},ne.cloneDeep=function(T){return Yi(T,5)},ne.cloneDeepWith=function(T,A){return Yi(T,5,A=typeof A=="function"?A:i)},ne.cloneWith=function(T,A){return Yi(T,4,A=typeof A=="function"?A:i)},ne.conformsTo=function(T,A){return A==null||zu(T,A,zn(A))},ne.deburr=Zf,ne.defaultTo=function(T,A){return T==null||T!=T?A:T},ne.divide=U_,ne.endsWith=function(T,A,L){T=Nr(T),A=Xi(A);var V=T.length,Z=L=L===i?V:da(rr(L),0,V);return(L-=A.length)>=0&&T.slice(L,Z)==A},ne.eq=So,ne.escape=function(T){return(T=Nr(T))&&ie.test(T)?T.replace(K,bd):T},ne.escapeRegExp=function(T){return(T=Nr(T))&&H.test(T)?T.replace(G,"\\$&"):T},ne.every=function(T,A,L){var V=Ht(T)?lf:a_;return L&&li(T,A,L)&&(A=i),V(T,It(A,3))},ne.find=b_,ne.findIndex=Sy,ne.findKey=function(T,A){return cf(T,It(A,3),va)},ne.findLast=__,ne.findLastIndex=Yu,ne.findLastKey=function(T,A){return cf(T,It(A,3),Pd)},ne.floor=z_,ne.forEach=Iy,ne.forEachRight=cv,ne.forIn=function(T,A){return T==null?T:Td(T,It(A,3),Fi)},ne.forInRight=function(T,A){return T==null?T:Cd(T,It(A,3),Fi)},ne.forOwn=function(T,A){return T&&va(T,It(A,3))},ne.forOwnRight=function(T,A){return T&&Pd(T,It(A,3))},ne.get=Xo,ne.gt=Vf,ne.gte=vv,ne.has=function(T,A){return T!=null&&Wu(T,A,s_)},ne.hasIn=Jn,ne.head=Ty,ne.identity=Ui,ne.includes=function(T,A,L,V){T=$n(T)?T:ru(T),L=L&&!V?rr(L):0;var Z=T.length;return L<0&&(L=dn(Z+L,0)),Ku(T)?L<=Z&&T.indexOf(A,L)>-1:!!Z&&ns(T,A,L)>-1},ne.indexOf=function(T,A,L){var V=T==null?0:T.length;if(!V)return-1;var Z=L==null?0:rr(L);return Z<0&&(Z=dn(V+Z,0)),ns(T,A,Z)},ne.inRange=function(T,A,L){return A=xi(A),L===i?(L=A,A=0):L=xi(L),function(V,Z,le){return V>=si(Z,le)&&V<dn(Z,le)}(T=Zi(T),A,L)},ne.invoke=mv,ne.isArguments=ga,ne.isArray=Ht,ne.isArrayBuffer=Ly,ne.isArrayLike=$n,ne.isArrayLikeObject=yn,ne.isBoolean=function(T){return T===!0||T===!1||sn(T)&&bi(T)==g},ne.isBuffer=ya,ne.isDate=O_,ne.isElement=function(T){return sn(T)&&T.nodeType===1&&!$i(T)},ne.isEmpty=function(T){if(T==null)return!0;if($n(T)&&(Ht(T)||typeof T=="string"||typeof T.splice=="function"||ya(T)||Yo(T)||ga(T)))return!T.length;var A=ui(T);if(A==O||A==R)return!T.size;if(Hu(T))return!Rd(T).length;for(var L in T)if(Or.call(T,L))return!1;return!0},ne.isEqual=function(T,A){return ka(T,A)},ne.isEqualWith=function(T,A,L){var V=(L=typeof L=="function"?L:i)?L(T,A):i;return V===i?ka(T,A,i,L):!!V},ne.isError=Wf,ne.isFinite=function(T){return typeof T=="number"&&Of(T)},ne.isFunction=Zn,ne.isInteger=pv,ne.isLength=pc,ne.isMap=jy,ne.isMatch=function(T,A){return T===A||Zs(T,A,Wd(A))},ne.isMatchWith=function(T,A,L){return L=typeof L=="function"?L:i,Zs(T,A,Wd(A),L)},ne.isNaN=function(T){return By(T)&&T!=+T},ne.isNative=function(T){if(v_(T))throw new er("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ac(T)},ne.isNil=function(T){return T==null},ne.isNull=function(T){return T===null},ne.isNumber=By,ne.isObject=an,ne.isObjectLike=sn,ne.isPlainObject=$i,ne.isRegExp=gc,ne.isSafeInteger=function(T){return pv(T)&&T>=-9007199254740991&&T<=f},ne.isSet=Hf,ne.isString=Ku,ne.isSymbol=ci,ne.isTypedArray=Yo,ne.isUndefined=function(T){return T===i},ne.isWeakMap=function(T){return sn(T)&&ui(T)==N},ne.isWeakSet=function(T){return sn(T)&&bi(T)=="[object WeakSet]"},ne.join=function(T,A){return T==null?"":ey.call(T,A)},ne.kebabCase=Hy,ne.last=wi,ne.lastIndexOf=function(T,A,L){var V=T==null?0:T.length;if(!V)return-1;var Z=V;return L!==i&&(Z=(Z=rr(L))<0?dn(V+Z,0):si(Z,V-1)),A==A?function(le,be,Oe){for(var Ie=Oe+1;Ie--;)if(le[Ie]===be)return Ie;return Ie}(T,A,Z):Iu(T,ff,Z,!0)},ne.lowerCase=mc,ne.lowerFirst=_v,ne.lt=Dt,ne.lte=Yf,ne.max=function(T){return T&&T.length?Ys(T,Ui,Pf):i},ne.maxBy=function(T,A){return T&&T.length?Ys(T,It(A,2),Pf):i},ne.mean=function(T){return hf(T,Ui)},ne.meanBy=function(T,A){return hf(T,It(A,2))},ne.min=function(T){return T&&T.length?Ys(T,Ui,Id):i},ne.minBy=function(T,A){return T&&T.length?Ys(T,It(A,2),Id):i},ne.stubArray=Sv,ne.stubFalse=Tv,ne.stubObject=function(){return{}},ne.stubString=function(){return""},ne.stubTrue=function(){return!0},ne.multiply=q_,ne.nth=function(T,A){return T&&T.length?qu(T,rr(A)):i},ne.noConflict=function(){return en._===this&&(en._=wd),this},ne.noop=xv,ne.now=zf,ne.pad=function(T,A,L){T=Nr(T);var V=(A=rr(A))?Da(T):0;if(!A||V>=A)return T;var Z=(A-V)/2;return zo(Ma(Z),L)+T+zo(xf(Z),L)},ne.padEnd=function(T,A,L){T=Nr(T);var V=(A=rr(A))?Da(T):0;return A&&V<A?T+zo(A-V,L):T},ne.padStart=function(T,A,L){T=Nr(T);var V=(A=rr(A))?Da(T):0;return A&&V<A?zo(A-V,L)+T:T},ne.parseInt=function(T,A,L){return L||A==null?A=0:A&&(A=+A),n_(Nr(T).replace(oe,""),A||0)},ne.random=function(T,A,L){if(L&&typeof L!="boolean"&&li(T,A,L)&&(A=L=i),L===i&&(typeof A=="boolean"?(L=A,A=i):typeof T=="boolean"&&(L=T,T=i)),T===i&&A===i?(T=0,A=1):(T=xi(T),A===i?(A=T,T=0):A=xi(A)),T>A){var V=T;T=A,A=V}if(L||T%1||A%1){var Z=Gs();return si(T+Z*(A-T+es("1e-"+((Z+"").length-1))),A)}return Ni(T,A)},ne.reduce=function(T,A,L){var V=Ht(T)?Wl:df,Z=arguments.length<3;return V(T,It(A,4),L,Z,ls)},ne.reduceRight=function(T,A,L){var V=Ht(T)?yd:df,Z=arguments.length<3;return V(T,It(A,4),L,Z,ny)},ne.repeat=function(T,A,L){return A=(L?li(T,A,L):A===i)?1:rr(A),lr(Nr(T),A)},ne.replace=function(){var T=arguments,A=Nr(T[0]);return T.length<3?A:A.replace(T[1],T[2])},ne.result=function(T,A,L){var V=-1,Z=(A=hs(A,T)).length;for(Z||(Z=1,T=i);++V<Z;){var le=T==null?i:T[Ho(A[V])];le===i&&(V=Z,le=L),T=Zn(le)?le.call(T):le}return T},ne.round=G_,ne.runInContext=Re,ne.sample=function(T){return(Ht(T)?ty:u_)(T)},ne.size=function(T){if(T==null)return 0;if($n(T))return Ku(T)?Da(T):T.length;var A=ui(T);return A==O||A==R?T.size:Rd(T).length},ne.snakeCase=Yy,ne.some=function(T,A,L){var V=Ht(T)?Ru:h_;return L&&li(T,A,L)&&(A=i),V(T,It(A,3))},ne.sortedIndex=function(T,A){return Eo(T,A)},ne.sortedIndexBy=function(T,A,L){return Md(T,A,It(L,2))},ne.sortedIndexOf=function(T,A){var L=T==null?0:T.length;if(L){var V=Eo(T,A);if(V<L&&So(T[V],A))return V}return-1},ne.sortedLastIndex=function(T,A){return Eo(T,A,!0)},ne.sortedLastIndexBy=function(T,A,L){return Md(T,A,It(L,2),!0)},ne.sortedLastIndexOf=function(T,A){if(T!=null&&T.length){var L=Eo(T,A,!0)-1;if(So(T[L],A))return L}return-1},ne.startCase=Xy,ne.startsWith=function(T,A,L){return T=Nr(T),L=L==null?0:da(rr(L),0,T.length),A=Xi(A),T.slice(L,L+A.length)==A},ne.subtract=V_,ne.sum=function(T){return T&&T.length?jr(T,Ui):0},ne.sumBy=function(T,A){return T&&T.length?jr(T,It(A,2)):0},ne.template=function(T,A,L){var V=ne.templateSettings;L&&li(T,A,L)&&(A=i),T=Nr(T),A=$f({},A,V,Gd);var Z,le,be=$f({},A.imports,V.imports,Gd),Oe=zn(be),Ie=Kl(be,Oe),qe=0,Ve=A.interpolate||Ne,$e="__p += '",vt=ca((A.escape||Ne).source+"|"+Ve.source+"|"+(Ve===Ce?Je:Ne).source+"|"+(A.evaluate||Ne).source+"|$","g"),mt="//# sourceURL="+(Or.call(A,"sourceURL")?(A.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oi+"]")+`
`;T.replace(vt,function(et,Ot,ct,Vt,qt,Cr){return ct||(ct=Vt),$e+=T.slice(qe,Cr).replace(nt,Cn),Ot&&(Z=!0,$e+=`' +
__e(`+Ot+`) +
'`),qt&&(le=!0,$e+=`';
`+qt+`;
__p += '`),ct&&($e+=`' +
((__t = (`+ct+`)) == null ? '' : __t) +
'`),qe=Cr+et.length,et}),$e+=`';
`;var At=Or.call(A,"variable")&&A.variable;if(At){if(rt.test(At))throw new er("Invalid `variable` option passed into `_.template`")}else $e=`with (obj) {
`+$e+`
}
`;$e=(le?$e.replace(pe,""):$e).replace(fe,"$1").replace(he,"$1;"),$e="function("+(At||"obj")+`) {
`+(At?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Ye=ws(function(){return hn(Oe,mt+"return "+$e).apply(i,Ie)});if(Ye.source=$e,Wf(Ye))throw Ye;return Ye},ne.times=function(T,A){if((T=rr(T))<1||T>f)return[];var L=v,V=si(T,v);A=It(A),T-=v;for(var Z=kr(V,A);++L<T;)A(L);return Z},ne.toFinite=xi,ne.toInteger=rr,ne.toLength=Kf,ne.toLower=function(T){return Nr(T).toLowerCase()},ne.toNumber=Zi,ne.toSafeInteger=function(T){return T?da(rr(T),-9007199254740991,f):T===0?T:0},ne.toString=Nr,ne.toUpper=function(T){return Nr(T).toUpperCase()},ne.trim=function(T,A,L){if((T=Nr(T))&&(L||A===i))return vf(T);if(!T||!(A=Xi(A)))return T;var V=Nn(T),Z=Nn(A);return ds(V,pf(V,Z),gf(V,Z)+1).join("")},ne.trimEnd=function(T,A,L){if((T=Nr(T))&&(L||A===i))return T.slice(0,la(T)+1);if(!T||!(A=Xi(A)))return T;var V=Nn(T);return ds(V,0,gf(V,Nn(A))+1).join("")},ne.trimStart=function(T,A,L){if((T=Nr(T))&&(L||A===i))return T.replace(oe,"");if(!T||!(A=Xi(A)))return T;var V=Nn(T);return ds(V,pf(V,Nn(A))).join("")},ne.truncate=function(T,A){var L=30,V="...";if(an(A)){var Z="separator"in A?A.separator:Z;L="length"in A?rr(A.length):L,V="omission"in A?Xi(A.omission):V}var le=(T=Nr(T)).length;if(ua(T)){var be=Nn(T);le=be.length}if(L>=le)return T;var Oe=L-Da(V);if(Oe<1)return V;var Ie=be?ds(be,0,Oe).join(""):T.slice(0,Oe);if(Z===i)return Ie+V;if(be&&(Oe+=Ie.length-Oe),gc(Z)){if(T.slice(Oe).search(Z)){var qe,Ve=Ie;for(Z.global||(Z=ca(Z.source,Nr(tt.exec(Z))+"g")),Z.lastIndex=0;qe=Z.exec(Ve);)var $e=qe.index;Ie=Ie.slice(0,$e===i?Oe:$e)}}else if(T.indexOf(Xi(Z),Oe)!=Oe){var vt=Ie.lastIndexOf(Z);vt>-1&&(Ie=Ie.slice(0,vt))}return Ie+V},ne.unescape=function(T){return(T=Nr(T))&&J.test(T)?T.replace(ee,vo):T},ne.uniqueId=function(T){var A=++ku;return Nr(T)+A},ne.upperCase=Qf,ne.upperFirst=Jf,ne.each=Iy,ne.eachRight=cv,ne.first=Ty,Ev(ne,(Cv={},va(ne,function(T,A){Or.call(ne.prototype,A)||(Cv[A]=T)}),Cv),{chain:!1}),ne.VERSION="4.17.23",yi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(T){ne[T].placeholder=ne}),yi(["drop","take"],function(T,A){tr.prototype[T]=function(L){L=L===i?1:dn(rr(L),0);var V=this.__filtered__&&!A?new tr(this):this.clone();return V.__filtered__?V.__takeCount__=si(L,V.__takeCount__):V.__views__.push({size:si(L,v),type:T+(V.__dir__<0?"Right":"")}),V},tr.prototype[T+"Right"]=function(L){return this.reverse()[T](L).reverse()}}),yi(["filter","map","takeWhile"],function(T,A){var L=A+1,V=L==1||L==3;tr.prototype[T]=function(Z){var le=this.clone();return le.__iteratees__.push({iteratee:It(Z,3),type:L}),le.__filtered__=le.__filtered__||V,le}}),yi(["head","last"],function(T,A){var L="take"+(A?"Right":"");tr.prototype[T]=function(){return this[L](1).value()[0]}}),yi(["initial","tail"],function(T,A){var L="drop"+(A?"":"Right");tr.prototype[T]=function(){return this.__filtered__?new tr(this):this[L](1)}}),tr.prototype.compact=function(){return this.filter(Ui)},tr.prototype.find=function(T){return this.filter(T).head()},tr.prototype.findLast=function(T){return this.reverse().find(T)},tr.prototype.invokeMap=or(function(T,A){return typeof T=="function"?new tr(this):this.map(function(L){return Ks(L,T,A)})}),tr.prototype.reject=function(T){return this.filter(_s(It(T)))},tr.prototype.slice=function(T,A){T=rr(T);var L=this;return L.__filtered__&&(T>0||A<0)?new tr(L):(T<0?L=L.takeRight(-T):T&&(L=L.drop(T)),A!==i&&(L=(A=rr(A))<0?L.dropRight(-A):L.take(A-T)),L)},tr.prototype.takeRightWhile=function(T){return this.reverse().takeWhile(T).reverse()},tr.prototype.toArray=function(){return this.take(v)},va(tr.prototype,function(T,A){var L=/^(?:filter|find|map|reject)|While$/.test(A),V=/^(?:head|last)$/.test(A),Z=ne[V?"take"+(A=="last"?"Right":""):A],le=V||/^find/.test(A);Z&&(ne.prototype[A]=function(){var be=this.__wrapped__,Oe=V?[1]:arguments,Ie=be instanceof tr,qe=Oe[0],Ve=Ie||Ht(be),$e=function(Ot){var ct=Z.apply(ne,sa([Ot],Oe));return V&&vt?ct[0]:ct};Ve&&L&&typeof qe=="function"&&qe.length!=1&&(Ie=Ve=!1);var vt=this.__chain__,mt=!!this.__actions__.length,At=le&&!vt,Ye=Ie&&!mt;if(!le&&Ve){be=Ye?be:new tr(this);var et=T.apply(be,Oe);return et.__actions__.push({func:hc,args:[$e],thisArg:i}),new yo(et,vt)}return At&&Ye?T.apply(this,Oe):(et=this.thru($e),At?V?et.value()[0]:et.value():et)})}),yi(["pop","push","shift","sort","splice","unshift"],function(T){var A=Du[T],L=/^(?:push|sort|unshift)$/.test(T)?"tap":"thru",V=/^(?:pop|shift)$/.test(T);ne.prototype[T]=function(){var Z=arguments;if(V&&!this.__chain__){var le=this.value();return A.apply(Ht(le)?le:[],Z)}return this[L](function(be){return A.apply(Ht(be)?be:[],Z)})}}),va(tr.prototype,function(T,A){var L=ne[A];if(L){var V=L.name+"";Or.call(Te,V)||(Te[V]=[]),Te[V].push({name:A,func:L})}}),Te[Rf(i,2).name]=[{name:"wrapper",func:i}],tr.prototype.clone=function(){var T=new tr(this.__wrapped__);return T.__actions__=Li(this.__actions__),T.__dir__=this.__dir__,T.__filtered__=this.__filtered__,T.__iteratees__=Li(this.__iteratees__),T.__takeCount__=this.__takeCount__,T.__views__=Li(this.__views__),T},tr.prototype.reverse=function(){if(this.__filtered__){var T=new tr(this);T.__dir__=-1,T.__filtered__=!0}else(T=this.clone()).__dir__*=-1;return T},tr.prototype.value=function(){var T=this.__wrapped__.value(),A=this.__dir__,L=Ht(T),V=A<0,Z=L?T.length:0,le=function(Cr,_t,Mt){for(var jn=-1,wn=Mt.length;++jn<wn;){var Oi=Mt[jn],$r=Oi.size;switch(Oi.type){case"drop":Cr+=$r;break;case"dropRight":_t-=$r;break;case"take":_t=si(_t,Cr+$r);break;case"takeRight":Cr=dn(Cr,_t-$r)}}return{start:Cr,end:_t}}(0,Z,this.__views__),be=le.start,Oe=le.end,Ie=Oe-be,qe=V?Oe:be-1,Ve=this.__iteratees__,$e=Ve.length,vt=0,mt=si(Ie,this.__takeCount__);if(!L||!V&&Z==Ie&&mt==Ie)return hy(T,this.__actions__);var At=[];e:for(;Ie--&&vt<mt;){for(var Ye=-1,et=T[qe+=A];++Ye<$e;){var Ot=Ve[Ye],ct=Ot.iteratee,Vt=Ot.type,qt=ct(et);if(Vt==2)et=qt;else if(!qt){if(Vt==1)continue e;break e}}At[vt++]=et}return At},ne.prototype.at=Ry,ne.prototype.chain=function(){return Ba(this)},ne.prototype.commit=function(){return new yo(this.value(),this.__chain__)},ne.prototype.next=function(){this.__values__===i&&(this.__values__=Xf(this.value()));var T=this.__index__>=this.__values__.length;return{done:T,value:T?i:this.__values__[this.__index__++]}},ne.prototype.plant=function(T){for(var A,L=this;L instanceof Vs;){var V=Oy(L);V.__index__=0,V.__values__=i,A?Z.__wrapped__=V:A=V;var Z=V;L=L.__wrapped__}return Z.__wrapped__=T,A},ne.prototype.reverse=function(){var T=this.__wrapped__;if(T instanceof tr){var A=T;return this.__actions__.length&&(A=new tr(this)),(A=A.reverse()).__actions__.push({func:hc,args:[Ei],thisArg:i}),new yo(A,this.__chain__)}return this.thru(Ei)},ne.prototype.toJSON=ne.prototype.valueOf=ne.prototype.value=function(){return hy(this.__wrapped__,this.__actions__)},ne.prototype.first=ne.prototype.head,Bu&&(ne.prototype[Bu]=function(){return this}),ne}();en._=Hi,(n=function(){return Hi}.call(e,t,e,r))===i||(r.exports=n)}.call(this)},5267:function(r,e,t){var n=this&&this.__extends||function(){var s=function(l,c){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var v in h)Object.prototype.hasOwnProperty.call(h,v)&&(f[v]=h[v])},s(l,c)};return function(l,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=l}s(l,c),l.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncAction=void 0;var i=t(4671),o=t(5649),a=t(7479),u=function(s){function l(c,f){var h=s.call(this,c,f)||this;return h.scheduler=c,h.work=f,h.pending=!1,h}return n(l,s),l.prototype.schedule=function(c,f){var h;if(f===void 0&&(f=0),this.closed)return this;this.state=c;var v=this.id,d=this.scheduler;return v!=null&&(this.id=this.recycleAsyncId(d,v,f)),this.pending=!0,this.delay=f,this.id=(h=this.id)!==null&&h!==void 0?h:this.requestAsyncId(d,this.id,f),this},l.prototype.requestAsyncId=function(c,f,h){return h===void 0&&(h=0),o.intervalProvider.setInterval(c.flush.bind(c,this),h)},l.prototype.recycleAsyncId=function(c,f,h){if(h===void 0&&(h=0),h!=null&&this.delay===h&&this.pending===!1)return f;f!=null&&o.intervalProvider.clearInterval(f)},l.prototype.execute=function(c,f){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var h=this._execute(c,f);if(h)return h;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},l.prototype._execute=function(c,f){var h,v=!1;try{this.work(c)}catch(d){v=!0,h=d||new Error("Scheduled action threw falsy error")}if(v)return this.unsubscribe(),h},l.prototype.unsubscribe=function(){if(!this.closed){var c=this.id,f=this.scheduler,h=f.actions;this.work=this.state=this.scheduler=null,this.pending=!1,a.arrRemove(h,this),c!=null&&(this.id=this.recycleAsyncId(f,c,null)),this.delay=null,s.prototype.unsubscribe.call(this)}},l}(i.Action);e.AsyncAction=u},5319:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}(),i=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.alloc=void 0;var o=i(t(1048)),a=function(u){function s(l){var c=this,f=function(h){return h instanceof o.default.Buffer?h:typeof h=="number"&&typeof o.default.Buffer.alloc=="function"?o.default.Buffer.alloc(h):new o.default.Buffer(h)}(l);return(c=u.call(this,f.length)||this)._buffer=f,c}return n(s,u),s.prototype.getUInt8=function(l){return this._buffer.readUInt8(l)},s.prototype.getInt8=function(l){return this._buffer.readInt8(l)},s.prototype.getFloat64=function(l){return this._buffer.readDoubleBE(l)},s.prototype.getVarInt=function(l){for(var c=0,f=this._buffer.readInt8(l+c),h=f%128;f/128>=1;)c+=1,h+=(f=this._buffer.readInt8(l+c))%128;return{length:c+1,value:h}},s.prototype.putUInt8=function(l,c){this._buffer.writeUInt8(c,l)},s.prototype.putInt8=function(l,c){this._buffer.writeInt8(c,l)},s.prototype.putFloat64=function(l,c){this._buffer.writeDoubleBE(c,l)},s.prototype.putBytes=function(l,c){if(c instanceof s){var f=Math.min(c.length-c.position,this.length-l);c._buffer.copy(this._buffer,l,c.position,c.position+f),c.position+=f}else u.prototype.putBytes.call(this,l,c)},s.prototype.getSlice=function(l,c){return new s(this._buffer.slice(l,l+c))},s}(i(t(7174)).default);e.default=a,e.alloc=function(u){return new a(u)}},5337:function(r,e,t){var n=this&&this.__read||function(d,y){var p=typeof Symbol=="function"&&d[Symbol.iterator];if(!p)return d;var g,b,m=p.call(d),_=[];try{for(;(y===void 0||y-- >0)&&!(g=m.next()).done;)_.push(g.value)}catch(w){b={error:w}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(b)throw b.error}}return _};Object.defineProperty(e,"__esModule",{value:!0}),e.fromEvent=void 0;var i=t(9445),o=t(4662),a=t(983),u=t(8046),s=t(1018),l=t(1251),c=["addListener","removeListener"],f=["addEventListener","removeEventListener"],h=["on","off"];function v(d,y){return function(p){return function(g){return d[p](y,g)}}}e.fromEvent=function d(y,p,g,b){if(s.isFunction(g)&&(b=g,g=void 0),b)return d(y,p,g).pipe(l.mapOneOrManyArgs(b));var m=n(function(O){return s.isFunction(O.addEventListener)&&s.isFunction(O.removeEventListener)}(y)?f.map(function(O){return function(E){return y[O](p,E,g)}}):function(O){return s.isFunction(O.addListener)&&s.isFunction(O.removeListener)}(y)?c.map(v(y,p)):function(O){return s.isFunction(O.on)&&s.isFunction(O.off)}(y)?h.map(v(y,p)):[],2),_=m[0],w=m[1];if(!_&&u.isArrayLike(y))return a.mergeMap(function(O){return d(O,p,g)})(i.innerFrom(y));if(!_)throw new TypeError("Invalid event target");return new o.Observable(function(O){var E=function(){for(var S=[],P=0;P<arguments.length;P++)S[P]=arguments[P];return O.next(1<S.length?S:S[0])};return _(E),function(){return w(E)}})}},5348:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(7521));e.default=n({},o.default)},5361:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var n=t(7452),i=t(6781),o=t(7665),a=t(9305),u=a.error.PROTOCOL_ERROR,s=function(){function c(f){this._ch=f,this._byteArraysSupported=!0}return c.prototype.packable=function(f,h){var v,d=this;h===void 0&&(h=i.functional.identity);try{f=h(f)}catch(g){return function(){throw g}}if(f===null)return function(){return d._ch.writeUInt8(192)};if(f===!0)return function(){return d._ch.writeUInt8(195)};if(f===!1)return function(){return d._ch.writeUInt8(194)};if(typeof f=="number")return function(){return d.packFloat(f)};if(typeof f=="string")return function(){return d.packString(f)};if(typeof f=="bigint")return function(){return d.packInteger((0,a.int)(f))};if((0,a.isInt)(f))return function(){return d.packInteger(f)};if(f instanceof Int8Array)return function(){return d.packBytes(f)};if(f instanceof Array)return function(){d.packListHeader(f.length);for(var g=0;g<f.length;g++)d.packable(f[g]===void 0?null:f[g],h)()};if((v=f)!=null&&typeof v[Symbol.iterator]=="function")return this.packableIterable(f,h);if(f instanceof o.Structure){for(var y=[],p=0;p<f.fields.length;p++)y[p]=this.packable(f.fields[p],h);return function(){return d.packStruct(f.signature,y)}}return typeof f=="object"?function(){for(var g=Object.keys(f),b=0,m=0;m<g.length;m++)f[g[m]]!==void 0&&b++;for(d.packMapHeader(b),m=0;m<g.length;m++){var _=g[m];f[_]!==void 0&&(d.packString(_),d.packable(f[_],h)())}}:this._nonPackableValue("Unable to pack the given value: ".concat(f))},c.prototype.packableIterable=function(f,h){try{var v=Array.from(f);return this.packable(v,h)}catch(d){throw(0,a.newError)("Cannot pack given iterable, ".concat(d.message,": ").concat(f))}},c.prototype.packStruct=function(f,h){h=h||[],this.packStructHeader(h.length,f);for(var v=0;v<h.length;v++)h[v]()},c.prototype.packInteger=function(f){var h=f.high,v=f.low;f.greaterThanOrEqual(-16)&&f.lessThan(128)?this._ch.writeInt8(v):f.greaterThanOrEqual(-128)&&f.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(v)):f.greaterThanOrEqual(-32768)&&f.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(v)):f.greaterThanOrEqual(-2147483648)&&f.lessThan(2147483648)?(this._ch.writeUInt8(202),this._ch.writeInt32(v)):(this._ch.writeUInt8(203),this._ch.writeInt32(h),this._ch.writeInt32(v))},c.prototype.packFloat=function(f){this._ch.writeUInt8(193),this._ch.writeFloat64(f)},c.prototype.packString=function(f){var h=n.utf8.encode(f),v=h.length;if(v<16)this._ch.writeUInt8(128|v),this._ch.writeBytes(h);else if(v<256)this._ch.writeUInt8(208),this._ch.writeUInt8(v),this._ch.writeBytes(h);else if(v<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(v/256|0),this._ch.writeUInt8(v%256),this._ch.writeBytes(h);else{if(!(v<4294967296))throw(0,a.newError)("UTF-8 strings of size "+v+" are not supported");this._ch.writeUInt8(210),this._ch.writeUInt8((v/16777216|0)%256),this._ch.writeUInt8((v/65536|0)%256),this._ch.writeUInt8((v/256|0)%256),this._ch.writeUInt8(v%256),this._ch.writeBytes(h)}},c.prototype.packListHeader=function(f){if(f<16)this._ch.writeUInt8(144|f);else if(f<256)this._ch.writeUInt8(212),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,a.newError)("Lists of size "+f+" are not supported");this._ch.writeUInt8(214),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packBytes=function(f){if(!this._byteArraysSupported)throw(0,a.newError)("Byte arrays are not supported by the database this driver is connected to");this.packBytesHeader(f.length);for(var h=0;h<f.length;h++)this._ch.writeInt8(f[h])},c.prototype.packBytesHeader=function(f){if(f<256)this._ch.writeUInt8(204),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,a.newError)("Byte arrays of size "+f+" are not supported");this._ch.writeUInt8(206),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packMapHeader=function(f){if(f<16)this._ch.writeUInt8(160|f);else if(f<256)this._ch.writeUInt8(216),this._ch.writeUInt8(f);else if(f<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(f/256|0),this._ch.writeUInt8(f%256);else{if(!(f<4294967296))throw(0,a.newError)("Maps of size "+f+" are not supported");this._ch.writeUInt8(218),this._ch.writeUInt8((f/16777216|0)%256),this._ch.writeUInt8((f/65536|0)%256),this._ch.writeUInt8((f/256|0)%256),this._ch.writeUInt8(f%256)}},c.prototype.packStructHeader=function(f,h){if(f<16)this._ch.writeUInt8(176|f),this._ch.writeUInt8(h);else if(f<256)this._ch.writeUInt8(220),this._ch.writeUInt8(f),this._ch.writeUInt8(h);else{if(!(f<65536))throw(0,a.newError)("Structures of size "+f+" are not supported");this._ch.writeUInt8(221),this._ch.writeUInt8(f/256|0),this._ch.writeUInt8(f%256)}},c.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},c.prototype._nonPackableValue=function(f){return function(){throw(0,a.newError)(f,u)}},c}();e.Packer=s;var l=function(){function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=!1),this._disableLosslessIntegers=f,this._useBigInt=h}return c.prototype.unpack=function(f,h){h===void 0&&(h=i.functional.identity);var v=f.readUInt8(),d=240&v,y=15&v;if(v===192)return null;var p=this._unpackBoolean(v);if(p!==null)return p;var g=this._unpackNumberOrInteger(v,f);if(g!==null){if((0,a.isInt)(g)){if(this._useBigInt)return g.toBigInt();if(this._disableLosslessIntegers)return g.toNumberOrInfinity()}return g}var b=this._unpackString(v,d,y,f);if(b!==null)return b;var m=this._unpackList(v,d,y,f,h);if(m!==null)return m;var _=this._unpackByteArray(v,f);if(_!==null)return _;var w=this._unpackMap(v,d,y,f,h);if(w!==null)return w;var O=this._unpackStruct(v,d,y,f,h);if(O!==null)return O;throw(0,a.newError)("Unknown packed value with marker "+v.toString(16))},c.prototype.unpackInteger=function(f){var h=f.readUInt8(),v=this._unpackInteger(h,f);if(v==null)throw(0,a.newError)("Unable to unpack integer value with marker "+h.toString(16));return v},c.prototype._unpackBoolean=function(f){return f===195||f!==194&&null},c.prototype._unpackNumberOrInteger=function(f,h){return f===193?h.readFloat64():this._unpackInteger(f,h)},c.prototype._unpackInteger=function(f,h){if(f>=0&&f<128)return(0,a.int)(f);if(f>=240&&f<256)return(0,a.int)(f-256);if(f===200)return(0,a.int)(h.readInt8());if(f===201)return(0,a.int)(h.readInt16());if(f===202){var v=h.readInt32();return(0,a.int)(v)}if(f===203){var d=h.readInt32(),y=h.readInt32();return new a.Integer(y,d)}return null},c.prototype._unpackString=function(f,h,v,d){return h===128?n.utf8.decode(d,v):f===208?n.utf8.decode(d,d.readUInt8()):f===209?n.utf8.decode(d,d.readUInt16()):f===210?n.utf8.decode(d,d.readUInt32()):null},c.prototype._unpackList=function(f,h,v,d,y){return h===144?this._unpackListWithSize(v,d,y):f===212?this._unpackListWithSize(d.readUInt8(),d,y):f===213?this._unpackListWithSize(d.readUInt16(),d,y):f===214?this._unpackListWithSize(d.readUInt32(),d,y):null},c.prototype._unpackListWithSize=function(f,h,v){for(var d=[],y=0;y<f;y++)d.push(this.unpack(h,v));return d},c.prototype._unpackByteArray=function(f,h){return f===204?this._unpackByteArrayWithSize(h.readUInt8(),h):f===205?this._unpackByteArrayWithSize(h.readUInt16(),h):f===206?this._unpackByteArrayWithSize(h.readUInt32(),h):null},c.prototype._unpackByteArrayWithSize=function(f,h){for(var v=new Int8Array(f),d=0;d<f;d++)v[d]=h.readInt8();return v},c.prototype._unpackMap=function(f,h,v,d,y){return h===160?this._unpackMapWithSize(v,d,y):f===216?this._unpackMapWithSize(d.readUInt8(),d,y):f===217?this._unpackMapWithSize(d.readUInt16(),d,y):f===218?this._unpackMapWithSize(d.readUInt32(),d,y):null},c.prototype._unpackMapWithSize=function(f,h,v){for(var d={},y=0;y<f;y++)d[this.unpack(h,v)]=this.unpack(h,v);return d},c.prototype._unpackStruct=function(f,h,v,d,y){return h===176?this._unpackStructWithSize(v,d,y):f===220?this._unpackStructWithSize(d.readUInt8(),d,y):f===221?this._unpackStructWithSize(d.readUInt16(),d,y):null},c.prototype._unpackStructWithSize=function(f,h,v){for(var d=h.readUInt8(),y=new o.Structure(d,[]),p=0;p<f;p++)y.fields.push(this.unpack(h,v));return v(y)},c}();e.Unpacker=l},5365:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinct=void 0;var n=t(7843),i=t(3111),o=t(1342),a=t(9445);e.distinct=function(u,s){return n.operate(function(l,c){var f=new Set;l.subscribe(i.createOperatorSubscriber(c,function(h){var v=u?u(h):h;f.has(v)||(f.add(v),c.next(h))})),s&&a.innerFrom(s).subscribe(i.createOperatorSubscriber(c,function(){return f.clear()},o.noop))})}},5382:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.single=void 0;var n=t(2823),i=t(1505),o=t(1759),a=t(7843),u=t(3111);e.single=function(s){return a.operate(function(l,c){var f,h=!1,v=!1,d=0;l.subscribe(u.createOperatorSubscriber(c,function(y){v=!0,s&&!s(y,d++,l)||(h&&c.error(new i.SequenceError("Too many matching values")),h=!0,f=y)},function(){h?(c.next(f),c.complete()):c.error(v?new o.NotFoundError("No matching values"):new n.EmptyError)}))})}},5442:function(r,e,t){var n=this&&this.__read||function(f,h){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var d,y,p=v.call(f),g=[];try{for(;(h===void 0||h-- >0)&&!(d=p.next()).done;)g.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(y)throw y.error}}return g},i=this&&this.__spreadArray||function(f,h){for(var v=0,d=h.length,y=f.length;v<d;v++,y++)f[y]=h[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.withLatestFrom=void 0;var o=t(7843),a=t(3111),u=t(9445),s=t(6640),l=t(1342),c=t(1107);e.withLatestFrom=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var v=c.popResultSelector(f);return o.operate(function(d,y){for(var p=f.length,g=new Array(p),b=f.map(function(){return!1}),m=!1,_=function(O){u.innerFrom(f[O]).subscribe(a.createOperatorSubscriber(y,function(E){g[O]=E,m||b[O]||(b[O]=!0,(m=b.every(s.identity))&&(b=null))},l.noop))},w=0;w<p;w++)_(w);d.subscribe(a.createOperatorSubscriber(y,function(O){if(m){var E=i([O],n(g));y.next(v?v.apply(void 0,i([],n(E))):E)}}))})}},5459:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(R,D,k,N){N===void 0&&(N=k);var B=Object.getOwnPropertyDescriptor(D,k);B&&!("get"in B?!D.__esModule:B.writable||B.configurable)||(B={enumerable:!0,get:function(){return D[k]}}),Object.defineProperty(R,N,B)}:function(R,D,k,N){N===void 0&&(N=k),R[N]=D[k]}),i=this&&this.__setModuleDefault||(Object.create?function(R,D){Object.defineProperty(R,"default",{enumerable:!0,value:D})}:function(R,D){R.default=D}),o=this&&this.__importStar||function(R){if(R&&R.__esModule)return R;var D={};if(R!=null)for(var k in R)k!=="default"&&Object.prototype.hasOwnProperty.call(R,k)&&n(D,R,k);return i(D,R),D},a=this&&this.__read||function(R,D){var k=typeof Symbol=="function"&&R[Symbol.iterator];if(!k)return R;var N,B,z=k.call(R),F=[];try{for(;(D===void 0||D-- >0)&&!(N=z.next()).done;)F.push(N.value)}catch(U){B={error:U}}finally{try{N&&!N.done&&(k=z.return)&&k.call(z)}finally{if(B)throw B.error}}return F};Object.defineProperty(e,"__esModule",{value:!0}),e.isDateTime=e.DateTime=e.isLocalDateTime=e.LocalDateTime=e.isDate=e.Date=e.isTime=e.Time=e.isLocalTime=e.LocalTime=e.isDuration=e.Duration=void 0;var u=o(t(5022)),s=t(6587),l=t(9691),c=o(t(3371)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},h="__isDuration__",v="__isLocalTime__",d="__isTime__",y="__isDate__",p="__isLocalDateTime__",g="__isDateTime__",b=function(){function R(D,k,N,B){this.months=(0,s.assertNumberOrInteger)(D,"Months"),this.days=(0,s.assertNumberOrInteger)(k,"Days"),(0,s.assertNumberOrInteger)(N,"Seconds"),(0,s.assertNumberOrInteger)(B,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(N,B),this.nanoseconds=u.normalizeNanosecondsForDuration(B),Object.freeze(this)}return R.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},R}();e.Duration=b,Object.defineProperty(b.prototype,h,f),e.isDuration=function(R){return S(R,h)};var m=function(){function R(D,k,N,B){this.hour=u.assertValidHour(D),this.minute=u.assertValidMinute(k),this.second=u.assertValidSecond(N),this.nanosecond=u.assertValidNanosecond(B),Object.freeze(this)}return R.fromStandardDate=function(D,k){I(D,k);var N=u.totalNanoseconds(D,k);return new R(D.getHours(),D.getMinutes(),D.getSeconds(),N instanceof c.default?N.toInt():typeof N=="bigint"?(0,c.int)(N).toInt():N)},R.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},R}();e.LocalTime=m,Object.defineProperty(m.prototype,v,f),e.isLocalTime=function(R){return S(R,v)};var _=function(){function R(D,k,N,B,z){this.hour=u.assertValidHour(D),this.minute=u.assertValidMinute(k),this.second=u.assertValidSecond(N),this.nanosecond=u.assertValidNanosecond(B),this.timeZoneOffsetSeconds=(0,s.assertNumberOrInteger)(z,"Time zone offset in seconds"),Object.freeze(this)}return R.fromStandardDate=function(D,k){return I(D,k),new R(D.getHours(),D.getMinutes(),D.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(D,k)),u.timeZoneOffsetInSeconds(D))},R.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},R}();e.Time=_,Object.defineProperty(_.prototype,d,f),e.isTime=function(R){return S(R,d)};var w=function(){function R(D,k,N){this.year=u.assertValidYear(D),this.month=u.assertValidMonth(k),this.day=u.assertValidDay(N),Object.freeze(this)}return R.fromStandardDate=function(D){return I(D),new R(D.getFullYear(),D.getMonth()+1,D.getDate())},R.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},R.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},R}();e.Date=w,Object.defineProperty(w.prototype,y,f),e.isDate=function(R){return S(R,y)};var O=function(){function R(D,k,N,B,z,F,U){this.year=u.assertValidYear(D),this.month=u.assertValidMonth(k),this.day=u.assertValidDay(N),this.hour=u.assertValidHour(B),this.minute=u.assertValidMinute(z),this.second=u.assertValidSecond(F),this.nanosecond=u.assertValidNanosecond(U),Object.freeze(this)}return R.fromStandardDate=function(D,k){return I(D,k),new R(D.getFullYear(),D.getMonth()+1,D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(D,k)))},R.prototype.toStandardDate=function(){return u.isoStringToStandardDate(this.toString())},R.prototype.toString=function(){return P(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},R}();e.LocalDateTime=O,Object.defineProperty(O.prototype,p,f),e.isLocalDateTime=function(R){return S(R,p)};var E=function(){function R(D,k,N,B,z,F,U,W,Y){this.year=u.assertValidYear(D),this.month=u.assertValidMonth(k),this.day=u.assertValidDay(N),this.hour=u.assertValidHour(B),this.minute=u.assertValidMinute(z),this.second=u.assertValidSecond(F),this.nanosecond=u.assertValidNanosecond(U);var X=a(function(ce,ae){var pe=ce!=null,fe=ae!=null&&ae!=="";if(!pe&&!fe)throw(0,l.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: ".concat(ce," and id: ").concat(ae));var he=[void 0,void 0];return pe&&((0,s.assertNumberOrInteger)(ce,"Time zone offset in seconds"),he[0]=ce),fe&&((0,s.assertString)(ae,"Time zone ID"),u.assertValidZoneId("Time zone ID",ae),he[1]=ae),he}(W,Y),2),Q=X[0],ue=X[1];this.timeZoneOffsetSeconds=Q,this.timeZoneId=ue??void 0,Object.freeze(this)}return R.fromStandardDate=function(D,k){return I(D,k),new R(D.getFullYear(),D.getMonth()+1,D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),(0,c.toNumber)(u.totalNanoseconds(D,k)),u.timeZoneOffsetInSeconds(D),null)},R.prototype.toStandardDate=function(){return u.toStandardDate(this._toUTC())},R.prototype.toString=function(){var D;return P(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneOffsetSeconds!=null?u.timeZoneOffsetToIsoString((D=this.timeZoneOffsetSeconds)!==null&&D!==void 0?D:0):"")+(this.timeZoneId!=null?"[".concat(this.timeZoneId,"]"):"")},R.prototype._toUTC=function(){var D;if(this.timeZoneOffsetSeconds===void 0)throw new Error("Requires DateTime created with time zone offset");var k=u.localDateTimeToEpochSecond(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond).subtract((D=this.timeZoneOffsetSeconds)!==null&&D!==void 0?D:0);return(0,c.int)(k).multiply(1e3).add((0,c.int)(this.nanosecond).div(1e6)).toNumber()},R}();function S(R,D){return R!=null&&R[D]===!0}function P(R,D,k,N,B,z,F){return u.dateToIsoString(R,D,k)+"T"+u.timeToIsoString(N,B,z,F)}function I(R,D){(0,s.assertValidDate)(R,"Standard date"),D!=null&&(0,s.assertNumberOrInteger)(D,"Nanosecond")}e.DateTime=E,Object.defineProperty(E.prototype,g,f),e.isDateTime=function(R){return S(R,g)}},5471:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.map=void 0;var n=t(7843),i=t(3111);e.map=function(o,a){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){s.next(o.call(a,c,l++))}))})}},5477:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.window=void 0;var n=t(2483),i=t(7843),o=t(3111),a=t(1342),u=t(9445);e.window=function(s){return i.operate(function(l,c){var f=new n.Subject;c.next(f.asObservable());var h=function(v){f.error(v),c.error(v)};return l.subscribe(o.createOperatorSubscriber(c,function(v){return f?.next(v)},function(){f.complete(),c.complete()},h)),u.innerFrom(s).subscribe(o.createOperatorSubscriber(c,function(){f.complete(),c.next(f=new n.Subject)},a.noop,h)),function(){f?.unsubscribe(),f=null}})}},5481:function(r,e,t){var n=this&&this.__awaiter||function(w,O,E,S){return new(E||(E=Promise))(function(P,I){function R(N){try{k(S.next(N))}catch(B){I(B)}}function D(N){try{k(S.throw(N))}catch(B){I(B)}}function k(N){var B;N.done?P(N.value):(B=N.value,B instanceof E?B:new E(function(z){z(B)})).then(R,D)}k((S=S.apply(w,O||[])).next())})},i=this&&this.__generator||function(w,O){var E,S,P,I,R={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return I={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function D(k){return function(N){return function(B){if(E)throw new TypeError("Generator is already executing.");for(;I&&(I=0,B[0]&&(R=0)),R;)try{if(E=1,S&&(P=2&B[0]?S.return:B[0]?S.throw||((P=S.return)&&P.call(S),0):S.next)&&!(P=P.call(S,B[1])).done)return P;switch(S=0,P&&(B=[2&B[0],P.value]),B[0]){case 0:case 1:P=B;break;case 4:return R.label++,{value:B[1],done:!1};case 5:R.label++,S=B[1],B=[0];continue;case 7:B=R.ops.pop(),R.trys.pop();continue;default:if(!((P=(P=R.trys).length>0&&P[P.length-1])||B[0]!==6&&B[0]!==2)){R=0;continue}if(B[0]===3&&(!P||B[1]>P[0]&&B[1]<P[3])){R.label=B[1];break}if(B[0]===6&&R.label<P[1]){R.label=P[1],P=B;break}if(P&&R.label<P[2]){R.label=P[2],R.ops.push(B);break}P[2]&&R.ops.pop(),R.trys.pop();continue}B=O.call(w,R)}catch(z){B=[6,z],S=0}finally{E=P=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([k,N])}}},o=this&&this.__read||function(w,O){var E=typeof Symbol=="function"&&w[Symbol.iterator];if(!E)return w;var S,P,I=E.call(w),R=[];try{for(;(O===void 0||O-- >0)&&!(S=I.next()).done;)R.push(S.value)}catch(D){P={error:D}}finally{try{S&&!S.done&&(E=I.return)&&E.call(I)}finally{if(P)throw P.error}}return R},a=this&&this.__spreadArray||function(w,O,E){if(E||arguments.length===2)for(var S,P=0,I=O.length;P<I;P++)!S&&P in O||(S||(S=Array.prototype.slice.call(O,0,P)),S[P]=O[P]);return w.concat(S||Array.prototype.slice.call(O))},u=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(2696),l=t(6587),c=t(326),f=t(9691),h=u(t(9512)),v=t(3618),d=t(6189),y=t(9730),p=t(754),g=u(t(4569)),b=u(t(5909)),m=t(6030),_=function(){function w(O){var E,S=O.mode,P=O.connectionProvider,I=O.bookmarks,R=O.database,D=O.config,k=O.reactive,N=O.fetchSize,B=O.impersonatedUser,z=O.bookmarkManager,F=O.notificationFilter,U=O.auth,W=O.log,Y=O.homeDatabaseCallback;this._mode=S,this._database=R,this._reactive=k,this._fetchSize=N,this._homeDatabaseCallback=Y,this._auth=U,this._getConnectionAcquistionBookmarks=this._getConnectionAcquistionBookmarks.bind(this),this._readConnectionHolder=new v.ConnectionHolder({mode:c.ACCESS_MODE_READ,auth:U,database:R,bookmarks:I,connectionProvider:P,impersonatedUser:B,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:W}),this._writeConnectionHolder=new v.ConnectionHolder({mode:c.ACCESS_MODE_WRITE,auth:U,database:R,bookmarks:I,connectionProvider:P,impersonatedUser:B,onDatabaseNameResolved:this._onDatabaseNameResolved.bind(this),getConnectionAcquistionBookmarks:this._getConnectionAcquistionBookmarks,log:W}),this._open=!0,this._hasTx=!1,this._impersonatedUser=B,this._lastBookmarks=I??y.Bookmarks.empty(),this._configuredBookmarks=this._lastBookmarks,this._transactionExecutor=function(Q){var ue,ce=(ue=Q?.maxTransactionRetryTime)!==null&&ue!==void 0?ue:null;return new d.TransactionExecutor(ce)}(D),this._databaseNameResolved=this._database!=="";var X=this._calculateWatermaks();this._lowRecordWatermark=X.low,this._highRecordWatermark=X.high,this._results=[],this._bookmarkManager=z,this._notificationFilter=F,this._log=W,this._databaseGuess=D?.cachedHomeDatabase,this._isRoutingSession=(E=D?.routingDriver)!==null&&E!==void 0&&E}return w.prototype.run=function(O,E,S){var P=this,I=(0,l.validateQueryAndParameters)(O,E),R=I.validatedQuery,D=I.params,k=S!=null?new p.TxConfig(S,this._log):p.TxConfig.empty(),N=this._run(R,D,function(B){return n(P,void 0,void 0,function(){var z,F=this;return i(this,function(U){switch(U.label){case 0:return[4,this._bookmarks()];case 1:return z=U.sent(),this._assertSessionIsOpen(),[2,B.run(R,D,{bookmarks:z,txConfig:k,mode:this._mode,database:this._database,apiTelemetryConfig:{api:c.TELEMETRY_APIS.AUTO_COMMIT_TRANSACTION},impersonatedUser:this._impersonatedUser,afterComplete:function(W){return F._onCompleteCallback(W,z)},reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,onDb:this._onDatabaseNameResolved.bind(this)})]}})})});return this._results.push(N),N},w.prototype._run=function(O,E,S){var P=this._acquireAndConsumeConnection(S),I=P.connectionHolder,R=P.resultPromise.catch(function(k){return Promise.resolve(new s.FailedObserver({error:k}))}),D={high:this._highRecordWatermark,low:this._lowRecordWatermark};return new h.default(R,O,E,I,D)},w.prototype._acquireConnection=function(O){var E=this,S=this._acquireAndConsumeConnection(O),P=S.connectionHolder;return S.resultPromise.then(function(I){return n(E,void 0,void 0,function(){return i(this,function(R){switch(R.label){case 0:return[4,P.releaseConnection()];case 1:return R.sent(),[2,I]}})})})},w.prototype._acquireAndConsumeConnection=function(O){var E,S=this._connectionHolderWithMode(this._mode);return E=this._open?!this._hasTx&&S.initializeConnection(this._databaseGuess)?S.getConnection().then(function(P){return O(P)}):Promise.reject((0,f.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,f.newError)("Cannot run query in a closed session.")),{connectionHolder:S,resultPromise:E}},w.prototype.beginTransaction=function(O){var E=O,S=p.TxConfig.empty();return E!=null&&(S=new p.TxConfig(E,this._log)),this._beginTransaction(this._mode,S,{api:c.TELEMETRY_APIS.UNMANAGED_TRANSACTION})},w.prototype._beginTransaction=function(O,E,S){var P=this;if(!this._open)throw(0,f.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,f.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var I=w._validateSessionMode(O),R=this._connectionHolderWithMode(I);R.initializeConnection(this._databaseGuess),this._hasTx=!0;var D=new g.default({connectionHolder:R,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmarks:function(k,N,B){return P._updateBookmarks(k,N,B)},onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize,lowRecordWatermark:this._lowRecordWatermark,highRecordWatermark:this._highRecordWatermark,notificationFilter:this._notificationFilter,apiTelemetryConfig:S,onDbCallback:this._onDatabaseNameResolved.bind(this)});return D._begin(function(){return P._bookmarks()},E),D},w.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,f.newError)("You cannot run more transactions on a closed session.")},w.prototype._transactionClosed=function(){this._hasTx=!1},w.prototype.lastBookmark=function(){return this.lastBookmarks()},w.prototype.lastBookmarks=function(){return this._lastBookmarks.values()},w.prototype._bookmarks=function(){var O;return n(this,void 0,void 0,function(){var E;return i(this,function(S){switch(S.label){case 0:return[4,(O=this._bookmarkManager)===null||O===void 0?void 0:O.getBookmarks()];case 1:return(E=S.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(a(a([],o(E),!1),o(this._configuredBookmarks),!1))]}})})},w.prototype.readTransaction=function(O,E){var S=new p.TxConfig(E,this._log);return this._runTransaction(c.ACCESS_MODE_READ,S,O)},w.prototype.writeTransaction=function(O,E){var S=new p.TxConfig(E,this._log);return this._runTransaction(c.ACCESS_MODE_WRITE,S,O)},w.prototype._runTransaction=function(O,E,S){var P=this;return this._transactionExecutor.execute(function(I){return P._beginTransaction(O,E,I)},S)},w.prototype.executeRead=function(O,E){var S=new p.TxConfig(E,this._log);return this._executeInTransaction(c.ACCESS_MODE_READ,S,O)},w.prototype.executeWrite=function(O,E){var S=new p.TxConfig(E,this._log);return this._executeInTransaction(c.ACCESS_MODE_WRITE,S,O)},w.prototype._executeInTransaction=function(O,E,S){var P=this;return this._transactionExecutor.execute(function(I){return P._beginTransaction(O,E,I)},S,b.default.fromTransaction)},w.prototype._onDatabaseNameResolved=function(O){if(this._isRoutingSession&&(this._databaseGuess=O,!this._databaseNameResolved)){var E=O??"";this._database=E,this._readConnectionHolder.setDatabase(E),this._writeConnectionHolder.setDatabase(E),this._databaseNameResolved=!0,this._homeDatabaseCallback!=null&&this._homeDatabaseCallback((0,m.cacheKey)(this._auth,this._impersonatedUser),O)}},w.prototype._getConnectionAcquistionBookmarks=function(){var O;return n(this,void 0,void 0,function(){var E;return i(this,function(S){switch(S.label){case 0:return[4,(O=this._bookmarkManager)===null||O===void 0?void 0:O.getBookmarks()];case 1:return(E=S.sent())===void 0?[2,this._lastBookmarks]:[2,new y.Bookmarks(a(a([],o(this._configuredBookmarks),!1),o(E),!1))]}})})},w.prototype._updateBookmarks=function(O,E,S){var P,I,R;O==null||O.isEmpty()||((P=this._bookmarkManager)===null||P===void 0||P.updateBookmarks((I=E?.values())!==null&&I!==void 0?I:[],(R=O?.values())!==null&&R!==void 0?R:[]).catch(function(){}),this._lastBookmarks=O,this._configuredBookmarks=y.Bookmarks.empty())},w.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(O){switch(O.label){case 0:return this._open?(this._open=!1,this._results.forEach(function(E){return E._cancel()}),this._transactionExecutor.close(),[4,this._readConnectionHolder.close(this._hasTx)]):[3,3];case 1:return O.sent(),[4,this._writeConnectionHolder.close(this._hasTx)];case 2:O.sent(),O.label=3;case 3:return[2]}})})},w.prototype[Symbol.asyncDispose]=function(){return this.close()},w.prototype._connectionHolderWithMode=function(O){if(O===c.ACCESS_MODE_READ)return this._readConnectionHolder;if(O===c.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,f.newError)("Unknown access mode: "+O)},w.prototype._onCompleteCallback=function(O,E){this._updateBookmarks(new y.Bookmarks(O.bookmark),E,O.db)},w.prototype._calculateWatermaks=function(){return this._fetchSize===c.FETCH_ALL?{low:Number.MAX_VALUE,high:Number.MAX_VALUE}:{low:.3*this._fetchSize,high:.7*this._fetchSize}},w.prototype._configureTransactionExecutor=function(O,E){this._transactionExecutor.pipelineBegin=O,this._transactionExecutor.telemetryApi=E},w._validateSessionMode=function(O){var E=O??c.ACCESS_MODE_WRITE;if(E!==c.ACCESS_MODE_READ&&E!==c.ACCESS_MODE_WRITE)throw(0,f.newError)("Illegal session mode "+E);return E},w}();e.default=_},5510:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.every=void 0;var n=t(7843),i=t(3111);e.every=function(o,a){return n.operate(function(u,s){var l=0;u.subscribe(i.createOperatorSubscriber(s,function(c){o.call(a,c,l++,u)||(s.next(!1),s.complete())},function(){s.next(!0),s.complete()}))})}},5553:function(r,e,t){var n=this&&this.__extends||function(){var u=function(s,l){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(c[h]=f[h])},u(s,l)};return function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function c(){this.constructor=s}u(s,l),s.prototype=l===null?Object.create(l):(c.prototype=l.prototype,new c)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=t(7174),o=t(5319),a=function(u){function s(l){for(var c=this,f=0,h=0;h<l.length;h++)f+=l[h].length;return(c=u.call(this,f)||this)._buffers=l,c}return n(s,u),s.prototype.getUInt8=function(l){for(var c=0;c<this._buffers.length;c++){var f=this._buffers[c];if(!(l>=f.length))return f.getUInt8(l);l-=f.length}},s.prototype.getInt8=function(l){for(var c=0;c<this._buffers.length;c++){var f=this._buffers[c];if(!(l>=f.length))return f.getInt8(l);l-=f.length}},s.prototype.getFloat64=function(l){for(var c=(0,o.alloc)(8),f=0;f<8;f++)c.putUInt8(f,this.getUInt8(l+f));return c.getFloat64(0)},s}(i.BaseBuffer);e.default=a},5568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorClass=void 0,e.createErrorClass=function(t){var n=t(function(i){Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}},5572:function(r,e,t){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferCount=void 0;var i=t(7843),o=t(3111),a=t(7479);e.bufferCount=function(u,s){return s===void 0&&(s=null),s=s??u,i.operate(function(l,c){var f=[],h=0;l.subscribe(o.createOperatorSubscriber(c,function(v){var d,y,p,g,b=null;h++%s===0&&f.push([]);try{for(var m=n(f),_=m.next();!_.done;_=m.next())(E=_.value).push(v),u<=E.length&&(b=b??[]).push(E)}catch(S){d={error:S}}finally{try{_&&!_.done&&(y=m.return)&&y.call(m)}finally{if(d)throw d.error}}if(b)try{for(var w=n(b),O=w.next();!O.done;O=w.next()){var E=O.value;a.arrRemove(f,E),c.next(E)}}catch(S){p={error:S}}finally{try{O&&!O.done&&(g=w.return)&&g.call(w)}finally{if(p)throw p.error}}},function(){var v,d;try{for(var y=n(f),p=y.next();!p.done;p=y.next()){var g=p.value;c.next(g)}}catch(b){v={error:b}}finally{try{p&&!p.done&&(d=y.return)&&d.call(y)}finally{if(v)throw v.error}}c.complete()},void 0,function(){f=null}))})}},5584:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.raceInit=e.race=void 0;var n=t(4662),i=t(9445),o=t(8535),a=t(3111);function u(s){return function(l){for(var c=[],f=function(v){c.push(i.innerFrom(s[v]).subscribe(a.createOperatorSubscriber(l,function(d){if(c){for(var y=0;y<c.length;y++)y!==v&&c[y].unsubscribe();c=null}l.next(d)})))},h=0;c&&!l.closed&&h<s.length;h++)f(h)}}e.race=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return(s=o.argsOrArgArray(s)).length===1?i.innerFrom(s[0]):new n.Observable(u(s))},e.raceInit=u},5592:(r,e,t)=>{var n=t(7192);n=n.slice().filter(function(i){return!/^(gl\_|texture)/.test(i)}),r.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},5600:function(r,e,t){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,v=c.call(s),d=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return d},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.raceWith=void 0;var o=t(5584),a=t(7843),u=t(6640);e.raceWith=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return s.length?a.operate(function(c,f){o.raceInit(i([c],n(s)))(f)}):u.identity}},5636:(r,e,t)=>{var n=t(1048),i=n.Buffer;function o(u,s){for(var l in u)s[l]=u[l]}function a(u,s,l){return i(u,s,l)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(u,s,l){if(typeof u=="number")throw new TypeError("Argument must not be a number");return i(u,s,l)},a.alloc=function(u,s,l){if(typeof u!="number")throw new TypeError("Argument must be a number");var c=i(u);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return i(u)},a.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(u)}},5642:function(r,e,t){var n=this&&this.__extends||function(){var m=function(_,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,E){O.__proto__=E}||function(O,E){for(var S in E)Object.prototype.hasOwnProperty.call(E,S)&&(O[S]=E[S])},m(_,w)};return function(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function O(){this.constructor=_}m(_,w),_.prototype=w===null?Object.create(w):(O.prototype=w.prototype,new O)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(m){for(var _,w=1,O=arguments.length;w<O;w++)for(var E in _=arguments[w])Object.prototype.hasOwnProperty.call(_,E)&&(m[E]=_[E]);return m},i.apply(this,arguments)},o=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(2857)),u=o(t(7021)),s=t(397),l=t(9014),c=o(t(1175)),f=o(t(3321)),h=t(9305),v=(h.internal.bookmarks.Bookmarks,h.internal.constants.BOLT_PROTOCOL_V3),d=h.internal.txConfig.TxConfig,y="context",p="CALL dbms.cluster.routing.getRoutingTable($".concat(y,")"),g=new l.StreamObserver,b=function(m){function _(){return m!==null&&m.apply(this,arguments)||this}return n(_,m),Object.defineProperty(_.prototype,"version",{get:function(){return v},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"transformer",{get:function(){var w=this;return this._transformer===void 0&&(this._transformer=new f.default(Object.values(c.default).map(function(O){return O(w._config,w._log)}))),this._transformer},enumerable:!1,configurable:!0}),_.prototype.transformMetadata=function(w){return"t_first"in w&&(w.result_available_after=w.t_first,delete w.t_first),"t_last"in w&&(w.result_consumed_after=w.t_last,delete w.t_last),w},_.prototype.initialize=function(w){var O=this,E=w===void 0?{}:w,S=E.userAgent,P=(E.boltAgent,E.authToken),I=E.notificationFilter,R=E.onError,D=E.onComplete,k=new l.LoginObserver({onError:function(N){return O._onLoginError(N,R)},onCompleted:function(N){return O._onLoginCompleted(N,P,D)}});return(0,s.assertNotificationFilterIsEmpty)(I,this._onProtocolError,k),this.write(u.default.hello(S,P),k,!0),k},_.prototype.prepareToClose=function(){this.write(u.default.goodbye(),g,!0)},_.prototype.beginTransaction=function(w){var O=w===void 0?{}:w,E=O.bookmarks,S=O.txConfig,P=O.database,I=O.impersonatedUser,R=O.notificationFilter,D=O.mode,k=O.beforeError,N=O.afterError,B=O.beforeComplete,z=O.afterComplete,F=new l.ResultStreamObserver({server:this._server,beforeError:k,afterError:N,beforeComplete:B,afterComplete:z});return F.prepareToHandleSingleResponse(),(0,s.assertDatabaseIsEmpty)(P,this._onProtocolError,F),(0,s.assertImpersonatedUserIsEmpty)(I,this._onProtocolError,F),(0,s.assertNotificationFilterIsEmpty)(R,this._onProtocolError,F),this.write(u.default.begin({bookmarks:E,txConfig:S,mode:D}),F,!0),F},_.prototype.commitTransaction=function(w){var O=w===void 0?{}:w,E=O.beforeError,S=O.afterError,P=O.beforeComplete,I=O.afterComplete,R=new l.ResultStreamObserver({server:this._server,beforeError:E,afterError:S,beforeComplete:P,afterComplete:I});return R.prepareToHandleSingleResponse(),this.write(u.default.commit(),R,!0),R},_.prototype.rollbackTransaction=function(w){var O=w===void 0?{}:w,E=O.beforeError,S=O.afterError,P=O.beforeComplete,I=O.afterComplete,R=new l.ResultStreamObserver({server:this._server,beforeError:E,afterError:S,beforeComplete:P,afterComplete:I});return R.prepareToHandleSingleResponse(),this.write(u.default.rollback(),R,!0),R},_.prototype.run=function(w,O,E){var S=E===void 0?{}:E,P=S.bookmarks,I=S.txConfig,R=S.database,D=S.impersonatedUser,k=S.notificationFilter,N=S.mode,B=S.beforeKeys,z=S.afterKeys,F=S.beforeError,U=S.afterError,W=S.beforeComplete,Y=S.afterComplete,X=S.flush,Q=X===void 0||X,ue=S.highRecordWatermark,ce=ue===void 0?Number.MAX_VALUE:ue,ae=S.lowRecordWatermark,pe=ae===void 0?Number.MAX_VALUE:ae,fe=new l.ResultStreamObserver({server:this._server,beforeKeys:B,afterKeys:z,beforeError:F,afterError:U,beforeComplete:W,afterComplete:Y,highRecordWatermark:ce,lowRecordWatermark:pe});return(0,s.assertDatabaseIsEmpty)(R,this._onProtocolError,fe),(0,s.assertImpersonatedUserIsEmpty)(D,this._onProtocolError,fe),(0,s.assertNotificationFilterIsEmpty)(k,this._onProtocolError,fe),this.write(u.default.runWithMetadata(w,O,{bookmarks:P,txConfig:I,mode:N}),fe,!1),this.write(u.default.pullAll(),fe,Q),fe},_.prototype.requestRoutingInformation=function(w){var O,E=w.routingContext,S=E===void 0?{}:E,P=w.sessionContext,I=P===void 0?{}:P,R=w.onError,D=w.onCompleted,k=this.run(p,((O={})[y]=S,O),i(i({},I),{txConfig:d.empty()}));return new l.ProcedureRouteObserver({resultObserver:k,onProtocolError:this._onProtocolError,onError:R,onCompleted:D})},_}(a.default);e.default=b},5648:function(r,e,t){var n=this&&this.__extends||function(){var a=function(u,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},a(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}a(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.AsyncScheduler=void 0;var i=t(8986),o=function(a){function u(s,l){l===void 0&&(l=i.Scheduler.now);var c=a.call(this,s,l)||this;return c.actions=[],c._active=!1,c}return n(u,a),u.prototype.flush=function(s){var l=this.actions;if(this._active)l.push(s);else{var c;this._active=!0;do if(c=s.execute(s.state,s.delay))break;while(s=l.shift());if(this._active=!1,c){for(;s=l.shift();)s.unsubscribe();throw c}}},u}(i.Scheduler);e.AsyncScheduler=o},5649:function(r,e){var t=this&&this.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var u,s,l=a.call(i),c=[];try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){s={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return c},n=this&&this.__spreadArray||function(i,o){for(var a=0,u=o.length,s=i.length;a<u;a++,s++)i[s]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.intervalProvider=void 0,e.intervalProvider={setInterval:function(i,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.intervalProvider.delegate;return s?.setInterval?s.setInterval.apply(s,n([i,o],t(a))):setInterval.apply(void 0,n([i,o],t(a)))},clearInterval:function(i){var o=e.intervalProvider.delegate;return(o?.clearInterval||clearInterval)(i)},delegate:void 0}},5742:function(r,e,t){var n=this&&this.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(8813),o=n(t(3057)),a=(n(t(9305)),function(){function u(s){this._txc=s}return u.prototype.run=function(s,l){var c=this;return new o.default(new i.Observable(function(f){try{f.next(c._txc.run(s,l)),f.complete()}catch(h){f.error(h)}return function(){}}))},u.prototype.commit=function(){var s=this;return new i.Observable(function(l){s._txc.commit().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u.prototype.rollback=function(){var s=this;return new i.Observable(function(l){s._txc.rollback().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u.prototype.isOpen=function(){return this._txc.isOpen()},u.prototype.close=function(){var s=this;return new i.Observable(function(l){s._txc.close().then(function(){l.complete()}).catch(function(c){return l.error(c)})})},u}());e.default=a},5788:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UnsubscriptionError=void 0;var n=t(5568);e.UnsubscriptionError=n.createErrorClass(function(i){return function(o){i(this),this.message=o?o.length+` errors occurred during unsubscription:
`+o.map(function(a,u){return u+1+") "+a.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=o}})},5815:function(r,e,t){var n=this&&this.__extends||function(){var p=function(g,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(m[w]=_[w])},p(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function m(){this.constructor=g}p(g,b),g.prototype=b===null?Object.create(b):(m.prototype=b.prototype,new m)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(p){for(var g,b=1,m=arguments.length;b<m;b++)for(var _ in g=arguments[b])Object.prototype.hasOwnProperty.call(g,_)&&(p[_]=g[_]);return p},i.apply(this,arguments)},o=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(9744)),u=o(t(9238)),s=o(t(3321)),l=o(t(7021)),c=t(9014),f=t(9305).internal.constants,h=f.BOLT_PROTOCOL_V5_5,v=f.FETCH_ALL,d=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),y=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return n(g,p),Object.defineProperty(g.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"transformer",{get:function(){var b=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(m){return m(b._config,b._log)}))),this._transformer},enumerable:!1,configurable:!0}),g.prototype.initialize=function(b){var m=this,_=b===void 0?{}:b,w=_.userAgent,O=_.boltAgent,E=_.authToken,S=_.notificationFilter,P=_.onError,I=_.onComplete,R={},D=new c.LoginObserver({onError:function(k){return m._onLoginError(k,P)},onCompleted:function(k){return R.metadata=k,m._onLoginCompleted(k)}});return this.write(l.default.hello5x5(w,O,S,this._serversideRouting),D,!1),this.logon({authToken:E,onComplete:function(k){return I(i(i({},k),R.metadata))},onError:P,flush:!0})},g.prototype.beginTransaction=function(b){var m=b===void 0?{}:b,_=m.bookmarks,w=m.txConfig,O=m.database,E=m.mode,S=m.impersonatedUser,P=m.notificationFilter,I=m.beforeError,R=m.afterError,D=m.beforeComplete,k=m.afterComplete,N=new c.ResultStreamObserver({server:this._server,beforeError:I,afterError:R,beforeComplete:D,afterComplete:k});return N.prepareToHandleSingleResponse(),this.write(l.default.begin5x5({bookmarks:_,txConfig:w,database:O,mode:E,impersonatedUser:S,notificationFilter:P}),N,!0),N},g.prototype.run=function(b,m,_){var w=_===void 0?{}:_,O=w.bookmarks,E=w.txConfig,S=w.database,P=w.mode,I=w.impersonatedUser,R=w.notificationFilter,D=w.beforeKeys,k=w.afterKeys,N=w.beforeError,B=w.afterError,z=w.beforeComplete,F=w.afterComplete,U=w.flush,W=U===void 0||U,Y=w.reactive,X=Y!==void 0&&Y,Q=w.fetchSize,ue=Q===void 0?v:Q,ce=w.highRecordWatermark,ae=ce===void 0?Number.MAX_VALUE:ce,pe=w.lowRecordWatermark,fe=pe===void 0?Number.MAX_VALUE:pe,he=new c.ResultStreamObserver({server:this._server,reactive:X,fetchSize:ue,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:D,afterKeys:k,beforeError:N,afterError:B,beforeComplete:z,afterComplete:F,highRecordWatermark:ae,lowRecordWatermark:fe,enrichMetadata:this._enrichMetadata}),ee=X;return this.write(l.default.runWithMetadata5x5(b,m,{bookmarks:O,txConfig:E,database:S,mode:P,impersonatedUser:I,notificationFilter:R}),he,ee&&W),X||this.write(l.default.pull({n:ue}),he,W),he},g.prototype._enrichMetadata=function(b){return Array.isArray(b.statuses)&&(b.statuses=b.statuses.map(function(m){return i(i({},m),{description:m.neo4j_code!=null?m.status_description:m.description,diagnostic_record:m.diagnostic_record!==null?i(i({},d),m.diagnostic_record):null})})),b},g}(a.default);e.default=y},5837:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromVersion=void 0,e.fromVersion=function(t,n){n===void 0&&(n=function(){return{get userAgent(){}}});var i=n(),o=i.userAgent!=null?i.userAgent.split("(")[1].split(")")[0]:void 0,a=i.userAgent||void 0;return{product:"neo4j-javascript/".concat(t),platform:o,languageDetails:a}}},5880:function(r,e,t){var n,i;n=function(){var o=function(){},a="undefined",u=typeof window!==a&&typeof window.navigator!==a&&/Trident\/|MSIE /.test(window.navigator.userAgent),s=["trace","debug","info","warn","error"],l={},c=null;function f(b,m){var _=b[m];if(typeof _.bind=="function")return _.bind(b);try{return Function.prototype.bind.call(_,b)}catch{return function(){return Function.prototype.apply.apply(_,[b,arguments])}}}function h(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function v(){for(var b=this.getLevel(),m=0;m<s.length;m++){var _=s[m];this[_]=m<b?o:this.methodFactory(_,b,this.name)}if(this.log=this.debug,typeof console===a&&b<this.levels.SILENT)return"No console available for logging"}function d(b){return function(){typeof console!==a&&(v.call(this),this[b].apply(this,arguments))}}function y(b,m,_){return function(w){return w==="debug"&&(w="log"),typeof console!==a&&(w==="trace"&&u?h:console[w]!==void 0?f(console,w):console.log!==void 0?f(console,"log"):o)}(b)||d.apply(this,arguments)}function p(b,m){var _,w,O,E=this,S="loglevel";function P(){var D;if(typeof window!==a&&S){try{D=window.localStorage[S]}catch{}if(typeof D===a)try{var k=window.document.cookie,N=encodeURIComponent(S),B=k.indexOf(N+"=");B!==-1&&(D=/^([^;]+)/.exec(k.slice(B+N.length+1))[1])}catch{}return E.levels[D]===void 0&&(D=void 0),D}}function I(D){var k=D;if(typeof k=="string"&&E.levels[k.toUpperCase()]!==void 0&&(k=E.levels[k.toUpperCase()]),typeof k=="number"&&k>=0&&k<=E.levels.SILENT)return k;throw new TypeError("log.setLevel() called with invalid level: "+D)}typeof b=="string"?S+=":"+b:typeof b=="symbol"&&(S=void 0),E.name=b,E.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},E.methodFactory=m||y,E.getLevel=function(){return O??w??_},E.setLevel=function(D,k){return O=I(D),k!==!1&&function(N){var B=(s[N]||"silent").toUpperCase();if(typeof window!==a&&S){try{return void(window.localStorage[S]=B)}catch{}try{window.document.cookie=encodeURIComponent(S)+"="+B+";"}catch{}}}(O),v.call(E)},E.setDefaultLevel=function(D){w=I(D),P()||E.setLevel(D,!1)},E.resetLevel=function(){O=null,function(){if(typeof window!==a&&S){try{window.localStorage.removeItem(S)}catch{}try{window.document.cookie=encodeURIComponent(S)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}(),v.call(E)},E.enableAll=function(D){E.setLevel(E.levels.TRACE,D)},E.disableAll=function(D){E.setLevel(E.levels.SILENT,D)},E.rebuild=function(){if(c!==E&&(_=I(c.getLevel())),v.call(E),c===E)for(var D in l)l[D].rebuild()},_=I(c?c.getLevel():"WARN");var R=P();R!=null&&(O=I(R)),v.call(E)}(c=new p).getLogger=function(b){if(typeof b!="symbol"&&typeof b!="string"||b==="")throw new TypeError("You must supply a name when creating a logger.");var m=l[b];return m||(m=l[b]=new p(b,c.methodFactory)),m};var g=typeof window!==a?window.log:void 0;return c.noConflict=function(){return typeof window!==a&&window.log===c&&(window.log=g),c},c.getLoggers=function(){return l},c.default=c,c},(i=n.call(e,t,e,r))===void 0||(r.exports=i)},5909:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function n(i){var o=i.run;this._run=o}return n.fromTransaction=function(i){return new n({run:i.run.bind(i)})},n.prototype.run=function(i,o){return this._run(i,o)},n}();e.default=t},5918:function(r,e,t){var n=this&&this.__read||function(u,s){var l=typeof Symbol=="function"&&u[Symbol.iterator];if(!l)return u;var c,f,h=l.call(u),v=[];try{for(;(s===void 0||s-- >0)&&!(c=h.next()).done;)v.push(c.value)}catch(d){f={error:d}}finally{try{c&&!c.done&&(l=h.return)&&l.call(h)}finally{if(f)throw f.error}}return v},i=this&&this.__spreadArray||function(u,s){for(var l=0,c=s.length,f=u.length;l<c;l++,f++)u[f]=s[l];return u};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var o=t(7286),a=t(7843);e.zip=function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];return a.operate(function(l,c){o.zip.apply(void 0,i([l],n(u))).subscribe(c)})}},5973:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.epochSecondAndNanoToLocalDateTime=e.nanoOfDayToLocalTime=e.epochDayToDate=void 0;var n=t(9305),i=n.internal.temporalUtil,o=i.DAYS_0000_TO_1970,a=i.DAYS_PER_400_YEAR_CYCLE,u=i.NANOS_PER_HOUR,s=i.NANOS_PER_MINUTE,l=i.NANOS_PER_SECOND,c=i.SECONDS_PER_DAY,f=i.floorDiv,h=i.floorMod;function v(y){var p=(y=(0,n.int)(y)).add(o).subtract(60),g=(0,n.int)(0);if(p.lessThan(0)){var b=p.add(1).div(a).subtract(1);g=b.multiply(400),p=p.add(b.multiply(-a))}var m=p.multiply(400).add(591).div(a),_=p.subtract(m.multiply(365).add(m.div(4)).subtract(m.div(100)).add(m.div(400)));_.lessThan(0)&&(m=m.subtract(1),_=p.subtract(m.multiply(365).add(m.div(4)).subtract(m.div(100)).add(m.div(400)))),m=m.add(g);var w=_,O=w.multiply(5).add(2).div(153),E=O.add(2).modulo(12).add(1),S=w.subtract(O.multiply(306).add(5).div(10)).add(1);return m=m.add(O.div(10)),new n.Date(m,E,S)}function d(y){var p=(y=(0,n.int)(y)).div(u),g=(y=y.subtract(p.multiply(u))).div(s),b=(y=y.subtract(g.multiply(s))).div(l),m=y.subtract(b.multiply(l));return new n.LocalTime(p,g,b,m)}e.epochDayToDate=v,e.nanoOfDayToLocalTime=d,e.epochSecondAndNanoToLocalDateTime=function(y,p){var g=f(y,c),b=h(y,c).multiply(l).add(p),m=v(g),_=d(b);return new n.LocalDateTime(m.year,m.month,m.day,_.hour,_.minute,_.second,_.nanosecond)}},6013:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createObject=void 0,e.createObject=function(t,n){return t.reduce(function(i,o,a){return i[o]=n[a],i},{})}},6030:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.cacheKey=void 0;var n=t(4027);e.cacheKey=function(i,o){var a;return o!=null?"basic:"+o:i===void 0?"DEFAULT":i.scheme==="basic"?"basic:"+((a=i.principal)!==null&&a!==void 0?a:""):i.scheme==="kerberos"?"kerberos:"+i.credentials:i.scheme==="bearer"?"bearer:"+i.credentials:i.scheme==="none"?"none":(0,n.stringify)(i,{sortedElements:!0})}},6033:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.ServerInfo=e.queryType=void 0;var n=t(6995),i=t(1866),o=function(){function f(h,v,d,y){var p,g,b;this.query={text:h,parameters:v},this.queryType=d.type,this.counters=new s((p=d.stats)!==null&&p!==void 0?p:{}),this.updateStatistics=this.counters,this.plan=(d.plan!=null||d.profile!=null)&&new a((g=d.plan)!==null&&g!==void 0?g:d.profile),this.profile=d.profile!=null&&new u(d.profile),this.notifications=(0,i.buildNotificationsFromMetadata)(d),this.gqlStatusObjects=(0,i.buildGqlStatusObjectFromMetadata)(d),this.server=new l(d.server,y),this.resultConsumedAfter=d.result_consumed_after,this.resultAvailableAfter=d.result_available_after,this.database={name:(b=d.db)!==null&&b!==void 0?b:null}}return f.prototype.hasPlan=function(){return this.plan instanceof a},f.prototype.hasProfile=function(){return this.profile instanceof u},f}(),a=function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.children=h.children!=null?h.children.map(function(v){return new f(v)}):[]};e.Plan=a;var u=function(){function f(h){this.operatorType=h.operatorType,this.identifiers=h.identifiers,this.arguments=h.args,this.dbHits=c("dbHits",h),this.rows=c("rows",h),this.pageCacheMisses=c("pageCacheMisses",h),this.pageCacheHits=c("pageCacheHits",h),this.pageCacheHitRatio=c("pageCacheHitRatio",h),this.time=c("time",h),this.children=h.children!=null?h.children.map(function(v){return new f(v)}):[]}return f.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},f}();e.ProfiledPlan=u,e.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var s=function(){function f(h){var v=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(h).forEach(function(d){var y=d.replace(/(-\w)/g,function(p){return p[1].toUpperCase()});y in v._stats?v._stats[y]=n.util.toNumber(h[d]):y==="systemUpdates"?v._systemUpdates=n.util.toNumber(h[d]):y==="containsSystemUpdates"?v._containsSystemUpdates=h[d]:y==="containsUpdates"&&(v._containsUpdates=h[d])}),this._stats=Object.freeze(this._stats)}return f.prototype.containsUpdates=function(){var h=this;return this._containsUpdates!==void 0?this._containsUpdates:Object.keys(this._stats).reduce(function(v,d){return v+h._stats[d]},0)>0},f.prototype.updates=function(){return this._stats},f.prototype.containsSystemUpdates=function(){return this._containsSystemUpdates!==void 0?this._containsSystemUpdates:this._systemUpdates>0},f.prototype.systemUpdates=function(){return this._systemUpdates},f}();e.QueryStatistics=s;var l=function(f,h){f!=null&&(this.address=f.address,this.agent=f.version),this.protocolVersion=h};function c(f,h,v){if(v===void 0&&(v=0),h!==!1&&f in h){var d=h[f];return n.util.toNumber(d)}return v}e.ServerInfo=l,e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},e.default=o},6038:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0})},6086:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sampleTime=void 0;var n=t(7961),i=t(1731),o=t(6472);e.sampleTime=function(a,u){return u===void 0&&(u=n.asyncScheduler),i.sample(o.interval(a,u))}},6102:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.onErrorResumeNext=void 0;var n=t(4662),i=t(8535),o=t(3111),a=t(1342),u=t(9445);e.onErrorResumeNext=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=i.argsOrArgArray(s);return new n.Observable(function(f){var h=0,v=function(){if(h<c.length){var d=void 0;try{d=u.innerFrom(c[h++])}catch{return void v()}var y=new o.OperatorSubscriber(f,void 0,a.noop,a.noop);d.subscribe(y),y.add(v)}else f.complete()};v()})}},6106:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishLast=void 0;var n=t(95),i=t(8918);e.publishLast=function(){return function(o){var a=new n.AsyncSubject;return new i.ConnectableObservable(o,function(){return a})}}},6161:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(6248));e.default=n({},o.default)},6189:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(d){for(var y,p=1,g=arguments.length;p<g;p++)for(var b in y=arguments[p])Object.prototype.hasOwnProperty.call(y,b)&&(d[b]=y[b]);return d},n.apply(this,arguments)},i=this&&this.__awaiter||function(d,y,p,g){return new(p||(p=Promise))(function(b,m){function _(E){try{O(g.next(E))}catch(S){m(S)}}function w(E){try{O(g.throw(E))}catch(S){m(S)}}function O(E){var S;E.done?b(E.value):(S=E.value,S instanceof p?S:new p(function(P){P(S)})).then(_,w)}O((g=g.apply(d,y||[])).next())})},o=this&&this.__generator||function(d,y){var p,g,b,m,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return m={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function w(O){return function(E){return function(S){if(p)throw new TypeError("Generator is already executing.");for(;m&&(m=0,S[0]&&(_=0)),_;)try{if(p=1,g&&(b=2&S[0]?g.return:S[0]?g.throw||((b=g.return)&&b.call(g),0):g.next)&&!(b=b.call(g,S[1])).done)return b;switch(g=0,b&&(S=[2&S[0],b.value]),S[0]){case 0:case 1:b=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,g=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||S[0]!==6&&S[0]!==2)){_=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){_.label=S[1];break}if(S[0]===6&&_.label<b[1]){_.label=b[1],b=S;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(S);break}b[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(d,_)}catch(P){S=[6,P],g=0}finally{p=b=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([O,E])}}},a=this&&this.__read||function(d,y){var p=typeof Symbol=="function"&&d[Symbol.iterator];if(!p)return d;var g,b,m=p.call(d),_=[];try{for(;(y===void 0||y-- >0)&&!(g=m.next()).done;)_.push(g.value)}catch(w){b={error:w}}finally{try{g&&!g.done&&(p=m.return)&&p.call(m)}finally{if(b)throw b.error}}return _},u=this&&this.__spreadArray||function(d,y,p){if(p||arguments.length===2)for(var g,b=0,m=y.length;b<m;b++)!g&&b in y||(g||(g=Array.prototype.slice.call(y,0,b)),g[b]=y[b]);return d.concat(g||Array.prototype.slice.call(y))};Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionExecutor=void 0;var s=t(9691),l=t(326);function c(d,y){for(var p=[],g=2;g<arguments.length;g++)p[g-2]=arguments[g];return setTimeout.apply(void 0,u([d,y],a(p),!1))}function f(d){return clearTimeout(d)}var h=function(){function d(y,p,g,b,m){m===void 0&&(m={setTimeout:c,clearTimeout:f}),this._maxRetryTimeMs=v(y,3e4),this._initialRetryDelayMs=v(p,1e3),this._multiplier=v(g,2),this._jitterFactor=v(b,.2),this._setTimeout=m.setTimeout,this._clearTimeout=m.clearTimeout,this._inFlightTimeoutIds=[],this.pipelineBegin=!1,this.telemetryApi=l.TELEMETRY_APIS.MANAGED_TRANSACTION,this._verifyAfterConstruction()}return d.prototype.execute=function(y,p,g){var b=this,m={apiTransactionConfig:{api:this.telemetryApi,onTelemetrySuccess:function(){m.apiTransactionConfig=void 0}}};return new Promise(function(_,w){b._executeTransactionInsidePromise(y,p,_,w,g,m).catch(w)}).catch(function(_){var w=Date.now(),O=b._initialRetryDelayMs;return b._retryTransactionPromise(y,p,_,w,O,g,m)})},d.prototype.close=function(){var y=this;this._inFlightTimeoutIds.forEach(function(p){return y._clearTimeout(p)}),this._inFlightTimeoutIds=[]},d.prototype._retryTransactionPromise=function(y,p,g,b,m,_,w){var O=this;return Date.now()-b>this._maxRetryTimeMs||!(0,s.isRetriableError)(g)?Promise.reject(g):new Promise(function(E,S){var P=O._computeDelayWithJitter(m),I=O._setTimeout(function(){O._inFlightTimeoutIds=O._inFlightTimeoutIds.filter(function(R){return R!==I}),O._executeTransactionInsidePromise(y,p,E,S,_,w).catch(S)},P);O._inFlightTimeoutIds.push(I)}).catch(function(E){var S=m*O._multiplier;return O._retryTransactionPromise(y,p,E,b,S,_,w)})},d.prototype._executeTransactionInsidePromise=function(y,p,g,b,m,_){return i(this,void 0,void 0,function(){var w,O,E,S,P,I,R=this;return o(this,function(D){switch(D.label){case 0:return D.trys.push([0,4,,5]),O=y(_?.apiTransactionConfig!=null?n({},_?.apiTransactionConfig):void 0),this.pipelineBegin?(E=O,[3,3]):[3,1];case 1:return[4,O];case 2:E=D.sent(),D.label=3;case 3:return w=E,[3,5];case 4:return S=D.sent(),b(S),[2];case 5:return P=m??function(k){return k},I=P(w),this._safeExecuteTransactionWork(I,p).then(function(k){return R._handleTransactionWorkSuccess(k,w,g,b)}).catch(function(k){return R._handleTransactionWorkFailure(k,w,b)}),[2]}})})},d.prototype._safeExecuteTransactionWork=function(y,p){try{var g=p(y);return Promise.resolve(g)}catch(b){return Promise.reject(b)}},d.prototype._handleTransactionWorkSuccess=function(y,p,g,b){p.isOpen()?p.commit().then(function(){g(y)}).catch(function(m){b(m)}):g(y)},d.prototype._handleTransactionWorkFailure=function(y,p,g){p.isOpen()?p.rollback().catch(function(b){}).then(function(){return g(y)}).catch(g):g(y)},d.prototype._computeDelayWithJitter=function(y){var p=y*this._jitterFactor,g=y-p,b=y+p;return Math.random()*(b-g)+g},d.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,s.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs.toString());if(this._initialRetryDelayMs<0)throw(0,s.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs.toString());if(this._multiplier<1)throw(0,s.newError)("Multiplier should be >= 1.0: "+this._multiplier.toString());if(this._jitterFactor<0||this._jitterFactor>1)throw(0,s.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor.toFixed())},d}();function v(d,y){return d??y}e.TransactionExecutor=h},6245:function(r,e,t){var n=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(t(5319)),o=t(9305),a=o.internal.util,u=a.ENCRYPTION_OFF,s=a.ENCRYPTION_ON,l=function(){function f(h,v,d){v===void 0&&(v=c),d===void 0&&(d=function(_){return new WebSocket(_)});var y=this;this._open=!0,this._pending=[],this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._config=h,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._receiveTimeoutId=null,this._closingPromise=null;var p=function(_,w){var O=function(I){return I.encrypted===!0||I.encrypted===s}(_),E=function(I){return I.encrypted===!1||I.encrypted===u}(_),S=_.trust,P=function(I){var R=typeof I=="function"?I():"";return R&&R.toLowerCase().indexOf("https")>=0}(w);return function(I,R,D){D===null||(I&&!D?console.warn("Neo4j driver is configured to use secure WebSocket on a HTTP web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to not use encryption."):R&&D&&console.warn("Neo4j driver is configured to use insecure WebSocket on a HTTPS web page. WebSockets might not work in a mixed content environment. Please consider configuring driver to use encryption."))}(O,E,P),E?{scheme:"ws",error:null}:P?{scheme:"wss",error:null}:O?S&&S!=="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"?{scheme:null,error:(0,o.newError)("The browser version of this driver only supports one trust strategy, 'TRUST_SYSTEM_CA_SIGNED_CERTIFICATES'. "+S+' is not supported. Please either use TRUST_SYSTEM_CA_SIGNED_CERTIFICATES or disable encryption by setting `encrypted:"'+u+'"` in the driver configuration.')}:{scheme:"wss",error:null}:{scheme:"ws",error:null}}(h,v),g=p.scheme,b=p.error;if(b)this._error=b;else{this._ws=function(_,w,O){var E=_+"://"+w.asHostPort();try{return O(E)}catch(P){if(function(I,R){return I.name==="SyntaxError"&&(D=R.asHostPort()).charAt(0)==="["&&D.indexOf("]")!==-1;var D}(P,w)){var S=function(I,R){var D=R.host().replace(/:/g,"-").replace("%","s")+".ipv6-literal.net";return"".concat(I,"://").concat(D,":").concat(R.port())}(_,w);return O(S)}throw P}}(g,h.address,d),this._ws.binaryType="arraybuffer";var m=this;this._ws.onclose=function(_){_&&!_.wasClean&&m._handleConnectionError(),m._open=!1},this._ws.onopen=function(){m._clearConnectionTimeout();var _=m._pending;m._pending=null;for(var w=0;w<_.length;w++)m.write(_[w])},this._ws.onmessage=function(_){if(y._resetTimeout(),m.onmessage){var w=new i.default(_.data);m.onmessage(w)}},this._ws.onerror=this._handleConnectionError,this._connectionTimeoutFired=!1,this._connectionTimeoutId=this._setupConnectionTimeout()}}return f.prototype._handleConnectionError=function(){if(this._connectionTimeoutFired)return this._error=(0,o.newError)("Failed to establish connection in ".concat(this._config.connectionTimeout,"ms"),this._config.connectionErrorCode),void(this.onerror&&this.onerror(this._error));this._open&&!this._timedout&&(this._error=(0,o.newError)("WebSocket connection failure. Due to security constraints in your web browser, the reason for the failure is not available to this Neo4j Driver. Please use your browsers development console to determine the root cause of the failure. Common reasons include the database being unavailable, using the wrong connection URL or temporary network problems. If you have enabled encryption, ensure your browser is configured to trust the certificate Neo4j is configured to use. WebSocket `readyState` is: "+this._ws.readyState,this._config.connectionErrorCode),this.onerror&&this.onerror(this._error))},f.prototype.write=function(h){if(this._pending!==null)this._pending.push(h);else{if(!(h instanceof i.default))throw(0,o.newError)("Don't know how to send buffer: "+h);try{this._ws.send(h._buffer)}catch(v){if(this._ws.readyState===1)throw(0,o.newError)("unexpected failure to write.",void 0,v);this._handleConnectionError()}}},f.prototype.close=function(){var h=this;return this._closingPromise===null&&(this._closingPromise=new Promise(function(v,d){h._clearConnectionTimeout(),h._ws&&h._ws.readyState!==3?(h._open=!1,h.stopReceiveTimeout(),h._ws.onclose=function(){v()},h._ws.close()):v()})),this._closingPromise},f.prototype.setupReceiveTimeout=function(h){this._receiveTimeout=h},f.prototype.stopReceiveTimeout=function(){this._receiveTimeout!==null&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._receiveTimeoutId!=null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=null)},f.prototype.startReceiveTimeout=function(){this._open&&this._receiveTimeout!==null&&!this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!0,this._resetTimeout())},f.prototype._resetTimeout=function(){var h=this;this._receiveTimeoutStarted&&(this._receiveTimeoutId!==null&&clearTimeout(this._receiveTimeoutId),this._receiveTimeoutId=setTimeout(function(){h._receiveTimeoutId=null,h._timedout=!0,h.stopReceiveTimeout(),h._error=(0,o.newError)("Connection lost. Server didn't respond in ".concat(h._receiveTimeout,"ms"),h._config.connectionErrorCode),h.close(),h.onerror&&h.onerror(h._error)},this._receiveTimeout))},f.prototype._setupConnectionTimeout=function(){var h=this,v=this._config.connectionTimeout;if(v){var d=this._ws;return setTimeout(function(){d.readyState!==1&&(h._connectionTimeoutFired=!0,d.close())},v)}return null},f.prototype._clearConnectionTimeout=function(){var h=this._connectionTimeoutId;(h||h===0)&&(this._connectionTimeoutFired=!1,this._connectionTimeoutId=null,clearTimeout(h))},f}();function c(){return typeof window<"u"&&window.location?window.location.protocol:null}e.default=l},6248:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(3399));e.default=n({},o.default)},6293:function(r,e,t){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,v=c.call(s),d=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return d},i=this&&this.__spreadArray||function(s,l){for(var c=0,f=l.length,h=s.length;c<f;c++,h++)s[h]=l[c];return s};Object.defineProperty(e,"__esModule",{value:!0}),e.immediateProvider=void 0;var o=t(7245),a=o.Immediate.setImmediate,u=o.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];var c=e.immediateProvider.delegate;return(c?.setImmediate||a).apply(void 0,i([],n(s)))},clearImmediate:function(s){var l=e.immediateProvider.delegate;return(l?.clearImmediate||u)(s)},delegate:void 0}},6345:function(r,e,t){var n=this&&this.__extends||function(){var d=function(y,p){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,b){g.__proto__=b}||function(g,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(g[m]=b[m])},d(y,p)};return function(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function g(){this.constructor=y}d(y,p),y.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(d){for(var y,p=1,g=arguments.length;p<g;p++)for(var b in y=arguments[p])Object.prototype.hasOwnProperty.call(y,b)&&(d[b]=y[b]);return d},i.apply(this,arguments)},o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(844)),u=t(397),s=o(t(9994)),l=o(t(3321)),c=o(t(7021)),f=t(9014),h=t(9305).internal.constants.BOLT_PROTOCOL_V5_1,v=function(d){function y(){return d!==null&&d.apply(this,arguments)||this}return n(y,d),Object.defineProperty(y.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"transformer",{get:function(){var p=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(s.default).map(function(g){return g(p._config,p._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"supportsReAuth",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.initialize=function(p){var g=this,b=p===void 0?{}:p,m=b.userAgent,_=(b.boltAgent,b.authToken),w=b.notificationFilter,O=b.onError,E=b.onComplete,S={},P=new f.LoginObserver({onError:function(I){return g._onLoginError(I,O)},onCompleted:function(I){return S.metadata=I,g._onLoginCompleted(I)}});return(0,u.assertNotificationFilterIsEmpty)(w,this._onProtocolError,P),this.write(c.default.hello5x1(m,this._serversideRouting),P,!1),this.logon({authToken:_,onComplete:function(I){return E(i(i({},I),S.metadata))},onError:O,flush:!0})},y.prototype.logon=function(p){var g=this,b=p===void 0?{}:p,m=b.authToken,_=b.onComplete,w=b.onError,O=b.flush,E=new f.LoginObserver({onCompleted:function(){return g._onLoginCompleted(null,m,_)},onError:function(S){return g._onLoginError(S,w)}});return this.write(c.default.logon(m),E,O),E},y.prototype.logoff=function(p){var g=p===void 0?{}:p,b=g.onComplete,m=g.onError,_=g.flush,w=new f.LogoffObserver({onCompleted:b,onError:m});return this.write(c.default.logoff(),w,_),w},y}(a.default);e.default=v},6368:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isIterable=void 0;var n=t(1964),i=t(1018);e.isIterable=function(o){return i.isFunction(o?.[n.iterator])}},6377:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(h){for(var v,d=1,y=arguments.length;d<y;d++)for(var p in v=arguments[d])Object.prototype.hasOwnProperty.call(v,p)&&(h[p]=v[p]);return h},i.apply(this,arguments)},o=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(6890)),u=o(t(6248)),s=o(t(3321)),l=t(9305).internal.constants.BOLT_PROTOCOL_V5_7,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return n(v,h),Object.defineProperty(v.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(y){return y(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.enrichErrorMetadata=function(d){return i(i({},d),{cause:d.cause!==null&&d.cause!==void 0?this.enrichErrorMetadata(d.cause):null,code:d.neo4j_code,diagnostic_record:d.diagnostic_record!==null?i(i({},c),d.diagnostic_record):null})},v}(a.default);e.default=f},6384:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scanInternals=void 0;var n=t(3111);e.scanInternals=function(i,o,a,u,s){return function(l,c){var f=a,h=o,v=0;l.subscribe(n.createOperatorSubscriber(c,function(d){var y=v++;h=f?i(h,d,y):(f=!0,d),u&&c.next(h)},s&&function(){f&&c.next(h),c.complete()}))}}},6385:function(r,e,t){var n=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),t(7666);var i=function(o){function a(u){var s=o.call(this)||this;return s._errorHandler=u,s}return n(a,o),Object.defineProperty(a.prototype,"id",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"databaseId",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"authToken",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"supportsReAuth",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"creationTimestamp",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"idleTimestamp",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),a.prototype.protocol=function(){throw new Error("not implemented")},Object.defineProperty(a.prototype,"address",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"version",{get:function(){throw new Error("not implemented")},set:function(u){throw new Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"server",{get:function(){throw new Error("not implemented")},enumerable:!1,configurable:!0}),a.prototype.connect=function(u,s,l,c){throw new Error("not implemented")},a.prototype.write=function(u,s,l){throw new Error("not implemented")},a.prototype.close=function(){throw new Error("not implemented")},a.prototype.handleAndTransformError=function(u,s){return this._errorHandler?this._errorHandler.handleAndTransformError(u,s,this):u},a}(t(9305).Connection);e.default=i},6445:function(r,e,t){var n=this&&this.__extends||function(){var f=function(h,v){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,y){d.__proto__=y}||function(d,y){for(var p in y)Object.prototype.hasOwnProperty.call(y,p)&&(d[p]=y[p])},f(h,v)};return function(h,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function d(){this.constructor=h}f(h,v),h.prototype=v===null?Object.create(v):(d.prototype=v.prototype,new d)}}(),i=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(4596)),a=t(9305),u=i(t(5348)),s=i(t(3321)),l=a.internal.constants.BOLT_PROTOCOL_V4_2,c=function(f){function h(){return f!==null&&f.apply(this,arguments)||this}return n(h,f),Object.defineProperty(h.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"transformer",{get:function(){var v=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(d){return d(v._config,v._log)}))),this._transformer},enumerable:!1,configurable:!0}),h}(o.default);e.default=c},6472:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;var n=t(7961),i=t(4092);e.interval=function(o,a){return o===void 0&&(o=0),a===void 0&&(a=n.asyncScheduler),o<0&&(o=0),i.timer(o,o,a)}},6492:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reuseOngoingRequest=e.identity=void 0;var n=t(9305);e.identity=function(i){return i},e.reuseOngoingRequest=function(i,o){o===void 0&&(o=null);var a=new Map;return function(){for(var u=[],s=0;s<arguments.length;s++)u[s]=arguments[s];var l=n.json.stringify(u);if(a.has(l))return a.get(l);var c=i.apply(o,u);return a.set(l,c),c.finally(function(){a.delete(l)})}}},6505:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.timestamp=void 0;var n=t(9568),i=t(5471);e.timestamp=function(o){return o===void 0&&(o=n.dateTimestampProvider),i.map(function(a){return{value:a,timestamp:o.now()}})}},6544:function(r,e,t){var n=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),o=n(t(8320)),a=n(t(2857)),u=n(t(5642)),s=n(t(2539)),l=n(t(4596)),c=n(t(6445)),f=n(t(9054)),h=n(t(1711)),v=n(t(844)),d=n(t(6345)),y=n(t(934)),p=n(t(9125)),g=n(t(9744)),b=n(t(5815)),m=n(t(6890)),_=n(t(6377)),w=n(t(1092)),O=(t(7452),n(t(2578)));e.default=function(E){var S=E===void 0?{}:E,P=S.version,I=S.chunker,R=S.dechunker,D=S.channel,k=S.disableLosslessIntegers,N=S.useBigInt,B=S.serversideRouting,z=S.server,F=S.log,U=S.observer;return function(W,Y,X,Q,ue,ce,ae,pe){switch(W){case 1:return new o.default(Y,X,Q,ce,pe,ae);case 2:return new a.default(Y,X,Q,ce,pe,ae);case 3:return new u.default(Y,X,Q,ce,pe,ae);case 4:return new s.default(Y,X,Q,ce,pe,ae);case 4.1:return new l.default(Y,X,Q,ce,pe,ae,ue);case 4.2:return new c.default(Y,X,Q,ce,pe,ae,ue);case 4.3:return new f.default(Y,X,Q,ce,pe,ae,ue);case 4.4:return new h.default(Y,X,Q,ce,pe,ae,ue);case 5:return new v.default(Y,X,Q,ce,pe,ae,ue);case 5.1:return new d.default(Y,X,Q,ce,pe,ae,ue);case 5.2:return new y.default(Y,X,Q,ce,pe,ae,ue);case 5.3:return new p.default(Y,X,Q,ce,pe,ae,ue);case 5.4:return new g.default(Y,X,Q,ce,pe,ae,ue);case 5.5:return new b.default(Y,X,Q,ce,pe,ae,ue);case 5.6:return new m.default(Y,X,Q,ce,pe,ae,ue);case 5.7:return new _.default(Y,X,Q,ce,pe,ae,ue);case 5.8:return new w.default(Y,X,Q,ce,pe,ae,ue);default:throw(0,i.newError)("Unknown Bolt protocol version: "+W)}}(P,z,I,{disableLosslessIntegers:k,useBigInt:N},B,function(W){var Y=new O.default({transformMetadata:W.transformMetadata.bind(W),enrichErrorMetadata:W.enrichErrorMetadata.bind(W),log:F,observer:U});return D.onerror=U.onError.bind(U),D.onmessage=function(X){return R.write(X)},R.onmessage=function(X){try{Y.handleResponse(W.unpack(X))}catch(Q){return U.onError(Q)}},Y},U.onProtocolError.bind(U),F)}},6566:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeatWhen=void 0;var n=t(9445),i=t(2483),o=t(7843),a=t(3111);e.repeatWhen=function(u){return o.operate(function(s,l){var c,f,h=!1,v=!1,d=!1,y=function(){return d&&v&&(l.complete(),!0)},p=function(){d=!1,c=s.subscribe(a.createOperatorSubscriber(l,void 0,function(){d=!0,!y()&&(f||(f=new i.Subject,n.innerFrom(u(f)).subscribe(a.createOperatorSubscriber(l,function(){c?p():h=!0},function(){v=!0,y()}))),f).next()})),h&&(c.unsubscribe(),c=null,h=!1,p())};p()})}},6586:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeMapTo=void 0;var n=t(983),i=t(1018);e.mergeMapTo=function(o,a,u){return u===void 0&&(u=1/0),i.isFunction(a)?n.mergeMap(function(){return o},a,u):(typeof a=="number"&&(u=a),n.mergeMap(function(){return o},u))}},6587:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(h,v,d,y){y===void 0&&(y=d);var p=Object.getOwnPropertyDescriptor(v,d);p&&!("get"in p?!v.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return v[d]}}),Object.defineProperty(h,y,p)}:function(h,v,d,y){y===void 0&&(y=d),h[y]=v[d]}),i=this&&this.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),o=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var d in h)d!=="default"&&Object.prototype.hasOwnProperty.call(h,d)&&n(v,h,d);return i(v,h),v},a=this&&this.__values||function(h){var v=typeof Symbol=="function"&&Symbol.iterator,d=v&&h[v],y=0;if(d)return d.call(h);if(h&&typeof h.length=="number")return{next:function(){return h&&y>=h.length&&(h=void 0),{value:h&&h[y++],done:!h}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.ENCRYPTION_OFF=e.ENCRYPTION_ON=e.equals=e.validateQueryAndParameters=e.toNumber=e.assertValidDate=e.assertNumberOrInteger=e.assertNumber=e.assertString=e.assertObject=e.isString=e.isObject=e.isEmptyObjectOrNull=void 0;var u=o(t(3371)),s=t(4027);function l(h){return typeof h=="object"&&!Array.isArray(h)&&h!==null}function c(h,v){if(!f(h))throw new TypeError((0,s.stringify)(v)+" expected to be string but was: "+(0,s.stringify)(h));return h}function f(h){return Object.prototype.toString.call(h)==="[object String]"}e.ENCRYPTION_ON="ENCRYPTION_ON",e.ENCRYPTION_OFF="ENCRYPTION_OFF",e.isEmptyObjectOrNull=function(h){if(h===null)return!0;if(!l(h))return!1;for(var v in h)if(h[v]!==void 0)return!1;return!0},e.isObject=l,e.validateQueryAndParameters=function(h,v,d){var y,p,g="",b=v??{},m=(y=d?.skipAsserts)!==null&&y!==void 0&&y;return typeof h=="string"?g=h:h instanceof String?g=h.toString():typeof h=="object"&&h.text!=null&&(g=h.text,b=(p=h.parameters)!==null&&p!==void 0?p:{}),m||(function(_){if(c(_,"Cypher query"),_.trim().length===0)throw new TypeError("Cypher query is expected to be a non-empty string.")}(g),function(_){if(!l(_)){var w=_.constructor!=null?" "+_.constructor.name:"";throw new TypeError("Query parameters are expected to either be undefined/null or an object, given:".concat(w," ").concat(JSON.stringify(_)))}}(b)),{validatedQuery:g,params:b}},e.assertObject=function(h,v){if(!l(h))throw new TypeError(v+" expected to be an object but was: "+(0,s.stringify)(h));return h},e.assertString=c,e.assertNumber=function(h,v){if(typeof h!="number")throw new TypeError(v+" expected to be a number but was: "+(0,s.stringify)(h));return h},e.assertNumberOrInteger=function(h,v){if(typeof h!="number"&&typeof h!="bigint"&&!(0,u.isInt)(h))throw new TypeError(v+" expected to be either a number or an Integer object but was: "+(0,s.stringify)(h));return h},e.assertValidDate=function(h,v){if(Object.prototype.toString.call(h)!=="[object Date]")throw new TypeError(v+" expected to be a standard JavaScript Date but was: "+(0,s.stringify)(h));if(Number.isNaN(h.getTime()))throw new TypeError(v+" expected to be valid JavaScript Date but its time was NaN: "+(0,s.stringify)(h));return h},e.isString=f,e.equals=function h(v,d){var y,p;if(v===d)return!0;if(v===null||d===null)return!1;if(typeof v=="object"&&typeof d=="object"){var g=Object.keys(v),b=Object.keys(d);if(g.length!==b.length)return!1;try{for(var m=a(g),_=m.next();!_.done;_=m.next()){var w=_.value;if(!h(v[w],d[w]))return!1}}catch(O){y={error:O}}finally{try{_&&!_.done&&(p=m.return)&&p.call(m)}finally{if(y)throw y.error}}return!0}return!1},e.toNumber=function(h){return h instanceof u.default?h.toNumber():typeof h=="bigint"?(0,u.int)(h).toNumber():h}},6625:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineAll=void 0;var n=t(6728);e.combineAll=n.combineLatestAll},6637:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,v=h&&f[h],d=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowToggle=void 0;var i=t(2483),o=t(8014),a=t(7843),u=t(9445),s=t(3111),l=t(1342),c=t(7479);e.windowToggle=function(f,h){return a.operate(function(v,d){var y=[],p=function(g){for(;0<y.length;)y.shift().error(g);d.error(g)};u.innerFrom(f).subscribe(s.createOperatorSubscriber(d,function(g){var b=new i.Subject;y.push(b);var m,_=new o.Subscription;try{m=u.innerFrom(h(g))}catch(w){return void p(w)}d.next(b.asObservable()),_.add(m.subscribe(s.createOperatorSubscriber(d,function(){c.arrRemove(y,b),b.complete(),_.unsubscribe()},l.noop,p)))},l.noop)),v.subscribe(s.createOperatorSubscriber(d,function(g){var b,m,_=y.slice();try{for(var w=n(_),O=w.next();!O.done;O=w.next())O.value.next(g)}catch(E){b={error:E}}finally{try{O&&!O.done&&(m=w.return)&&m.call(w)}finally{if(b)throw b.error}}},function(){for(;0<y.length;)y.shift().complete();d.complete()},p,function(){for(;0<y.length;)y.shift().unsubscribe()}))})}},6640:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.identity=void 0,e.identity=function(t){return t}},6661:function(r,e,t){var n=this&&this.__read||function(s,l){var c=typeof Symbol=="function"&&s[Symbol.iterator];if(!c)return s;var f,h,v=c.call(s),d=[];try{for(;(l===void 0||l-- >0)&&!(f=v.next()).done;)d.push(f.value)}catch(y){h={error:y}}finally{try{f&&!f.done&&(c=v.return)&&c.call(v)}finally{if(h)throw h.error}}return d};Object.defineProperty(e,"__esModule",{value:!0});var i=t(9305),o=t(7168),a=t(3321),u=i.error.PROTOCOL_ERROR;e.default={createNodeTransformer:function(){return new a.TypeTransformer({signature:78,isTypeInstance:function(s){return s instanceof i.Node},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass nodes in query parameters, given: ".concat(s),u)},fromStructure:function(s){o.structure.verifyStructSize("Node",3,s.size);var l=n(s.fields,3),c=l[0],f=l[1],h=l[2];return new i.Node(c,f,h)}})},createRelationshipTransformer:function(){return new a.TypeTransformer({signature:82,isTypeInstance:function(s){return s instanceof i.Relationship},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass relationships in query parameters, given: ".concat(s),u)},fromStructure:function(s){o.structure.verifyStructSize("Relationship",5,s.size);var l=n(s.fields,5),c=l[0],f=l[1],h=l[2],v=l[3],d=l[4];return new i.Relationship(c,f,h,v,d)}})},createUnboundRelationshipTransformer:function(){return new a.TypeTransformer({signature:114,isTypeInstance:function(s){return s instanceof i.UnboundRelationship},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass unbound relationships in query parameters, given: ".concat(s),u)},fromStructure:function(s){o.structure.verifyStructSize("UnboundRelationship",3,s.size);var l=n(s.fields,3),c=l[0],f=l[1],h=l[2];return new i.UnboundRelationship(c,f,h)}})},createPathTransformer:function(){return new a.TypeTransformer({signature:80,isTypeInstance:function(s){return s instanceof i.Path},toStructure:function(s){throw(0,i.newError)("It is not allowed to pass paths in query parameters, given: ".concat(s),u)},fromStructure:function(s){o.structure.verifyStructSize("Path",3,s.size);for(var l=n(s.fields,3),c=l[0],f=l[1],h=l[2],v=[],d=c[0],y=0;y<h.length;y+=2){var p=c[h[y+1]],g=(0,i.toNumber)(h[y]),b=void 0;g>0?(b=f[g-1])instanceof i.UnboundRelationship&&(f[g-1]=b=b.bindTo(d,p)):(b=f[-g-1])instanceof i.UnboundRelationship&&(f[-g-1]=b=b.bindTo(p,d)),v.push(new i.PathSegment(d,b,p)),d=p}return new i.Path(c[0],c[c.length-1],v)}})}}},6672:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(u,s,l,c){c===void 0&&(c=l);var f=Object.getOwnPropertyDescriptor(s,l);f&&!("get"in f?!s.__esModule:f.writable||f.configurable)||(f={enumerable:!0,get:function(){return s[l]}}),Object.defineProperty(u,c,f)}:function(u,s,l,c){c===void 0&&(c=l),u[c]=s[l]}),i=this&&this.__setModuleDefault||(Object.create?function(u,s){Object.defineProperty(u,"default",{enumerable:!0,value:s})}:function(u,s){u.default=s}),o=this&&this.__importStar||function(u){if(u&&u.__esModule)return u;var s={};if(u!=null)for(var l in u)l!=="default"&&Object.prototype.hasOwnProperty.call(u,l)&&n(s,u,l);return i(s,u),s},a=this&&this.__exportStar||function(u,s){for(var l in u)l==="default"||Object.prototype.hasOwnProperty.call(s,l)||n(s,u,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=o(t(4455)),e.bolt=o(t(7666)),e.buf=o(t(7174)),e.channel=o(t(7452)),e.packstream=o(t(7168)),a(t(9689),e)},6702:function(r,e){var t=this&&this.__values||function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.equals=void 0,e.equals=function(n,i){var o,a;if(n===i)return!0;if(n===null||i===null)return!1;if(typeof n=="object"&&typeof i=="object"){var u=Object.keys(n),s=Object.keys(i);if(u.length!==s.length)return!1;try{for(var l=t(u),c=l.next();!c.done;c=l.next()){var f=c.value;if(n[f]!==i[f])return!1}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return!0}return!1}},6728:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestAll=void 0;var n=t(3247),i=t(3638);e.combineLatestAll=function(o){return i.joinAllInternals(n.combineLatest,o)}},6746:function(r,e,t){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.windowCount=void 0;var i=t(2483),o=t(7843),a=t(3111);e.windowCount=function(u,s){s===void 0&&(s=0);var l=s>0?s:u;return o.operate(function(c,f){var h=[new i.Subject],v=0;f.next(h[0].asObservable()),c.subscribe(a.createOperatorSubscriber(f,function(d){var y,p;try{for(var g=n(h),b=g.next();!b.done;b=g.next())b.value.next(d)}catch(w){y={error:w}}finally{try{b&&!b.done&&(p=g.return)&&p.call(g)}finally{if(y)throw y.error}}var m=v-u+1;if(m>=0&&m%l===0&&h.shift().complete(),++v%l===0){var _=new i.Subject;h.push(_),f.next(_.asObservable())}},function(){for(;h.length>0;)h.shift().complete();f.complete()},function(d){for(;h.length>0;)h.shift().error(d);f.error(d)},function(){h=null}))})}},6755:function(r,e){var t=this&&this.__awaiter||function(l,c,f,h){return new(f||(f=Promise))(function(v,d){function y(b){try{g(h.next(b))}catch(m){d(m)}}function p(b){try{g(h.throw(b))}catch(m){d(m)}}function g(b){var m;b.done?v(b.value):(m=b.value,m instanceof f?m:new f(function(_){_(m)})).then(y,p)}g((h=h.apply(l,c||[])).next())})},n=this&&this.__generator||function(l,c){var f,h,v,d,y={label:0,sent:function(){if(1&v[0])throw v[1];return v[1]},trys:[],ops:[]};return d={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function p(g){return function(b){return function(m){if(f)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(y=0)),y;)try{if(f=1,h&&(v=2&m[0]?h.return:m[0]?h.throw||((v=h.return)&&v.call(h),0):h.next)&&!(v=v.call(h,m[1])).done)return v;switch(h=0,v&&(m=[2&m[0],v.value]),m[0]){case 0:case 1:v=m;break;case 4:return y.label++,{value:m[1],done:!1};case 5:y.label++,h=m[1],m=[0];continue;case 7:m=y.ops.pop(),y.trys.pop();continue;default:if(!((v=(v=y.trys).length>0&&v[v.length-1])||m[0]!==6&&m[0]!==2)){y=0;continue}if(m[0]===3&&(!v||m[1]>v[0]&&m[1]<v[3])){y.label=m[1];break}if(m[0]===6&&y.label<v[1]){y.label=v[1],v=m;break}if(v&&y.label<v[2]){y.label=v[2],y.ops.push(m);break}v[2]&&y.ops.pop(),y.trys.pop();continue}m=c.call(l,y)}catch(_){m=[6,_],h=0}finally{f=v=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([g,b])}}},i=this&&this.__values||function(l){var c=typeof Symbol=="function"&&Symbol.iterator,f=c&&l[c],h=0;if(f)return f.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&h>=l.length&&(l=void 0),{value:l&&l[h++],done:!l}}};throw new TypeError(c?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,v,d=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=d.next()).done;)y.push(h.value)}catch(p){v={error:p}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(v)throw v.error}}return y},a=this&&this.__spreadArray||function(l,c,f){if(f||arguments.length===2)for(var h,v=0,d=c.length;v<d;v++)!h&&v in c||(h||(h=Array.prototype.slice.call(c,0,v)),h[v]=c[v]);return l.concat(h||Array.prototype.slice.call(c))};Object.defineProperty(e,"__esModule",{value:!0}),e.bookmarkManager=void 0;var u=function(){function l(){throw new Error("Not implemented")}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){return n(this,function(h){throw new Error("Not implemented")})})},l.prototype.getBookmarks=function(){return t(this,void 0,void 0,function(){return n(this,function(c){throw new Error("Not implemented")})})},l}();e.default=u,e.bookmarkManager=function(l){l===void 0&&(l={});var c=new Set(l.initialBookmarks);return new s(c,l.bookmarksSupplier,l.bookmarksConsumer)};var s=function(){function l(c,f,h){this._bookmarks=c,this._bookmarksSupplier=f,this._bookmarksConsumer=h}return l.prototype.updateBookmarks=function(c,f){return t(this,void 0,void 0,function(){var h,v,d,y,p,g,b,m,_,w;return n(this,function(O){switch(O.label){case 0:h=this._bookmarks;try{for(v=i(c),d=v.next();!d.done;d=v.next())g=d.value,h.delete(g)}catch(E){b={error:E}}finally{try{d&&!d.done&&(m=v.return)&&m.call(v)}finally{if(b)throw b.error}}try{for(y=i(f),p=y.next();!p.done;p=y.next())g=p.value,h.add(g)}catch(E){_={error:E}}finally{try{p&&!p.done&&(w=y.return)&&w.call(y)}finally{if(_)throw _.error}}return typeof this._bookmarksConsumer!="function"?[3,2]:[4,this._bookmarksConsumer(a([],o(h),!1))];case 1:O.sent(),O.label=2;case 2:return[2]}})})},l.prototype.getBookmarks=function(){var c;return t(this,void 0,void 0,function(){var f,h,v,d,y,p,g;return n(this,function(b){switch(b.label){case 0:return f=new Set(this._bookmarks),typeof this._bookmarksSupplier!="function"?[3,2]:[4,this._bookmarksSupplier()];case 1:h=(c=b.sent())!==null&&c!==void 0?c:[];try{for(v=i(h),d=v.next();!d.done;d=v.next())y=d.value,f.add(y)}catch(m){p={error:m}}finally{try{d&&!d.done&&(g=v.return)&&g.call(v)}finally{if(p)throw p.error}}b.label=2;case 2:return[2,a([],o(f),!1)]}})})},l}()},6781:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(a,u,s,l){l===void 0&&(l=s);var c=Object.getOwnPropertyDescriptor(u,s);c&&!("get"in c?!u.__esModule:c.writable||c.configurable)||(c={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(a,l,c)}:function(a,u,s,l){l===void 0&&(l=s),a[l]=u[s]}),i=this&&this.__setModuleDefault||(Object.create?function(a,u){Object.defineProperty(a,"default",{enumerable:!0,value:u})}:function(a,u){a.default=u}),o=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var u={};if(a!=null)for(var s in a)s!=="default"&&Object.prototype.hasOwnProperty.call(a,s)&&n(u,a,s);return i(u,a),u};Object.defineProperty(e,"__esModule",{value:!0}),e.object=e.functional=void 0,e.functional=o(t(6492)),e.object=o(t(6702))},6804:r=>{r.exports=function(i,o){Array.isArray(o)||(o=[o]);var a=function(l){for(var c=-1,f=0;f<l.length;f++){var h=l[f];if(h.type==="preprocessor")/^#(extension|version)/.test(h.data)&&(c=Math.max(c,f));else if(h.type==="keyword"&&h.data==="precision"){var v=n(l,f);if(v===-1)throw new Error("precision statement not followed by any semicolons!");c=Math.max(c,v)}}return c+1}(i),u=a>0?i[a-1]:null;u&&t.test(u.data)&&i.splice(a++,0,e),i.splice.apply(i,[a,0].concat(o));var s=a+o.length;return i[s]&&/[^\r\n]$/.test(i[s].data)&&i.splice(s,0,e),i};var e={data:`
`,type:"whitespace"},t=/[^\r\n]$/;function n(i,o){for(var a=o;a<i.length;a++)if(i[a].type==="operator"&&i[a].data===";")return a;return-1}},6824:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fromSubscribable=void 0;var n=t(4662);e.fromSubscribable=function(i){return new n.Observable(function(o){return i.subscribe(o)})}},6842:function(r,e,t){var n=this&&this.__awaiter||function(d,y,p,g){return new(p||(p=Promise))(function(b,m){function _(E){try{O(g.next(E))}catch(S){m(S)}}function w(E){try{O(g.throw(E))}catch(S){m(S)}}function O(E){var S;E.done?b(E.value):(S=E.value,S instanceof p?S:new p(function(P){P(S)})).then(_,w)}O((g=g.apply(d,y||[])).next())})},i=this&&this.__generator||function(d,y){var p,g,b,m,_={label:0,sent:function(){if(1&b[0])throw b[1];return b[1]},trys:[],ops:[]};return m={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function w(O){return function(E){return function(S){if(p)throw new TypeError("Generator is already executing.");for(;m&&(m=0,S[0]&&(_=0)),_;)try{if(p=1,g&&(b=2&S[0]?g.return:S[0]?g.throw||((b=g.return)&&b.call(g),0):g.next)&&!(b=b.call(g,S[1])).done)return b;switch(g=0,b&&(S=[2&S[0],b.value]),S[0]){case 0:case 1:b=S;break;case 4:return _.label++,{value:S[1],done:!1};case 5:_.label++,g=S[1],S=[0];continue;case 7:S=_.ops.pop(),_.trys.pop();continue;default:if(!((b=(b=_.trys).length>0&&b[b.length-1])||S[0]!==6&&S[0]!==2)){_=0;continue}if(S[0]===3&&(!b||S[1]>b[0]&&S[1]<b[3])){_.label=S[1];break}if(S[0]===6&&_.label<b[1]){_.label=b[1],b=S;break}if(b&&_.label<b[2]){_.label=b[2],_.ops.push(S);break}b[2]&&_.ops.pop(),_.trys.pop();continue}S=y.call(d,_)}catch(P){S=[6,P],g=0}finally{p=b=0}if(5&S[0])throw S[1];return{value:S[0]?S[1]:void 0,done:!0}}([O,E])}}},o=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(7589)),u=t(9691),s=t(4883),l=function(){function d(y){var p=y.create,g=p===void 0?function(F,U,W){return n(z,void 0,void 0,function(){return i(this,function(Y){switch(Y.label){case 0:return[4,Promise.reject(new Error("Not implemented"))];case 1:return[2,Y.sent()]}})})}:p,b=y.destroy,m=b===void 0?function(F){return n(z,void 0,void 0,function(){return i(this,function(U){switch(U.label){case 0:return[4,Promise.resolve()];case 1:return[2,U.sent()]}})})}:b,_=y.validateOnAcquire,w=_===void 0?function(F,U){return!0}:_,O=y.validateOnRelease,E=O===void 0?function(F){return!0}:O,S=y.installIdleObserver,P=S===void 0?function(F,U){}:S,I=y.removeIdleObserver,R=I===void 0?function(F){}:I,D=y.config,k=D===void 0?a.default.defaultConfig():D,N=y.log,B=N===void 0?s.Logger.noOp():N,z=this;this._create=g,this._destroy=m,this._validateOnAcquire=w,this._validateOnRelease=E,this._installIdleObserver=P,this._removeIdleObserver=R,this._maxSize=k.maxSize,this._acquisitionTimeout=k.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._release=this._release.bind(this),this._log=B,this._closed=!1}return d.prototype.acquire=function(y,p,g){return n(this,void 0,void 0,function(){var b,m,_=this;return i(this,function(w){switch(w.label){case 0:return b=p.asKey(),(m=this._acquireRequests)[b]==null&&(m[b]=[]),[4,new Promise(function(O,E){var S=setTimeout(function(){var I=m[b];if(I!=null&&(m[b]=I.filter(function(k){return k!==P})),!P.isCompleted()){var R=_.activeResourceCount(p),D=_.has(p)?_._pools[b].length:0;P.reject((0,u.newError)("Connection acquisition timed out in ".concat(_._acquisitionTimeout," ms. Pool status: Active conn count = ").concat(R,", Idle conn count = ").concat(D,".")))}},_._acquisitionTimeout);typeof S=="object"&&S.unref();var P=new h(b,y,g,O,E,S,_._log);m[b].push(P),_._processPendingAcquireRequests(p)})];case 1:return[2,w.sent()]}})})},d.prototype.purge=function(y){return n(this,void 0,void 0,function(){return i(this,function(p){switch(p.label){case 0:return[4,this._purgeKey(y.asKey())];case 1:return[2,p.sent()]}})})},d.prototype.apply=function(y,p){var g=y.asKey();g in this._pools&&this._pools[g].apply(p)},d.prototype.close=function(){return n(this,void 0,void 0,function(){var y=this;return i(this,function(p){switch(p.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(g){return n(y,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,this._purgeKey(g)];case 1:return[2,b.sent()]}})})})).then()];case 1:return[2,p.sent()]}})})},d.prototype.keepAll=function(y){return n(this,void 0,void 0,function(){var p,g,b,m=this;return i(this,function(_){switch(_.label){case 0:return p=y.map(function(w){return w.asKey()}),g=Object.keys(this._pools),b=g.filter(function(w){return!p.includes(w)}),[4,Promise.all(b.map(function(w){return n(m,void 0,void 0,function(){return i(this,function(O){switch(O.label){case 0:return[4,this._purgeKey(w)];case 1:return[2,O.sent()]}})})})).then()];case 1:return[2,_.sent()]}})})},d.prototype.has=function(y){return y.asKey()in this._pools},d.prototype.activeResourceCount=function(y){var p;return(p=this._activeResourceCounts[y.asKey()])!==null&&p!==void 0?p:0},d.prototype._getOrInitializePoolFor=function(y){var p=this._pools[y];return p==null&&(p=new v,this._pools[y]=p,this._pendingCreates[y]=0),p},d.prototype._acquire=function(y,p,g){return n(this,void 0,void 0,function(){var b,m,_,w,O,E,S,P=this;return i(this,function(I){switch(I.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");if(b=p.asKey(),m=this._getOrInitializePoolFor(b),g)return[3,10];I.label=1;case 1:if(!(m.length>0))return[3,10];if((_=m.pop())==null)return[3,1];c(b,this._activeResourceCounts),this._removeIdleObserver!=null&&this._removeIdleObserver(_),w=!1,I.label=2;case 2:return I.trys.push([2,4,,6]),[4,this._validateOnAcquire(y,_)];case 3:return w=I.sent(),[3,6];case 4:return O=I.sent(),f(b,this._activeResourceCounts),m.removeInUse(_),[4,this._destroy(_)];case 5:throw I.sent(),O;case 6:return w?(this._log.isDebugEnabled()&&this._log.debug("".concat(_," acquired from the pool ").concat(b)),[2,{resource:_,pool:m}]):[3,7];case 7:return f(b,this._activeResourceCounts),m.removeInUse(_),[4,this._destroy(_)];case 8:I.sent(),I.label=9;case 9:return[3,1];case 10:if(this._maxSize>0&&this.activeResourceCount(p)+this._pendingCreates[b]>=this._maxSize)return[2,{resource:null,pool:m}];this._pendingCreates[b]=this._pendingCreates[b]+1,I.label=11;case 11:return I.trys.push([11,,15,16]),this.activeResourceCount(p)+m.length>=this._maxSize&&g?(S=m.pop())==null?[3,13]:(this._removeIdleObserver!=null&&this._removeIdleObserver(S),m.removeInUse(S),[4,this._destroy(S)]):[3,13];case 12:I.sent(),I.label=13;case 13:return[4,this._create(y,p,function(R,D){return n(P,void 0,void 0,function(){return i(this,function(k){switch(k.label){case 0:return[4,this._release(R,D,m)];case 1:return[2,k.sent()]}})})})];case 14:return E=I.sent(),m.pushInUse(E),c(b,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug("".concat(E," created for the pool ").concat(b)),[3,16];case 15:return this._pendingCreates[b]=this._pendingCreates[b]-1,[7];case 16:return[2,{resource:E,pool:m}]}})})},d.prototype._release=function(y,p,g){return n(this,void 0,void 0,function(){var b,m=this;return i(this,function(_){switch(_.label){case 0:b=y.asKey(),_.label=1;case 1:return _.trys.push([1,,9,10]),g.isActive()?[4,this._validateOnRelease(p)]:[3,6];case 2:return _.sent()?[3,4]:(this._log.isDebugEnabled()&&this._log.debug("".concat(p," destroyed and can't be released to the pool ").concat(b," because it is not functional")),g.removeInUse(p),[4,this._destroy(p)]);case 3:return _.sent(),[3,5];case 4:this._installIdleObserver!=null&&this._installIdleObserver(p,{onError:function(w){m._log.debug("Idle connection ".concat(p," destroyed because of error: ").concat(w));var O=m._pools[b];O!=null&&(m._pools[b]=O.filter(function(E){return E!==p}),O.removeInUse(p)),m._destroy(p).catch(function(){})}}),g.push(p),this._log.isDebugEnabled()&&this._log.debug("".concat(p," released to the pool ").concat(b)),_.label=5;case 5:return[3,8];case 6:return this._log.isDebugEnabled()&&this._log.debug("".concat(p," destroyed and can't be released to the pool ").concat(b," because pool has been purged")),g.removeInUse(p),[4,this._destroy(p)];case 7:_.sent(),_.label=8;case 8:return[3,10];case 9:return f(b,this._activeResourceCounts),this._processPendingAcquireRequests(y),[7];case 10:return[2]}})})},d.prototype._purgeKey=function(y){return n(this,void 0,void 0,function(){var p,g,b;return i(this,function(m){switch(m.label){case 0:if(p=this._pools[y],g=[],p==null)return[3,2];for(;p.length>0;)(b=p.pop())!=null&&(this._removeIdleObserver!=null&&this._removeIdleObserver(b),g.push(this._destroy(b)));return p.close(),delete this._pools[y],[4,Promise.all(g)];case 1:m.sent(),m.label=2;case 2:return[2]}})})},d.prototype._processPendingAcquireRequests=function(y){var p=this,g=y.asKey(),b=this._acquireRequests[g];if(b!=null){var m=b.shift();m!=null?this._acquire(m.context,y,m.requireNew).catch(function(_){return m.reject(_),{resource:null,pool:null}}).then(function(_){var w=_.resource,O=_.pool;w!=null&&O!=null?m.isCompleted()?p._release(y,w,O).catch(function(E){p._log.isDebugEnabled()&&p._log.debug("".concat(w," could not be release back to the pool. Cause: ").concat(E))}):m.resolve(w):m.isCompleted()||(p._acquireRequests[g]==null&&(p._acquireRequests[g]=[]),p._acquireRequests[g].unshift(m))}).catch(function(_){return m.reject(_)}):delete this._acquireRequests[g]}},d}();function c(d,y){var p,g=(p=y[d])!==null&&p!==void 0?p:0;y[d]=g+1}function f(d,y){var p,g=((p=y[d])!==null&&p!==void 0?p:0)-1;g>0?y[d]=g:delete y[d]}var h=function(){function d(y,p,g,b,m,_,w){this._key=y,this._context=p,this._resolve=b,this._reject=m,this._timeoutId=_,this._log=w,this._completed=!1,this._config=g??{}}return Object.defineProperty(d.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"requireNew",{get:function(){var y;return(y=this._config.requireNew)!==null&&y!==void 0&&y},enumerable:!1,configurable:!0}),d.prototype.isCompleted=function(){return this._completed},d.prototype.resolve=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug("".concat(y," acquired from the pool ").concat(this._key)),this._resolve(y))},d.prototype.reject=function(y){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(y))},d}(),v=function(){function d(){this._active=!0,this._elements=[],this._elementsInUse=new Set}return d.prototype.isActive=function(){return this._active},d.prototype.close=function(){this._active=!1,this._elements=[],this._elementsInUse=new Set},d.prototype.filter=function(y){return this._elements=this._elements.filter(y),this},d.prototype.apply=function(y){this._elements.forEach(y),this._elementsInUse.forEach(y)},Object.defineProperty(d.prototype,"length",{get:function(){return this._elements.length},enumerable:!1,configurable:!0}),d.prototype.pop=function(){var y=this._elements.pop();return y!=null&&this._elementsInUse.add(y),y},d.prototype.push=function(y){return this._elementsInUse.delete(y),this._elements.push(y)},d.prototype.pushInUse=function(y){this._elementsInUse.add(y)},d.prototype.removeInUse=function(y){this._elementsInUse.delete(y)},d}();e.default=l},6872:function(r,e){var t=this&&this.__extends||function(){var o=function(a,u){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])},o(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=a}o(a,u),a.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.InternalConfig=e.Config=void 0;var n=function(){this.encrypted=void 0,this.trust=void 0,this.trustedCertificates=[],this.maxConnectionPoolSize=100,this.maxConnectionLifetime=36e5,this.connectionAcquisitionTimeout=6e4,this.maxTransactionRetryTime=3e4,this.connectionLivenessCheckTimeout=void 0,this.connectionTimeout=3e4,this.disableLosslessIntegers=!1,this.useBigInt=!1,this.logging=void 0,this.resolver=void 0,this.notificationFilter=void 0,this.userAgent=void 0,this.telemetryDisabled=!1,this.clientCertificate=void 0};e.Config=n;var i=function(o){function a(){return o!==null&&o.apply(this,arguments)||this}return t(a,o),a}(n);e.InternalConfig=i},6890:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(h){for(var v,d=1,y=arguments.length;d<y;d++)for(var p in v=arguments[d])Object.prototype.hasOwnProperty.call(v,p)&&(h[p]=v[p]);return h},i.apply(this,arguments)},o=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(5815)),u=o(t(3399)),s=o(t(3321)),l=t(9305).internal.constants.BOLT_PROTOCOL_V5_6,c=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),f=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return n(v,h),Object.defineProperty(v.prototype,"version",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(y){return y(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype._enrichMetadata=function(d){return Array.isArray(d.statuses)&&(d.statuses=d.statuses.map(function(y){return i(i({},y),{diagnostic_record:y.diagnostic_record!==null?i(i({},c),y.diagnostic_record):null})})),d},v}(a.default);e.default=f},6894:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.lastValueFrom=void 0;var n=t(2823);e.lastValueFrom=function(i,o){var a=typeof o=="object";return new Promise(function(u,s){var l,c=!1;i.subscribe({next:function(f){l=f,c=!0},error:s,complete:function(){c?u(l):a?u(o.defaultValue):s(new n.EmptyError)}})})}},6902:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.flatMap=void 0;var n=t(983);e.flatMap=n.mergeMap},6931:r=>{r.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6985:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleArray=void 0;var n=t(4662);e.scheduleArray=function(i,o){return new n.Observable(function(a){var u=0;return o.schedule(function(){u===i.length?a.complete():(a.next(i[u++]),a.closed||this.schedule())})})}},6995:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(w,O,E,S){S===void 0&&(S=E);var P=Object.getOwnPropertyDescriptor(O,E);P&&!("get"in P?!O.__esModule:P.writable||P.configurable)||(P={enumerable:!0,get:function(){return O[E]}}),Object.defineProperty(w,S,P)}:function(w,O,E,S){S===void 0&&(S=E),w[S]=O[E]}),i=this&&this.__setModuleDefault||(Object.create?function(w,O){Object.defineProperty(w,"default",{enumerable:!0,value:O})}:function(w,O){w.default=O}),o=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var O={};if(w!=null)for(var E in w)E!=="default"&&Object.prototype.hasOwnProperty.call(w,E)&&n(O,w,E);return i(O,w),O};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.boltAgent=e.objectUtil=e.resolver=e.serverAddress=e.urlUtil=e.logger=e.transactionExecutor=e.txConfig=e.connectionHolder=e.constants=e.bookmarks=e.observer=e.temporalUtil=e.util=void 0;var a=o(t(6587));e.util=a;var u=o(t(5022));e.temporalUtil=u;var s=o(t(2696));e.observer=s;var l=o(t(9730));e.bookmarks=l;var c=o(t(326));e.constants=c;var f=o(t(3618));e.connectionHolder=f;var h=o(t(754));e.txConfig=h;var v=o(t(6189));e.transactionExecutor=v;var d=o(t(4883));e.logger=d;var y=o(t(407));e.urlUtil=y;var p=o(t(7509));e.serverAddress=p;var g=o(t(9470));e.resolver=g;var b=o(t(93));e.objectUtil=b;var m=o(t(3488));e.boltAgent=m;var _=o(t(2906));e.pool=_},7021:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SIGNATURES=void 0;var n=t(9305),i=n.internal.constants,o=i.ACCESS_MODE_READ,a=i.FETCH_ALL,u=n.internal.util.assertString,s=Object.freeze({INIT:1,RESET:15,RUN:16,PULL_ALL:63,HELLO:1,GOODBYE:2,BEGIN:17,COMMIT:18,ROLLBACK:19,TELEMETRY:84,ROUTE:102,LOGON:106,LOGOFF:107,DISCARD:47,PULL:63});e.SIGNATURES=s;var l=function(){function m(_,w,O){this.signature=_,this.fields=w,this.toString=O}return m.init=function(_,w){return new m(1,[_,w],function(){return"INIT ".concat(_," {...}")})},m.run=function(_,w){return new m(16,[_,w],function(){return"RUN ".concat(_," ").concat(n.json.stringify(w))})},m.pullAll=function(){return d},m.reset=function(){return y},m.hello=function(_,w,O,E){O===void 0&&(O=null),E===void 0&&(E=null);var S=Object.assign({user_agent:_},w);return O&&(S.routing=O),E&&(S.patch_bolt=E),new m(1,[S],function(){return"HELLO {user_agent: '".concat(_,"', ...}")})},m.hello5x1=function(_,w){w===void 0&&(w=null);var O={user_agent:_};return w&&(O.routing=w),new m(1,[O],function(){return"HELLO {user_agent: '".concat(_,"', ...}")})},m.hello5x2=function(_,w,O){w===void 0&&(w=null),O===void 0&&(O=null);var E={user_agent:_};return h(E,w),O&&(E.routing=O),new m(1,[E],function(){return"HELLO ".concat(n.json.stringify(E))})},m.hello5x3=function(_,w,O,E){O===void 0&&(O=null),E===void 0&&(E=null);var S={};return _&&(S.user_agent=_),w&&(S.bolt_agent={product:w.product,platform:w.platform,language:w.language,language_details:w.languageDetails}),h(S,O),E&&(S.routing=E),new m(1,[S],function(){return"HELLO ".concat(n.json.stringify(S))})},m.hello5x5=function(_,w,O,E){O===void 0&&(O=null),E===void 0&&(E=null);var S={};return _&&(S.user_agent=_),w&&(S.bolt_agent={product:w.product,platform:w.platform,language:w.language,language_details:w.languageDetails}),v(S,O),E&&(S.routing=E),new m(1,[S],function(){return"HELLO ".concat(n.json.stringify(S))})},m.logon=function(_){return new m(106,[_],function(){return"LOGON { ... }"})},m.logoff=function(){return new m(107,[],function(){return"LOGOFF"})},m.begin=function(_){var w=_===void 0?{}:_,O=c(w.bookmarks,w.txConfig,w.database,w.mode,w.impersonatedUser,w.notificationFilter);return new m(17,[O],function(){return"BEGIN ".concat(n.json.stringify(O))})},m.begin5x5=function(_){var w=_===void 0?{}:_,O=c(w.bookmarks,w.txConfig,w.database,w.mode,w.impersonatedUser,w.notificationFilter,{appendNotificationFilter:v});return new m(17,[O],function(){return"BEGIN ".concat(n.json.stringify(O))})},m.commit=function(){return p},m.rollback=function(){return g},m.runWithMetadata=function(_,w,O){var E=O===void 0?{}:O,S=c(E.bookmarks,E.txConfig,E.database,E.mode,E.impersonatedUser,E.notificationFilter);return new m(16,[_,w,S],function(){return"RUN ".concat(_," ").concat(n.json.stringify(w)," ").concat(n.json.stringify(S))})},m.runWithMetadata5x5=function(_,w,O){var E=O===void 0?{}:O,S=c(E.bookmarks,E.txConfig,E.database,E.mode,E.impersonatedUser,E.notificationFilter,{appendNotificationFilter:v});return new m(16,[_,w,S],function(){return"RUN ".concat(_," ").concat(n.json.stringify(w)," ").concat(n.json.stringify(S))})},m.goodbye=function(){return b},m.pull=function(_){var w=_===void 0?{}:_,O=w.stmtId,E=O===void 0?-1:O,S=w.n,P=f(E??-1,(S===void 0?a:S)||a);return new m(63,[P],function(){return"PULL ".concat(n.json.stringify(P))})},m.discard=function(_){var w=_===void 0?{}:_,O=w.stmtId,E=O===void 0?-1:O,S=w.n,P=f(E??-1,(S===void 0?a:S)||a);return new m(47,[P],function(){return"DISCARD ".concat(n.json.stringify(P))})},m.telemetry=function(_){var w=_.api,O=(0,n.int)(w);return new m(84,[O],function(){return"TELEMETRY ".concat(O.toString())})},m.route=function(_,w,O){return _===void 0&&(_={}),w===void 0&&(w=[]),O===void 0&&(O=null),new m(102,[_,w,O],function(){return"ROUTE ".concat(n.json.stringify(_)," ").concat(n.json.stringify(w)," ").concat(O)})},m.routeV4x4=function(_,w,O){_===void 0&&(_={}),w===void 0&&(w=[]),O===void 0&&(O={});var E={};return O.databaseName&&(E.db=O.databaseName),O.impersonatedUser&&(E.imp_user=O.impersonatedUser),new m(102,[_,w,E],function(){return"ROUTE ".concat(n.json.stringify(_)," ").concat(n.json.stringify(w)," ").concat(n.json.stringify(E))})},m}();function c(m,_,w,O,E,S,P){var I;P===void 0&&(P={});var R={};return m.isEmpty()||(R.bookmarks=m.values()),_.timeout!==null&&(R.tx_timeout=_.timeout),_.metadata&&(R.tx_metadata=_.metadata),w&&(R.db=u(w,"database")),E&&(R.imp_user=u(E,"impersonatedUser")),O===o&&(R.mode="r"),((I=P.appendNotificationFilter)!==null&&I!==void 0?I:h)(R,S),R}function f(m,_){var w={n:(0,n.int)(_)};return m!==-1&&(w.qid=(0,n.int)(m)),w}function h(m,_){_&&(_.minimumSeverityLevel&&(m.notifications_minimum_severity=_.minimumSeverityLevel),_.disabledCategories&&(m.notifications_disabled_categories=_.disabledCategories),_.disabledClassifications&&(m.notifications_disabled_categories=_.disabledClassifications))}function v(m,_){_&&(_.minimumSeverityLevel&&(m.notifications_minimum_severity=_.minimumSeverityLevel),_.disabledCategories&&(m.notifications_disabled_classifications=_.disabledCategories),_.disabledClassifications&&(m.notifications_disabled_classifications=_.disabledClassifications))}e.default=l;var d=new l(63,[],function(){return"PULL_ALL"}),y=new l(15,[],function(){return"RESET"}),p=new l(18,[],function(){return"COMMIT"}),g=new l(19,[],function(){return"ROLLBACK"}),b=new l(2,[],function(){return"GOODBYE"})},7041:function(r,e,t){var n=this&&this.__awaiter||function(u,s,l,c){return new(l||(l=Promise))(function(f,h){function v(p){try{y(c.next(p))}catch(g){h(g)}}function d(p){try{y(c.throw(p))}catch(g){h(g)}}function y(p){var g;p.done?f(p.value):(g=p.value,g instanceof l?g:new l(function(b){b(g)})).then(v,d)}y((c=c.apply(u,s||[])).next())})},i=this&&this.__generator||function(u,s){var l,c,f,h,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(p){return function(g){if(l)throw new TypeError("Generator is already executing.");for(;h&&(h=0,g[0]&&(v=0)),v;)try{if(l=1,c&&(f=2&g[0]?c.return:g[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,g[1])).done)return f;switch(c=0,f&&(g=[2&g[0],f.value]),g[0]){case 0:case 1:f=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,c=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){v.label=g[1];break}if(g[0]===6&&v.label<f[1]){v.label=f[1],f=g;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(g);break}f[2]&&v.ops.pop(),v.trys.pop();continue}g=s.call(u,v)}catch(b){g=[6,b],c=0}finally{l=f=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([y,p])}}};Object.defineProperty(e,"__esModule",{value:!0});var o=t(326),a=function(){function u(s){this._createSession=s}return u.prototype.execute=function(s,l,c){return n(this,void 0,void 0,function(){var f,h,v=this;return i(this,function(d){switch(d.label){case 0:f=this._createSession({database:s.database,bookmarkManager:s.bookmarkManager,impersonatedUser:s.impersonatedUser,auth:s.auth}),y=s.signal,p="abort",g=function(){return n(v,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return[4,f.close()];case 1:return[2,b.sent()]}})})},typeof y?.addEventListener=="function"&&y.addEventListener(p,g),h={uninstall:function(){typeof y?.removeEventListener=="function"&&y.removeEventListener(p,g)}},f._configureTransactionExecutor(!0,o.TELEMETRY_APIS.EXECUTE_QUERY),d.label=1;case 1:return d.trys.push([1,,3,5]),[4,(s.routing==="READ"?f.executeRead.bind(f):f.executeWrite.bind(f))(function(b){return n(v,void 0,void 0,function(){var m;return i(this,function(_){switch(_.label){case 0:return m=b.run(l,c),[4,s.resultTransformer(m)];case 1:return[2,_.sent()]}})})},s.transactionConfig)];case 2:return[2,d.sent()];case 3:return h.uninstall(),[4,f.close()];case 4:return d.sent(),[7];case 5:return[2]}var y,p,g})})},u}();e.default=a},7045:(r,e,t)=>{var n=t(3206);r.exports=function(i,o){var a=n(o),u=[];return(u=u.concat(a(i))).concat(a(null))}},7057:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ArgumentOutOfRangeError=void 0;var n=t(5568);e.ArgumentOutOfRangeError=n.createErrorClass(function(i){return function(){i(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},7093:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=e.Point=void 0;var n=t(6587),i="__isPoint__",o=function(){function u(s,l,c,f){this.srid=(0,n.assertNumberOrInteger)(s,"SRID"),this.x=(0,n.assertNumber)(l,"X coordinate"),this.y=(0,n.assertNumber)(c,"Y coordinate"),this.z=f==null?f:(0,n.assertNumber)(f,"Z coordinate"),Object.freeze(this)}return u.prototype.toString=function(){return this.z==null||isNaN(this.z)?"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),"}"):"Point{srid=".concat(a(this.srid),", x=").concat(a(this.x),", y=").concat(a(this.y),", z=").concat(a(this.z),"}")},u}();function a(u){return Number.isInteger(u)?u.toString()+".0":u.toString()}e.Point=o,Object.defineProperty(o.prototype,i,{value:!0,enumerable:!1,configurable:!1,writable:!1}),e.isPoint=function(u){return u!=null&&u[i]===!0}},7101:r=>{r.exports=function(e){return!(!e||typeof e=="string")&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String"))}},7110:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.executeSchedule=void 0,e.executeSchedule=function(t,n,i,o,a){o===void 0&&(o=0),a===void 0&&(a=!1);var u=n.schedule(function(){i(),a?t.add(this.schedule(null,o)):this.unsubscribe()},o);if(t.add(u),!a)return u}},7168:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,v)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),o=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.structure=e.v2=e.v1=void 0;var a=o(t(5361));e.v1=a;var u=o(t(2072));e.v2=u;var s=o(t(7665));e.structure=s,e.default=u},7174:function(r,e,t){var n=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBuffer=void 0;var i=n(t(45));e.BaseBuffer=i.default,e.default=i.default},7192:r=>{r.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},7210:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,v=h&&f[h],d=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferTime=void 0;var i=t(8014),o=t(7843),a=t(3111),u=t(7479),s=t(7961),l=t(1107),c=t(7110);e.bufferTime=function(f){for(var h,v,d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];var p=(h=l.popScheduler(d))!==null&&h!==void 0?h:s.asyncScheduler,g=(v=d[0])!==null&&v!==void 0?v:null,b=d[1]||1/0;return o.operate(function(m,_){var w=[],O=!1,E=function(I){var R=I.buffer;I.subs.unsubscribe(),u.arrRemove(w,I),_.next(R),O&&S()},S=function(){if(w){var I=new i.Subscription;_.add(I);var R={buffer:[],subs:I};w.push(R),c.executeSchedule(I,p,function(){return E(R)},f)}};g!==null&&g>=0?c.executeSchedule(_,p,S,g,!0):O=!0,S();var P=a.createOperatorSubscriber(_,function(I){var R,D,k=w.slice();try{for(var N=n(k),B=N.next();!B.done;B=N.next()){var z=B.value,F=z.buffer;F.push(I),b<=F.length&&E(z)}}catch(U){R={error:U}}finally{try{B&&!B.done&&(D=N.return)&&D.call(N)}finally{if(R)throw R.error}}},function(){for(;w?.length;)_.next(w.shift().buffer);P?.unsubscribe(),_.complete(),_.unsubscribe()},void 0,function(){return w=null});m.subscribe(P)})}},7220:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishBehavior=void 0;var n=t(1637),i=t(8918);e.publishBehavior=function(o){return function(a){var u=new n.BehaviorSubject(o);return new i.ConnectableObservable(a,function(){return u})}}},7245:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TestTools=e.Immediate=void 0;var t,n=1,i={};function o(a){return a in i&&(delete i[a],!0)}e.Immediate={setImmediate:function(a){var u=n++;return i[u]=!0,t||(t=Promise.resolve()),t.then(function(){return o(u)&&a()}),u},clearImmediate:function(a){o(a)}},e.TestTools={pending:function(){return Object.keys(i).length}}},7264:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(I){for(var R,D=1,k=arguments.length;D<k;D++)for(var N in R=arguments[D])Object.prototype.hasOwnProperty.call(R,N)&&(I[N]=R[N]);return I},n.apply(this,arguments)},i=this&&this.__awaiter||function(I,R,D,k){return new(D||(D=Promise))(function(N,B){function z(W){try{U(k.next(W))}catch(Y){B(Y)}}function F(W){try{U(k.throw(W))}catch(Y){B(Y)}}function U(W){var Y;W.done?N(W.value):(Y=W.value,Y instanceof D?Y:new D(function(X){X(Y)})).then(z,F)}U((k=k.apply(I,R||[])).next())})},o=this&&this.__generator||function(I,R){var D,k,N,B,z={label:0,sent:function(){if(1&N[0])throw N[1];return N[1]},trys:[],ops:[]};return B={next:F(0),throw:F(1),return:F(2)},typeof Symbol=="function"&&(B[Symbol.iterator]=function(){return this}),B;function F(U){return function(W){return function(Y){if(D)throw new TypeError("Generator is already executing.");for(;B&&(B=0,Y[0]&&(z=0)),z;)try{if(D=1,k&&(N=2&Y[0]?k.return:Y[0]?k.throw||((N=k.return)&&N.call(k),0):k.next)&&!(N=N.call(k,Y[1])).done)return N;switch(k=0,N&&(Y=[2&Y[0],N.value]),Y[0]){case 0:case 1:N=Y;break;case 4:return z.label++,{value:Y[1],done:!1};case 5:z.label++,k=Y[1],Y=[0];continue;case 7:Y=z.ops.pop(),z.trys.pop();continue;default:if(!((N=(N=z.trys).length>0&&N[N.length-1])||Y[0]!==6&&Y[0]!==2)){z=0;continue}if(Y[0]===3&&(!N||Y[1]>N[0]&&Y[1]<N[3])){z.label=Y[1];break}if(Y[0]===6&&z.label<N[1]){z.label=N[1],N=Y;break}if(N&&z.label<N[2]){z.label=N[2],z.ops.push(Y);break}N[2]&&z.ops.pop(),z.trys.pop();continue}Y=R.call(I,z)}catch(X){Y=[6,X],k=0}finally{D=N=0}if(5&Y[0])throw Y[1];return{value:Y[0]?Y[1]:void 0,done:!0}}([U,W])}}},a=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(e,"__esModule",{value:!0}),e.QueryConfig=e.SessionConfig=e.routing=e.WRITE=e.READ=e.Driver=void 0;var u=t(9730),s=a(t(8341)),l=t(326),c=t(4883),f=a(t(5481)),h=t(6587),v=t(6755),d=a(t(1573)),y=a(t(7041)),p=t(9691),g=a(t(3001)),b=t(6030),m=l.ACCESS_MODE_READ;e.READ=m;var _=l.ACCESS_MODE_WRITE;e.WRITE=_;var w=0;e.SessionConfig=function(){this.defaultAccessMode=_,this.bookmarks=[],this.database="",this.impersonatedUser=void 0,this.auth=void 0,this.fetchSize=void 0,this.bookmarkManager=void 0,this.notificationFilter=void 0};var O={WRITE:"WRITE",READ:"READ"};e.routing=O,Object.freeze(O),e.QueryConfig=function(){this.routing=O.WRITE,this.resultTransformer=void 0,this.database="",this.impersonatedUser=void 0,this.bookmarkManager=void 0,this.transactionConfig=void 0,this.auth=void 0,this.signal=void 0};var E=function(){function I(R,D,k,N,B){D===void 0&&(D={}),N===void 0&&(N=function(F){return new f.default(F)}),B===void 0&&(B=function(F){return new y.default(F)}),function(F){F.maxConnectionLifetime=S(F.maxConnectionLifetime,36e5),F.maxConnectionPoolSize=S(F.maxConnectionPoolSize,l.DEFAULT_POOL_MAX_SIZE),F.connectionAcquisitionTimeout=S(F.connectionAcquisitionTimeout,l.DEFAULT_POOL_ACQUISITION_TIMEOUT),F.fetchSize=P(F.fetchSize,1e3),F.connectionTimeout=function(U){var W=parseInt(U.connectionTimeout,10);return W===0||!isNaN(W)&&W<0?null:isNaN(W)?l.DEFAULT_CONNECTION_TIMEOUT_MILLIS:W}(F),F.connectionLivenessCheckTimeout=function(U){if(U!=null){var W=parseInt(U,10);if(W<0||Number.isNaN(W))throw new Error("The connectionLivenessCheckTimeout can only be a positive value or 0 for always. However connectionLivenessCheckTimeout = ".concat(W));return W}}(F.connectionLivenessCheckTimeout)}(D);var z=c.Logger.create(D);(function(F,U){var W,Y,X=F.resolver;if(X!=null&&typeof X!="function")throw new TypeError("Configured resolver should be a function. Got: ".concat(typeof X));if(F.connectionAcquisitionTimeout<F.connectionTimeout&&U.warn('Configuration for "connectionAcquisitionTimeout" should be greater than or equal to "connectionTimeout". Otherwise, the connection acquisition timeout will take precedence for over the connection timeout in scenarios where a new connection is created while it is acquired'),((W=F.notificationFilter)===null||W===void 0?void 0:W.disabledCategories)!=null&&((Y=F.notificationFilter)===null||Y===void 0?void 0:Y.disabledClassifications)!=null)throw new Error(`The notificationFilter can't have both "disabledCategories" and  "disabledClassifications" configured at the same time.`)})(D,z),this._id=w++,this._meta=R,this._config=D,this._log=z,this._createConnectionProvider=k,this._createSession=N,this._defaultExecuteQueryBookmarkManager=(0,v.bookmarkManager)(),this._queryExecutor=B(this.session.bind(this)),this._connectionProvider=null,this.homeDatabaseCache=new g.default(1e4),this._afterConstruction()}return Object.defineProperty(I.prototype,"executeQueryBookmarkManager",{get:function(){return this._defaultExecuteQueryBookmarkManager},enumerable:!1,configurable:!0}),I.prototype.executeQuery=function(R,D,k){var N,B,z;return k===void 0&&(k={}),i(this,void 0,void 0,function(){var F,U,W;return o(this,function(Y){switch(Y.label){case 0:if(F=k.bookmarkManager===null?void 0:(N=k.bookmarkManager)!==null&&N!==void 0?N:this.executeQueryBookmarkManager,U=(B=k.resultTransformer)!==null&&B!==void 0?B:d.default.eagerResultTransformer(),(W=(z=k.routing)!==null&&z!==void 0?z:O.WRITE)!==O.READ&&W!==O.WRITE)throw(0,p.newError)('Illegal query routing config: "'.concat(W,'"'));return[4,this._queryExecutor.execute({resultTransformer:U,bookmarkManager:F,routing:W,database:k.database,impersonatedUser:k.impersonatedUser,transactionConfig:k.transactionConfig,auth:k.auth,signal:k.signal},R,D)];case 1:return[2,Y.sent()]}})})},I.prototype.verifyConnectivity=function(R){var D=(R===void 0?{}:R).database,k=D===void 0?"":D;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:k,accessMode:m})},I.prototype.verifyAuthentication=function(R){var D=R===void 0?{}:R,k=D.database,N=D.auth;return i(this,void 0,void 0,function(){return o(this,function(B){switch(B.label){case 0:return[4,this._getOrCreateConnectionProvider().verifyAuthentication({database:k??"system",auth:N,accessMode:m})];case 1:return[2,B.sent()]}})})},I.prototype.getServerInfo=function(R){var D=(R===void 0?{}:R).database,k=D===void 0?"":D;return this._getOrCreateConnectionProvider().verifyConnectivityAndGetServerInfo({database:k,accessMode:m})},I.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},I.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},I.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},I.prototype.supportsSessionAuth=function(){return this._getOrCreateConnectionProvider().supportsSessionAuth()},I.prototype.getNegotiatedProtocolVersion=function(){return this._getOrCreateConnectionProvider().getNegotiatedProtocolVersion()},I.prototype.isEncrypted=function(){return this._isEncrypted()},I.prototype._supportsRouting=function(){return this._meta.routing},I.prototype._isEncrypted=function(){return this._config.encrypted===h.ENCRYPTION_ON||this._config.encrypted===!0},I.prototype._getTrust=function(){return this._config.trust},I.prototype.session=function(R){var D=R===void 0?{}:R,k=D.defaultAccessMode,N=k===void 0?_:k,B=D.bookmarks,z=D.database,F=z===void 0?"":z,U=D.impersonatedUser,W=D.fetchSize,Y=D.bookmarkManager,X=D.notificationFilter,Q=D.auth;return this._newSession({defaultAccessMode:N,bookmarkOrBookmarks:B,database:F,reactive:!1,impersonatedUser:U,fetchSize:P(W,this._config.fetchSize),bookmarkManager:Y,notificationFilter:X,auth:Q})},I.prototype.close=function(){return this._log.info("Driver ".concat(this._id," closing")),this._connectionProvider!=null?this._connectionProvider.close():Promise.resolve()},I.prototype[Symbol.asyncDispose]=function(){return this.close()},I.prototype._afterConstruction=function(){this._log.info("".concat(this._meta.typename," driver ").concat(this._id," created for server address ").concat(this._meta.address.toString()))},I.prototype._homeDatabaseCallback=function(R,D){this.homeDatabaseCache.set(R,D)},I.prototype._newSession=function(R){var D=R.defaultAccessMode,k=R.bookmarkOrBookmarks,N=R.database,B=R.reactive,z=R.impersonatedUser,F=R.fetchSize,U=R.bookmarkManager,W=R.notificationFilter,Y=R.auth,X=f.default._validateSessionMode(D),Q=this._getOrCreateConnectionProvider(),ue=this.homeDatabaseCache.get((0,b.cacheKey)(Y,z)),ce=this._homeDatabaseCallback.bind(this),ae=k!=null?new u.Bookmarks(k):u.Bookmarks.empty();return this._createSession({mode:X,database:N??"",connectionProvider:Q,bookmarks:ae,config:n({cachedHomeDatabase:ue,routingDriver:this._supportsRouting()},this._config),reactive:B,impersonatedUser:z,fetchSize:F,bookmarkManager:U,notificationFilter:W,auth:Y,log:this._log,homeDatabaseCallback:ce})},I.prototype._getOrCreateConnectionProvider=function(){var R;return this._connectionProvider==null&&(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(R=this._config,new s.default(R.resolver)))),this._connectionProvider},I}();function S(I,R){var D=parseInt(I,10);return D>0||D===0?D:D<0?Number.MAX_SAFE_INTEGER:R}function P(I,R){var D=parseInt(I,10);if(D>0||D===l.FETCH_ALL)return D;if(D===0||D<0)throw new Error("The fetch size can only be a positive value or ".concat(l.FETCH_ALL," for ALL. However fetchSize = ").concat(D));return R}e.Driver=E,e.default=E},7286:function(r,e,t){var n=this&&this.__read||function(f,h){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var d,y,p=v.call(f),g=[];try{for(;(h===void 0||h-- >0)&&!(d=p.next()).done;)g.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(y)throw y.error}}return g},i=this&&this.__spreadArray||function(f,h){for(var v=0,d=h.length,y=f.length;v<d;v++,y++)f[y]=h[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.zip=void 0;var o=t(4662),a=t(9445),u=t(8535),s=t(8616),l=t(3111),c=t(1107);e.zip=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];var v=c.popResultSelector(f),d=u.argsOrArgArray(f);return d.length?new o.Observable(function(y){var p=d.map(function(){return[]}),g=d.map(function(){return!1});y.add(function(){p=g=null});for(var b=function(_){a.innerFrom(d[_]).subscribe(l.createOperatorSubscriber(y,function(w){if(p[_].push(w),p.every(function(E){return E.length})){var O=p.map(function(E){return E.shift()});y.next(v?v.apply(void 0,i([],n(O))):O),p.some(function(E,S){return!E.length&&g[S]})&&y.complete()}},function(){g[_]=!0,!p[_].length&&y.complete()}))},m=0;!y.closed&&m<d.length;m++)b(m);return function(){p=g=null}}):s.EMPTY}},7302:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=void 0;var n=t(983),i=t(6640);e.mergeAll=function(o){return o===void 0&&(o=1/0),n.mergeMap(i.identity,o)}},7315:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reportUnhandledError=void 0;var n=t(3413),i=t(9155);e.reportUnhandledError=function(o){i.timeoutProvider.setTimeout(function(){var a=n.config.onUnhandledError;if(!a)throw o;a(o)})}},7331:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(5348));e.default=n({},o.default)},7360:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsArgArrayOrObject=void 0;var t=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,o=Object.keys;e.argsArgArrayOrObject=function(a){if(a.length===1){var u=a[0];if(t(u))return{args:u,keys:null};if((l=u)&&typeof l=="object"&&n(l)===i){var s=o(u);return{args:s.map(function(c){return u[c]}),keys:s}}}var l;return{args:a,keys:null}}},7372:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipUntil=void 0;var n=t(7843),i=t(3111),o=t(9445),a=t(1342);e.skipUntil=function(u){return n.operate(function(s,l){var c=!1,f=i.createOperatorSubscriber(l,function(){f?.unsubscribe(),c=!0},a.noop);o.innerFrom(u).subscribe(f),s.subscribe(i.createOperatorSubscriber(l,function(h){return c&&l.next(h)}))})}},7428:function(r,e,t){var n=this&&this.__extends||function(){var fe=function(he,ee){return fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,J){K.__proto__=J}||function(K,J){for(var ie in J)Object.prototype.hasOwnProperty.call(J,ie)&&(K[ie]=J[ie])},fe(he,ee)};return function(he,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function K(){this.constructor=he}fe(he,ee),he.prototype=ee===null?Object.create(ee):(K.prototype=ee.prototype,new K)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(fe){for(var he,ee=1,K=arguments.length;ee<K;ee++)for(var J in he=arguments[ee])Object.prototype.hasOwnProperty.call(he,J)&&(fe[J]=he[J]);return fe},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(fe,he,ee,K){K===void 0&&(K=ee);var J=Object.getOwnPropertyDescriptor(he,ee);J&&!("get"in J?!he.__esModule:J.writable||J.configurable)||(J={enumerable:!0,get:function(){return he[ee]}}),Object.defineProperty(fe,K,J)}:function(fe,he,ee,K){K===void 0&&(K=ee),fe[K]=he[ee]}),a=this&&this.__setModuleDefault||(Object.create?function(fe,he){Object.defineProperty(fe,"default",{enumerable:!0,value:he})}:function(fe,he){fe.default=he}),u=this&&this.__importStar||function(fe){if(fe&&fe.__esModule)return fe;var he={};if(fe!=null)for(var ee in fe)ee!=="default"&&Object.prototype.hasOwnProperty.call(fe,ee)&&o(he,fe,ee);return a(he,fe),he},s=this&&this.__awaiter||function(fe,he,ee,K){return new(ee||(ee=Promise))(function(J,ie){function de(Ae){try{Ce(K.next(Ae))}catch(xe){ie(xe)}}function _e(Ae){try{Ce(K.throw(Ae))}catch(xe){ie(xe)}}function Ce(Ae){var xe;Ae.done?J(Ae.value):(xe=Ae.value,xe instanceof ee?xe:new ee(function(j){j(xe)})).then(de,_e)}Ce((K=K.apply(fe,he||[])).next())})},l=this&&this.__generator||function(fe,he){var ee,K,J,ie,de={label:0,sent:function(){if(1&J[0])throw J[1];return J[1]},trys:[],ops:[]};return ie={next:_e(0),throw:_e(1),return:_e(2)},typeof Symbol=="function"&&(ie[Symbol.iterator]=function(){return this}),ie;function _e(Ce){return function(Ae){return function(xe){if(ee)throw new TypeError("Generator is already executing.");for(;ie&&(ie=0,xe[0]&&(de=0)),de;)try{if(ee=1,K&&(J=2&xe[0]?K.return:xe[0]?K.throw||((J=K.return)&&J.call(K),0):K.next)&&!(J=J.call(K,xe[1])).done)return J;switch(K=0,J&&(xe=[2&xe[0],J.value]),xe[0]){case 0:case 1:J=xe;break;case 4:return de.label++,{value:xe[1],done:!1};case 5:de.label++,K=xe[1],xe=[0];continue;case 7:xe=de.ops.pop(),de.trys.pop();continue;default:if(!((J=(J=de.trys).length>0&&J[J.length-1])||xe[0]!==6&&xe[0]!==2)){de=0;continue}if(xe[0]===3&&(!J||xe[1]>J[0]&&xe[1]<J[3])){de.label=xe[1];break}if(xe[0]===6&&de.label<J[1]){de.label=J[1],J=xe;break}if(J&&de.label<J[2]){de.label=J[2],de.ops.push(xe);break}J[2]&&de.ops.pop(),de.trys.pop();continue}xe=he.call(fe,de)}catch(j){xe=[6,j],K=0}finally{ee=J=0}if(5&xe[0])throw xe[1];return{value:xe[0]?xe[1]:void 0,done:!0}}([Ce,Ae])}}},c=this&&this.__values||function(fe){var he=typeof Symbol=="function"&&Symbol.iterator,ee=he&&fe[he],K=0;if(ee)return ee.call(fe);if(fe&&typeof fe.length=="number")return{next:function(){return fe&&K>=fe.length&&(fe=void 0),{value:fe&&fe[K++],done:!fe}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")},f=this&&this.__read||function(fe,he){var ee=typeof Symbol=="function"&&fe[Symbol.iterator];if(!ee)return fe;var K,J,ie=ee.call(fe),de=[];try{for(;(he===void 0||he-- >0)&&!(K=ie.next()).done;)de.push(K.value)}catch(_e){J={error:_e}}finally{try{K&&!K.done&&(ee=ie.return)&&ee.call(ie)}finally{if(J)throw J.error}}return de},h=this&&this.__importDefault||function(fe){return fe&&fe.__esModule?fe:{default:fe}};Object.defineProperty(e,"__esModule",{value:!0});var v=t(9305),d=u(t(206)),y=t(7452),p=h(t(4132)),g=h(t(8987)),b=t(4455),m=t(7721),_=t(6781),w=v.error.SERVICE_UNAVAILABLE,O=v.error.SESSION_EXPIRED,E=v.internal.bookmarks.Bookmarks,S=v.internal.constants,P=S.ACCESS_MODE_READ,I=S.ACCESS_MODE_WRITE,R=S.BOLT_PROTOCOL_V3,D=S.BOLT_PROTOCOL_V4_0,k=S.BOLT_PROTOCOL_V4_4,N=S.BOLT_PROTOCOL_V5_1,B="Neo.ClientError.Database.DatabaseNotFound",z="Neo.ClientError.Transaction.InvalidBookmark",F="Neo.ClientError.Transaction.InvalidBookmarkMixture",U="Neo.ClientError.Security.AuthorizationExpired",W="Neo.ClientError.Statement.ArgumentError",Y="Neo.ClientError.Request.Invalid",X="Neo.ClientError.Statement.TypeError",Q="N/A",ue=null,ce=(0,v.int)(3e4),ae=function(fe){function he(ee){var K=ee.id,J=ee.address,ie=ee.routingContext,de=ee.hostNameResolver,_e=ee.config,Ce=ee.log,Ae=ee.userAgent,xe=ee.boltAgent,j=ee.authTokenManager,G=ee.routingTablePurgeDelay,H=ee.newPool,oe=fe.call(this,{id:K,config:_e,log:Ce,userAgent:Ae,boltAgent:xe,authTokenManager:j,newPool:H},function(ve){return s(oe,void 0,void 0,function(){var ye,we;return l(this,function(je){switch(je.label){case 0:return ye=m.createChannelConnection,we=[ve,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,ye.apply(void 0,we.concat([je.sent(),this._routingContext,this._channelSsrCallback.bind(this)]))]}})})})||this;return oe._routingContext=i(i({},ie),{address:J.toString()}),oe._seedRouter=J,oe._rediscovery=new d.default(oe._routingContext),oe._loadBalancingStrategy=new b.LeastConnectedLoadBalancingStrategy(oe._connectionPool),oe._hostNameResolver=de,oe._dnsResolver=new y.HostNameResolver,oe._log=Ce,oe._useSeedRouter=!0,oe._routingTableRegistry=new pe(G?(0,v.int)(G):ce),oe._refreshRoutingTable=_.functional.reuseOngoingRequest(oe._refreshRoutingTable,oe),oe._withSSR=0,oe._withoutSSR=0,oe}return n(he,fe),he.prototype._createConnectionErrorHandler=function(){return new m.ConnectionErrorHandler(O)},he.prototype._handleUnavailability=function(ee,K,J){return this._log.warn("Routing driver ".concat(this._id," will forget ").concat(K," for database '").concat(J,"' because of an error ").concat(ee.code," '").concat(ee.message,"'")),this.forget(K,J||ue),ee},he.prototype._handleSecurityError=function(ee,K,J,ie){return this._log.warn("Routing driver ".concat(this._id," will close connections to ").concat(K," for database '").concat(ie,"' because of an error ").concat(ee.code," '").concat(ee.message,"'")),fe.prototype._handleSecurityError.call(this,ee,K,J,ie)},he.prototype._handleWriteFailure=function(ee,K,J){return this._log.warn("Routing driver ".concat(this._id," will forget writer ").concat(K," for database '").concat(J,"' because of an error ").concat(ee.code," '").concat(ee.message,"'")),this.forgetWriter(K,J||ue),(0,v.newError)("No longer possible to write to server at "+K,O,ee)},he.prototype.acquireConnection=function(ee){var K=ee===void 0?{}:ee,J=K.accessMode,ie=K.database,de=K.bookmarks,_e=K.impersonatedUser,Ce=K.onDatabaseNameResolved,Ae=K.auth,xe=K.homeDb;return s(this,void 0,void 0,function(){var j,G,H,oe,ve,ye=this;return l(this,function(we){switch(we.label){case 0:return j={database:ie||ue},G=new m.ConnectionErrorHandler(O,function(je,ze){return ye._handleUnavailability(je,ze,j.database)},function(je,ze){return ye._handleWriteFailure(je,ze,xe??j.database)},function(je,ze,rt){return ye._handleSecurityError(je,ze,rt,j.database)}),this.SSREnabled()&&xe!==void 0&&ie===""?!(oe=this._routingTableRegistry.get(xe,function(){return new d.RoutingTable({database:xe})}))||oe.isStaleFor(J)?[3,2]:[4,this.getConnectionFromRoutingTable(oe,Ae,J,G)]:[3,2];case 1:if(H=we.sent(),this.SSREnabled())return[2,H];H.release(),we.label=2;case 2:return[4,this._freshRoutingTable({accessMode:J,database:j.database,bookmarks:de,impersonatedUser:_e,auth:Ae,onDatabaseNameResolved:function(je){j.database=j.database||je,Ce&&Ce(je)}})];case 3:return ve=we.sent(),[2,this.getConnectionFromRoutingTable(ve,Ae,J,G)]}})})},he.prototype.getConnectionFromRoutingTable=function(ee,K,J,ie){return s(this,void 0,void 0,function(){var de,_e,Ce,Ae;return l(this,function(xe){switch(xe.label){case 0:if(J===P)_e=this._loadBalancingStrategy.selectReader(ee.readers),de="read";else{if(J!==I)throw(0,v.newError)("Illegal mode "+J);_e=this._loadBalancingStrategy.selectWriter(ee.writers),de="write"}if(!_e)throw(0,v.newError)("Failed to obtain connection towards ".concat(de," server. Known routing table is: ").concat(ee),O);xe.label=1;case 1:return xe.trys.push([1,5,,6]),[4,this._connectionPool.acquire({auth:K},_e)];case 2:return Ce=xe.sent(),K?[4,this._verifyStickyConnection({auth:K,connection:Ce,address:_e})]:[3,4];case 3:return xe.sent(),[2,Ce];case 4:return[2,new m.DelegateConnection(Ce,ie)];case 5:throw Ae=xe.sent(),ie.handleAndTransformError(Ae,_e);case 6:return[2]}})})},he.prototype._hasProtocolVersion=function(ee){return s(this,void 0,void 0,function(){var K,J,ie,de,_e,Ce;return l(this,function(Ae){switch(Ae.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:K=Ae.sent(),ie=0,Ae.label=2;case 2:if(!(ie<K.length))return[3,8];Ae.label=3;case 3:return Ae.trys.push([3,6,,7]),[4,this._createChannelConnection(K[ie])];case 4:return de=Ae.sent(),_e=de.protocol()?de.protocol().version:null,[4,de.close()];case 5:return Ae.sent(),_e?[2,ee(_e)]:[2,!1];case 6:return Ce=Ae.sent(),J=Ce,[3,7];case 7:return ie++,[3,2];case 8:if(J)throw J;return[2,!1]}})})},he.prototype.supportsMultiDb=function(){return s(this,void 0,void 0,function(){return l(this,function(ee){switch(ee.label){case 0:return[4,this._hasProtocolVersion(function(K){return K>=D})];case 1:return[2,ee.sent()]}})})},he.prototype.supportsTransactionConfig=function(){return s(this,void 0,void 0,function(){return l(this,function(ee){switch(ee.label){case 0:return[4,this._hasProtocolVersion(function(K){return K>=R})];case 1:return[2,ee.sent()]}})})},he.prototype.supportsUserImpersonation=function(){return s(this,void 0,void 0,function(){return l(this,function(ee){switch(ee.label){case 0:return[4,this._hasProtocolVersion(function(K){return K>=k})];case 1:return[2,ee.sent()]}})})},he.prototype.supportsSessionAuth=function(){return s(this,void 0,void 0,function(){return l(this,function(ee){switch(ee.label){case 0:return[4,this._hasProtocolVersion(function(K){return K>=N})];case 1:return[2,ee.sent()]}})})},he.prototype.getNegotiatedProtocolVersion=function(){var ee=this;return new Promise(function(K,J){ee._hasProtocolVersion(K).catch(J)})},he.prototype.verifyAuthentication=function(ee){var K=ee.database,J=ee.accessMode,ie=ee.auth;return s(this,void 0,void 0,function(){var de=this;return l(this,function(_e){return[2,this._verifyAuthentication({auth:ie,getAddress:function(){return s(de,void 0,void 0,function(){var Ce,Ae,xe;return l(this,function(j){switch(j.label){case 0:return Ce={database:K||ue},[4,this._freshRoutingTable({accessMode:J,database:Ce.database,auth:ie,onDatabaseNameResolved:function(G){Ce.database=Ce.database||G}})];case 1:if(Ae=j.sent(),(xe=J===I?Ae.writers:Ae.readers).length===0)throw(0,v.newError)("No servers available for database '".concat(Ce.database,"' with access mode '").concat(J,"'"),w);return[2,xe[0]]}})})}})]})})},he.prototype.verifyConnectivityAndGetServerInfo=function(ee){var K=ee.database,J=ee.accessMode;return s(this,void 0,void 0,function(){var ie,de,_e,Ce,Ae,xe,j,G,H,oe,ve;return l(this,function(ye){switch(ye.label){case 0:return ie={database:K||ue},[4,this._freshRoutingTable({accessMode:J,database:ie.database,onDatabaseNameResolved:function(we){ie.database=ie.database||we}})];case 1:de=ye.sent(),_e=J===I?de.writers:de.readers,Ce=(0,v.newError)("No servers available for database '".concat(ie.database,"' with access mode '").concat(J,"'"),w),ye.label=2;case 2:ye.trys.push([2,9,10,11]),Ae=c(_e),xe=Ae.next(),ye.label=3;case 3:if(xe.done)return[3,8];j=xe.value,ye.label=4;case 4:return ye.trys.push([4,6,,7]),[4,this._verifyConnectivityAndGetServerVersion({address:j})];case 5:return[2,ye.sent()];case 6:return G=ye.sent(),Ce=G,[3,7];case 7:return xe=Ae.next(),[3,3];case 8:return[3,11];case 9:return H=ye.sent(),oe={error:H},[3,11];case 10:try{xe&&!xe.done&&(ve=Ae.return)&&ve.call(Ae)}finally{if(oe)throw oe.error}return[7];case 11:throw Ce}})})},he.prototype.forget=function(ee,K){this._routingTableRegistry.apply(K,{applyWhenExists:function(J){return J.forget(ee)}}),this._connectionPool.purge(ee).catch(function(){})},he.prototype.forgetWriter=function(ee,K){this._routingTableRegistry.apply(K,{applyWhenExists:function(J){return J.forgetWriter(ee)}})},he.prototype._freshRoutingTable=function(ee){var K=ee===void 0?{}:ee,J=K.accessMode,ie=K.database,de=K.bookmarks,_e=K.impersonatedUser,Ce=K.onDatabaseNameResolved,Ae=K.auth,xe=this._routingTableRegistry.get(ie,function(){return new d.RoutingTable({database:ie})});return xe.isStaleFor(J)?(this._log.info('Routing table is stale for database: "'.concat(ie,'" and access mode: "').concat(J,'": ').concat(xe)),this._refreshRoutingTable(xe,de,_e,Ae).then(function(j){return Ce(j.database),j})):xe},he.prototype._refreshRoutingTable=function(ee,K,J,ie){var de=ee.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(de,ee,K,J,ie):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(de,ee,K,J,ie)},he.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(ee,K,J,ie,de){return s(this,void 0,void 0,function(){var _e,Ce,Ae,xe,j,G,H;return l(this,function(oe){switch(oe.label){case 0:return _e=[],[4,this._fetchRoutingTableUsingSeedRouter(_e,this._seedRouter,K,J,ie,de)];case 1:return Ce=f.apply(void 0,[oe.sent(),2]),Ae=Ce[0],xe=Ce[1],Ae?(this._useSeedRouter=!1,[3,4]):[3,2];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(ee,K,J,ie,de)];case 3:j=f.apply(void 0,[oe.sent(),2]),G=j[0],H=j[1],Ae=G,xe=H||xe,oe.label=4;case 4:return[4,this._applyRoutingTableIfPossible(K,Ae,xe)];case 5:return[2,oe.sent()]}})})},he.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(ee,K,J,ie,de){return s(this,void 0,void 0,function(){var _e,Ce,Ae,xe;return l(this,function(j){switch(j.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(ee,K,J,ie,de)];case 1:return _e=f.apply(void 0,[j.sent(),2]),Ce=_e[0],Ae=_e[1],Ce?[3,3]:[4,this._fetchRoutingTableUsingSeedRouter(ee,this._seedRouter,K,J,ie,de)];case 2:xe=f.apply(void 0,[j.sent(),2]),Ce=xe[0],Ae=xe[1],j.label=3;case 3:return[4,this._applyRoutingTableIfPossible(K,Ce,Ae)];case 4:return[2,j.sent()]}})})},he.prototype._fetchRoutingTableUsingKnownRouters=function(ee,K,J,ie,de){return s(this,void 0,void 0,function(){var _e,Ce,Ae,xe;return l(this,function(j){switch(j.label){case 0:return[4,this._fetchRoutingTable(ee,K,J,ie,de)];case 1:return _e=f.apply(void 0,[j.sent(),2]),Ce=_e[0],Ae=_e[1],Ce?[2,[Ce,null]]:(xe=ee.length-1,he._forgetRouter(K,ee,xe),[2,[null,Ae]])}})})},he.prototype._fetchRoutingTableUsingSeedRouter=function(ee,K,J,ie,de,_e){return s(this,void 0,void 0,function(){var Ce,Ae;return l(this,function(xe){switch(xe.label){case 0:return[4,this._resolveSeedRouter(K)];case 1:return Ce=xe.sent(),Ae=Ce.filter(function(j){return ee.indexOf(j)<0}),[4,this._fetchRoutingTable(Ae,J,ie,de,_e)];case 2:return[2,xe.sent()]}})})},he.prototype._resolveSeedRouter=function(ee){return s(this,void 0,void 0,function(){var K,J,ie=this;return l(this,function(de){switch(de.label){case 0:return[4,this._hostNameResolver.resolve(ee)];case 1:return K=de.sent(),[4,Promise.all(K.map(function(_e){return ie._dnsResolver.resolve(_e)}))];case 2:return J=de.sent(),[2,[].concat.apply([],J)]}})})},he.prototype._fetchRoutingTable=function(ee,K,J,ie,de){return s(this,void 0,void 0,function(){var _e=this;return l(this,function(Ce){return[2,ee.reduce(function(Ae,xe,j){return s(_e,void 0,void 0,function(){var G,H,oe,ve,ye,we,je;return l(this,function(ze){switch(ze.label){case 0:return[4,Ae];case 1:return G=f.apply(void 0,[ze.sent(),1]),(H=G[0])?[2,[H,null]]:(oe=j-1,he._forgetRouter(K,ee,oe),[4,this._createSessionForRediscovery(xe,J,ie,de)]);case 2:if(ve=f.apply(void 0,[ze.sent(),2]),ye=ve[0],we=ve[1],!ye)return[3,8];ze.label=3;case 3:return ze.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(ye,K.database,xe,ie)];case 4:return[2,[ze.sent(),null]];case 5:return je=ze.sent(),[2,this._handleRediscoveryError(je,xe)];case 6:return ye.close(),[7];case 7:return[3,9];case 8:return[2,[null,we]];case 9:return[2]}})})},Promise.resolve([null,null]))]})})},he.prototype._createSessionForRediscovery=function(ee,K,J,ie){return s(this,void 0,void 0,function(){var de,_e,Ce,Ae,xe,j=this;return l(this,function(G){switch(G.label){case 0:return G.trys.push([0,4,,5]),[4,this._connectionPool.acquire({auth:ie},ee)];case 1:return de=G.sent(),ie?[4,this._verifyStickyConnection({auth:ie,connection:de,address:ee})]:[3,3];case 2:G.sent(),G.label=3;case 3:return _e=m.ConnectionErrorHandler.create({errorCode:O,handleSecurityError:function(H,oe,ve){return j._handleSecurityError(H,oe,ve)}}),Ce=de._sticky?new m.DelegateConnection(de):new m.DelegateConnection(de,_e),Ae=new p.default(Ce),de.protocol().version<4?[2,[new v.Session({mode:I,bookmarks:E.empty(),connectionProvider:Ae}),null]]:[2,[new v.Session({mode:P,database:"system",bookmarks:K,connectionProvider:Ae,impersonatedUser:J}),null]];case 4:return xe=G.sent(),[2,this._handleRediscoveryError(xe,ee)];case 5:return[2]}})})},he.prototype._handleRediscoveryError=function(ee,K){if(function(J){return[B,z,F,W,Y,X,Q].includes(J.code)}(ee)||function(J){var ie;return((ie=J.code)===null||ie===void 0?void 0:ie.startsWith("Neo.ClientError.Security."))&&![U].includes(J.code)}(ee))throw ee;if(ee.code==="Neo.ClientError.Procedure.ProcedureNotFound")throw(0,v.newError)("Server at ".concat(K.asHostPort()," can't perform routing. Make sure you are connecting to a causal cluster"),w,ee);return this._log.warn("unable to fetch routing table because of an error ".concat(ee)),[null,ee]},he.prototype._applyRoutingTableIfPossible=function(ee,K,J){return s(this,void 0,void 0,function(){return l(this,function(ie){switch(ie.label){case 0:if(!K)throw(0,v.newError)("Could not perform discovery. No routing servers available. Known routing table: ".concat(ee),w,J);return K.writers.length===0&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(K)];case 1:return ie.sent(),[2,K]}})})},he.prototype._updateRoutingTable=function(ee){return s(this,void 0,void 0,function(){return l(this,function(K){switch(K.label){case 0:return[4,this._connectionPool.keepAll(ee.allServers())];case 1:return K.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(ee),this._log.info("Updated routing table ".concat(ee)),[2]}})})},he._forgetRouter=function(ee,K,J){var ie=K[J];ee&&ie&&ee.forgetRouter(ie)},he.prototype._channelSsrCallback=function(ee,K){if(K==="OPEN")ee===!0?this._withSSR=this._withSSR+1:this._withoutSSR=this._withoutSSR+1;else{if(K!=="CLOSE")throw(0,v.newError)("Channel SSR Callback invoked with action other than 'OPEN' or 'CLOSE'");ee===!0?this._withSSR=this._withSSR-1:this._withoutSSR=this._withoutSSR-1}},he.prototype.SSREnabled=function(){return this._withSSR>0&&this._withoutSSR===0},he}(g.default);e.default=ae;var pe=function(){function fe(he){this._tables=new Map,this._routingTablePurgeDelay=he}return fe.prototype.register=function(he){return this._tables.set(he.database,he),this},fe.prototype.apply=function(he,ee){var K=ee===void 0?{}:ee,J=K.applyWhenExists,ie=K.applyWhenDontExists,de=ie===void 0?function(){}:ie;return this._tables.has(he)?J(this._tables.get(he)):typeof he=="string"||he===null?de():this._forEach(J),this},fe.prototype.get=function(he,ee){return this._tables.has(he)?this._tables.get(he):typeof ee=="function"?ee():ee},fe.prototype.removeExpired=function(){var he=this;return this._removeIf(function(ee){return ee.isExpiredFor(he._routingTablePurgeDelay)})},fe.prototype._forEach=function(he){var ee,K;try{for(var J=c(this._tables),ie=J.next();!ie.done;ie=J.next())he(f(ie.value,2)[1])}catch(de){ee={error:de}}finally{try{ie&&!ie.done&&(K=J.return)&&K.call(J)}finally{if(ee)throw ee.error}}return this},fe.prototype._remove=function(he){return this._tables.delete(he),this},fe.prototype._removeIf=function(he){var ee,K;try{for(var J=c(this._tables),ie=J.next();!ie.done;ie=J.next()){var de=f(ie.value,2),_e=de[0];he(de[1])&&this._remove(_e)}}catch(Ce){ee={error:Ce}}finally{try{ie&&!ie.done&&(K=J.return)&&K.call(J)}finally{if(ee)throw ee.error}}return this},fe}()},7441:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dematerialize=void 0;var n=t(7800),i=t(7843),o=t(3111);e.dematerialize=function(){return i.operate(function(a,u){a.subscribe(o.createOperatorSubscriber(u,function(s){return n.observeNotification(s,u)}))})}},7449:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(c){for(var f,h=1,v=arguments.length;h<v;h++)for(var d in f=arguments[h])Object.prototype.hasOwnProperty.call(f,d)&&(c[d]=f[d]);return c},n.apply(this,arguments)},i=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var v,d,y=h.call(c),p=[];try{for(;(f===void 0||f-- >0)&&!(v=y.next()).done;)p.push(v.value)}catch(g){d={error:g}}finally{try{v&&!v.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return p},o=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(7168),u=t(9305),s=o(t(7518)),l=o(t(5045));e.default=n(n(n({},s.default),l.default),{createNodeTransformer:function(c){return s.default.createNodeTransformer(c).extendsWith({fromStructure:function(f){a.structure.verifyStructSize("Node",4,f.size);var h=i(f.fields,4),v=h[0],d=h[1],y=h[2],p=h[3];return new u.Node(v,d,y,p)}})},createRelationshipTransformer:function(c){return s.default.createRelationshipTransformer(c).extendsWith({fromStructure:function(f){a.structure.verifyStructSize("Relationship",8,f.size);var h=i(f.fields,8),v=h[0],d=h[1],y=h[2],p=h[3],g=h[4],b=h[5],m=h[6],_=h[7];return new u.Relationship(v,d,y,p,g,b,m,_)}})},createUnboundRelationshipTransformer:function(c){return s.default.createUnboundRelationshipTransformer(c).extendsWith({fromStructure:function(f){a.structure.verifyStructSize("UnboundRelationship",4,f.size);var h=i(f.fields,4),v=h[0],d=h[1],y=h[2],p=h[3];return new u.UnboundRelationship(v,d,y,p)}})}})},7452:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,v)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__exportStar||function(l,c){for(var f in l)f==="default"||Object.prototype.hasOwnProperty.call(c,f)||n(c,l,f)},o=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,i(t(3951),e),i(t(373),e);var a=t(2481);Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return o(a).default}});var u=t(5319);Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return u.alloc}});var s=t(3473);Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return o(s).default}})},7479:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.arrRemove=void 0,e.arrRemove=function(t,n){if(t){var i=t.indexOf(n);0<=i&&t.splice(i,1)}}},7509:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(l,c,f,h){h===void 0&&(h=f);var v=Object.getOwnPropertyDescriptor(c,f);v&&!("get"in v?!c.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return c[f]}}),Object.defineProperty(l,h,v)}:function(l,c,f,h){h===void 0&&(h=f),l[h]=c[f]}),i=this&&this.__setModuleDefault||(Object.create?function(l,c){Object.defineProperty(l,"default",{enumerable:!0,value:c})}:function(l,c){l.default=c}),o=this&&this.__importStar||function(l){if(l&&l.__esModule)return l;var c={};if(l!=null)for(var f in l)f!=="default"&&Object.prototype.hasOwnProperty.call(l,f)&&n(c,l,f);return i(c,l),c};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerAddress=void 0;var a=t(6587),u=o(t(407)),s=function(){function l(c,f,h,v){this._host=(0,a.assertString)(c,"host"),this._resolved=f!=null?(0,a.assertString)(f,"resolved"):null,this._port=(0,a.assertNumber)(h,"port"),this._hostPort=v,this._stringValue=f!=null?"".concat(v,"(").concat(f,")"):"".concat(v)}return l.prototype.host=function(){return this._host},l.prototype.resolvedHost=function(){return this._resolved!=null?this._resolved:this._host},l.prototype.port=function(){return this._port},l.prototype.resolveWith=function(c){return new l(this._host,c,this._port,this._hostPort)},l.prototype.asHostPort=function(){return this._hostPort},l.prototype.asKey=function(){return this._hostPort},l.prototype.toString=function(){return this._stringValue},l.fromUrl=function(c){var f=u.parseDatabaseUrl(c);return new l(f.host,null,f.port,f.hostAndPort)},l}();e.ServerAddress=s},7518:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(7331));e.default=n({},o.default)},7521:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(2066));e.default=n({},o.default)},7561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.refCount=void 0;var n=t(7843),i=t(3111);e.refCount=function(){return n.operate(function(o,a){var u=null;o._refCount++;var s=i.createOperatorSubscriber(a,void 0,void 0,void 0,function(){if(!o||o._refCount<=0||0<--o._refCount)u=null;else{var l=o._connection,c=u;u=null,!l||c&&l!==c||l.unsubscribe(),a.unsubscribe()}});o.subscribe(s),s.closed||(u=o.connect())})}},7579:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.connectable=void 0;var n=t(2483),i=t(4662),o=t(9353),a={connector:function(){return new n.Subject},resetOnDisconnect:!0};e.connectable=function(u,s){s===void 0&&(s=a);var l=null,c=s.connector,f=s.resetOnDisconnect,h=f===void 0||f,v=c(),d=new i.Observable(function(y){return v.subscribe(y)});return d.connect=function(){return l&&!l.closed||(l=o.defer(function(){return u}).subscribe(v),h&&l.add(function(){return v=c()})),l},d}},7589:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=void 0;var t=100;e.DEFAULT_MAX_SIZE=t;var n=6e4;e.DEFAULT_ACQUISITION_TIMEOUT=n;var i=function(){function u(s,l){this.maxSize=o(s,t),this.acquisitionTimeout=o(l,n)}return u.defaultConfig=function(){return new u(t,n)},u.fromDriverConfig=function(s){return new u(a(s.maxConnectionPoolSize)?s.maxConnectionPoolSize:t,a(s.connectionAcquisitionTimeout)?s.connectionAcquisitionTimeout:n)},u}();function o(u,s){return a(u)?u:s}function a(u){return u===0||u!=null}e.default=i},7601:function(r,e,t){var n=this&&this.__read||function(l,c){var f=typeof Symbol=="function"&&l[Symbol.iterator];if(!f)return l;var h,v,d=f.call(l),y=[];try{for(;(c===void 0||c-- >0)&&!(h=d.next()).done;)y.push(h.value)}catch(p){v={error:p}}finally{try{h&&!h.done&&(f=d.return)&&f.call(d)}finally{if(v)throw v.error}}return y},i=this&&this.__spreadArray||function(l,c){for(var f=0,h=c.length,v=l.length;f<h;f++,v++)l[v]=c[f];return l};Object.defineProperty(e,"__esModule",{value:!0}),e.concat=void 0;var o=t(7843),a=t(8158),u=t(1107),s=t(4917);e.concat=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=u.popScheduler(l);return o.operate(function(h,v){a.concatAll()(s.from(i([h],n(l)),f)).subscribe(v)})}},7610:function(r,e,t){var n=this&&this.__generator||function(s,l){var c,f,h,v,d={label:0,sent:function(){if(1&h[0])throw h[1];return h[1]},trys:[],ops:[]};return v={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function y(p){return function(g){return function(b){if(c)throw new TypeError("Generator is already executing.");for(;d;)try{if(c=1,f&&(h=2&b[0]?f.return:b[0]?f.throw||((h=f.return)&&h.call(f),0):f.next)&&!(h=h.call(f,b[1])).done)return h;switch(f=0,h&&(b=[2&b[0],h.value]),b[0]){case 0:case 1:h=b;break;case 4:return d.label++,{value:b[1],done:!1};case 5:d.label++,f=b[1],b=[0];continue;case 7:b=d.ops.pop(),d.trys.pop();continue;default:if(!((h=(h=d.trys).length>0&&h[h.length-1])||b[0]!==6&&b[0]!==2)){d=0;continue}if(b[0]===3&&(!h||b[1]>h[0]&&b[1]<h[3])){d.label=b[1];break}if(b[0]===6&&d.label<h[1]){d.label=h[1],h=b;break}if(h&&d.label<h[2]){d.label=h[2],d.ops.push(b);break}h[2]&&d.ops.pop(),d.trys.pop();continue}b=l.call(s,d)}catch(m){b=[6,m],f=0}finally{c=h=0}if(5&b[0])throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}([p,g])}}};Object.defineProperty(e,"__esModule",{value:!0}),e.generate=void 0;var i=t(6640),o=t(8613),a=t(9353),u=t(8808);e.generate=function(s,l,c,f,h){var v,d,y,p;function g(){var b;return n(this,function(m){switch(m.label){case 0:b=p,m.label=1;case 1:return l&&!l(b)?[3,4]:[4,y(b)];case 2:m.sent(),m.label=3;case 3:return b=c(b),[3,1];case 4:return[2]}})}return arguments.length===1?(p=(v=s).initialState,l=v.condition,c=v.iterate,d=v.resultSelector,y=d===void 0?i.identity:d,h=v.scheduler):(p=s,!f||o.isScheduler(f)?(y=i.identity,h=f):y=f),a.defer(h?function(){return u.scheduleIterable(g(),h)}:g)}},7614:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createInvalidObservableTypeError=void 0,e.createInvalidObservableTypeError=function(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},7629:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=void 0;var n=t(1018);e.isPromise=function(i){return n.isFunction(i?.then)}},7640:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttleTime=void 0;var n=t(7961),i=t(8941),o=t(4092);e.throttleTime=function(a,u,s){u===void 0&&(u=n.asyncScheduler);var l=o.timer(a,u);return i.throttle(function(){return l},s)}},7661:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.expand=void 0;var n=t(7843),i=t(1983);e.expand=function(o,a,u){return a===void 0&&(a=1/0),a=(a||0)<1?1/0:a,n.operate(function(s,l){return i.mergeInternals(s,l,o,a,void 0,!0,u)})}},7665:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.verifyStructSize=e.Structure=void 0;var n=t(9305),i=n.error.PROTOCOL_ERROR,o=function(){function a(u,s){this.signature=u,this.fields=s}return Object.defineProperty(a.prototype,"size",{get:function(){return this.fields.length},enumerable:!1,configurable:!0}),a.prototype.toString=function(){for(var u="",s=0;s<this.fields.length;s++)s>0&&(u+=", "),u+=this.fields[s];return"Structure("+this.signature+", ["+u+"])"},a}();e.Structure=o,e.verifyStructSize=function(a,u,s){if(u!==s)throw(0,n.newError)("Wrong struct size for ".concat(a,", expected ").concat(u," but was ").concat(s),i)},e.default=o},7666:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(c,f,h,v){v===void 0&&(v=h);var d=Object.getOwnPropertyDescriptor(f,h);d&&!("get"in d?!f.__esModule:d.writable||d.configurable)||(d={enumerable:!0,get:function(){return f[h]}}),Object.defineProperty(c,v,d)}:function(c,f,h,v){v===void 0&&(v=h),c[v]=f[h]}),i=this&&this.__exportStar||function(c,f){for(var h in c)h==="default"||Object.prototype.hasOwnProperty.call(f,h)||n(f,c,h)},o=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var a=o(t(8731)),u=o(t(6544)),s=o(t(9054)),l=o(t(7790));i(t(9014),e),e.BoltProtocol=s.default,e.RawRoutingTable=l.default,e.default={handshake:a.default,create:u.default}},7714:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createFind=e.find=void 0;var n=t(7843),i=t(3111);function o(a,u,s){var l=s==="index";return function(c,f){var h=0;c.subscribe(i.createOperatorSubscriber(f,function(v){var d=h++;a.call(u,v,d,c)&&(f.next(l?d:v),f.complete())},function(){f.next(l?-1:void 0),f.complete()}))}}e.find=function(a,u){return n.operate(o(a,u,"value"))},e.createFind=o},7721:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(f,h,v,d){d===void 0&&(d=v);var y=Object.getOwnPropertyDescriptor(h,v);y&&!("get"in y?!h.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return h[v]}}),Object.defineProperty(f,d,y)}:function(f,h,v,d){d===void 0&&(d=v),f[d]=h[v]}),i=this&&this.__setModuleDefault||(Object.create?function(f,h){Object.defineProperty(f,"default",{enumerable:!0,value:h})}:function(f,h){f.default=h}),o=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var h={};if(f!=null)for(var v in f)v!=="default"&&Object.prototype.hasOwnProperty.call(f,v)&&n(h,f,v);return i(h,f),h},a=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var u=a(t(6385));e.Connection=u.default;var s=o(t(8031));e.ChannelConnection=s.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return s.createChannelConnection}});var l=a(t(9857));e.DelegateConnection=l.default;var c=a(t(2363));e.ConnectionErrorHandler=c.default,e.default=u.default},7740:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.pairs=void 0;var n=t(4917);e.pairs=function(i,o){return n.from(Object.entries(i),o)}},7790:function(r,e,t){var n=this&&this.__extends||function(){var l=function(c,f){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,v){h.__proto__=v}||function(h,v){for(var d in v)Object.prototype.hasOwnProperty.call(v,d)&&(h[d]=v[d])},l(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function h(){this.constructor=c}l(c,f),c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),i=this&&this.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),i(t(9305));var o=function(){function l(){}return l.ofRecord=function(c){return c===null?l.ofNull():new s(c)},l.ofMessageResponse=function(c){return c===null?l.ofNull():new a(c)},l.ofNull=function(){return new u},Object.defineProperty(l.prototype,"ttl",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"db",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"servers",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"isNull",{get:function(){throw new Error("Not implemented")},enumerable:!1,configurable:!0}),l}();e.default=o;var a=function(l){function c(f){var h=l.call(this)||this;return h._response=f,h}return n(c,l),Object.defineProperty(c.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){return this._response===null},enumerable:!1,configurable:!0}),c}(o),u=function(l){function c(){return l!==null&&l.apply(this,arguments)||this}return n(c,l),Object.defineProperty(c.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),c}(o),s=function(l){function c(f){var h=l.call(this)||this;return h._record=f,h}return n(c,l),Object.defineProperty(c.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isNull",{get:function(){return this._record===null},enumerable:!1,configurable:!0}),c}(o)},7800:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.observeNotification=e.Notification=e.NotificationKind=void 0;var n,i=t(8616),o=t(1004),a=t(1103),u=t(1018);(n=e.NotificationKind||(e.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var s=function(){function c(f,h,v){this.kind=f,this.value=h,this.error=v,this.hasValue=f==="N"}return c.prototype.observe=function(f){return l(this,f)},c.prototype.do=function(f,h,v){var d=this,y=d.kind,p=d.value,g=d.error;return y==="N"?f?.(p):y==="E"?h?.(g):v?.()},c.prototype.accept=function(f,h,v){var d;return u.isFunction((d=f)===null||d===void 0?void 0:d.next)?this.observe(f):this.do(f,h,v)},c.prototype.toObservable=function(){var f=this,h=f.kind,v=f.value,d=f.error,y=h==="N"?o.of(v):h==="E"?a.throwError(function(){return d}):h==="C"?i.EMPTY:0;if(!y)throw new TypeError("Unexpected notification kind "+h);return y},c.createNext=function(f){return new c("N",f)},c.createError=function(f){return new c("E",void 0,f)},c.createComplete=function(){return c.completeNotification},c.completeNotification=new c("C"),c}();function l(c,f){var h,v,d,y=c,p=y.kind,g=y.value,b=y.error;if(typeof p!="string")throw new TypeError('Invalid notification, missing "kind"');p==="N"?(h=f.next)===null||h===void 0||h.call(f,g):p==="E"?(v=f.error)===null||v===void 0||v.call(f,b):(d=f.complete)===null||d===void 0||d.call(f)}e.Notification=s,e.observeNotification=l},7815:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.groupBy=void 0;var n=t(4662),i=t(9445),o=t(2483),a=t(7843),u=t(3111);e.groupBy=function(s,l,c,f){return a.operate(function(h,v){var d;l&&typeof l!="function"?(c=l.duration,d=l.element,f=l.connector):d=l;var y=new Map,p=function(w){y.forEach(w),w(v)},g=function(w){return p(function(O){return O.error(w)})},b=0,m=!1,_=new u.OperatorSubscriber(v,function(w){try{var O=s(w),E=y.get(O);if(!E){y.set(O,E=f?f():new o.Subject);var S=(I=O,R=E,(D=new n.Observable(function(k){b++;var N=R.subscribe(k);return function(){N.unsubscribe(),--b===0&&m&&_.unsubscribe()}})).key=I,D);if(v.next(S),c){var P=u.createOperatorSubscriber(E,function(){E.complete(),P?.unsubscribe()},void 0,void 0,function(){return y.delete(O)});_.add(i.innerFrom(c(S)).subscribe(P))}}E.next(d?d(w):w)}catch(k){g(k)}var I,R,D},function(){return p(function(w){return w.complete()})},g,function(){return y.clear()},function(){return m=!0,b===0});h.subscribe(_)})}},7835:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retry=void 0;var n=t(7843),i=t(3111),o=t(6640),a=t(4092),u=t(9445);e.retry=function(s){var l;s===void 0&&(s=1/0);var c=(l=s&&typeof s=="object"?s:{count:s}).count,f=c===void 0?1/0:c,h=l.delay,v=l.resetOnSuccess,d=v!==void 0&&v;return f<=0?o.identity:n.operate(function(y,p){var g,b=0,m=function(){var _=!1;g=y.subscribe(i.createOperatorSubscriber(p,function(w){d&&(b=0),p.next(w)},void 0,function(w){if(b++<f){var O=function(){g?(g.unsubscribe(),g=null,m()):_=!0};if(h!=null){var E=typeof h=="number"?a.timer(h):u.innerFrom(h(w,b)),S=i.createOperatorSubscriber(p,function(){S.unsubscribe(),O()},function(){p.complete()});E.subscribe(S)}else O()}else p.error(w)})),_&&(g.unsubscribe(),g=null,m())};m()})}},7843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.operate=e.hasLift=void 0;var n=t(1018);function i(o){return n.isFunction(o?.lift)}e.hasLift=i,e.operate=function(o){return function(a){if(i(a))return a.lift(function(u){try{return o(u,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}},7853:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.using=void 0;var n=t(4662),i=t(9445),o=t(8616);e.using=function(a,u){return new n.Observable(function(s){var l=a(),c=u(l);return(c?i.innerFrom(c):o.EMPTY).subscribe(s),function(){l&&l.unsubscribe()}})}},7857:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0}),e.WRITE=e.READ=e.Driver=void 0;var o=t(9305),a=i(t(3466)),u=o.internal.constants.FETCH_ALL,s=o.driver.READ,l=o.driver.WRITE;e.READ=s,e.WRITE=l;var c=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return n(v,h),v.prototype.rxSession=function(d){var y=d===void 0?{}:d,p=y.defaultAccessMode,g=p===void 0?l:p,b=y.bookmarks,m=y.database,_=m===void 0?"":m,w=y.fetchSize,O=y.impersonatedUser,E=y.bookmarkManager,S=y.notificationFilter,P=y.auth;return new a.default({session:this._newSession({defaultAccessMode:g,bookmarkOrBookmarks:b,database:_,impersonatedUser:O,auth:P,reactive:!1,fetchSize:f(w,this._config.fetchSize),bookmarkManager:E,notificationFilter:S,log:this._log}),config:this._config,log:this._log})},v}(o.Driver);function f(h,v){var d=parseInt(h,10);if(d>0||d===u)return d;if(d===0||d<0)throw new Error("The fetch size can only be a positive value or ".concat(u," for ALL. However fetchSize = ").concat(d));return v}e.Driver=c,e.default=c},7961:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.async=e.asyncScheduler=void 0;var n=t(5267),i=t(5648);e.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),e.async=e.asyncScheduler},7991:(r,e)=>{e.byteLength=function(c){var f=u(c),h=f[0],v=f[1];return 3*(h+v)/4-v},e.toByteArray=function(c){var f,h,v=u(c),d=v[0],y=v[1],p=new i(function(m,_,w){return 3*(_+w)/4-w}(0,d,y)),g=0,b=y>0?d-4:d;for(h=0;h<b;h+=4)f=n[c.charCodeAt(h)]<<18|n[c.charCodeAt(h+1)]<<12|n[c.charCodeAt(h+2)]<<6|n[c.charCodeAt(h+3)],p[g++]=f>>16&255,p[g++]=f>>8&255,p[g++]=255&f;return y===2&&(f=n[c.charCodeAt(h)]<<2|n[c.charCodeAt(h+1)]>>4,p[g++]=255&f),y===1&&(f=n[c.charCodeAt(h)]<<10|n[c.charCodeAt(h+1)]<<4|n[c.charCodeAt(h+2)]>>2,p[g++]=f>>8&255,p[g++]=255&f),p},e.fromByteArray=function(c){for(var f,h=c.length,v=h%3,d=[],y=16383,p=0,g=h-v;p<g;p+=y)d.push(l(c,p,p+y>g?g:p+y));return v===1?(f=c[h-1],d.push(t[f>>2]+t[f<<4&63]+"==")):v===2&&(f=(c[h-2]<<8)+c[h-1],d.push(t[f>>10]+t[f>>4&63]+t[f<<2&63]+"=")),d.join("")};for(var t=[],n=[],i=typeof Uint8Array<"u"?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)t[a]=o[a],n[o.charCodeAt(a)]=a;function u(c){var f=c.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var h=c.indexOf("=");return h===-1&&(h=f),[h,h===f?0:4-h%4]}function s(c){return t[c>>18&63]+t[c>>12&63]+t[c>>6&63]+t[63&c]}function l(c,f,h){for(var v,d=[],y=f;y<h;y+=3)v=(c[y]<<16&16711680)+(c[y+1]<<8&65280)+(255&c[y+2]),d.push(s(v));return d.join("")}n[45]=62,n[95]=63},8014:function(r,e,t){var n=this&&this.__values||function(f){var h=typeof Symbol=="function"&&Symbol.iterator,v=h&&f[h],d=0;if(v)return v.call(f);if(f&&typeof f.length=="number")return{next:function(){return f&&d>=f.length&&(f=void 0),{value:f&&f[d++],done:!f}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(f,h){var v=typeof Symbol=="function"&&f[Symbol.iterator];if(!v)return f;var d,y,p=v.call(f),g=[];try{for(;(h===void 0||h-- >0)&&!(d=p.next()).done;)g.push(d.value)}catch(b){y={error:b}}finally{try{d&&!d.done&&(v=p.return)&&v.call(p)}finally{if(y)throw y.error}}return g},o=this&&this.__spreadArray||function(f,h){for(var v=0,d=h.length,y=f.length;v<d;v++,y++)f[y]=h[v];return f};Object.defineProperty(e,"__esModule",{value:!0}),e.isSubscription=e.EMPTY_SUBSCRIPTION=e.Subscription=void 0;var a=t(1018),u=t(5788),s=t(7479),l=function(){function f(v){this.initialTeardown=v,this.closed=!1,this._parentage=null,this._finalizers=null}var h;return f.prototype.unsubscribe=function(){var v,d,y,p,g;if(!this.closed){this.closed=!0;var b=this._parentage;if(b)if(this._parentage=null,Array.isArray(b))try{for(var m=n(b),_=m.next();!_.done;_=m.next())_.value.remove(this)}catch(I){v={error:I}}finally{try{_&&!_.done&&(d=m.return)&&d.call(m)}finally{if(v)throw v.error}}else b.remove(this);var w=this.initialTeardown;if(a.isFunction(w))try{w()}catch(I){g=I instanceof u.UnsubscriptionError?I.errors:[I]}var O=this._finalizers;if(O){this._finalizers=null;try{for(var E=n(O),S=E.next();!S.done;S=E.next()){var P=S.value;try{c(P)}catch(I){g=g??[],I instanceof u.UnsubscriptionError?g=o(o([],i(g)),i(I.errors)):g.push(I)}}}catch(I){y={error:I}}finally{try{S&&!S.done&&(p=E.return)&&p.call(E)}finally{if(y)throw y.error}}}if(g)throw new u.UnsubscriptionError(g)}},f.prototype.add=function(v){var d;if(v&&v!==this)if(this.closed)c(v);else{if(v instanceof f){if(v.closed||v._hasParent(this))return;v._addParent(this)}(this._finalizers=(d=this._finalizers)!==null&&d!==void 0?d:[]).push(v)}},f.prototype._hasParent=function(v){var d=this._parentage;return d===v||Array.isArray(d)&&d.includes(v)},f.prototype._addParent=function(v){var d=this._parentage;this._parentage=Array.isArray(d)?(d.push(v),d):d?[d,v]:v},f.prototype._removeParent=function(v){var d=this._parentage;d===v?this._parentage=null:Array.isArray(d)&&s.arrRemove(d,v)},f.prototype.remove=function(v){var d=this._finalizers;d&&s.arrRemove(d,v),v instanceof f&&v._removeParent(this)},f.EMPTY=((h=new f).closed=!0,h),f}();function c(f){a.isFunction(f)?f():f.unsubscribe()}e.Subscription=l,e.EMPTY_SUBSCRIPTION=l.EMPTY,e.isSubscription=function(f){return f instanceof l||f&&"closed"in f&&a.isFunction(f.remove)&&a.isFunction(f.add)&&a.isFunction(f.unsubscribe)}},8015:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.buffer=void 0;var n=t(7843),i=t(1342),o=t(3111),a=t(9445);e.buffer=function(u){return n.operate(function(s,l){var c=[];return s.subscribe(o.createOperatorSubscriber(l,function(f){return c.push(f)},function(){l.next(c),l.complete()})),a.innerFrom(u).subscribe(o.createOperatorSubscriber(l,function(){var f=c;c=[],l.next(f)},i.noop)),function(){c=null}})}},8031:function(r,e,t){var n=this&&this.__extends||function(){var y=function(p,g){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var _ in m)Object.prototype.hasOwnProperty.call(m,_)&&(b[_]=m[_])},y(p,g)};return function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function b(){this.constructor=p}y(p,g),p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}(),i=this&&this.__awaiter||function(y,p,g,b){return new(g||(g=Promise))(function(m,_){function w(S){try{E(b.next(S))}catch(P){_(P)}}function O(S){try{E(b.throw(S))}catch(P){_(P)}}function E(S){var P;S.done?m(S.value):(P=S.value,P instanceof g?P:new g(function(I){I(P)})).then(w,O)}E((b=b.apply(y,p||[])).next())})},o=this&&this.__generator||function(y,p){var g,b,m,_,w={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(S){return function(P){if(g)throw new TypeError("Generator is already executing.");for(;_&&(_=0,P[0]&&(w=0)),w;)try{if(g=1,b&&(m=2&P[0]?b.return:P[0]?b.throw||((m=b.return)&&m.call(b),0):b.next)&&!(m=m.call(b,P[1])).done)return m;switch(b=0,m&&(P=[2&P[0],m.value]),P[0]){case 0:case 1:m=P;break;case 4:return w.label++,{value:P[1],done:!1};case 5:w.label++,b=P[1],P=[0];continue;case 7:P=w.ops.pop(),w.trys.pop();continue;default:if(!((m=(m=w.trys).length>0&&m[m.length-1])||P[0]!==6&&P[0]!==2)){w=0;continue}if(P[0]===3&&(!m||P[1]>m[0]&&P[1]<m[3])){w.label=P[1];break}if(P[0]===6&&w.label<m[1]){w.label=m[1],m=P;break}if(m&&w.label<m[2]){w.label=m[2],w.ops.push(P);break}m[2]&&w.ops.pop(),w.trys.pop();continue}P=p.call(y,w)}catch(I){P=[6,I],b=0}finally{g=m=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([E,S])}}},a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=void 0;var u=t(7452),s=t(9305),l=a(t(6385)),c=a(t(7666)),f=s.error.PROTOCOL_ERROR,h=s.internal.logger.Logger,v=0;e.createChannelConnection=function(y,p,g,b,m,_,w,O){_===void 0&&(_=null),O===void 0&&(O=function(S){return new u.Channel(S)});var E=O(new u.ChannelConfig(y,p,g.errorCode(),m));return c.default.handshake(E,b).then(function(S){var P=S.protocolVersion,I=S.consumeRemainingBuffer,R=new u.Chunker(E),D=new u.Dechunker,k=new d(E,g,y,b,p.disableLosslessIntegers,_,R,p.notificationFilter,function(N){return c.default.create({version:P,channel:E,chunker:R,dechunker:D,disableLosslessIntegers:p.disableLosslessIntegers,useBigInt:p.useBigInt,serversideRouting:_,server:N.server,log:N.logger,observer:{onObserversCountChange:N._handleOngoingRequestsNumberChange.bind(N),onError:N._handleFatalError.bind(N),onFailure:N._resetOnFailure.bind(N),onProtocolError:N._handleProtocolError.bind(N),onErrorApplyTransformation:function(B){return N.handleAndTransformError(B,N._address)}}})},p.telemetryDisabled,w);return I(function(N){return D.write(N)}),k}).catch(function(S){return E.close().then(function(){throw S})})};var d=function(y){function p(g,b,m,_,w,O,E,S,P,I,R){w===void 0&&(w=!1),O===void 0&&(O=null),R===void 0&&(R=function(B){});var D,k,N=y.call(this,b)||this;return N._authToken=null,N._idle=!1,N._reseting=!1,N._resetObservers=[],N._id=v++,N._address=m,N._server={address:m.asHostPort()},N._creationTimestamp=Date.now(),N._disableLosslessIntegers=w,N._ch=g,N._chunker=E,N._log=(D=N,new h((k=_)._level,function(B,z){return k._loggerFunction(B,"".concat(D," ").concat(z))})),N._serversideRouting=O,N._notificationFilter=S,N._telemetryDisabledDriverConfig=I===!0,N._telemetryDisabledConnection=!0,N._ssrCallback=R,N._dbConnectionId=null,N._protocol=P(N),N._isBroken=!1,N._log.isDebugEnabled()&&N._log.debug("created towards ".concat(m)),N}return n(p,y),p.prototype.beginTransaction=function(g){return this._sendTelemetryIfEnabled(g),this._protocol.beginTransaction(g)},p.prototype.run=function(g,b,m){return this._sendTelemetryIfEnabled(m),this._protocol.run(g,b,m)},p.prototype._sendTelemetryIfEnabled=function(g){this._telemetryDisabledConnection||this._telemetryDisabledDriverConfig||g==null||g.apiTelemetryConfig==null||this._protocol.telemetry({api:g.apiTelemetryConfig.api},{onCompleted:g.apiTelemetryConfig.onTelemetrySuccess,onError:g.beforeError})},p.prototype.commitTransaction=function(g){return this._protocol.commitTransaction(g)},p.prototype.rollbackTransaction=function(g){return this._protocol.rollbackTransaction(g)},p.prototype.getProtocolVersion=function(){return this._protocol.version},Object.defineProperty(p.prototype,"authToken",{get:function(){return this._authToken},set:function(g){this._authToken=g},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"supportsReAuth",{get:function(){return this._protocol.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(g){this._dbConnectionId=g},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"idleTimestamp",{get:function(){return this._idleTimestamp},set:function(g){this._idleTimestamp=g},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"creationTimestamp",{get:function(){return this._creationTimestamp},enumerable:!1,configurable:!0}),p.prototype.connect=function(g,b,m,_){return i(this,void 0,void 0,function(){var w=this;return o(this,function(O){switch(O.label){case 0:if(this._protocol.initialized&&!this._protocol.supportsReAuth)throw(0,s.newError)("Connection does not support re-auth");return this._authToken=m,this._protocol.initialized?[3,2]:[4,this._initialize(g,b,m)];case 1:case 3:return[2,O.sent()];case 2:return _?[4,new Promise(function(E,S){w._protocol.logoff({onError:S}),w._protocol.logon({authToken:m,onError:S,onComplete:function(){return E(w)},flush:!0})})]:[3,4];case 4:return this._protocol.logoff(),this._protocol.logon({authToken:m,flush:!0}),[2,this]}})})},p.prototype._initialize=function(g,b,m){var _=this,w=this;return new Promise(function(O,E){_._protocol.initialize({userAgent:g,boltAgent:b,authToken:m,notificationFilter:_._notificationFilter,onError:function(S){return E(S)},onComplete:function(S){var P;if(S){var I=S.server;_.version&&!I||(_.version=I);var R=S.connection_id;if(_.databaseId||(_.databaseId=R),S.hints){var D=S.hints["connection.recv_timeout_seconds"];if(D!=null){var k=(0,s.toNumber)(D);Number.isInteger(k)&&k>0?_._ch.setupReceiveTimeout(1e3*k):_._log.info("Server located at ".concat(_._address," supplied an invalid connection receive timeout value (").concat(k,"). ")+"Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}S.hints["telemetry.enabled"]===!0&&(_._telemetryDisabledConnection=!1),_.SSREnabledHint=S.hints["ssr.enabled"]}_._ssrCallback((P=_.SSREnabledHint)!==null&&P!==void 0&&P,"OPEN")}O(w)}})})},p.prototype.protocol=function(){return this._protocol},Object.defineProperty(p.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"version",{get:function(){return this._server.version},set:function(g){this._server.version=g},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),p.prototype._handleFatalError=function(g){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||g,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by ".concat(this._error," (").concat(s.json.stringify(this._error),")")),this._protocol.notifyFatalError(this._error)},p.prototype._setIdle=function(g){this._idle=!0,this._ch.stopReceiveTimeout(),this._protocol.queueObserverIfProtocolIsNotBroken(g)},p.prototype._unsetIdle=function(){this._idle=!1,this._updateCurrentObserver()},p.prototype._queueObserver=function(g){return this._protocol.queueObserverIfProtocolIsNotBroken(g)},p.prototype.hasOngoingObservableRequests=function(){return!this._idle&&this._protocol.hasOngoingObservableRequests()},p.prototype.resetAndFlush=function(){var g=this;return new Promise(function(b,m){g._reset({onError:function(_){if(g._isBroken)m(_);else{var w=g._handleProtocolError("Received FAILURE as a response for RESET: ".concat(_));m(w)}},onComplete:function(){b()}})})},p.prototype._resetOnFailure=function(){var g=this;this.isOpen()&&this._reset({onError:function(){g._protocol.resetFailure()},onComplete:function(){g._protocol.resetFailure()}})},p.prototype._reset=function(g){var b=this;if(this._reseting)this._protocol.isLastMessageReset()?this._resetObservers.push(g):this._protocol.reset({onError:function(_){g.onError(_)},onComplete:function(){g.onComplete()}});else{this._resetObservers.push(g),this._reseting=!0;var m=function(_){b._reseting=!1;var w=b._resetObservers;b._resetObservers=[],w.forEach(_)};this._protocol.reset({onError:function(_){m(function(w){return w.onError(_)})},onComplete:function(){m(function(_){return _.onComplete()})}})}},p.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},p.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},p.prototype._handleOngoingRequestsNumberChange=function(g){this._idle||(g===0?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout())},p.prototype.close=function(){var g;return i(this,void 0,void 0,function(){return o(this,function(b){switch(b.label){case 0:return this._ssrCallback((g=this.SSREnabledHint)!==null&&g!==void 0&&g,"CLOSE"),this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return b.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},p.prototype.toString=function(){return"Connection [".concat(this.id,"][").concat(this.databaseId||"","]")},p.prototype._handleProtocolError=function(g){this._protocol.resetFailure(),this._updateCurrentObserver();var b=(0,s.newError)(g,f);return this._handleFatalError(b),b},p}(l.default);e.default=d},8046:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=void 0,e.isArrayLike=function(t){return t&&typeof t.length=="number"&&typeof t!="function"}},8079:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.debounceTime=void 0;var n=t(7961),i=t(7843),o=t(3111);e.debounceTime=function(a,u){return u===void 0&&(u=n.asyncScheduler),i.operate(function(s,l){var c=null,f=null,h=null,v=function(){if(c){c.unsubscribe(),c=null;var y=f;f=null,l.next(y)}};function d(){var y=h+a,p=u.now();if(p<y)return c=this.schedule(void 0,y-p),void l.add(c);v()}s.subscribe(o.createOperatorSubscriber(l,function(y){f=y,h=u.now(),c||(c=u.schedule(d,a),l.add(c))},function(){v(),l.complete()},void 0,function(){f=c=null}))})}},8118:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.catchError=void 0;var n=t(9445),i=t(3111),o=t(7843);e.catchError=function a(u){return o.operate(function(s,l){var c,f=null,h=!1;f=s.subscribe(i.createOperatorSubscriber(l,void 0,void 0,function(v){c=n.innerFrom(u(v,a(u)(s))),f?(f.unsubscribe(),f=null,c.subscribe(l)):h=!0})),h&&(f.unsubscribe(),f=null,c.subscribe(l))})}},8157:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.publishReplay=void 0;var n=t(1242),i=t(9247),o=t(1018);e.publishReplay=function(a,u,s,l){s&&!o.isFunction(s)&&(l=s);var c=o.isFunction(s)?s:void 0;return function(f){return i.multicast(new n.ReplaySubject(a,u,l),c)(f)}}},8158:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatAll=void 0;var n=t(7302);e.concatAll=function(){return n.mergeAll(1)}},8208:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.windowTime=void 0;var n=t(2483),i=t(7961),o=t(8014),a=t(7843),u=t(3111),s=t(7479),l=t(1107),c=t(7110);e.windowTime=function(f){for(var h,v,d=[],y=1;y<arguments.length;y++)d[y-1]=arguments[y];var p=(h=l.popScheduler(d))!==null&&h!==void 0?h:i.asyncScheduler,g=(v=d[0])!==null&&v!==void 0?v:null,b=d[1]||1/0;return a.operate(function(m,_){var w=[],O=!1,E=function(R){var D=R.window,k=R.subs;D.complete(),k.unsubscribe(),s.arrRemove(w,R),O&&S()},S=function(){if(w){var R=new o.Subscription;_.add(R);var D=new n.Subject,k={window:D,subs:R,seen:0};w.push(k),_.next(D.asObservable()),c.executeSchedule(R,p,function(){return E(k)},f)}};g!==null&&g>=0?c.executeSchedule(_,p,S,g,!0):O=!0,S();var P=function(R){return w.slice().forEach(R)},I=function(R){P(function(D){var k=D.window;return R(k)}),R(_),_.unsubscribe()};return m.subscribe(u.createOperatorSubscriber(_,function(R){P(function(D){D.window.next(R),b<=++D.seen&&E(D)})},function(){return I(function(R){return R.complete()})},function(R){return I(function(D){return D.error(R)})})),function(){w=null}})}},8239:function(r,e,t){var n=this&&this.__read||function(a,u){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l,c,f=s.call(a),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(a,u){for(var s=0,l=u.length,c=a.length;s<l;s++,c++)a[c]=u[s];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.combineLatestWith=void 0;var o=t(2551);e.combineLatestWith=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o.combineLatest.apply(void 0,i([],n(a)))}},8253:function(r,e,t){var n=this&&this.__read||function(a,u){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l,c,f=s.call(a),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(a,u){for(var s=0,l=u.length,c=a.length;s<l;s++,c++)a[c]=u[s];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.mergeWith=void 0;var o=t(361);e.mergeWith=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o.merge.apply(void 0,i([],n(a)))}},8264:function(r,e,t){var n=this&&this.__extends||function(){var g=function(b,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(_[O]=w[O])},g(b,m)};return function(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function _(){this.constructor=b}g(b,m),b.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(g){for(var b,m=1,_=arguments.length;m<_;m++)for(var w in b=arguments[m])Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w]);return g},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(g,b,m,_){_===void 0&&(_=m);var w=Object.getOwnPropertyDescriptor(b,m);w&&!("get"in w?!b.__esModule:w.writable||w.configurable)||(w={enumerable:!0,get:function(){return b[m]}}),Object.defineProperty(g,_,w)}:function(g,b,m,_){_===void 0&&(_=m),g[_]=b[m]}),a=this&&this.__setModuleDefault||(Object.create?function(g,b){Object.defineProperty(g,"default",{enumerable:!0,value:b})}:function(g,b){g.default=b}),u=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var b={};if(g!=null)for(var m in g)m!=="default"&&Object.prototype.hasOwnProperty.call(g,m)&&o(b,g,m);return a(b,g),b};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveCertificateProvider=e.clientCertificateProviders=e.RotatingClientCertificateProvider=e.ClientCertificateProvider=void 0;var s=u(t(4027));e.default=function(){this.certfile="",this.keyfile="",this.password=void 0};var l=function(){function g(){}return g.prototype.hasUpdate=function(){throw new Error("Not Implemented")},g.prototype.getClientCertificate=function(){throw new Error("Not Implemented")},g}();e.ClientCertificateProvider=l;var c=function(g){function b(){return g!==null&&g.apply(this,arguments)||this}return n(b,g),b.prototype.updateCertificate=function(m){throw new Error("Not implemented")},b}(l);e.RotatingClientCertificateProvider=c;var f=new(function(){function g(){}return g.prototype.rotating=function(b){var m=b.initialCertificate;if(m==null||!h(m))throw new TypeError("initialCertificate should be ClientCertificate, but got ".concat(s.stringify(m)));var _=i({},m);return new p(_)},g}());function h(g){return g!=null&&typeof g=="object"&&"certfile"in g&&(v(b=g.certfile)||d(b,v))&&"keyfile"in g&&function(m){function _(w){return typeof w=="string"||w!=null&&typeof w=="object"&&"path"in w&&typeof w.path=="string"&&y("password",w)}return _(m)||d(m,_)}(g.keyfile)&&y("password",g);var b}function v(g){return typeof g=="string"}function d(g,b,m){return m===void 0&&(m=!1),Array.isArray(g)&&(m||g.length>0)&&g.filter(b).length===g.length}function y(g,b){return!(g in b)||b[g]==null||typeof b[g]=="string"}e.clientCertificateProviders=f,Object.freeze(f),e.resolveCertificateProvider=function(g){if(g!=null){if(typeof g=="object"&&"hasUpdate"in g&&"getClientCertificate"in g&&typeof g.getClientCertificate=="function"&&typeof g.hasUpdate=="function")return g;if(h(g)){var b=i({},g);return{getClientCertificate:function(){return b},hasUpdate:function(){return!1}}}throw new TypeError("clientCertificate should be configured with ClientCertificate or ClientCertificateProvider, but got ".concat(s.stringify(g)))}};var p=function(){function g(b,m){m===void 0&&(m=!1),this._certificate=b,this._updated=m}return g.prototype.hasUpdate=function(){try{return this._updated}finally{this._updated=!1}},g.prototype.getClientCertificate=function(){return this._certificate},g.prototype.updateCertificate=function(b){if(!h(b))throw new TypeError("certificate should be ClientCertificate, but got ".concat(s.stringify(b)));this._certificate=i({},b),this._updated=!0},g}()},8275:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.first=void 0;var n=t(2823),i=t(783),o=t(846),a=t(378),u=t(4869),s=t(6640);e.first=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(v,d){return l(v,d,h)}):s.identity,o.take(1),f?a.defaultIfEmpty(c):u.throwIfEmpty(function(){return new n.EmptyError}))}}},8320:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(O){for(var E,S=1,P=arguments.length;S<P;S++)for(var I in E=arguments[S])Object.prototype.hasOwnProperty.call(E,I)&&(O[I]=E[I]);return O},n.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(O,E,S,P){P===void 0&&(P=S);var I=Object.getOwnPropertyDescriptor(E,S);I&&!("get"in I?!E.__esModule:I.writable||I.configurable)||(I={enumerable:!0,get:function(){return E[S]}}),Object.defineProperty(O,P,I)}:function(O,E,S,P){P===void 0&&(P=S),O[P]=E[S]}),o=this&&this.__setModuleDefault||(Object.create?function(O,E){Object.defineProperty(O,"default",{enumerable:!0,value:E})}:function(O,E){O.default=E}),a=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var E={};if(O!=null)for(var S in O)S!=="default"&&Object.prototype.hasOwnProperty.call(O,S)&&i(E,O,S);return o(E,O),E},u=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(e,"__esModule",{value:!0});var s=t(397),l=(t(7452),t(7168)),c=a(t(7021)),f=t(9014),h=t(9305),v=u(t(6661)),d=u(t(3321)),y=h.internal.bookmarks.Bookmarks,p=h.internal.constants,g=p.ACCESS_MODE_WRITE,b=p.BOLT_PROTOCOL_V1,m=(h.internal.logger.Logger,h.internal.txConfig.TxConfig),_=Object.freeze({OPERATION:"",OPERATION_CODE:"0",CURRENT_SCHEMA:"/"}),w=function(){function O(E,S,P,I,R,D){var k=P===void 0?{}:P,N=k.disableLosslessIntegers,B=k.useBigInt;I===void 0&&(I=function(){return null}),this._server=E||{},this._chunker=S,this._packer=this._createPacker(S),this._unpacker=this._createUnpacker(N,B),this._responseHandler=I(this),this._log=R,this._onProtocolError=D,this._fatalError=null,this._lastMessageSignature=null,this._config={disableLosslessIntegers:N,useBigInt:B}}return Object.defineProperty(O.prototype,"transformer",{get:function(){var E=this;return this._transformer===void 0&&(this._transformer=new d.default(Object.values(v.default).map(function(S){return S(E._config,E._log)}))),this._transformer},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"version",{get:function(){return b},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"supportsReAuth",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"initialized",{get:function(){return!!this._initialized},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"authToken",{get:function(){return this._authToken},enumerable:!1,configurable:!0}),O.prototype.packer=function(){return this._packer},O.prototype.packable=function(E){return this._packer.packable(E,this.transformer.toStructure)},O.prototype.unpacker=function(){return this._unpacker},O.prototype.unpack=function(E){return this._unpacker.unpack(E,this.transformer.fromStructure)},O.prototype.transformMetadata=function(E){return E},O.prototype.enrichErrorMetadata=function(E){return n(n({},E),{diagnostic_record:E.diagnostic_record!==null?n(n({},_),E.diagnostic_record):null})},O.prototype.initialize=function(E){var S=this,P=E===void 0?{}:E,I=P.userAgent,R=(P.boltAgent,P.authToken),D=P.notificationFilter,k=P.onError,N=P.onComplete,B=new f.LoginObserver({onError:function(z){return S._onLoginError(z,k)},onCompleted:function(z){return S._onLoginCompleted(z,N)}});return(0,s.assertNotificationFilterIsEmpty)(D,this._onProtocolError,B),this.write(c.default.init(I,R),B,!0),B},O.prototype.logoff=function(E){var S=E===void 0?{}:E,P=S.onComplete,I=S.onError,R=(S.flush,new f.LogoffObserver({onCompleted:P,onError:I})),D=(0,h.newError)("Driver is connected to a database that does not support logoff. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(D.message),R.onError(D),D},O.prototype.logon=function(E){var S=this,P=E===void 0?{}:E,I=P.authToken,R=P.onComplete,D=P.onError,k=(P.flush,new f.LoginObserver({onCompleted:function(){return S._onLoginCompleted({},I,R)},onError:function(B){return S._onLoginError(B,D)}})),N=(0,h.newError)("Driver is connected to a database that does not support logon. Please upgrade to Neo4j 5.5.0 or later in order to use this functionality.");throw this._onProtocolError(N.message),k.onError(N),N},O.prototype.prepareToClose=function(){},O.prototype.beginTransaction=function(E){var S=E===void 0?{}:E,P=S.bookmarks,I=S.txConfig,R=S.database,D=S.mode,k=S.impersonatedUser,N=S.notificationFilter,B=S.beforeError,z=S.afterError,F=S.beforeComplete,U=S.afterComplete;return this.run("BEGIN",P?P.asBeginTransactionParameters():{},{bookmarks:P,txConfig:I,database:R,mode:D,impersonatedUser:k,notificationFilter:N,beforeError:B,afterError:z,beforeComplete:F,afterComplete:U,flush:!1})},O.prototype.commitTransaction=function(E){var S=E===void 0?{}:E,P=S.beforeError,I=S.afterError,R=S.beforeComplete,D=S.afterComplete;return this.run("COMMIT",{},{bookmarks:y.empty(),txConfig:m.empty(),mode:g,beforeError:P,afterError:I,beforeComplete:R,afterComplete:D})},O.prototype.rollbackTransaction=function(E){var S=E===void 0?{}:E,P=S.beforeError,I=S.afterError,R=S.beforeComplete,D=S.afterComplete;return this.run("ROLLBACK",{},{bookmarks:y.empty(),txConfig:m.empty(),mode:g,beforeError:P,afterError:I,beforeComplete:R,afterComplete:D})},O.prototype.run=function(E,S,P){var I=P===void 0?{}:P,R=(I.bookmarks,I.txConfig),D=I.database,k=(I.mode,I.impersonatedUser),N=I.notificationFilter,B=I.beforeKeys,z=I.afterKeys,F=I.beforeError,U=I.afterError,W=I.beforeComplete,Y=I.afterComplete,X=I.flush,Q=X===void 0||X,ue=I.highRecordWatermark,ce=ue===void 0?Number.MAX_VALUE:ue,ae=I.lowRecordWatermark,pe=ae===void 0?Number.MAX_VALUE:ae,fe=new f.ResultStreamObserver({server:this._server,beforeKeys:B,afterKeys:z,beforeError:F,afterError:U,beforeComplete:W,afterComplete:Y,highRecordWatermark:ce,lowRecordWatermark:pe});return(0,s.assertTxConfigIsEmpty)(R,this._onProtocolError,fe),(0,s.assertDatabaseIsEmpty)(D,this._onProtocolError,fe),(0,s.assertImpersonatedUserIsEmpty)(k,this._onProtocolError,fe),(0,s.assertNotificationFilterIsEmpty)(N,this._onProtocolError,fe),this.write(c.default.run(E,S),fe,!1),this.write(c.default.pullAll(),fe,Q),fe},Object.defineProperty(O.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),O.prototype.reset=function(E){var S=E===void 0?{}:E,P=S.onError,I=S.onComplete,R=new f.ResetObserver({onProtocolError:this._onProtocolError,onError:P,onComplete:I});return this.write(c.default.reset(),R,!0),R},O.prototype.telemetry=function(E,S){E.api;var P=S===void 0?{}:S,I=(P.onError,P.onCompleted),R=new f.CompletedObserver;return I&&I(),R},O.prototype._createPacker=function(E){return new l.v1.Packer(E)},O.prototype._createUnpacker=function(E,S){return new l.v1.Unpacker(E,S)},O.prototype.write=function(E,S,P){if(this.queueObserverIfProtocolIsNotBroken(S)){this._log.isDebugEnabled()&&this._log.debug("C: ".concat(E)),this._lastMessageSignature=E.signature;var I=new l.structure.Structure(E.signature,E.fields);this.packable(I)(),this._chunker.messageBoundary(),P&&this._chunker.flush()}},O.prototype.isLastMessageLogon=function(){return this._lastMessageSignature===c.SIGNATURES.HELLO||this._lastMessageSignature===c.SIGNATURES.LOGON},O.prototype.isLastMessageReset=function(){return this._lastMessageSignature===c.SIGNATURES.RESET},O.prototype.notifyFatalError=function(E){return this._fatalError=E,this._responseHandler._notifyErrorToObservers(E)},O.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},O.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},O.prototype.queueObserverIfProtocolIsNotBroken=function(E){return this.isBroken()?(this.notifyFatalErrorToObserver(E),!1):this._responseHandler._queueObserver(E)},O.prototype.isBroken=function(){return!!this._fatalError},O.prototype.notifyFatalErrorToObserver=function(E){E&&E.onError&&E.onError(this._fatalError)},O.prototype.resetFailure=function(){this._responseHandler._resetFailure()},O.prototype._onLoginCompleted=function(E,S,P){if(this._initialized=!0,this._authToken=S,E){var I=E.server;this._server.version||(this._server.version=I)}P&&P(E)},O.prototype._onLoginError=function(E,S){this._onProtocolError(E.message),S&&S(E)},O}();e.default=w},8330:function(r,e,t){var n=this&&this.__values||function(u){var s=typeof Symbol=="function"&&Symbol.iterator,l=s&&u[s],c=0;if(l)return l.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.takeLast=void 0;var i=t(8616),o=t(7843),a=t(3111);e.takeLast=function(u){return u<=0?function(){return i.EMPTY}:o.operate(function(s,l){var c=[];s.subscribe(a.createOperatorSubscriber(l,function(f){c.push(f),u<c.length&&c.shift()},function(){var f,h;try{for(var v=n(c),d=v.next();!d.done;d=v.next()){var y=d.value;l.next(y)}}catch(p){f={error:p}}finally{try{d&&!d.done&&(h=v.return)&&h.call(v)}finally{if(f)throw f.error}}l.complete()},void 0,function(){c=null}))})}},8341:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7509);function i(a){return Promise.resolve([a])}var o=function(){function a(u){this._resolverFunction=u??i}return a.prototype.resolve=function(u){var s=this;return new Promise(function(l){return l(s._resolverFunction(u.asHostPort()))}).then(function(l){if(!Array.isArray(l))throw new TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses."+"Each address is '<host>:<port>'. Got: ".concat(l));return l.map(function(c){return n.ServerAddress.fromUrl(c)})})},a}();e.default=o},8522:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.repeat=void 0;var n=t(8616),i=t(7843),o=t(3111),a=t(9445),u=t(4092);e.repeat=function(s){var l,c,f=1/0;return s!=null&&(typeof s=="object"?(l=s.count,f=l===void 0?1/0:l,c=s.delay):f=s),f<=0?function(){return n.EMPTY}:i.operate(function(h,v){var d,y=0,p=function(){if(d?.unsubscribe(),d=null,c!=null){var b=typeof c=="number"?u.timer(c):a.innerFrom(c(y)),m=o.createOperatorSubscriber(v,function(){m.unsubscribe(),g()});b.subscribe(m)}else g()},g=function(){var b=!1;d=h.subscribe(o.createOperatorSubscriber(v,void 0,function(){++y<f?d?p():b=!0:v.complete()})),b&&p()};g()})}},8535:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.argsOrArgArray=void 0;var t=Array.isArray;e.argsOrArgArray=function(n){return n.length===1&&t(n[0])?n[0]:n}},8538:function(r,e,t){var n=this&&this.__read||function(a,u){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l,c,f=s.call(a),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(a,u){for(var s=0,l=u.length,c=a.length;s<l;s++,c++)a[c]=u[s];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.zipWith=void 0;var o=t(5918);e.zipWith=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o.zip.apply(void 0,i([],n(a)))}},8561:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bindNodeCallback=void 0;var n=t(1439);e.bindNodeCallback=function(i,o,a){return n.bindCallbackInternals(!0,i,o,a)}},8613:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=void 0;var n=t(1018);e.isScheduler=function(i){return i&&n.isFunction(i.schedule)}},8616:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.empty=e.EMPTY=void 0;var n=t(4662);e.EMPTY=new n.Observable(function(i){return i.complete()}),e.empty=function(i){return i?function(o){return new n.Observable(function(a){return o.schedule(function(){return a.complete()})})}(i):e.EMPTY}},8624:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scan=void 0;var n=t(7843),i=t(6384);e.scan=function(o,a){return n.operate(i.scanInternals(o,a,arguments.length>=2,!0))}},8655:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.never=e.NEVER=void 0;var n=t(4662),i=t(1342);e.NEVER=new n.Observable(i.noop),e.never=function(){return e.NEVER}},8669:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.last=void 0;var n=t(2823),i=t(783),o=t(8330),a=t(4869),u=t(378),s=t(6640);e.last=function(l,c){var f=arguments.length>=2;return function(h){return h.pipe(l?i.filter(function(v,d){return l(v,d,h)}):s.identity,o.takeLast(1),f?u.defaultIfEmpty(c):a.throwIfEmpty(function(){return new n.EmptyError}))}}},8712:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchScan=void 0;var n=t(3879),i=t(7843);e.switchScan=function(o,a){return i.operate(function(u,s){var l=a;return n.switchMap(function(c,f){return o(l,c,f)},function(c,f){return l=f,f})(u).subscribe(s),function(){l=null}})}},8731:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(7452),i=t(9305),o=["5.8","5.7","5.6","5.4","5.3","5.2","5.1","5.0","4.4","4.3","4.2","3.0"];function a(s,l){return{major:s,minor:l}}function u(s){for(var l=[],c=s[3],f=s[2],h=0;h<=s[1];h++)l.push({major:c,minor:f-h});return l}e.default=function(s,l){return function(c,f){var h=this;return new Promise(function(v,d){var y=function(p){d(p)};c.onerror=y.bind(h),c._error&&y(c._error),c.onmessage=function(p){try{var g=function(b,m){var _=[b.readUInt8(),b.readUInt8(),b.readUInt8(),b.readUInt8()];if(_[0]===72&&_[1]===84&&_[2]===84&&_[3]===80)throw m.error("Handshake failed since server responded with HTTP."),(0,i.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return+(_[3]+"."+_[2])}(p,f);v({protocolVersion:g,capabilites:0,buffer:p,consumeRemainingBuffer:function(b){p.hasRemaining()&&b(p.readSlice(p.remaining()))}})}catch(b){d(b)}},c.write(function(p){if(p.length>4)throw(0,i.newError)("It should not have more than 4 versions of the protocol");var g=(0,n.alloc)(20);return g.writeInt32(1616949271),p.forEach(function(b){if(b instanceof Array){var m=b[0],_=m.major,w=(O=m.minor)-b[1].minor;g.writeInt32(w<<16|O<<8|_)}else{_=b.major;var O=b.minor;g.writeInt32(O<<8|_)}}),g.reset(),g}([a(255,1),[a(5,8),a(5,0)],[a(4,4),a(4,2)],a(3,0)]))})}(s,l).then(function(c){return c.protocolVersion===255.1?function(f,h){for(var v=h.readVarInt(),d=[],y=0;y<v;y++){var p=[h.readUInt8(),h.readUInt8(),h.readUInt8(),h.readUInt8()];d=d.concat(u(p))}h.readVarInt();var g=0,b=0;for(d.sort(function(_,w){return Number(_.major)!==Number(w.major)?Number(w.major)-Number(_.major):Number(w.minor)-Number(_.minor)}),y=0;y<d.length;y++){var m=d[y];if(o.includes(m.major+"."+m.minor)){g=m.major,b=m.minor;break}}return new Promise(function(_,w){try{var O=(0,n.alloc)(5);O.writeInt32(b<<8|g),O.writeVarInt(0),f.write(O),_({protocolVersion:+(g+"."+b),capabilites:0,consumeRemainingBuffer:function(E){h.hasRemaining()&&E(h.readSlice(h.remaining()))}})}catch(E){w(E)}})}(s,c.buffer):c})}},8766:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.delayWhen=void 0;var n=t(3865),i=t(846),o=t(490),a=t(3218),u=t(983),s=t(9445);e.delayWhen=function l(c,f){return f?function(h){return n.concat(f.pipe(i.take(1),o.ignoreElements()),h.pipe(l(c)))}:u.mergeMap(function(h,v){return s.innerFrom(c(h,v)).pipe(i.take(1),a.mapTo(h))})}},8774:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.switchAll=void 0;var n=t(3879),i=t(6640);e.switchAll=function(){return n.switchMap(i.identity)}},8784:(r,e,t)=>{var n=t(4704);r.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},8808:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleIterable=void 0;var n=t(4662),i=t(1964),o=t(1018),a=t(7110);e.scheduleIterable=function(u,s){return new n.Observable(function(l){var c;return a.executeSchedule(l,s,function(){c=u[i.iterator](),a.executeSchedule(l,s,function(){var f,h,v;try{h=(f=c.next()).value,v=f.done}catch(d){return void l.error(d)}v?l.complete():l.next(h)},0,!0)}),function(){return o.isFunction(c?.return)&&c.return()}})}},8813:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(Nn,la,vo,Hi){Hi===void 0&&(Hi=vo),Object.defineProperty(Nn,Hi,{enumerable:!0,get:function(){return la[vo]}})}:function(Nn,la,vo,Hi){Hi===void 0&&(Hi=vo),Nn[Hi]=la[vo]}),i=this&&this.__exportStar||function(Nn,la){for(var vo in Nn)vo==="default"||Object.prototype.hasOwnProperty.call(la,vo)||n(la,Nn,vo)};Object.defineProperty(e,"__esModule",{value:!0}),e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0,e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0,e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0,e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var o=t(4662);Object.defineProperty(e,"Observable",{enumerable:!0,get:function(){return o.Observable}});var a=t(8918);Object.defineProperty(e,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var u=t(3327);Object.defineProperty(e,"observable",{enumerable:!0,get:function(){return u.observable}});var s=t(3110);Object.defineProperty(e,"animationFrames",{enumerable:!0,get:function(){return s.animationFrames}});var l=t(2483);Object.defineProperty(e,"Subject",{enumerable:!0,get:function(){return l.Subject}});var c=t(1637);Object.defineProperty(e,"BehaviorSubject",{enumerable:!0,get:function(){return c.BehaviorSubject}});var f=t(1242);Object.defineProperty(e,"ReplaySubject",{enumerable:!0,get:function(){return f.ReplaySubject}});var h=t(95);Object.defineProperty(e,"AsyncSubject",{enumerable:!0,get:function(){return h.AsyncSubject}});var v=t(3692);Object.defineProperty(e,"asap",{enumerable:!0,get:function(){return v.asap}}),Object.defineProperty(e,"asapScheduler",{enumerable:!0,get:function(){return v.asapScheduler}});var d=t(7961);Object.defineProperty(e,"async",{enumerable:!0,get:function(){return d.async}}),Object.defineProperty(e,"asyncScheduler",{enumerable:!0,get:function(){return d.asyncScheduler}});var y=t(2886);Object.defineProperty(e,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(e,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var p=t(3862);Object.defineProperty(e,"animationFrame",{enumerable:!0,get:function(){return p.animationFrame}}),Object.defineProperty(e,"animationFrameScheduler",{enumerable:!0,get:function(){return p.animationFrameScheduler}});var g=t(182);Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:!0,get:function(){return g.VirtualTimeScheduler}}),Object.defineProperty(e,"VirtualAction",{enumerable:!0,get:function(){return g.VirtualAction}});var b=t(8986);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return b.Scheduler}});var m=t(8014);Object.defineProperty(e,"Subscription",{enumerable:!0,get:function(){return m.Subscription}});var _=t(5);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=t(7800);Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(e,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var O=t(2706);Object.defineProperty(e,"pipe",{enumerable:!0,get:function(){return O.pipe}});var E=t(1342);Object.defineProperty(e,"noop",{enumerable:!0,get:function(){return E.noop}});var S=t(6640);Object.defineProperty(e,"identity",{enumerable:!0,get:function(){return S.identity}});var P=t(1751);Object.defineProperty(e,"isObservable",{enumerable:!0,get:function(){return P.isObservable}});var I=t(6894);Object.defineProperty(e,"lastValueFrom",{enumerable:!0,get:function(){return I.lastValueFrom}});var R=t(9060);Object.defineProperty(e,"firstValueFrom",{enumerable:!0,get:function(){return R.firstValueFrom}});var D=t(7057);Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return D.ArgumentOutOfRangeError}});var k=t(2823);Object.defineProperty(e,"EmptyError",{enumerable:!0,get:function(){return k.EmptyError}});var N=t(1759);Object.defineProperty(e,"NotFoundError",{enumerable:!0,get:function(){return N.NotFoundError}});var B=t(9686);Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return B.ObjectUnsubscribedError}});var z=t(1505);Object.defineProperty(e,"SequenceError",{enumerable:!0,get:function(){return z.SequenceError}});var F=t(1554);Object.defineProperty(e,"TimeoutError",{enumerable:!0,get:function(){return F.TimeoutError}});var U=t(5788);Object.defineProperty(e,"UnsubscriptionError",{enumerable:!0,get:function(){return U.UnsubscriptionError}});var W=t(2713);Object.defineProperty(e,"bindCallback",{enumerable:!0,get:function(){return W.bindCallback}});var Y=t(8561);Object.defineProperty(e,"bindNodeCallback",{enumerable:!0,get:function(){return Y.bindNodeCallback}});var X=t(3247);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return X.combineLatest}});var Q=t(3865);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return Q.concat}});var ue=t(7579);Object.defineProperty(e,"connectable",{enumerable:!0,get:function(){return ue.connectable}});var ce=t(9353);Object.defineProperty(e,"defer",{enumerable:!0,get:function(){return ce.defer}});var ae=t(8616);Object.defineProperty(e,"empty",{enumerable:!0,get:function(){return ae.empty}});var pe=t(9105);Object.defineProperty(e,"forkJoin",{enumerable:!0,get:function(){return pe.forkJoin}});var fe=t(4917);Object.defineProperty(e,"from",{enumerable:!0,get:function(){return fe.from}});var he=t(5337);Object.defineProperty(e,"fromEvent",{enumerable:!0,get:function(){return he.fromEvent}});var ee=t(347);Object.defineProperty(e,"fromEventPattern",{enumerable:!0,get:function(){return ee.fromEventPattern}});var K=t(7610);Object.defineProperty(e,"generate",{enumerable:!0,get:function(){return K.generate}});var J=t(4209);Object.defineProperty(e,"iif",{enumerable:!0,get:function(){return J.iif}});var ie=t(6472);Object.defineProperty(e,"interval",{enumerable:!0,get:function(){return ie.interval}});var de=t(2833);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return de.merge}});var _e=t(8655);Object.defineProperty(e,"never",{enumerable:!0,get:function(){return _e.never}});var Ce=t(1004);Object.defineProperty(e,"of",{enumerable:!0,get:function(){return Ce.of}});var Ae=t(6102);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return Ae.onErrorResumeNext}});var xe=t(7740);Object.defineProperty(e,"pairs",{enumerable:!0,get:function(){return xe.pairs}});var j=t(1699);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return j.partition}});var G=t(5584);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return G.race}});var H=t(9376);Object.defineProperty(e,"range",{enumerable:!0,get:function(){return H.range}});var oe=t(1103);Object.defineProperty(e,"throwError",{enumerable:!0,get:function(){return oe.throwError}});var ve=t(4092);Object.defineProperty(e,"timer",{enumerable:!0,get:function(){return ve.timer}});var ye=t(7853);Object.defineProperty(e,"using",{enumerable:!0,get:function(){return ye.using}});var we=t(7286);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return we.zip}});var je=t(1656);Object.defineProperty(e,"scheduled",{enumerable:!0,get:function(){return je.scheduled}});var ze=t(8616);Object.defineProperty(e,"EMPTY",{enumerable:!0,get:function(){return ze.EMPTY}});var rt=t(8655);Object.defineProperty(e,"NEVER",{enumerable:!0,get:function(){return rt.NEVER}}),i(t(6038),e);var Ze=t(3413);Object.defineProperty(e,"config",{enumerable:!0,get:function(){return Ze.config}});var Je=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return Je.audit}});var tt=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return tt.auditTime}});var Xe=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Xe.buffer}});var ke=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return ke.bufferCount}});var te=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return te.bufferTime}});var Se=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return Se.bufferToggle}});var De=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return De.bufferWhen}});var Me=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return Me.catchError}});var Ne=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return Ne.combineAll}});var nt=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return nt.combineLatestAll}});var Be=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return Be.combineLatestWith}});var ot=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return ot.concatAll}});var Qe=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return Qe.concatMap}});var it=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return it.concatMapTo}});var gt=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return gt.concatWith}});var Pt=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return Pt.connect}});var lt=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return lt.count}});var Lt=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return Lt.debounce}});var dt=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return dt.debounceTime}});var Qt=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return Qt.defaultIfEmpty}});var Yt=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return Yt.delay}});var Rt=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return Rt.delayWhen}});var wt=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return wt.dematerialize}});var dr=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return dr.distinct}});var ir=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return ir.distinctUntilChanged}});var vr=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return vr.distinctUntilKeyChanged}});var wr=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return wr.elementAt}});var Er=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return Er.endWith}});var Pr=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return Pr.every}});var Vr=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return Vr.exhaust}});var cn=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return cn.exhaustAll}});var Dn=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Dn.exhaustMap}});var On=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return On.expand}});var xr=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return xr.filter}});var mr=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return mr.finalize}});var Wr=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return Wr.find}});var fn=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return fn.findIndex}});var Jt=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return Jt.first}});var Mn=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return Mn.groupBy}});var Sn=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return Sn.ignoreElements}});var ut=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return ut.isEmpty}});var jt=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return jt.last}});var kn=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return kn.map}});var co=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return co.mapTo}});var fo=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return fo.materialize}});var Vn=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Vn.max}});var oi=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return oi.mergeAll}});var pr=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return pr.flatMap}});var Xt=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return Xt.mergeMap}});var Mi=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return Mi.mergeMapTo}});var es=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return es.mergeScan}});var Tu=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return Tu.mergeWith}});var Wn=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Wn.min}});var ts=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ts.multicast}});var en=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return en.observeOn}});var aa=t(1226);Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:!0,get:function(){return aa.onErrorResumeNextWith}});var Tn=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return Tn.pairwise}});var Ia=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Ia.pluck}});var Us=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Us.publish}});var ai=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return ai.publishBehavior}});var ql=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return ql.publishLast}});var Gl=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return Gl.publishReplay}});var Cu=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Cu.raceWith}});var sf=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return sf.reduce}});var Vl=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Vl.repeat}});var Pu=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Pu.repeatWhen}});var Hn=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return Hn.retry}});var rs=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return rs.retryWhen}});var yi=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return yi.refCount}});var uf=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return uf.sample}});var lf=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return lf.sampleTime}});var ko=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return ko.scan}});var zs=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return zs.sequenceEqual}});var Au=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return Au.share}});var Hr=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Hr.shareReplay}});var sa=t(5382);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return sa.single}});var Wl=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Wl.skip}});var yd=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return yd.skipLast}});var Ru=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return Ru.skipUntil}});var md=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return md.skipWhile}});var cf=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return cf.startWith}});var Iu=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return Iu.subscribeOn}});var ns=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return ns.switchAll}});var Hl=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return Hl.switchMap}});var ff=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return ff.switchMapTo}});var hf=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return hf.switchScan}});var Yl=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Yl.take}});var Xl=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return Xl.takeLast}});var df=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return df.takeUntil}});var jr=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return jr.takeWhile}});var kr=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return kr.tap}});var vf=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return vf.throttle}});var mi=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return mi.throttleTime}});var Kl=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return Kl.throwIfEmpty}});var qs=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return qs.timeInterval}});var pf=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return pf.timeout}});var gf=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return gf.timeoutWith}});var yf=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return yf.timestamp}});var bd=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return bd.toArray}});var Cn=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return Cn.window}});var ua=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return ua.windowCount}});var No=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return No.windowTime}});var $l=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return $l.windowToggle}});var ho=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return ho.windowWhen}});var Yn=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return Yn.withLatestFrom}});var mf=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return mf.zipAll}});var Da=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return Da.zipWith}})},8831:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.bufferWhen=void 0;var n=t(7843),i=t(1342),o=t(3111),a=t(9445);e.bufferWhen=function(u){return n.operate(function(s,l){var c=null,f=null,h=function(){f?.unsubscribe();var v=c;c=[],v&&l.next(v),a.innerFrom(u()).subscribe(f=o.createOperatorSubscriber(l,h,i.noop))};h(),s.subscribe(o.createOperatorSubscriber(l,function(v){return c?.push(v)},function(){c&&l.next(c),l.complete()},void 0,function(){return c=f=null}))})}},8888:(r,e,t)=>{var n=t(5636).Buffer,i=n.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(d){var y;switch(this.encoding=function(p){var g=function(b){if(!b)return"utf8";for(var m;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(m)return;b=(""+b).toLowerCase(),m=!0}}(p);if(typeof g!="string"&&(n.isEncoding===i||!i(p)))throw new Error("Unknown encoding: "+p);return g||p}(d),this.encoding){case"utf16le":this.text=s,this.end=l,y=4;break;case"utf8":this.fillLast=u,y=4;break;case"base64":this.text=c,this.end=f,y=3;break;default:return this.write=h,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(y)}function a(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:d>>6==2?-1:-2}function u(d){var y=this.lastTotal-this.lastNeed,p=function(g,b){if((192&b[0])!=128)return g.lastNeed=0,"\uFFFD";if(g.lastNeed>1&&b.length>1){if((192&b[1])!=128)return g.lastNeed=1,"\uFFFD";if(g.lastNeed>2&&b.length>2&&(192&b[2])!=128)return g.lastNeed=2,"\uFFFD"}}(this,d);return p!==void 0?p:this.lastNeed<=d.length?(d.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,y,0,d.length),void(this.lastNeed-=d.length))}function s(d,y){if((d.length-y)%2==0){var p=d.toString("utf16le",y);if(p){var g=p.charCodeAt(p.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",y,d.length-1)}function l(d){var y=d&&d.length?this.write(d):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,p)}return y}function c(d,y){var p=(d.length-y)%3;return p===0?d.toString("base64",y):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",y,d.length-p))}function f(d){var y=d&&d.length?this.write(d):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function h(d){return d.toString(this.encoding)}function v(d){return d&&d.length?this.write(d):""}e.StringDecoder=o,o.prototype.write=function(d){if(d.length===0)return"";var y,p;if(this.lastNeed){if((y=this.fillLast(d))===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<d.length?y?y+this.text(d,p):this.text(d,p):y||""},o.prototype.end=function(d){var y=d&&d.length?this.write(d):"";return this.lastNeed?y+"\uFFFD":y},o.prototype.text=function(d,y){var p=function(b,m,_){var w=m.length-1;if(w<_)return 0;var O=a(m[w]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--w<_||O===-2?0:(O=a(m[w]))>=0?(O>0&&(b.lastNeed=O-2),O):--w<_||O===-2?0:(O=a(m[w]))>=0?(O>0&&(O===2?O=0:b.lastNeed=O-3),O):0}(this,d,y);if(!this.lastNeed)return d.toString("utf8",y);this.lastTotal=p;var g=d.length-(p-this.lastNeed);return d.copy(this.lastChar,0,g),d.toString("utf8",y,g)},o.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},8917:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,n,i){this.keys=t,this.records=n,this.summary=i}},8918:function(r,e,t){var n=this&&this.__extends||function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,d){v.__proto__=d}||function(v,d){for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(v[y]=d[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function v(){this.constructor=f}c(f,h),f.prototype=h===null?Object.create(h):(v.prototype=h.prototype,new v)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectableObservable=void 0;var i=t(4662),o=t(8014),a=t(7561),u=t(3111),s=t(7843),l=function(c){function f(h,v){var d=c.call(this)||this;return d.source=h,d.subjectFactory=v,d._subject=null,d._refCount=0,d._connection=null,s.hasLift(h)&&(d.lift=h.lift),d}return n(f,c),f.prototype._subscribe=function(h){return this.getSubject().subscribe(h)},f.prototype.getSubject=function(){var h=this._subject;return h&&!h.isStopped||(this._subject=this.subjectFactory()),this._subject},f.prototype._teardown=function(){this._refCount=0;var h=this._connection;this._subject=this._connection=null,h?.unsubscribe()},f.prototype.connect=function(){var h=this,v=this._connection;if(!v){v=this._connection=new o.Subscription;var d=this.getSubject();v.add(this.source.subscribe(u.createOperatorSubscriber(d,void 0,function(){h._teardown(),d.complete()},function(y){h._teardown(),d.error(y)},function(){return h._teardown()}))),v.closed&&(this._connection=null,v=o.Subscription.EMPTY)}return v},f.prototype.refCount=function(){return a.refCount()(this)},f}(i.Observable);e.ConnectableObservable=l},8937:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilChanged=void 0;var n=t(6640),i=t(7843),o=t(3111);function a(u,s){return u===s}e.distinctUntilChanged=function(u,s){return s===void 0&&(s=n.identity),u=u??a,i.operate(function(l,c){var f,h=!0;l.subscribe(o.createOperatorSubscriber(c,function(v){var d=s(v);!h&&u(f,d)||(h=!1,f=d,c.next(v))}))})}},8941:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=void 0;var n=t(7843),i=t(3111),o=t(9445);e.throttle=function(a,u){return n.operate(function(s,l){var c=u??{},f=c.leading,h=f===void 0||f,v=c.trailing,d=v!==void 0&&v,y=!1,p=null,g=null,b=!1,m=function(){g?.unsubscribe(),g=null,d&&(O(),b&&l.complete())},_=function(){g=null,b&&l.complete()},w=function(E){return g=o.innerFrom(a(E)).subscribe(i.createOperatorSubscriber(l,m,_))},O=function(){if(y){y=!1;var E=p;p=null,l.next(E),!b&&w(E)}};s.subscribe(i.createOperatorSubscriber(l,function(E){y=!0,p=E,(!g||g.closed)&&(h?O():w(E))},function(){b=!0,(!(d&&y&&g)||g.closed)&&l.complete()}))})}},8960:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeOn=void 0;var n=t(7843);e.subscribeOn=function(i,o){return o===void 0&&(o=0),n.operate(function(a,u){u.add(i.schedule(function(){return a.subscribe(u)},o))})}},8977:function(r,e,t){var n=this&&this.__read||function(c,f){var h=typeof Symbol=="function"&&c[Symbol.iterator];if(!h)return c;var v,d,y=h.call(c),p=[];try{for(;(f===void 0||f-- >0)&&!(v=y.next()).done;)p.push(v.value)}catch(g){d={error:g}}finally{try{v&&!v.done&&(h=y.return)&&h.call(y)}finally{if(d)throw d.error}}return p},i=this&&this.__spreadArray||function(c,f){for(var h=0,v=f.length,d=c.length;h<v;h++,d++)c[d]=f[h];return c};Object.defineProperty(e,"__esModule",{value:!0}),e.share=void 0;var o=t(9445),a=t(2483),u=t(5),s=t(7843);function l(c,f){for(var h=[],v=2;v<arguments.length;v++)h[v-2]=arguments[v];if(f!==!0){if(f!==!1){var d=new u.SafeSubscriber({next:function(){d.unsubscribe(),c()}});return o.innerFrom(f.apply(void 0,i([],n(h)))).subscribe(d)}}else c()}e.share=function(c){c===void 0&&(c={});var f=c.connector,h=f===void 0?function(){return new a.Subject}:f,v=c.resetOnError,d=v===void 0||v,y=c.resetOnComplete,p=y===void 0||y,g=c.resetOnRefCountZero,b=g===void 0||g;return function(m){var _,w,O,E=0,S=!1,P=!1,I=function(){w?.unsubscribe(),w=void 0},R=function(){I(),_=O=void 0,S=P=!1},D=function(){var k=_;R(),k?.unsubscribe()};return s.operate(function(k,N){E++,P||S||I();var B=O=O??h();N.add(function(){--E!==0||P||S||(w=l(D,b))}),B.subscribe(N),!_&&E>0&&(_=new u.SafeSubscriber({next:function(z){return B.next(z)},error:function(z){P=!0,I(),w=l(R,d,z),B.error(z)},complete:function(){S=!0,I(),w=l(R,p),B.complete()}}),o.innerFrom(k).subscribe(_))})(m)}}},8986:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var n=t(9568),i=function(){function o(a,u){u===void 0&&(u=o.now),this.schedulerActionCtor=a,this.now=u}return o.prototype.schedule=function(a,u,s){return u===void 0&&(u=0),new this.schedulerActionCtor(this,a).schedule(s,u)},o.now=n.dateTimestampProvider.now,o}();e.Scheduler=i},8987:function(r,e,t){var n=this&&this.__extends||function(){var w=function(O,E){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(S[I]=P[I])},w(O,E)};return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function S(){this.constructor=O}w(O,E),O.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}}(),i=this&&this.__awaiter||function(w,O,E,S){return new(E||(E=Promise))(function(P,I){function R(N){try{k(S.next(N))}catch(B){I(B)}}function D(N){try{k(S.throw(N))}catch(B){I(B)}}function k(N){var B;N.done?P(N.value):(B=N.value,B instanceof E?B:new E(function(z){z(B)})).then(R,D)}k((S=S.apply(w,O||[])).next())})},o=this&&this.__generator||function(w,O){var E,S,P,I,R={label:0,sent:function(){if(1&P[0])throw P[1];return P[1]},trys:[],ops:[]};return I={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(I[Symbol.iterator]=function(){return this}),I;function D(k){return function(N){return function(B){if(E)throw new TypeError("Generator is already executing.");for(;I&&(I=0,B[0]&&(R=0)),R;)try{if(E=1,S&&(P=2&B[0]?S.return:B[0]?S.throw||((P=S.return)&&P.call(S),0):S.next)&&!(P=P.call(S,B[1])).done)return P;switch(S=0,P&&(B=[2&B[0],P.value]),B[0]){case 0:case 1:P=B;break;case 4:return R.label++,{value:B[1],done:!1};case 5:R.label++,S=B[1],B=[0];continue;case 7:B=R.ops.pop(),R.trys.pop();continue;default:if(!((P=(P=R.trys).length>0&&P[P.length-1])||B[0]!==6&&B[0]!==2)){R=0;continue}if(B[0]===3&&(!P||B[1]>P[0]&&B[1]<P[3])){R.label=B[1];break}if(B[0]===6&&R.label<P[1]){R.label=P[1],P=B;break}if(P&&R.label<P[2]){R.label=P[2],R.ops.push(B);break}P[2]&&R.ops.pop(),R.trys.pop();continue}B=O.call(w,R)}catch(z){B=[6,z],S=0}finally{E=P=0}if(5&B[0])throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}([k,N])}}},a=this&&this.__read||function(w,O){var E=typeof Symbol=="function"&&w[Symbol.iterator];if(!E)return w;var S,P,I=E.call(w),R=[];try{for(;(O===void 0||O-- >0)&&!(S=I.next()).done;)R.push(S.value)}catch(D){P={error:D}}finally{try{S&&!S.done&&(E=I.return)&&E.call(I)}finally{if(P)throw P.error}}return R},u=this&&this.__spreadArray||function(w,O,E){if(E||arguments.length===2)for(var S,P=0,I=O.length;P<I;P++)!S&&P in O||(S||(S=Array.prototype.slice.call(O,0,P)),S[P]=O[P]);return w.concat(S||Array.prototype.slice.call(O))},s=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0});var l=t(7721),c=t(9305),f=s(t(1839)),h=t(6781),v=s(t(4531)),d=s(t(4271)),y=c.error.SERVICE_UNAVAILABLE,p=["Neo.ClientError.Security.CredentialsExpired","Neo.ClientError.Security.Forbidden","Neo.ClientError.Security.TokenExpired","Neo.ClientError.Security.Unauthorized"],g=c.internal.pool,b=g.Pool,m=g.PoolConfig,_=function(w){function O(E,S){var P=E.id,I=E.config,R=E.log,D=E.userAgent,k=E.boltAgent,N=E.authTokenManager,B=E.newPool,z=B===void 0?function(){for(var U=[],W=0;W<arguments.length;W++)U[W]=arguments[W];return new(b.bind.apply(b,u([void 0],a(U),!1)))}:B;S===void 0&&(S=null);var F=w.call(this)||this;return F._id=P,F._config=I,F._log=R,F._clientCertificateHolder=new d.default({clientCertificateProvider:F._config.clientCertificate}),F._authenticationProvider=new f.default({authTokenManager:N,userAgent:D,boltAgent:k}),F._livenessCheckProvider=new v.default({connectionLivenessCheckTimeout:I.connectionLivenessCheckTimeout}),F._userAgent=D,F._boltAgent=k,F._createChannelConnection=S||function(U){return i(F,void 0,void 0,function(){var W,Y;return o(this,function(X){switch(X.label){case 0:return W=l.createChannelConnection,Y=[U,this._config,this._createConnectionErrorHandler(),this._log],[4,this._clientCertificateHolder.getClientCertificate()];case 1:return[2,W.apply(void 0,Y.concat([X.sent()]))]}})})},F._connectionPool=z({create:F._createConnection.bind(F),destroy:F._destroyConnection.bind(F),validateOnAcquire:F._validateConnectionOnAcquire.bind(F),validateOnRelease:F._validateConnectionOnRelease.bind(F),installIdleObserver:O._installIdleObserverOnConnection.bind(F),removeIdleObserver:O._removeIdleObserverOnConnection.bind(F),config:m.fromDriverConfig(I),log:F._log}),F._openConnections={},F}return n(O,w),O.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(y)},O.prototype._getClientCertificate=function(){return i(this,void 0,void 0,function(){return o(this,function(E){return[2,this._config.clientCertificate.getClientCertificate()]})})},O.prototype._createConnection=function(E,S,P){var I=this,R=E.auth;return this._createChannelConnection(S).then(function(D){return D.release=function(){return D.idleTimestamp=Date.now(),P(S,D)},I._openConnections[D.id]=D,I._authenticationProvider.authenticate({connection:D,auth:R}).catch(function(k){throw I._destroyConnection(D),k})})},O.prototype._validateConnectionOnAcquire=function(E,S){var P=E.auth,I=E.skipReAuth;return i(this,void 0,void 0,function(){var R,D;return o(this,function(k){switch(k.label){case 0:if(!this._validateConnection(S))return[2,!1];k.label=1;case 1:return k.trys.push([1,3,,4]),[4,this._livenessCheckProvider.check(S)];case 2:return k.sent(),[3,4];case 3:return R=k.sent(),this._log.debug("The connection ".concat(S.id," is not alive because of an error ").concat(R.code," '").concat(R.message,"'")),[2,!1];case 4:return k.trys.push([4,6,,7]),[4,this._authenticationProvider.authenticate({connection:S,auth:P,skipReAuth:I})];case 5:return k.sent(),[2,!0];case 6:return D=k.sent(),this._log.debug("The connection ".concat(S.id," is not valid because of an error ").concat(D.code," '").concat(D.message,"'")),[2,!1];case 7:return[2]}})})},O.prototype._validateConnectionOnRelease=function(E){return E._sticky!==!0&&this._validateConnection(E)},O.prototype._validateConnection=function(E){if(!E.isOpen())return!1;var S=this._config.maxConnectionLifetime;return!(Date.now()-E.creationTimestamp>S)},O.prototype._destroyConnection=function(E){return delete this._openConnections[E.id],E.close()},O.prototype._verifyConnectivityAndGetServerVersion=function(E){var S=E.address;return i(this,void 0,void 0,function(){var P,I;return o(this,function(R){switch(R.label){case 0:return[4,this._connectionPool.acquire({},S)];case 1:P=R.sent(),I=new c.ServerInfo(P.server,P.protocol().version),R.label=2;case 2:return R.trys.push([2,,5,7]),P.protocol().isLastMessageLogon()?[3,4]:[4,P.resetAndFlush()];case 3:R.sent(),R.label=4;case 4:return[3,7];case 5:return[4,P.release()];case 6:return R.sent(),[7];case 7:return[2,I]}})})},O.prototype._verifyAuthentication=function(E){var S=E.getAddress,P=E.auth;return i(this,void 0,void 0,function(){var I,R,D,k,N,B;return o(this,function(z){switch(z.label){case 0:I=[],z.label=1;case 1:return z.trys.push([1,8,9,11]),[4,S()];case 2:return R=z.sent(),[4,this._connectionPool.acquire({auth:P,skipReAuth:!0},R)];case 3:if(D=z.sent(),I.push(D),k=!D.protocol().isLastMessageLogon(),!D.supportsReAuth)throw(0,c.newError)("Driver is connected to a database that does not support user switch.");return k&&D.supportsReAuth?[4,this._authenticationProvider.authenticate({connection:D,auth:P,waitReAuth:!0,forceReAuth:!0})]:[3,5];case 4:return z.sent(),[3,7];case 5:return!k||D.supportsReAuth?[3,7]:[4,this._connectionPool.acquire({auth:P},R,{requireNew:!0})];case 6:(N=z.sent())._sticky=!0,I.push(N),z.label=7;case 7:return[2,!0];case 8:if(B=z.sent(),p.includes(B.code))return[2,!1];throw B;case 9:return[4,Promise.all(I.map(function(F){return F.release()}))];case 10:return z.sent(),[7];case 11:return[2]}})})},O.prototype._verifyStickyConnection=function(E){var S=E.auth,P=E.connection;return E.address,i(this,void 0,void 0,function(){var I,R;return o(this,function(D){switch(D.label){case 0:return I=h.object.equals(S,P.authToken),R=!I,P._sticky=I&&!P.supportsReAuth,R||P._sticky?[4,P.release()]:[3,2];case 1:throw D.sent(),(0,c.newError)("Driver is connected to a database that does not support user switch.");case 2:return[2]}})})},O.prototype.close=function(){return i(this,void 0,void 0,function(){return o(this,function(E){switch(E.label){case 0:return[4,this._connectionPool.close()];case 1:return E.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(S){return S.close()}))];case 2:return E.sent(),[2]}})})},O._installIdleObserverOnConnection=function(E,S){E._setIdle(S)},O._removeIdleObserverOnConnection=function(E){E._unsetIdle()},O.prototype._handleSecurityError=function(E,S,P){return this._authenticationProvider.handleError({connection:P,code:E.code})&&(E.retriable=!0),E.code==="Neo.ClientError.Security.AuthorizationExpired"&&this._connectionPool.apply(S,function(I){I.authToken=null}),P&&P.close().catch(function(){}),E},O}(c.ConnectionProvider);e.default=_},8995:function(r,e,t){var n=this&&this.__values||function(c){var f=typeof Symbol=="function"&&Symbol.iterator,h=f&&c[f],v=0;if(h)return h.call(c);if(c&&typeof c.length=="number")return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.bufferToggle=void 0;var i=t(8014),o=t(7843),a=t(9445),u=t(3111),s=t(1342),l=t(7479);e.bufferToggle=function(c,f){return o.operate(function(h,v){var d=[];a.innerFrom(c).subscribe(u.createOperatorSubscriber(v,function(y){var p=[];d.push(p);var g=new i.Subscription;g.add(a.innerFrom(f(y)).subscribe(u.createOperatorSubscriber(v,function(){l.arrRemove(d,p),v.next(p),g.unsubscribe()},s.noop)))},s.noop)),h.subscribe(u.createOperatorSubscriber(v,function(y){var p,g;try{for(var b=n(d),m=b.next();!m.done;m=b.next())m.value.push(y)}catch(_){p={error:_}}finally{try{m&&!m.done&&(g=b.return)&&g.call(b)}finally{if(p)throw p.error}}},function(){for(;d.length>0;)v.next(d.shift());v.complete()}))})}},9014:function(r,e,t){var n=this&&this.__extends||function(){var w=function(O,E){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(S[I]=P[I])},w(O,E)};return function(O,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function S(){this.constructor=O}w(O,E),O.prototype=E===null?Object.create(E):(S.prototype=E.prototype,new S)}}(),i=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryObserver=e.ProcedureRouteObserver=e.RouteObserver=e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LogoffObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var o=t(9305),a=i(t(7790)),u=t(6781),s=o.internal.constants.FETCH_ALL,l=o.error.PROTOCOL_ERROR,c=function(){function w(){}return w.prototype.onNext=function(O){},w.prototype.onError=function(O){},w.prototype.onCompleted=function(O){},w}();e.StreamObserver=c;var f=function(w){function O(E){var S=E===void 0?{}:E,P=S.reactive,I=P!==void 0&&P,R=S.moreFunction,D=S.discardFunction,k=S.fetchSize,N=k===void 0?s:k,B=S.beforeError,z=S.afterError,F=S.beforeKeys,U=S.afterKeys,W=S.beforeComplete,Y=S.afterComplete,X=S.server,Q=S.highRecordWatermark,ue=Q===void 0?Number.MAX_VALUE:Q,ce=S.lowRecordWatermark,ae=ce===void 0?Number.MAX_VALUE:ce,pe=S.enrichMetadata,fe=S.onDb,he=w.call(this)||this;return he._fieldKeys=null,he._fieldLookup=null,he._head=null,he._queuedRecords=[],he._tail=null,he._error=null,he._observers=[],he._meta={},he._server=X,he._beforeError=B,he._afterError=z,he._beforeKeys=F,he._afterKeys=U,he._beforeComplete=W,he._afterComplete=Y,he._enrichMetadata=pe||u.functional.identity,he._queryId=null,he._moreFunction=R,he._discardFunction=D,he._discard=!1,he._fetchSize=N,he._lowRecordWatermark=ae,he._highRecordWatermark=ue,he._setState(I?_.READY:_.READY_STREAMING),he._setupAutoPull(),he._paused=!1,he._pulled=!I,he._haveRecordStreamed=!1,he._onDb=fe,he}return n(O,w),O.prototype.pause=function(){this._paused=!0},O.prototype.resume=function(){this._paused=!1,this._setupAutoPull(!0),this._state.pull(this)},O.prototype.onNext=function(E){this._haveRecordStreamed=!0;var S=new o.Record(this._fieldKeys,E,this._fieldLookup);this._observers.some(function(P){return P.onNext})?this._observers.forEach(function(P){P.onNext&&P.onNext(S)}):(this._queuedRecords.push(S),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},O.prototype.onCompleted=function(E){this._state.onSuccess(this,E)},O.prototype.onError=function(E){this._state.onError(this,E)},O.prototype.cancel=function(){this._discard=!0},O.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(_.STREAMING)},O.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(_.SUCCEEDED)},O.prototype.subscribe=function(E){if(this._head&&E.onKeys&&E.onKeys(this._head),this._queuedRecords.length>0&&E.onNext)for(var S=0;S<this._queuedRecords.length;S++)E.onNext(this._queuedRecords[S]),this._queuedRecords.length-S-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===_.READY&&this._handleStreaming());this._tail&&E.onCompleted&&E.onCompleted(this._tail),this._error&&E.onError(this._error),this._observers.push(E),this._state===_.READY&&this._handleStreaming()},O.prototype._handleHasMore=function(E){this._setState(_.READY),this._handleStreaming(),delete E.has_more},O.prototype._handlePullSuccess=function(E){var S=this,P=this._enrichMetadata(Object.assign(this._server?{server:this._server}:{},this._meta,{stream_summary:{have_records_streamed:this._haveRecordStreamed,pulled:this._pulled,has_keys:this._fieldKeys.length>0}},E));if([void 0,null,"r","w","rw","s"].includes(P.type)){this._setState(_.SUCCEEDED);var I=null;this._beforeComplete&&(I=this._beforeComplete(P));var R=function(){S._tail=P,S._observers.some(function(D){return D.onCompleted})&&S._observers.forEach(function(D){D.onCompleted&&D.onCompleted(P)}),S._afterComplete&&S._afterComplete(P)};I?Promise.resolve(I).then(function(){return R()}):R()}else this.onError((0,o.newError)(`Server returned invalid query type. Expected one of [undefined, null, "r", "w", "rw", "s"] but got '`.concat(P.type,"'"),l))},O.prototype._handleRunSuccess=function(E,S){var P=this;if(this._fieldKeys===null){if(this._fieldKeys=[],this._fieldLookup={},E.fields&&E.fields.length>0){this._fieldKeys=E.fields;for(var I=0;I<E.fields.length;I++)this._fieldLookup[E.fields[I]]=I}E.db!==null&&this._onDb!==void 0&&this._onDb(E.db),E.fields!=null&&delete E.fields,E.qid!==null&&E.qid!==void 0&&(this._queryId=E.qid,delete E.qid),this._storeMetadataForCompletion(E);var R=null;this._beforeKeys&&(R=this._beforeKeys(this._fieldKeys));var D=function(){P._head=P._fieldKeys,P._observers.some(function(k){return k.onKeys})&&P._observers.forEach(function(k){k.onKeys&&k.onKeys(P._fieldKeys)}),P._afterKeys&&P._afterKeys(P._fieldKeys),S()};R?Promise.resolve(R).then(function(){return D()}):D()}},O.prototype._handleError=function(E){var S=this;this._setState(_.FAILED),this._error=E;var P=null;this._beforeError&&(P=this._beforeError(E));var I=function(){S._observers.some(function(R){return R.onError})&&S._observers.forEach(function(R){R.onError&&R.onError(E)}),S._afterError&&S._afterError(E)};P?Promise.resolve(P).then(function(){return I()}):I()},O.prototype._handleStreaming=function(){this._head&&this._observers.some(function(E){return E.onNext||E.onCompleted})&&(this._paused||!this._discard&&!this._autoPull||this._more())},O.prototype._more=function(){this._discard?this._discardFunction(this._queryId,this):(this._pulled=!0,this._moreFunction(this._queryId,this._fetchSize,this)),this._setState(_.STREAMING)},O.prototype._storeMetadataForCompletion=function(E){for(var S=Object.keys(E),P=S.length,I="";P--;)I=S[P],this._meta[I]=E[I]},O.prototype._setState=function(E){this._state=E},O.prototype._setupAutoPull=function(){this._autoPull=!0},O}(c);e.ResultStreamObserver=f;var h=function(w){function O(E){var S=E===void 0?{}:E,P=S.onError,I=S.onCompleted,R=w.call(this)||this;return R._onError=P,R._onCompleted=I,R}return n(O,w),O.prototype.onNext=function(E){this.onError((0,o.newError)("Received RECORD when initializing "+o.json.stringify(E)))},O.prototype.onError=function(E){this._onError&&this._onError(E)},O.prototype.onCompleted=function(E){this._onCompleted&&this._onCompleted(E)},O}(c);e.LoginObserver=h;var v=function(w){function O(E){var S=E===void 0?{}:E,P=S.onError,I=S.onCompleted,R=w.call(this)||this;return R._onError=P,R._onCompleted=I,R}return n(O,w),O.prototype.onNext=function(E){this.onError((0,o.newError)("Received RECORD when logging off "+o.json.stringify(E)))},O.prototype.onError=function(E){this._onError&&this._onError(E)},O.prototype.onCompleted=function(E){this._onCompleted&&this._onCompleted(E)},O}(c);e.LogoffObserver=v;var d=function(w){function O(E){var S=E===void 0?{}:E,P=S.onProtocolError,I=S.onError,R=S.onComplete,D=w.call(this)||this;return D._onProtocolError=P,D._onError=I,D._onComplete=R,D}return n(O,w),O.prototype.onNext=function(E){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(E),l))},O.prototype.onError=function(E){E.code===l&&this._onProtocolError&&this._onProtocolError(E.message),this._onError&&this._onError(E)},O.prototype.onCompleted=function(E){this._onComplete&&this._onComplete(E)},O}(c);e.ResetObserver=d;var y=function(w){function O(E){var S=E===void 0?{}:E,P=S.onError,I=S.onCompleted,R=w.call(this)||this;return R._onError=P,R._onCompleted=I,R}return n(O,w),O.prototype.onNext=function(E){this.onError((0,o.newError)("Received RECORD when sending telemetry "+o.json.stringify(E),l))},O.prototype.onError=function(E){this._onError&&this._onError(E)},O.prototype.onCompleted=function(E){this._onCompleted&&this._onCompleted(E)},O}(f);e.TelemetryObserver=y;var p=function(w){function O(E){var S=E.error,P=E.onError,I=w.call(this,{beforeError:P})||this;return I.onError(S),I}return n(O,w),O}(f);e.FailedObserver=p;var g=function(w){function O(){var E=w.call(this)||this;return w.prototype.markCompleted.call(E),E}return n(O,w),O}(f);e.CompletedObserver=g;var b=function(w){function O(E){var S=E.resultObserver,P=E.onProtocolError,I=E.onError,R=E.onCompleted,D=w.call(this)||this;return D._resultObserver=S,D._onError=I,D._onCompleted=R,D._records=[],D._onProtocolError=P,S.subscribe(D),D}return n(O,w),O.prototype.onNext=function(E){this._records.push(E)},O.prototype.onError=function(E){E.code===l&&this._onProtocolError&&this._onProtocolError(E.message),this._onError&&this._onError(E)},O.prototype.onCompleted=function(){this._records===null||this._records.length===1?this._onCompleted&&this._onCompleted(a.default.ofRecord(this._records[0])):this.onError((0,o.newError)("Illegal response from router. Received "+this._records.length+` records but expected only one.
`+o.json.stringify(this._records),l))},O}(c);e.ProcedureRouteObserver=b;var m=function(w){function O(E){var S=E===void 0?{}:E,P=S.onProtocolError,I=S.onError,R=S.onCompleted,D=w.call(this)||this;return D._onProtocolError=P,D._onError=I,D._onCompleted=R,D}return n(O,w),O.prototype.onNext=function(E){this.onError((0,o.newError)("Received RECORD when resetting: received record is: "+o.json.stringify(E),l))},O.prototype.onError=function(E){E.code===l&&this._onProtocolError&&this._onProtocolError(E.message),this._onError&&this._onError(E)},O.prototype.onCompleted=function(E){this._onCompleted&&this._onCompleted(a.default.ofMessageResponse(E))},O}(c);e.RouteObserver=m;var _={READY_STREAMING:{onSuccess:function(w,O){w._handleRunSuccess(O,function(){w._setState(_.STREAMING)})},onError:function(w,O){w._handleError(O)},name:function(){return"READY_STREAMING"},pull:function(){}},READY:{onSuccess:function(w,O){w._handleRunSuccess(O,function(){return w._handleStreaming()})},onError:function(w,O){w._handleError(O)},name:function(){return"READY"},pull:function(w){return w._more()}},STREAMING:{onSuccess:function(w,O){O.has_more?w._handleHasMore(O):w._handlePullSuccess(O)},onError:function(w,O){w._handleError(O)},name:function(){return"STREAMING"},pull:function(){}},FAILED:{onError:function(w){},name:function(){return"FAILED"},pull:function(){}},SUCCEEDED:{name:function(){return"SUCCEEDED"},pull:function(){}}}},9018:function(r,e,t){var n=this&&this.__read||function(p,g){var b=typeof Symbol=="function"&&p[Symbol.iterator];if(!b)return p;var m,_,w=b.call(p),O=[];try{for(;(g===void 0||g-- >0)&&!(m=w.next()).done;)O.push(m.value)}catch(E){_={error:E}}finally{try{m&&!m.done&&(b=w.return)&&b.call(w)}finally{if(_)throw _.error}}return O},i=this&&this.__spreadArray||function(p,g,b){if(b||arguments.length===2)for(var m,_=0,w=g.length;_<w;_++)!m&&_ in g||(m||(m=Array.prototype.slice.call(g,0,_)),m[_]=g[_]);return p.concat(m||Array.prototype.slice.call(g))};Object.defineProperty(e,"__esModule",{value:!0}),e.createValidRoutingTable=void 0;var o=t(9305),a=o.internal.constants,u=a.ACCESS_MODE_WRITE,s=a.ACCESS_MODE_READ,l=o.internal.serverAddress.ServerAddress,c=o.error.PROTOCOL_ERROR,f=function(){function p(g){var b=g===void 0?{}:g,m=b.database,_=b.routers,w=b.readers,O=b.writers,E=b.expirationTime,S=b.ttl;this.database=m||null,this.databaseName=m||"default database",this.routers=_||[],this.readers=w||[],this.writers=O||[],this.expirationTime=E||(0,o.int)(0),this.ttl=S}return p.fromRawRoutingTable=function(g,b,m){return v(g,b,m)},p.prototype.forget=function(g){this.readers=h(this.readers,g),this.writers=h(this.writers,g)},p.prototype.forgetRouter=function(g){this.routers=h(this.routers,g)},p.prototype.forgetWriter=function(g){this.writers=h(this.writers,g)},p.prototype.isStaleFor=function(g){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||g===s&&this.readers.length===0||g===u&&this.writers.length===0},p.prototype.isExpiredFor=function(g){return this.expirationTime.add(g).lessThan(Date.now())},p.prototype.allServers=function(){return i(i(i([],n(this.routers),!1),n(this.readers),!1),n(this.writers),!1)},p.prototype.toString=function(){return"RoutingTable["+"database=".concat(this.databaseName,", ")+"expirationTime=".concat(this.expirationTime,", ")+"currentTime=".concat(Date.now(),", ")+"routers=[".concat(this.routers,"], ")+"readers=[".concat(this.readers,"], ")+"writers=[".concat(this.writers,"]]")},p}();function h(p,g){return p.filter(function(b){return b.asKey()!==g.asKey()})}function v(p,g,b){var m=b.ttl,_=function(P,I){try{var R=(0,o.int)(Date.now()),D=(0,o.int)(P.ttl).multiply(1e3).add(R);return D.lessThan(R)?o.Integer.MAX_VALUE:D}catch(k){throw(0,o.newError)("Unable to parse TTL entry from router ".concat(I,` from raw routing table:
`).concat(o.json.stringify(P),`
Error message: `).concat(k.message),c)}}(b,g),w=function(P,I){try{var R=[],D=[],k=[];return P.servers.forEach(function(N){var B=N.role,z=N.addresses;B==="ROUTE"?R=y(z).map(function(F){return l.fromUrl(F)}):B==="WRITE"?k=y(z).map(function(F){return l.fromUrl(F)}):B==="READ"&&(D=y(z).map(function(F){return l.fromUrl(F)}))}),{routers:R,readers:D,writers:k}}catch(N){throw(0,o.newError)("Unable to parse servers entry from router ".concat(I,` from addresses:
`).concat(o.json.stringify(P.servers),`
Error message: `).concat(N.message),c)}}(b,g),O=w.routers,E=w.readers,S=w.writers;return d(O,"routers",g),d(E,"readers",g),new f({database:p||b.db,routers:O,readers:E,writers:S,expirationTime:_,ttl:m})}function d(p,g,b){if(p.length===0)throw(0,o.newError)("Received no "+g+" from router "+b,c)}function y(p){if(!Array.isArray(p))throw new TypeError("Array expected but got: "+p);return Array.from(p)}e.default=f,e.createValidRoutingTable=v},9052:(r,e)=>{function t(n,i,o){return{kind:n,value:i,error:o}}Object.defineProperty(e,"__esModule",{value:!0}),e.createNotification=e.nextNotification=e.errorNotification=e.COMPLETE_NOTIFICATION=void 0,e.COMPLETE_NOTIFICATION=t("C",void 0,void 0),e.errorNotification=function(n){return t("E",void 0,n)},e.nextNotification=function(n){return t("N",n,void 0)},e.createNotification=t},9054:function(r,e,t){var n=this&&this.__extends||function(){var g=function(b,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,w){_.__proto__=w}||function(_,w){for(var O in w)Object.prototype.hasOwnProperty.call(w,O)&&(_[O]=w[O])},g(b,m)};return function(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function _(){this.constructor=b}g(b,m),b.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(g){for(var b,m=1,_=arguments.length;m<_;m++)for(var w in b=arguments[m])Object.prototype.hasOwnProperty.call(b,w)&&(g[w]=b[w]);return g},i.apply(this,arguments)},o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(6445)),u=o(t(7021)),s=t(9014),l=t(397),c=o(t(7331)),f=o(t(5045)),h=o(t(3321)),v=t(9305),d=v.internal.bookmarks.Bookmarks,y=v.internal.constants.BOLT_PROTOCOL_V4_3,p=function(g){function b(){return g!==null&&g.apply(this,arguments)||this}return n(b,g),Object.defineProperty(b.prototype,"version",{get:function(){return y},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"transformer",{get:function(){var m=this;return this._transformer===void 0&&(this._transformer=new h.default(Object.values(c.default).map(function(_){return _(m._config,m._log)}))),this._transformer},enumerable:!1,configurable:!0}),b.prototype.requestRoutingInformation=function(m){var _=m.routingContext,w=_===void 0?{}:_,O=m.databaseName,E=O===void 0?null:O,S=m.sessionContext,P=S===void 0?{}:S,I=m.onError,R=m.onCompleted,D=new s.RouteObserver({onProtocolError:this._onProtocolError,onError:I,onCompleted:R}),k=P.bookmarks||d.empty();return this.write(u.default.route(w,k.values(),E),D,!0),D},b.prototype.initialize=function(m){var _=this,w=m===void 0?{}:m,O=w.userAgent,E=(w.boltAgent,w.authToken),S=w.notificationFilter,P=w.onError,I=w.onComplete,R=new s.LoginObserver({onError:function(D){return _._onLoginError(D,P)},onCompleted:function(D){return D.patch_bolt!==void 0&&_._applyPatches(D.patch_bolt),_._onLoginCompleted(D,E,I)}});return(0,l.assertNotificationFilterIsEmpty)(S,this._onProtocolError,R),this.write(u.default.hello(O,E,this._serversideRouting,["utc"]),R,!0),R},b.prototype._applyPatches=function(m){m.includes("utc")&&this._applyUtcPatch()},b.prototype._applyUtcPatch=function(){var m=this;this._transformer=new h.default(Object.values(i(i({},c.default),f.default)).map(function(_){return _(m._config,m._log)}))},b}(a.default);e.default=p},9060:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.firstValueFrom=void 0;var n=t(2823),i=t(5);e.firstValueFrom=function(o,a){var u=typeof a=="object";return new Promise(function(s,l){var c=new i.SafeSubscriber({next:function(f){s(f),c.unsubscribe()},error:l,complete:function(){u?s(a.defaultValue):l(new n.EmptyError)}});o.subscribe(c)})}},9098:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.skipLast=void 0;var n=t(6640),i=t(7843),o=t(3111);e.skipLast=function(a){return a<=0?n.identity:i.operate(function(u,s){var l=new Array(a),c=0;return u.subscribe(o.createOperatorSubscriber(s,function(f){var h=c++;if(h<a)l[h]=f;else{var v=h%a,d=l[v];l[v]=f,s.next(d)}})),function(){l=null}})}},9105:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.forkJoin=void 0;var n=t(4662),i=t(7360),o=t(9445),a=t(1107),u=t(3111),s=t(1251),l=t(6013);e.forkJoin=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];var h=a.popResultSelector(c),v=i.argsArgArrayOrObject(c),d=v.args,y=v.keys,p=new n.Observable(function(g){var b=d.length;if(b)for(var m=new Array(b),_=b,w=b,O=function(S){var P=!1;o.innerFrom(d[S]).subscribe(u.createOperatorSubscriber(g,function(I){P||(P=!0,w--),m[S]=I},function(){return _--},void 0,function(){_&&P||(w||g.next(y?l.createObject(y,m):m),g.complete())}))},E=0;E<b;E++)O(E);else g.complete()});return h?p.pipe(s.mapOneOrManyArgs(h)):p}},9125:function(r,e,t){var n=this&&this.__extends||function(){var v=function(d,y){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&(p[b]=g[b])},v(d,y)};return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function p(){this.constructor=d}v(d,y),d.prototype=y===null?Object.create(y):(p.prototype=y.prototype,new p)}}(),i=this&&this.__assign||function(){return i=Object.assign||function(v){for(var d,y=1,p=arguments.length;y<p;y++)for(var g in d=arguments[y])Object.prototype.hasOwnProperty.call(d,g)&&(v[g]=d[g]);return v},i.apply(this,arguments)},o=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0});var a=o(t(934)),u=o(t(2204)),s=o(t(3321)),l=o(t(7021)),c=t(9014),f=t(9305).internal.constants.BOLT_PROTOCOL_V5_3,h=function(v){function d(){return v!==null&&v.apply(this,arguments)||this}return n(d,v),Object.defineProperty(d.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"transformer",{get:function(){var y=this;return this._transformer===void 0&&(this._transformer=new s.default(Object.values(u.default).map(function(p){return p(y._config,y._log)}))),this._transformer},enumerable:!1,configurable:!0}),d.prototype.initialize=function(y){var p=this,g=y===void 0?{}:y,b=g.userAgent,m=g.boltAgent,_=g.authToken,w=g.notificationFilter,O=g.onError,E=g.onComplete,S={},P=new c.LoginObserver({onError:function(I){return p._onLoginError(I,O)},onCompleted:function(I){return S.metadata=I,p._onLoginCompleted(I)}});return this.write(l.default.hello5x3(b,m,w,this._serversideRouting),P,!1),this.logon({authToken:_,onComplete:function(I){return E(i(i({},I),S.metadata))},onError:O,flush:!0})},d}(a.default);e.default=h},9135:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMap=void 0;var n=t(983),i=t(1018);e.concatMap=function(o,a){return i.isFunction(a)?n.mergeMap(o,a,1):n.mergeMap(o,1)}},9137:function(r,e,t){var n=this&&this.__generator||function(u,s){var l,c,f,h,v={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(y){return function(p){return function(g){if(l)throw new TypeError("Generator is already executing.");for(;v;)try{if(l=1,c&&(f=2&g[0]?c.return:g[0]?c.throw||((f=c.return)&&f.call(c),0):c.next)&&!(f=f.call(c,g[1])).done)return f;switch(c=0,f&&(g=[2&g[0],f.value]),g[0]){case 0:case 1:f=g;break;case 4:return v.label++,{value:g[1],done:!1};case 5:v.label++,c=g[1],g=[0];continue;case 7:g=v.ops.pop(),v.trys.pop();continue;default:if(!((f=(f=v.trys).length>0&&f[f.length-1])||g[0]!==6&&g[0]!==2)){v=0;continue}if(g[0]===3&&(!f||g[1]>f[0]&&g[1]<f[3])){v.label=g[1];break}if(g[0]===6&&v.label<f[1]){v.label=f[1],f=g;break}if(f&&v.label<f[2]){v.label=f[2],v.ops.push(g);break}f[2]&&v.ops.pop(),v.trys.pop();continue}g=s.call(u,v)}catch(b){g=[6,b],c=0}finally{l=f=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([y,p])}}},i=this&&this.__await||function(u){return this instanceof i?(this.v=u,this):new i(u)},o=this&&this.__asyncGenerator||function(u,s,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=l.apply(u,s||[]),h=[];return c={},v("next"),v("throw"),v("return"),c[Symbol.asyncIterator]=function(){return this},c;function v(b){f[b]&&(c[b]=function(m){return new Promise(function(_,w){h.push([b,m,_,w])>1||d(b,m)})})}function d(b,m){try{(_=f[b](m)).value instanceof i?Promise.resolve(_.value.v).then(y,p):g(h[0][2],_)}catch(w){g(h[0][3],w)}var _}function y(b){d("next",b)}function p(b){d("throw",b)}function g(b,m){b(m),h.shift(),h.length&&d(h[0][0],h[0][1])}};Object.defineProperty(e,"__esModule",{value:!0}),e.isReadableStreamLike=e.readableStreamLikeToAsyncGenerator=void 0;var a=t(1018);e.readableStreamLikeToAsyncGenerator=function(u){return o(this,arguments,function(){var s,l,c;return n(this,function(f){switch(f.label){case 0:s=u.getReader(),f.label=1;case 1:f.trys.push([1,,9,10]),f.label=2;case 2:return[4,i(s.read())];case 3:return l=f.sent(),c=l.value,l.done?[4,i(void 0)]:[3,5];case 4:return[2,f.sent()];case 5:return[4,i(c)];case 6:return[4,f.sent()];case 7:return f.sent(),[3,2];case 8:return[3,10];case 9:return s.releaseLock(),[7];case 10:return[2]}})})},e.isReadableStreamLike=function(u){return a.isFunction(u?.getReader)}},9139:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.reduce=void 0;var n=t(6384),i=t(7843);e.reduce=function(o,a){return i.operate(n.scanInternals(o,a,arguments.length>=2,!1,!0))}},9155:function(r,e){var t=this&&this.__read||function(i,o){var a=typeof Symbol=="function"&&i[Symbol.iterator];if(!a)return i;var u,s,l=a.call(i),c=[];try{for(;(o===void 0||o-- >0)&&!(u=l.next()).done;)c.push(u.value)}catch(f){s={error:f}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return c},n=this&&this.__spreadArray||function(i,o){for(var a=0,u=o.length,s=i.length;a<u;a++,s++)i[s]=o[a];return i};Object.defineProperty(e,"__esModule",{value:!0}),e.timeoutProvider=void 0,e.timeoutProvider={setTimeout:function(i,o){for(var a=[],u=2;u<arguments.length;u++)a[u-2]=arguments[u];var s=e.timeoutProvider.delegate;return s?.setTimeout?s.setTimeout.apply(s,n([i,o],t(a))):setTimeout.apply(void 0,n([i,o],t(a)))},clearTimeout:function(i){var o=e.timeoutProvider.delegate;return(o?.clearTimeout||clearTimeout)(i)},delegate:void 0}},9223:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.captureError=e.errorContext=void 0;var n=t(3413),i=null;e.errorContext=function(o){if(n.config.useDeprecatedSynchronousErrorHandling){var a=!i;if(a&&(i={errorThrown:!1,error:null}),o(),a){var u=i,s=u.errorThrown,l=u.error;if(i=null,s)throw l}}else o()},e.captureError=function(o){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=o)}},9238:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(4325));e.default=n({},o.default)},9247:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.multicast=void 0;var n=t(8918),i=t(1018),o=t(1483);e.multicast=function(a,u){var s=i.isFunction(a)?a:function(){return a};return i.isFunction(u)?o.connect(u,{connector:s}):function(l){return new n.ConnectableObservable(l,s)}}},9305:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(X,Q,ue,ce){ce===void 0&&(ce=ue);var ae=Object.getOwnPropertyDescriptor(Q,ue);ae&&!("get"in ae?!Q.__esModule:ae.writable||ae.configurable)||(ae={enumerable:!0,get:function(){return Q[ue]}}),Object.defineProperty(X,ce,ae)}:function(X,Q,ue,ce){ce===void 0&&(ce=ue),X[ce]=Q[ue]}),i=this&&this.__setModuleDefault||(Object.create?function(X,Q){Object.defineProperty(X,"default",{enumerable:!0,value:Q})}:function(X,Q){X.default=Q}),o=this&&this.__importStar||function(X){if(X&&X.__esModule)return X;var Q={};if(X!=null)for(var ue in X)ue!=="default"&&Object.prototype.hasOwnProperty.call(X,ue)&&n(Q,X,ue);return i(Q,X),Q},a=this&&this.__importDefault||function(X){return X&&X.__esModule?X:{default:X}};Object.defineProperty(e,"__esModule",{value:!0}),e.EagerResult=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.GqlStatusObject=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.isRetriableError=e.GQLError=e.newGQLError=e.Neo4jError=e.newError=e.authTokenManagers=void 0,e.resolveCertificateProvider=e.clientCertificateProviders=e.notificationFilterMinimumSeverityLevel=e.notificationFilterDisabledClassification=e.notificationFilterDisabledCategory=e.notificationSeverityLevel=e.notificationClassification=e.notificationCategory=e.resultTransformers=e.routing=e.staticAuthTokenManager=e.bookmarkManager=e.auth=e.json=e.driver=e.types=e.Driver=e.Session=e.TransactionPromise=e.ManagedTransaction=e.Transaction=e.Connection=e.Releasable=e.ConnectionProvider=void 0;var u=t(9691);Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}}),Object.defineProperty(e,"newGQLError",{enumerable:!0,get:function(){return u.newGQLError}}),Object.defineProperty(e,"GQLError",{enumerable:!0,get:function(){return u.GQLError}}),Object.defineProperty(e,"isRetriableError",{enumerable:!0,get:function(){return u.isRetriableError}});var s=o(t(3371));e.Integer=s.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return s.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return s.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return s.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return s.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return s.toString}});var l=t(5459);Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return l.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return l.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return l.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return l.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return l.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return l.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return l.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return l.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return l.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return l.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return l.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return l.Time}});var c=t(1517);Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return c.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return c.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return c.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return c.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return c.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return c.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return c.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return c.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return c.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return c.isPathSegment}});var f=a(t(4820));e.Record=f.default;var h=t(7093);Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h.Point}});var v=o(t(6033));e.ResultSummary=v.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return v.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return v.ServerInfo}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return v.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return v.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return v.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return v.Stats}});var d=o(t(1866));e.Notification=d.default,Object.defineProperty(e,"GqlStatusObject",{enumerable:!0,get:function(){return d.GqlStatusObject}}),Object.defineProperty(e,"notificationCategory",{enumerable:!0,get:function(){return d.notificationCategory}}),Object.defineProperty(e,"notificationClassification",{enumerable:!0,get:function(){return d.notificationClassification}}),Object.defineProperty(e,"notificationSeverityLevel",{enumerable:!0,get:function(){return d.notificationSeverityLevel}});var y=t(1985);Object.defineProperty(e,"notificationFilterDisabledCategory",{enumerable:!0,get:function(){return y.notificationFilterDisabledCategory}}),Object.defineProperty(e,"notificationFilterDisabledClassification",{enumerable:!0,get:function(){return y.notificationFilterDisabledClassification}}),Object.defineProperty(e,"notificationFilterMinimumSeverityLevel",{enumerable:!0,get:function(){return y.notificationFilterMinimumSeverityLevel}});var p=a(t(9512));e.Result=p.default;var g=a(t(8917));e.EagerResult=g.default;var b=o(t(2007));e.ConnectionProvider=b.default,Object.defineProperty(e,"Releasable",{enumerable:!0,get:function(){return b.Releasable}});var m=a(t(1409));e.Connection=m.default;var _=a(t(9473));e.Transaction=_.default;var w=a(t(5909));e.ManagedTransaction=w.default;var O=a(t(4569));e.TransactionPromise=O.default;var E=a(t(5481));e.Session=E.default;var S=o(t(7264)),P=S;e.Driver=S.default,e.driver=P;var I=a(t(1967));e.auth=I.default;var R=t(6755);Object.defineProperty(e,"bookmarkManager",{enumerable:!0,get:function(){return R.bookmarkManager}});var D=t(2069);Object.defineProperty(e,"authTokenManagers",{enumerable:!0,get:function(){return D.authTokenManagers}}),Object.defineProperty(e,"staticAuthTokenManager",{enumerable:!0,get:function(){return D.staticAuthTokenManager}});var k=t(7264);Object.defineProperty(e,"routing",{enumerable:!0,get:function(){return k.routing}});var N=o(t(6872));e.types=N;var B=o(t(4027));e.json=B;var z=a(t(1573));e.resultTransformers=z.default;var F=t(8264);Object.defineProperty(e,"clientCertificateProviders",{enumerable:!0,get:function(){return F.clientCertificateProviders}}),Object.defineProperty(e,"resolveCertificateProvider",{enumerable:!0,get:function(){return F.resolveCertificateProvider}});var U=o(t(6995));e.internal=U;var W={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};e.error=W;var Y={authTokenManagers:D.authTokenManagers,newError:u.newError,Neo4jError:u.Neo4jError,newGQLError:u.newGQLError,GQLError:u.GQLError,isRetriableError:u.isRetriableError,error:W,Integer:s.default,int:s.int,isInt:s.isInt,inSafeRange:s.inSafeRange,toNumber:s.toNumber,toString:s.toString,internal:U,isPoint:h.isPoint,Point:h.Point,Date:l.Date,DateTime:l.DateTime,Duration:l.Duration,isDate:l.isDate,isDateTime:l.isDateTime,isDuration:l.isDuration,isLocalDateTime:l.isLocalDateTime,isLocalTime:l.isLocalTime,isTime:l.isTime,LocalDateTime:l.LocalDateTime,LocalTime:l.LocalTime,Time:l.Time,Node:c.Node,isNode:c.isNode,Relationship:c.Relationship,isRelationship:c.isRelationship,UnboundRelationship:c.UnboundRelationship,isUnboundRelationship:c.isUnboundRelationship,Path:c.Path,isPath:c.isPath,PathSegment:c.PathSegment,isPathSegment:c.isPathSegment,Record:f.default,ResultSummary:v.default,queryType:v.queryType,ServerInfo:v.ServerInfo,Notification:d.default,GqlStatusObject:d.GqlStatusObject,Plan:v.Plan,ProfiledPlan:v.ProfiledPlan,QueryStatistics:v.QueryStatistics,Stats:v.Stats,Result:p.default,EagerResult:g.default,Transaction:_.default,ManagedTransaction:w.default,TransactionPromise:O.default,Session:E.default,Driver:S.default,Connection:m.default,Releasable:b.Releasable,types:N,driver:P,json:B,auth:I.default,bookmarkManager:R.bookmarkManager,routing:k.routing,resultTransformers:z.default,notificationCategory:d.notificationCategory,notificationClassification:d.notificationClassification,notificationSeverityLevel:d.notificationSeverityLevel,notificationFilterDisabledCategory:y.notificationFilterDisabledCategory,notificationFilterDisabledClassification:y.notificationFilterDisabledClassification,notificationFilterMinimumSeverityLevel:y.notificationFilterMinimumSeverityLevel,clientCertificateProviders:F.clientCertificateProviders,resolveCertificateProvider:F.resolveCertificateProvider};e.default=Y},9318:(r,e)=>{e.read=function(t,n,i,o,a){var u,s,l=8*a-o-1,c=(1<<l)-1,f=c>>1,h=-7,v=i?a-1:0,d=i?-1:1,y=t[n+v];for(v+=d,u=y&(1<<-h)-1,y>>=-h,h+=l;h>0;u=256*u+t[n+v],v+=d,h-=8);for(s=u&(1<<-h)-1,u>>=-h,h+=o;h>0;s=256*s+t[n+v],v+=d,h-=8);if(u===0)u=1-f;else{if(u===c)return s?NaN:1/0*(y?-1:1);s+=Math.pow(2,o),u-=f}return(y?-1:1)*s*Math.pow(2,u-o)},e.write=function(t,n,i,o,a,u){var s,l,c,f=8*u-a-1,h=(1<<f)-1,v=h>>1,d=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:u-1,p=o?1:-1,g=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(l=isNaN(n)?1:0,s=h):(s=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-s))<1&&(s--,c*=2),(n+=s+v>=1?d/c:d*Math.pow(2,1-v))*c>=2&&(s++,c/=2),s+v>=h?(l=0,s=h):s+v>=1?(l=(n*c-1)*Math.pow(2,a),s+=v):(l=n*Math.pow(2,v-1)*Math.pow(2,a),s=0));a>=8;t[i+y]=255&l,y+=p,l/=256,a-=8);for(s=s<<a|l,f+=a;f>0;t[i+y]=255&s,y+=p,s/=256,f-=8);t[i+y-p]|=128*g}},9353:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.defer=void 0;var n=t(4662),i=t(9445);e.defer=function(o){return new n.Observable(function(a){i.innerFrom(o()).subscribe(a)})}},9356:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isEmpty=void 0;var n=t(7843),i=t(3111);e.isEmpty=function(){return n.operate(function(o,a){o.subscribe(i.createOperatorSubscriber(a,function(){a.next(!1),a.complete()},function(){a.next(!0),a.complete()}))})}},9376:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.range=void 0;var n=t(4662),i=t(8616);e.range=function(o,a,u){if(a==null&&(a=o,o=0),a<=0)return i.EMPTY;var s=a+o;return new n.Observable(u?function(l){var c=o;return u.schedule(function(){c<s?(l.next(c++),this.schedule()):l.complete()})}:function(l){for(var c=o;c<s&&!l.closed;)l.next(c++);l.complete()})}},9419:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0,e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0,e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var n=t(3146);Object.defineProperty(e,"audit",{enumerable:!0,get:function(){return n.audit}});var i=t(3231);Object.defineProperty(e,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var o=t(8015);Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return o.buffer}});var a=t(5572);Object.defineProperty(e,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var u=t(7210);Object.defineProperty(e,"bufferTime",{enumerable:!0,get:function(){return u.bufferTime}});var s=t(8995);Object.defineProperty(e,"bufferToggle",{enumerable:!0,get:function(){return s.bufferToggle}});var l=t(8831);Object.defineProperty(e,"bufferWhen",{enumerable:!0,get:function(){return l.bufferWhen}});var c=t(8118);Object.defineProperty(e,"catchError",{enumerable:!0,get:function(){return c.catchError}});var f=t(6625);Object.defineProperty(e,"combineAll",{enumerable:!0,get:function(){return f.combineAll}});var h=t(6728);Object.defineProperty(e,"combineLatestAll",{enumerable:!0,get:function(){return h.combineLatestAll}});var v=t(2551);Object.defineProperty(e,"combineLatest",{enumerable:!0,get:function(){return v.combineLatest}});var d=t(8239);Object.defineProperty(e,"combineLatestWith",{enumerable:!0,get:function(){return d.combineLatestWith}});var y=t(7601);Object.defineProperty(e,"concat",{enumerable:!0,get:function(){return y.concat}});var p=t(8158);Object.defineProperty(e,"concatAll",{enumerable:!0,get:function(){return p.concatAll}});var g=t(9135);Object.defineProperty(e,"concatMap",{enumerable:!0,get:function(){return g.concatMap}});var b=t(9938);Object.defineProperty(e,"concatMapTo",{enumerable:!0,get:function(){return b.concatMapTo}});var m=t(9669);Object.defineProperty(e,"concatWith",{enumerable:!0,get:function(){return m.concatWith}});var _=t(1483);Object.defineProperty(e,"connect",{enumerable:!0,get:function(){return _.connect}});var w=t(1038);Object.defineProperty(e,"count",{enumerable:!0,get:function(){return w.count}});var O=t(4461);Object.defineProperty(e,"debounce",{enumerable:!0,get:function(){return O.debounce}});var E=t(8079);Object.defineProperty(e,"debounceTime",{enumerable:!0,get:function(){return E.debounceTime}});var S=t(378);Object.defineProperty(e,"defaultIfEmpty",{enumerable:!0,get:function(){return S.defaultIfEmpty}});var P=t(914);Object.defineProperty(e,"delay",{enumerable:!0,get:function(){return P.delay}});var I=t(8766);Object.defineProperty(e,"delayWhen",{enumerable:!0,get:function(){return I.delayWhen}});var R=t(7441);Object.defineProperty(e,"dematerialize",{enumerable:!0,get:function(){return R.dematerialize}});var D=t(5365);Object.defineProperty(e,"distinct",{enumerable:!0,get:function(){return D.distinct}});var k=t(8937);Object.defineProperty(e,"distinctUntilChanged",{enumerable:!0,get:function(){return k.distinctUntilChanged}});var N=t(9612);Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return N.distinctUntilKeyChanged}});var B=t(4520);Object.defineProperty(e,"elementAt",{enumerable:!0,get:function(){return B.elementAt}});var z=t(1776);Object.defineProperty(e,"endWith",{enumerable:!0,get:function(){return z.endWith}});var F=t(5510);Object.defineProperty(e,"every",{enumerable:!0,get:function(){return F.every}});var U=t(1551);Object.defineProperty(e,"exhaust",{enumerable:!0,get:function(){return U.exhaust}});var W=t(2752);Object.defineProperty(e,"exhaustAll",{enumerable:!0,get:function(){return W.exhaustAll}});var Y=t(4753);Object.defineProperty(e,"exhaustMap",{enumerable:!0,get:function(){return Y.exhaustMap}});var X=t(7661);Object.defineProperty(e,"expand",{enumerable:!0,get:function(){return X.expand}});var Q=t(783);Object.defineProperty(e,"filter",{enumerable:!0,get:function(){return Q.filter}});var ue=t(3555);Object.defineProperty(e,"finalize",{enumerable:!0,get:function(){return ue.finalize}});var ce=t(7714);Object.defineProperty(e,"find",{enumerable:!0,get:function(){return ce.find}});var ae=t(9756);Object.defineProperty(e,"findIndex",{enumerable:!0,get:function(){return ae.findIndex}});var pe=t(8275);Object.defineProperty(e,"first",{enumerable:!0,get:function(){return pe.first}});var fe=t(7815);Object.defineProperty(e,"groupBy",{enumerable:!0,get:function(){return fe.groupBy}});var he=t(490);Object.defineProperty(e,"ignoreElements",{enumerable:!0,get:function(){return he.ignoreElements}});var ee=t(9356);Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return ee.isEmpty}});var K=t(8669);Object.defineProperty(e,"last",{enumerable:!0,get:function(){return K.last}});var J=t(5471);Object.defineProperty(e,"map",{enumerable:!0,get:function(){return J.map}});var ie=t(3218);Object.defineProperty(e,"mapTo",{enumerable:!0,get:function(){return ie.mapTo}});var de=t(2360);Object.defineProperty(e,"materialize",{enumerable:!0,get:function(){return de.materialize}});var _e=t(1415);Object.defineProperty(e,"max",{enumerable:!0,get:function(){return _e.max}});var Ce=t(361);Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return Ce.merge}});var Ae=t(7302);Object.defineProperty(e,"mergeAll",{enumerable:!0,get:function(){return Ae.mergeAll}});var xe=t(6902);Object.defineProperty(e,"flatMap",{enumerable:!0,get:function(){return xe.flatMap}});var j=t(983);Object.defineProperty(e,"mergeMap",{enumerable:!0,get:function(){return j.mergeMap}});var G=t(6586);Object.defineProperty(e,"mergeMapTo",{enumerable:!0,get:function(){return G.mergeMapTo}});var H=t(4408);Object.defineProperty(e,"mergeScan",{enumerable:!0,get:function(){return H.mergeScan}});var oe=t(8253);Object.defineProperty(e,"mergeWith",{enumerable:!0,get:function(){return oe.mergeWith}});var ve=t(2669);Object.defineProperty(e,"min",{enumerable:!0,get:function(){return ve.min}});var ye=t(9247);Object.defineProperty(e,"multicast",{enumerable:!0,get:function(){return ye.multicast}});var we=t(5184);Object.defineProperty(e,"observeOn",{enumerable:!0,get:function(){return we.observeOn}});var je=t(1226);Object.defineProperty(e,"onErrorResumeNext",{enumerable:!0,get:function(){return je.onErrorResumeNext}});var ze=t(1518);Object.defineProperty(e,"pairwise",{enumerable:!0,get:function(){return ze.pairwise}});var rt=t(2171);Object.defineProperty(e,"partition",{enumerable:!0,get:function(){return rt.partition}});var Ze=t(4912);Object.defineProperty(e,"pluck",{enumerable:!0,get:function(){return Ze.pluck}});var Je=t(766);Object.defineProperty(e,"publish",{enumerable:!0,get:function(){return Je.publish}});var tt=t(7220);Object.defineProperty(e,"publishBehavior",{enumerable:!0,get:function(){return tt.publishBehavior}});var Xe=t(6106);Object.defineProperty(e,"publishLast",{enumerable:!0,get:function(){return Xe.publishLast}});var ke=t(8157);Object.defineProperty(e,"publishReplay",{enumerable:!0,get:function(){return ke.publishReplay}});var te=t(4440);Object.defineProperty(e,"race",{enumerable:!0,get:function(){return te.race}});var Se=t(5600);Object.defineProperty(e,"raceWith",{enumerable:!0,get:function(){return Se.raceWith}});var De=t(9139);Object.defineProperty(e,"reduce",{enumerable:!0,get:function(){return De.reduce}});var Me=t(8522);Object.defineProperty(e,"repeat",{enumerable:!0,get:function(){return Me.repeat}});var Ne=t(6566);Object.defineProperty(e,"repeatWhen",{enumerable:!0,get:function(){return Ne.repeatWhen}});var nt=t(7835);Object.defineProperty(e,"retry",{enumerable:!0,get:function(){return nt.retry}});var Be=t(9843);Object.defineProperty(e,"retryWhen",{enumerable:!0,get:function(){return Be.retryWhen}});var ot=t(7561);Object.defineProperty(e,"refCount",{enumerable:!0,get:function(){return ot.refCount}});var Qe=t(1731);Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return Qe.sample}});var it=t(6086);Object.defineProperty(e,"sampleTime",{enumerable:!0,get:function(){return it.sampleTime}});var gt=t(8624);Object.defineProperty(e,"scan",{enumerable:!0,get:function(){return gt.scan}});var Pt=t(582);Object.defineProperty(e,"sequenceEqual",{enumerable:!0,get:function(){return Pt.sequenceEqual}});var lt=t(8977);Object.defineProperty(e,"share",{enumerable:!0,get:function(){return lt.share}});var Lt=t(3133);Object.defineProperty(e,"shareReplay",{enumerable:!0,get:function(){return Lt.shareReplay}});var dt=t(5382);Object.defineProperty(e,"single",{enumerable:!0,get:function(){return dt.single}});var Qt=t(3982);Object.defineProperty(e,"skip",{enumerable:!0,get:function(){return Qt.skip}});var Yt=t(9098);Object.defineProperty(e,"skipLast",{enumerable:!0,get:function(){return Yt.skipLast}});var Rt=t(7372);Object.defineProperty(e,"skipUntil",{enumerable:!0,get:function(){return Rt.skipUntil}});var wt=t(4721);Object.defineProperty(e,"skipWhile",{enumerable:!0,get:function(){return wt.skipWhile}});var dr=t(269);Object.defineProperty(e,"startWith",{enumerable:!0,get:function(){return dr.startWith}});var ir=t(8960);Object.defineProperty(e,"subscribeOn",{enumerable:!0,get:function(){return ir.subscribeOn}});var vr=t(8774);Object.defineProperty(e,"switchAll",{enumerable:!0,get:function(){return vr.switchAll}});var wr=t(3879);Object.defineProperty(e,"switchMap",{enumerable:!0,get:function(){return wr.switchMap}});var Er=t(3274);Object.defineProperty(e,"switchMapTo",{enumerable:!0,get:function(){return Er.switchMapTo}});var Pr=t(8712);Object.defineProperty(e,"switchScan",{enumerable:!0,get:function(){return Pr.switchScan}});var Vr=t(846);Object.defineProperty(e,"take",{enumerable:!0,get:function(){return Vr.take}});var cn=t(8330);Object.defineProperty(e,"takeLast",{enumerable:!0,get:function(){return cn.takeLast}});var Dn=t(4780);Object.defineProperty(e,"takeUntil",{enumerable:!0,get:function(){return Dn.takeUntil}});var On=t(2129);Object.defineProperty(e,"takeWhile",{enumerable:!0,get:function(){return On.takeWhile}});var xr=t(3964);Object.defineProperty(e,"tap",{enumerable:!0,get:function(){return xr.tap}});var mr=t(8941);Object.defineProperty(e,"throttle",{enumerable:!0,get:function(){return mr.throttle}});var Wr=t(7640);Object.defineProperty(e,"throttleTime",{enumerable:!0,get:function(){return Wr.throttleTime}});var fn=t(4869);Object.defineProperty(e,"throwIfEmpty",{enumerable:!0,get:function(){return fn.throwIfEmpty}});var Jt=t(489);Object.defineProperty(e,"timeInterval",{enumerable:!0,get:function(){return Jt.timeInterval}});var Mn=t(1554);Object.defineProperty(e,"timeout",{enumerable:!0,get:function(){return Mn.timeout}});var Sn=t(4862);Object.defineProperty(e,"timeoutWith",{enumerable:!0,get:function(){return Sn.timeoutWith}});var ut=t(6505);Object.defineProperty(e,"timestamp",{enumerable:!0,get:function(){return ut.timestamp}});var jt=t(2343);Object.defineProperty(e,"toArray",{enumerable:!0,get:function(){return jt.toArray}});var kn=t(5477);Object.defineProperty(e,"window",{enumerable:!0,get:function(){return kn.window}});var co=t(6746);Object.defineProperty(e,"windowCount",{enumerable:!0,get:function(){return co.windowCount}});var fo=t(8208);Object.defineProperty(e,"windowTime",{enumerable:!0,get:function(){return fo.windowTime}});var Vn=t(6637);Object.defineProperty(e,"windowToggle",{enumerable:!0,get:function(){return Vn.windowToggle}});var oi=t(1141);Object.defineProperty(e,"windowWhen",{enumerable:!0,get:function(){return oi.windowWhen}});var pr=t(5442);Object.defineProperty(e,"withLatestFrom",{enumerable:!0,get:function(){return pr.withLatestFrom}});var Xt=t(5918);Object.defineProperty(e,"zip",{enumerable:!0,get:function(){return Xt.zip}});var Mi=t(187);Object.defineProperty(e,"zipAll",{enumerable:!0,get:function(){return Mi.zipAll}});var es=t(8538);Object.defineProperty(e,"zipWith",{enumerable:!0,get:function(){return es.zipWith}})},9445:function(r,e,t){var n=this&&this.__awaiter||function(S,P,I,R){return new(I||(I=Promise))(function(D,k){function N(F){try{z(R.next(F))}catch(U){k(U)}}function B(F){try{z(R.throw(F))}catch(U){k(U)}}function z(F){var U;F.done?D(F.value):(U=F.value,U instanceof I?U:new I(function(W){W(U)})).then(N,B)}z((R=R.apply(S,P||[])).next())})},i=this&&this.__generator||function(S,P){var I,R,D,k,N={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return k={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(k[Symbol.iterator]=function(){return this}),k;function B(z){return function(F){return function(U){if(I)throw new TypeError("Generator is already executing.");for(;N;)try{if(I=1,R&&(D=2&U[0]?R.return:U[0]?R.throw||((D=R.return)&&D.call(R),0):R.next)&&!(D=D.call(R,U[1])).done)return D;switch(R=0,D&&(U=[2&U[0],D.value]),U[0]){case 0:case 1:D=U;break;case 4:return N.label++,{value:U[1],done:!1};case 5:N.label++,R=U[1],U=[0];continue;case 7:U=N.ops.pop(),N.trys.pop();continue;default:if(!((D=(D=N.trys).length>0&&D[D.length-1])||U[0]!==6&&U[0]!==2)){N=0;continue}if(U[0]===3&&(!D||U[1]>D[0]&&U[1]<D[3])){N.label=U[1];break}if(U[0]===6&&N.label<D[1]){N.label=D[1],D=U;break}if(D&&N.label<D[2]){N.label=D[2],N.ops.push(U);break}D[2]&&N.ops.pop(),N.trys.pop();continue}U=P.call(S,N)}catch(W){U=[6,W],R=0}finally{I=D=0}if(5&U[0])throw U[1];return{value:U[0]?U[1]:void 0,done:!0}}([z,F])}}},o=this&&this.__asyncValues||function(S){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P,I=S[Symbol.asyncIterator];return I?I.call(S):(S=typeof a=="function"?a(S):S[Symbol.iterator](),P={},R("next"),R("throw"),R("return"),P[Symbol.asyncIterator]=function(){return this},P);function R(D){P[D]=S[D]&&function(k){return new Promise(function(N,B){(function(z,F,U,W){Promise.resolve(W).then(function(Y){z({value:Y,done:U})},F)})(N,B,(k=S[D](k)).done,k.value)})}}},a=this&&this.__values||function(S){var P=typeof Symbol=="function"&&Symbol.iterator,I=P&&S[P],R=0;if(I)return I.call(S);if(S&&typeof S.length=="number")return{next:function(){return S&&R>=S.length&&(S=void 0),{value:S&&S[R++],done:!S}}};throw new TypeError(P?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.fromReadableStreamLike=e.fromAsyncIterable=e.fromIterable=e.fromPromise=e.fromArrayLike=e.fromInteropObservable=e.innerFrom=void 0;var u=t(8046),s=t(7629),l=t(4662),c=t(1116),f=t(1358),h=t(7614),v=t(6368),d=t(9137),y=t(1018),p=t(7315),g=t(3327);function b(S){return new l.Observable(function(P){var I=S[g.observable]();if(y.isFunction(I.subscribe))return I.subscribe(P);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function m(S){return new l.Observable(function(P){for(var I=0;I<S.length&&!P.closed;I++)P.next(S[I]);P.complete()})}function _(S){return new l.Observable(function(P){S.then(function(I){P.closed||(P.next(I),P.complete())},function(I){return P.error(I)}).then(null,p.reportUnhandledError)})}function w(S){return new l.Observable(function(P){var I,R;try{for(var D=a(S),k=D.next();!k.done;k=D.next()){var N=k.value;if(P.next(N),P.closed)return}}catch(B){I={error:B}}finally{try{k&&!k.done&&(R=D.return)&&R.call(D)}finally{if(I)throw I.error}}P.complete()})}function O(S){return new l.Observable(function(P){(function(I,R){var D,k,N,B;return n(this,void 0,void 0,function(){var z,F;return i(this,function(U){switch(U.label){case 0:U.trys.push([0,5,6,11]),D=o(I),U.label=1;case 1:return[4,D.next()];case 2:if((k=U.sent()).done)return[3,4];if(z=k.value,R.next(z),R.closed)return[2];U.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return F=U.sent(),N={error:F},[3,11];case 6:return U.trys.push([6,,9,10]),k&&!k.done&&(B=D.return)?[4,B.call(D)]:[3,8];case 7:U.sent(),U.label=8;case 8:return[3,10];case 9:if(N)throw N.error;return[7];case 10:return[7];case 11:return R.complete(),[2]}})})})(S,P).catch(function(I){return P.error(I)})})}function E(S){return O(d.readableStreamLikeToAsyncGenerator(S))}e.innerFrom=function(S){if(S instanceof l.Observable)return S;if(S!=null){if(c.isInteropObservable(S))return b(S);if(u.isArrayLike(S))return m(S);if(s.isPromise(S))return _(S);if(f.isAsyncIterable(S))return O(S);if(v.isIterable(S))return w(S);if(d.isReadableStreamLike(S))return E(S)}throw h.createInvalidObservableTypeError(S)},e.fromInteropObservable=b,e.fromArrayLike=m,e.fromPromise=_,e.fromIterable=w,e.fromAsyncIterable=O,e.fromReadableStreamLike=E},9470:function(r,e,t){var n=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfiguredCustomResolver=e.BaseHostNameResolver=void 0;var i=n(t(3389));e.BaseHostNameResolver=i.default;var o=n(t(8341));e.ConfiguredCustomResolver=o.default},9473:function(r,e,t){var n=this&&this.__awaiter||function(g,b,m,_){return new(m||(m=Promise))(function(w,O){function E(I){try{P(_.next(I))}catch(R){O(R)}}function S(I){try{P(_.throw(I))}catch(R){O(R)}}function P(I){var R;I.done?w(I.value):(R=I.value,R instanceof m?R:new m(function(D){D(R)})).then(E,S)}P((_=_.apply(g,b||[])).next())})},i=this&&this.__generator||function(g,b){var m,_,w,O,E={label:0,sent:function(){if(1&w[0])throw w[1];return w[1]},trys:[],ops:[]};return O={next:S(0),throw:S(1),return:S(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function S(P){return function(I){return function(R){if(m)throw new TypeError("Generator is already executing.");for(;O&&(O=0,R[0]&&(E=0)),E;)try{if(m=1,_&&(w=2&R[0]?_.return:R[0]?_.throw||((w=_.return)&&w.call(_),0):_.next)&&!(w=w.call(_,R[1])).done)return w;switch(_=0,w&&(R=[2&R[0],w.value]),R[0]){case 0:case 1:w=R;break;case 4:return E.label++,{value:R[1],done:!1};case 5:E.label++,_=R[1],R=[0];continue;case 7:R=E.ops.pop(),E.trys.pop();continue;default:if(!((w=(w=E.trys).length>0&&w[w.length-1])||R[0]!==6&&R[0]!==2)){E=0;continue}if(R[0]===3&&(!w||R[1]>w[0]&&R[1]<w[3])){E.label=R[1];break}if(R[0]===6&&E.label<w[1]){E.label=w[1],w=R;break}if(w&&E.label<w[2]){E.label=w[2],E.ops.push(R);break}w[2]&&E.ops.pop(),E.trys.pop();continue}R=b.call(g,E)}catch(D){R=[6,D],_=0}finally{m=w=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([P,I])}}},o=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(e,"__esModule",{value:!0});var a=t(6587),u=t(3618),s=t(9730),l=t(754),c=t(2696),f=t(9691),h=o(t(9512)),v=function(){function g(b){var m=b.connectionHolder,_=b.onClose,w=b.onBookmarks,O=b.onConnection,E=b.reactive,S=b.fetchSize,P=b.impersonatedUser,I=b.highRecordWatermark,R=b.lowRecordWatermark,D=b.notificationFilter,k=b.apiTelemetryConfig,N=this;this._connectionHolder=m,this._reactive=E,this._state=d.ACTIVE,this._onClose=_,this._onBookmarks=w,this._onConnection=O,this._onError=this._onErrorCallback.bind(this),this._fetchSize=S,this._onComplete=this._onCompleteCallback.bind(this),this._results=[],this._impersonatedUser=P,this._lowRecordWatermak=R,this._highRecordWatermark=I,this._bookmarks=s.Bookmarks.empty(),this._notificationFilter=D,this._apiTelemetryConfig=k,this._acceptActive=function(){},this._activePromise=new Promise(function(B,z){N._acceptActive=B})}return g.prototype._begin=function(b,m,_){var w=this;this._connectionHolder.getConnection().then(function(O){return n(w,void 0,void 0,function(){var E,S=this;return i(this,function(P){switch(P.label){case 0:return this._onConnection(),O==null?[3,2]:(E=this,[4,b()]);case 1:return E._bookmarks=P.sent(),[2,O.beginTransaction({bookmarks:this._bookmarks,txConfig:m,mode:this._connectionHolder.mode(),database:this._connectionHolder.database(),impersonatedUser:this._impersonatedUser,notificationFilter:this._notificationFilter,apiTelemetryConfig:this._apiTelemetryConfig,beforeError:function(I){_?.onError(I),S._onError(I).catch(function(){})},afterComplete:function(I){_?.onComplete(I),I.db!==void 0&&_?.onDB!=null&&_.onDB(I.db),S._onComplete(I)}})];case 2:throw(0,f.newError)("No connection available")}})})}).catch(function(O){_?.onError(O),w._onError(O).catch(function(){})}).finally(function(){return w._acceptActive()})},g.prototype.run=function(b,m){var _=(0,a.validateQueryAndParameters)(b,m),w=_.validatedQuery,O=_.params,E=this._state.run(w,O,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize,highRecordWatermark:this._highRecordWatermark,lowRecordWatermark:this._lowRecordWatermak,preparationJob:this._activePromise});return this._results.push(E),E},g.prototype.commit=function(){var b=this,m=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:function(_){return b._onCompleteCallback(_,b._bookmarks)},onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=m.state,this._onClose(),new Promise(function(_,w){m.result.subscribe({onCompleted:function(){return _()},onError:function(O){return w(O)}})})},g.prototype.rollback=function(){var b=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results,preparationJob:this._activePromise});return this._state=b.state,this._onClose(),new Promise(function(m,_){b.result.subscribe({onCompleted:function(){return m()},onError:function(w){return _(w)}})})},g.prototype.isOpen=function(){return this._state===d.ACTIVE},g.prototype.close=function(){return n(this,void 0,void 0,function(){return i(this,function(b){switch(b.label){case 0:return this.isOpen()?[4,this.rollback()]:[3,2];case 1:b.sent(),b.label=2;case 2:return[2]}})})},g.prototype[Symbol.asyncDispose]=function(){return this.close()},g.prototype._onErrorCallback=function(b){return this._state===d.FAILED?Promise.resolve(null):(this._state=d.FAILED,this._onClose(),this._results.forEach(function(m){m.isOpen()&&m._streamObserverPromise.then(function(_){return _.onError(b)}).catch(function(_){})}),this._connectionHolder.releaseConnection())},g.prototype._onCompleteCallback=function(b,m){this._onBookmarks(new s.Bookmarks(b?.bookmark),m??s.Bookmarks.empty(),b?.db)},g}(),d={ACTIVE:{commit:function(g){return{result:y(!0,g.connectionHolder,g.onError,g.onComplete,g.onConnection,g.pendingResults,g.preparationJob),state:d.SUCCEEDED}},rollback:function(g){return{result:y(!1,g.connectionHolder,g.onError,g.onComplete,g.onConnection,g.pendingResults,g.preparationJob),state:d.ROLLED_BACK}},run:function(g,b,m){var _=m.connectionHolder,w=m.onError,O=m.onComplete,E=m.onConnection,S=m.reactive,P=m.fetchSize,I=m.highRecordWatermark,R=m.lowRecordWatermark,D=m.preparationJob,k=D??Promise.resolve();return p(_.getConnection().then(function(N){return k.then(function(){return N})}).then(function(N){if(E(),N!=null)return N.run(g,b,{bookmarks:s.Bookmarks.empty(),txConfig:l.TxConfig.empty(),beforeError:w,afterComplete:O,reactive:S,fetchSize:P,highRecordWatermark:I,lowRecordWatermark:R});throw(0,f.newError)("No connection available")}).catch(function(N){return new c.FailedObserver({error:N,onError:w})}),g,b,_,I,R)}},FAILED:{commit:function(g){var b=g.connectionHolder,m=g.onError;return g.onComplete,{result:p(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:m}),"COMMIT",{},b,0,0),state:d.FAILED}},rollback:function(g){var b=g.connectionHolder;return g.onError,g.onComplete,{result:p(new c.CompletedObserver,"ROLLBACK",{},b,0,0),state:d.FAILED}},run:function(g,b,m){var _=m.connectionHolder,w=m.onError;return m.onComplete,p(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:w}),g,b,_,0,0)}},SUCCEEDED:{commit:function(g){var b=g.connectionHolder,m=g.onError;return g.onComplete,{result:p(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:m}),"COMMIT",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:d.SUCCEEDED,connectionHolder:b}},rollback:function(g){var b=g.connectionHolder,m=g.onError;return g.onComplete,{result:p(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:m}),"ROLLBACK",{},u.EMPTY_CONNECTION_HOLDER,0,0),state:d.SUCCEEDED,connectionHolder:b}},run:function(g,b,m){var _=m.connectionHolder,w=m.onError;return m.onComplete,p(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:w}),g,b,_,0,0)}},ROLLED_BACK:{commit:function(g){var b=g.connectionHolder,m=g.onError;return g.onComplete,{result:p(new c.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:m}),"COMMIT",{},b,0,0),state:d.ROLLED_BACK}},rollback:function(g){var b=g.connectionHolder;return g.onError,g.onComplete,{result:p(new c.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},b,0,0),state:d.ROLLED_BACK}},run:function(g,b,m){var _=m.connectionHolder,w=m.onError;return m.onComplete,p(new c.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:w}),g,b,_,0,0)}}};function y(g,b,m,_,w,O,E){var S=E??Promise.resolve(),P=b.getConnection().then(function(I){return S.then(function(){return I})}).then(function(I){return w(),O.forEach(function(R){return R._cancel()}),Promise.all(O.map(function(R){return R.summary()})).then(function(R){if(I!=null)return g?I.commitTransaction({beforeError:m,afterComplete:_}):I.rollbackTransaction({beforeError:m,afterComplete:_});throw(0,f.newError)("No connection available")})}).catch(function(I){return new c.FailedObserver({error:I,onError:m})});return new h.default(P,g?"COMMIT":"ROLLBACK",{},b,{high:Number.MAX_VALUE,low:Number.MAX_VALUE})}function p(g,b,m,_,w,O){return _===void 0&&(_=u.EMPTY_CONNECTION_HOLDER),new h.default(Promise.resolve(g),b,m,new u.ReadOnlyConnectionHolder(_??u.EMPTY_CONNECTION_HOLDER),{low:O,high:w})}e.default=v},9507:function(r,e,t){var n=this&&this.__read||function(a,u){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l,c,f=s.call(a),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(a,u){for(var s=0,l=u.length,c=a.length;s<l;s++,c++)a[c]=u[s];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.animationFrameProvider=void 0;var o=t(8014);e.animationFrameProvider={schedule:function(a){var u=requestAnimationFrame,s=cancelAnimationFrame,l=e.animationFrameProvider.delegate;l&&(u=l.requestAnimationFrame,s=l.cancelAnimationFrame);var c=u(function(f){s=void 0,a(f)});return new o.Subscription(function(){return s?.(c)})},requestAnimationFrame:function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var s=e.animationFrameProvider.delegate;return(s?.requestAnimationFrame||requestAnimationFrame).apply(void 0,i([],n(a)))},cancelAnimationFrame:function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var s=e.animationFrameProvider.delegate;return(s?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,i([],n(a)))},delegate:void 0}},9512:function(r,e,t){var n,i=this&&this.__awaiter||function(y,p,g,b){return new(g||(g=Promise))(function(m,_){function w(S){try{E(b.next(S))}catch(P){_(P)}}function O(S){try{E(b.throw(S))}catch(P){_(P)}}function E(S){var P;S.done?m(S.value):(P=S.value,P instanceof g?P:new g(function(I){I(P)})).then(w,O)}E((b=b.apply(y,p||[])).next())})},o=this&&this.__generator||function(y,p){var g,b,m,_,w={label:0,sent:function(){if(1&m[0])throw m[1];return m[1]},trys:[],ops:[]};return _={next:O(0),throw:O(1),return:O(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function O(E){return function(S){return function(P){if(g)throw new TypeError("Generator is already executing.");for(;_&&(_=0,P[0]&&(w=0)),w;)try{if(g=1,b&&(m=2&P[0]?b.return:P[0]?b.throw||((m=b.return)&&m.call(b),0):b.next)&&!(m=m.call(b,P[1])).done)return m;switch(b=0,m&&(P=[2&P[0],m.value]),P[0]){case 0:case 1:m=P;break;case 4:return w.label++,{value:P[1],done:!1};case 5:w.label++,b=P[1],P=[0];continue;case 7:P=w.ops.pop(),w.trys.pop();continue;default:if(!((m=(m=w.trys).length>0&&m[m.length-1])||P[0]!==6&&P[0]!==2)){w=0;continue}if(P[0]===3&&(!m||P[1]>m[0]&&P[1]<m[3])){w.label=P[1];break}if(P[0]===6&&w.label<m[1]){w.label=m[1],m=P;break}if(m&&w.label<m[2]){w.label=m[2],w.ops.push(P);break}m[2]&&w.ops.pop(),w.trys.pop();continue}P=p.call(y,w)}catch(I){P=[6,I],b=0}finally{g=m=0}if(5&P[0])throw P[1];return{value:P[0]?P[1]:void 0,done:!0}}([E,S])}}},a=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(e,"__esModule",{value:!0});var u=a(t(6033)),s=t(6995),l=t(9691),c=s.connectionHolder.EMPTY_CONNECTION_HOLDER,f=function(y){console.log("Uncaught error when processing result: "+y)},h=function(y){},v=function(y){},d=function(){function y(p,g,b,m,_){var w;_===void 0&&(_={high:Number.MAX_VALUE,low:Number.MAX_VALUE}),this[n]="Result",this._stack=(w=new Error("")).stack!=null?w.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=p,this._p=null,this._query=g,this._parameters=b??{},this._connectionHolder=m??c,this._keys=null,this._summary=null,this._error=null,this._watermarks=_}return y.prototype.keys=function(){var p=this;return this._keys!==null?Promise.resolve(this._keys):this._error!==null?Promise.reject(this._error):new Promise(function(g,b){p._streamObserverPromise.then(function(m){return m.subscribe(p._decorateObserver({onKeys:function(_){return g(_)},onError:function(_){return b(_)}}))}).catch(b)})},y.prototype.summary=function(){var p=this;return this._summary!==null?Promise.resolve(this._summary):this._error!==null?Promise.reject(this._error):new Promise(function(g,b){p._streamObserverPromise.then(function(m){m.cancel(),m.subscribe(p._decorateObserver({onCompleted:function(_){return g(_)},onError:function(_){return b(_)}}))}).catch(b)})},y.prototype._getOrCreatePromise=function(){var p=this;return this._p==null&&(this._p=new Promise(function(g,b){var m=[],_={onNext:function(w){m.push(w)},onCompleted:function(w){g({records:m,summary:w})},onError:function(w){b(w)}};p.subscribe(_)})),this._p},y.prototype[Symbol.asyncIterator]=function(){var p=this;if(!this.isOpen()){var g=(0,l.newError)("Result is already consumed");return{next:function(){return Promise.reject(g)},peek:function(){return Promise.reject(g)}}}var b={paused:!0,firstRun:!0,finished:!1},m=function(){var O,E;if(b.streaming!=null){var S=(E=(O=b.queuedObserver)===null||O===void 0?void 0:O.size)!==null&&E!==void 0?E:0,P=S>=p._watermarks.high,I=S<=p._watermarks.low;P&&!b.paused?(b.paused=!0,b.streaming.pause()):(I&&b.paused||b.firstRun&&!P)&&(b.firstRun=!1,b.paused=!1,b.streaming.resume())}},_=function(){return i(p,void 0,void 0,function(){var O;return o(this,function(E){switch(E.label){case 0:return b.queuedObserver!==void 0?[3,2]:(b.queuedObserver=this._createQueuedResultObserver(m),O=b,[4,this._subscribe(b.queuedObserver,!0).catch(function(){})]);case 1:O.streaming=E.sent(),m(),E.label=2;case 2:return[2,b.queuedObserver]}})})},w=function(O){if(O===void 0)throw(0,l.newError)("InvalidState: Result stream finished without Summary",l.PROTOCOL_ERROR);return!0};return{next:function(){return i(p,void 0,void 0,function(){var O;return o(this,function(E){switch(E.label){case 0:return b.finished&&w(b.summary)?[2,{done:!0,value:b.summary}]:[4,_()];case 1:return[4,E.sent().dequeue()];case 2:return(O=E.sent()).done===!0&&(b.finished=O.done,b.summary=O.value),[2,O]}})})},return:function(O){return i(p,void 0,void 0,function(){var E,S;return o(this,function(P){switch(P.label){case 0:return b.finished&&w(b.summary)?[2,{done:!0,value:O??b.summary}]:((S=b.streaming)===null||S===void 0||S.cancel(),[4,_()]);case 1:return[4,P.sent().dequeueUntilDone()];case 2:return E=P.sent(),b.finished=!0,E.value=O??E.value,b.summary=E.value,[2,E]}})})},peek:function(){return i(p,void 0,void 0,function(){return o(this,function(O){switch(O.label){case 0:return b.finished&&w(b.summary)?[2,{done:!0,value:b.summary}]:[4,_()];case 1:return[4,O.sent().head()];case 2:return[2,O.sent()]}})})}}},y.prototype.then=function(p,g){return this._getOrCreatePromise().then(p,g)},y.prototype.catch=function(p){return this._getOrCreatePromise().catch(p)},y.prototype.finally=function(p){return this._getOrCreatePromise().finally(p)},y.prototype.subscribe=function(p){this._subscribe(p).catch(function(){})},y.prototype.isOpen=function(){return this._summary===null&&this._error===null},y.prototype._subscribe=function(p,g){g===void 0&&(g=!1);var b=this._decorateObserver(p);return this._streamObserverPromise.then(function(m){return g&&m.pause(),m.subscribe(b),m}).catch(function(m){return b.onError!=null&&b.onError(m),Promise.reject(m)})},y.prototype._decorateObserver=function(p){var g,b,m,_=this,w=(g=p.onCompleted)!==null&&g!==void 0?g:h,O=(b=p.onError)!==null&&b!==void 0?b:f,E=(m=p.onKeys)!==null&&m!==void 0?m:v;return{onNext:p.onNext!=null?p.onNext.bind(p):void 0,onKeys:function(S){return _._keys=S,E.call(p,S)},onCompleted:function(S){_._releaseConnectionAndGetSummary(S).then(function(P){return _._summary!==null?w.call(p,_._summary):(_._summary=P,w.call(p,P))}).catch(O)},onError:function(S){_._connectionHolder.releaseConnection().then(function(){(function(P,I){I!=null&&(P.stack=P.toString()+`
`+I)})(S,_._stack),_._error=S,O.call(p,S)}).catch(O)}}},y.prototype._cancel=function(){this._summary===null&&this._error===null&&this._streamObserverPromise.then(function(p){return p.cancel()}).catch(function(){})},y.prototype._releaseConnectionAndGetSummary=function(p){var g=s.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),b=g.validatedQuery,m=g.params,_=this._connectionHolder;return _.getConnection().then(function(w){return _.releaseConnection().then(function(){return w?.getProtocolVersion()})},function(w){}).then(function(w){return new u.default(b,m,p,w)})},y.prototype._createQueuedResultObserver=function(p){var g=this;function b(){var S={};return S.promise=new Promise(function(P,I){S.resolve=P,S.reject=I}),S}function m(S){return S instanceof Error}function _(){var S;return i(this,void 0,void 0,function(){var P;return o(this,function(I){switch(I.label){case 0:if(w.length>0){if(P=(S=w.shift())!==null&&S!==void 0?S:(0,l.newError)("Unexpected empty buffer",l.PROTOCOL_ERROR),p(),m(P))throw P;return[2,P]}return O.resolvable=b(),[4,O.resolvable.promise];case 1:return[2,I.sent()]}})})}var w=[],O={resolvable:null},E={onNext:function(S){E._push({done:!1,value:S})},onCompleted:function(S){E._push({done:!0,value:S})},onError:function(S){E._push(S)},_push:function(S){if(O.resolvable!==null){var P=O.resolvable;O.resolvable=null,m(S)?P.reject(S):P.resolve(S)}else w.push(S),p()},dequeue:_,dequeueUntilDone:function(){return i(g,void 0,void 0,function(){var S;return o(this,function(P){switch(P.label){case 0:return[4,_()];case 1:return(S=P.sent()).done===!0?[2,S]:[3,0];case 2:return[2]}})})},head:function(){return i(g,void 0,void 0,function(){var S,P;return o(this,function(I){switch(I.label){case 0:if(w.length>0){if(m(S=w[0]))throw S;return[2,S]}O.resolvable=b(),I.label=1;case 1:return I.trys.push([1,3,4,5]),[4,O.resolvable.promise];case 2:return S=I.sent(),w.unshift(S),[2,S];case 3:throw P=I.sent(),w.unshift(P),P;case 4:return p(),[7];case 5:return[2]}})})},get size(){return w.length}};return E},y}();n=Symbol.toStringTag,e.default=d},9567:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.scheduleObservable=void 0;var n=t(9445),i=t(5184),o=t(8960);e.scheduleObservable=function(a,u){return n.innerFrom(a).pipe(o.subscribeOn(u),i.observeOn(u))}},9568:(r,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dateTimestampProvider=void 0,e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},9589:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.schedulePromise=void 0;var n=t(9445),i=t(5184),o=t(8960);e.schedulePromise=function(a,u){return n.innerFrom(a).pipe(o.subscribeOn(u),i.observeOn(u))}},9612:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.distinctUntilKeyChanged=void 0;var n=t(8937);e.distinctUntilKeyChanged=function(i,o){return n.distinctUntilChanged(function(a,u){return o?o(a[i],u[i]):a[i]===u[i]})}},9669:function(r,e,t){var n=this&&this.__read||function(a,u){var s=typeof Symbol=="function"&&a[Symbol.iterator];if(!s)return a;var l,c,f=s.call(a),h=[];try{for(;(u===void 0||u-- >0)&&!(l=f.next()).done;)h.push(l.value)}catch(v){c={error:v}}finally{try{l&&!l.done&&(s=f.return)&&s.call(f)}finally{if(c)throw c.error}}return h},i=this&&this.__spreadArray||function(a,u){for(var s=0,l=u.length,c=a.length;s<l;s++,c++)a[c]=u[s];return a};Object.defineProperty(e,"__esModule",{value:!0}),e.concatWith=void 0;var o=t(7601);e.concatWith=function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o.concat.apply(void 0,i([],n(a)))}},9686:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectUnsubscribedError=void 0;var n=t(5568);e.ObjectUnsubscribedError=n.createErrorClass(function(i){return function(){i(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},9689:function(r,e,t){var n=this&&this.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var i=t(4132);Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return n(i).default}});var o=t(8987);Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return n(o).default}});var a=t(3545);Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return n(a).default}});var u=t(7428);Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return n(u).default}})},9691:function(r,e,t){var n=this&&this.__extends||function(){var p=function(g,b){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,_){m.__proto__=_}||function(m,_){for(var w in _)Object.prototype.hasOwnProperty.call(_,w)&&(m[w]=_[w])},p(g,b)};return function(g,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function m(){this.constructor=g}p(g,b),g.prototype=b===null?Object.create(b):(m.prototype=b.prototype,new m)}}(),i=this&&this.__createBinding||(Object.create?function(p,g,b,m){m===void 0&&(m=b);var _=Object.getOwnPropertyDescriptor(g,b);_&&!("get"in _?!g.__esModule:_.writable||_.configurable)||(_={enumerable:!0,get:function(){return g[b]}}),Object.defineProperty(p,m,_)}:function(p,g,b,m){m===void 0&&(m=b),p[m]=g[b]}),o=this&&this.__setModuleDefault||(Object.create?function(p,g){Object.defineProperty(p,"default",{enumerable:!0,value:g})}:function(p,g){p.default=g}),a=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var b in p)b!=="default"&&Object.prototype.hasOwnProperty.call(p,b)&&i(g,p,b);return o(g,p),g};Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.GQLError=e.Neo4jError=e.isRetriableError=e.newGQLError=e.newError=void 0;var u=a(t(4027)),s=t(1053),l={DATABASE_ERROR:"DATABASE_ERROR",CLIENT_ERROR:"CLIENT_ERROR",TRANSIENT_ERROR:"TRANSIENT_ERROR",UNKNOWN:"UNKNOWN"};Object.freeze(l);var c=Object.values(l),f="ServiceUnavailable";e.SERVICE_UNAVAILABLE=f;var h="SessionExpired";e.SESSION_EXPIRED=h,e.PROTOCOL_ERROR="ProtocolError";var v=function(p){function g(b,m,_,w,O){var E,S=this;return(S=p.call(this,b,O!=null?{cause:O}:void 0)||this).constructor=g,S.__proto__=g.prototype,S.cause=O??void 0,S.gqlStatus=m,S.gqlStatusDescription=_,S.diagnosticRecord=w,S.classification=function(P){return P===void 0||P._classification===void 0?"UNKNOWN":c.includes(P._classification)?P?._classification:"UNKNOWN"}(S.diagnosticRecord),S.rawClassification=(E=w?._classification)!==null&&E!==void 0?E:void 0,S.name="GQLError",S}return n(g,p),Object.defineProperty(g.prototype,"diagnosticRecordAsJsonString",{get:function(){return u.stringify(this.diagnosticRecord,{useCustomToString:!0})},enumerable:!1,configurable:!0}),g}(Error);e.GQLError=v;var d=function(p){function g(b,m,_,w,O,E){var S=p.call(this,b,_,w,O,E)||this;return S.constructor=g,S.__proto__=g.prototype,S.code=m,S.name="Neo4jError",S.retriable=function(P){return P===f||P===h||function(I){return I==="Neo.ClientError.Security.AuthorizationExpired"}(P)||function(I){return I?.includes("TransientError")===!0}(P)}(m),S}return n(g,p),g.isRetriable=function(b){return b!=null&&b instanceof g&&b.retriable},g}(v);e.Neo4jError=d,e.newError=function(p,g,b,m,_,w){return new d(p,g??"N/A",m??"50N42",_??"error: general processing exception - unexpected error. "+p,w??s.rawPolyfilledDiagnosticRecord,b)},e.newGQLError=function(p,g,b,m,_){return new v(p,b??"50N42",m??"error: general processing exception - unexpected error. "+p,_??s.rawPolyfilledDiagnosticRecord,g)};var y=d.isRetriable;e.isRetriableError=y},9730:function(r,e,t){var n=this&&this.__createBinding||(Object.create?function(h,v,d,y){y===void 0&&(y=d);var p=Object.getOwnPropertyDescriptor(v,d);p&&!("get"in p?!v.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return v[d]}}),Object.defineProperty(h,y,p)}:function(h,v,d,y){y===void 0&&(y=d),h[y]=v[d]}),i=this&&this.__setModuleDefault||(Object.create?function(h,v){Object.defineProperty(h,"default",{enumerable:!0,value:v})}:function(h,v){h.default=v}),o=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var v={};if(h!=null)for(var d in h)d!=="default"&&Object.prototype.hasOwnProperty.call(h,d)&&n(v,h,d);return i(v,h),v},a=this&&this.__read||function(h,v){var d=typeof Symbol=="function"&&h[Symbol.iterator];if(!d)return h;var y,p,g=d.call(h),b=[];try{for(;(v===void 0||v-- >0)&&!(y=g.next()).done;)b.push(y.value)}catch(m){p={error:m}}finally{try{y&&!y.done&&(d=g.return)&&d.call(g)}finally{if(p)throw p.error}}return b},u=this&&this.__spreadArray||function(h,v,d){if(d||arguments.length===2)for(var y,p=0,g=v.length;p<g;p++)!y&&p in v||(y||(y=Array.prototype.slice.call(v,0,p)),y[p]=v[p]);return h.concat(y||Array.prototype.slice.call(v))};Object.defineProperty(e,"__esModule",{value:!0}),e.Bookmarks=void 0;var s=o(t(6587)),l=function(){function h(v){this._values=function(d){if(d==null||d==="")return[];if(s.isString(d))return[d];if(Array.isArray(d)){for(var y=new Set,p=f(d),g=0;g<p.length;g++){var b=p[g];if(b!=null){if(!s.isString(b))throw new TypeError("Bookmark value should be a string, given: '".concat(b,"'"));y.add(b)}}return u([],a(y),!1)}throw new TypeError("Bookmarks should either be a string or a string array, given: '".concat(d,"'"))}(v)}return h.empty=function(){return c},h.prototype.isEmpty=function(){return this._values.length===0},h.prototype.values=function(){return this._values},h.prototype[Symbol.iterator]=function(){return this._values[Symbol.iterator]()},h.prototype.asBeginTransactionParameters=function(){var v;return this.isEmpty()?{}:((v={}).bookmarks=this._values,v)},h}();e.Bookmarks=l;var c=new l(null);function f(h){return h.reduce(function(v,d){return Array.isArray(d)?v.concat(f(d)):v.concat(d)},[])}},9744:function(r,e,t){var n=this&&this.__extends||function(){var h=function(v,d){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,p){y.__proto__=p}||function(y,p){for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(y[g]=p[g])},h(v,d)};return function(v,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function y(){this.constructor=v}h(v,d),v.prototype=d===null?Object.create(d):(y.prototype=d.prototype,new y)}}(),i=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(9125)),a=i(t(4325)),u=i(t(7021)),s=t(9014),l=i(t(3321)),c=t(9305).internal.constants.BOLT_PROTOCOL_V5_4,f=function(h){function v(){return h!==null&&h.apply(this,arguments)||this}return n(v,h),Object.defineProperty(v.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"transformer",{get:function(){var d=this;return this._transformer===void 0&&(this._transformer=new l.default(Object.values(a.default).map(function(y){return y(d._config,d._log)}))),this._transformer},enumerable:!1,configurable:!0}),v.prototype.telemetry=function(d,y){var p=d.api,g=y===void 0?{}:y,b=g.onError,m=g.onCompleted,_=new s.TelemetryObserver({onCompleted:m,onError:b});return this.write(u.default.telemetry({api:p}),_,!1),_},v}(o.default);e.default=f},9756:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.findIndex=void 0;var n=t(7843),i=t(7714);e.findIndex=function(o,a){return n.operate(i.createFind(o,a,"index"))}},9792:(r,e,t)=>{var n=t(7045),i=t(4360),o=t(6804);r.exports=function(a,u){if(!u)return a;var s=Object.keys(u);if(s.length===0)return a;for(var l=n(a),c=s.length-1;c>=0;c--){var f=s[c],h=String(u[f]);h&&(h=" "+h),o(l,{type:"preprocessor",data:"#define "+f+h})}return i(l)}},9823:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=t(9305),i=t(8813),o=t(9419),a=(n.internal.logger.Logger,n.error.SERVICE_UNAVAILABLE),u=function(){function l(c){var f=c===void 0?{}:c,h=f.maxRetryTimeout,v=h===void 0?3e4:h,d=f.initialDelay,y=d===void 0?1e3:d,p=f.delayMultiplier,g=p===void 0?2:p,b=f.delayJitter,m=b===void 0?.2:b,_=f.logger,w=_===void 0?null:_;this._maxRetryTimeout=s(v,3e4),this._initialDelay=s(y,1e3),this._delayMultiplier=s(g,2),this._delayJitter=s(m,.2),this._logger=w}return l.prototype.retry=function(c){var f=this;return c.pipe((0,o.retryWhen)(function(h){var v=[],d=Date.now(),y=1,p=f._initialDelay;return h.pipe((0,o.mergeMap)(function(g){if(!(0,n.isRetriableError)(g))return(0,i.throwError)(function(){return g});if(v.push(g),y>=2&&Date.now()-d>=f._maxRetryTimeout){var b=(0,n.newError)("Failed after retried for ".concat(y," times in ").concat(f._maxRetryTimeout," ms. Make sure that your database is online and retry again."),a);return b.seenErrors=v,(0,i.throwError)(function(){return b})}var m=f._computeNextDelay(p);return p*=f._delayMultiplier,y++,f._logger&&f._logger.warn("Transaction failed and will be retried in ".concat(m)),(0,i.of)(1).pipe((0,o.delay)(m))}))}))},l.prototype._computeNextDelay=function(c){var f=c*this._delayJitter;return c-f+2*f*Math.random()},l}();function s(l,c){return l||l===0?l:c}e.default=u},9843:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.retryWhen=void 0;var n=t(9445),i=t(2483),o=t(7843),a=t(3111);e.retryWhen=function(u){return o.operate(function(s,l){var c,f,h=!1,v=function(){c=s.subscribe(a.createOperatorSubscriber(l,void 0,void 0,function(d){f||(f=new i.Subject,n.innerFrom(u(f)).subscribe(a.createOperatorSubscriber(l,function(){return c?v():h=!0}))),f&&f.next(d)})),h&&(c.unsubscribe(),c=null,h=!1,v())};v()})}},9857:function(r,e,t){var n=this&&this.__extends||function(){var a=function(u,s){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,c){l.__proto__=c}||function(l,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(l[f]=c[f])},a(u,s)};return function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}a(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}}(),i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=function(a){function u(s,l){var c=a.call(this,l)||this;return l&&(c._originalErrorHandler=s._errorHandler,s._errorHandler=c._errorHandler),c._delegate=s,c}return n(u,a),u.prototype.beginTransaction=function(s){return this._delegate.beginTransaction(s)},u.prototype.run=function(s,l,c){return this._delegate.run(s,l,c)},u.prototype.commitTransaction=function(s){return this._delegate.commitTransaction(s)},u.prototype.rollbackTransaction=function(s){return this._delegate.rollbackTransaction(s)},u.prototype.getProtocolVersion=function(){return this._delegate.getProtocolVersion()},Object.defineProperty(u.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(s){this._delegate.databaseId=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"authToken",{get:function(){return this._delegate.authToken},set:function(s){this._delegate.authToken=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"supportsReAuth",{get:function(){return this._delegate.supportsReAuth},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._delegate.version},set:function(s){this._delegate.version=s},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"creationTimestamp",{get:function(){return this._delegate.creationTimestamp},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"idleTimestamp",{get:function(){return this._delegate.idleTimestamp},set:function(s){this._delegate.idleTimestamp=s},enumerable:!1,configurable:!0}),u.prototype.isOpen=function(){return this._delegate.isOpen()},u.prototype.protocol=function(){return this._delegate.protocol()},u.prototype.connect=function(s,l,c,f){return this._delegate.connect(s,l,c,f)},u.prototype.write=function(s,l,c){return this._delegate.write(s,l,c)},u.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},u.prototype.hasOngoingObservableRequests=function(){return this._delegate.hasOngoingObservableRequests()},u.prototype.close=function(){return this._delegate.close()},u.prototype.release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate.release()},u}(i(t(6385)).default);e.default=o},9938:(r,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.concatMapTo=void 0;var n=t(9135),i=t(1018);e.concatMapTo=function(o,a){return i.isFunction(a)?n.concatMap(function(){return o},a):n.concatMap(function(){return o})}},9975:(r,e,t)=>{var n=t(7101),i=Array.prototype.concat,o=Array.prototype.slice,a=r.exports=function(u){for(var s=[],l=0,c=u.length;l<c;l++){var f=u[l];n(f)?s=i.call(s,o.call(f)):s.push(f)}return s};a.wrap=function(u){return function(){return u(a(arguments))}}},9994:function(r,e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(a){for(var u,s=1,l=arguments.length;s<l;s++)for(var c in u=arguments[s])Object.prototype.hasOwnProperty.call(u,c)&&(a[c]=u[c]);return a},n.apply(this,arguments)},i=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(e,"__esModule",{value:!0});var o=i(t(7449));e.default=n({},o.default)}},A3={};function In(r){var e=A3[r];if(e!==void 0)return e.exports;var t=A3[r]={id:r,loaded:!1,exports:{}};return Rle[r].call(t.exports,t,t.exports,In),t.loaded=!0,t.exports}In.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return In.d(e,{a:e}),e},In.d=(r,e)=>{for(var t in e)In.o(e,t)&&!In.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})},In.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),In.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),In.nmd=r=>(r.paths=[],r.children||(r.children=[]),r);var Kr=In(5250),Ile=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,e){r.__proto__=e}||function(r,e){for(var t in e)e.hasOwnProperty(t)&&(r[t]=e[t])};function Db(r,e){function t(){this.constructor=r}Ile(r,e),r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $g=function(){function r(e){e===void 0&&(e="Atom@"+Ii()),this.name=e,this.isPendingUnobservation=!0,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Mr.NOT_TRACKING}return r.prototype.onBecomeUnobserved=function(){},r.prototype.reportObserved=function(){yF(this)},r.prototype.reportChanged=function(){Bl(),function(e){if(e.lowestObserverState!==Mr.STALE){e.lowestObserverState=Mr.STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===Mr.UP_TO_DATE&&(i.isTracing!==$a.NONE&&mF(i,e),i.onBecomeStale()),i.dependenciesState=Mr.STALE}}}(this),Fl()},r.prototype.toString=function(){return this.name},r}(),Dle=function(r){function e(t,n,i){t===void 0&&(t="Atom@"+Ii()),n===void 0&&(n=q3),i===void 0&&(i=q3);var o=r.call(this,t)||this;return o.name=t,o.onBecomeObservedHandler=n,o.onBecomeUnobservedHandler=i,o.isPendingUnobservation=!1,o.isBeingTracked=!1,o}return Db(e,r),e.prototype.reportObserved=function(){return Bl(),r.prototype.reportObserved.call(this),this.isBeingTracked||(this.isBeingTracked=!0,this.onBecomeObservedHandler()),Fl(),!!xt.trackingDerivation},e.prototype.onBecomeUnobserved=function(){this.isBeingTracked=!1,this.onBecomeUnobservedHandler()},e}($g),hS=of("Atom",$g);function Qc(r){return r.interceptors&&r.interceptors.length>0}function Mb(r,e){var t=r.interceptors||(r.interceptors=[]);return t.push(e),yS(function(){var n=t.indexOf(e);n!==-1&&t.splice(n,1)})}function Jc(r,e){var t=af();try{var n=r.interceptors;if(n)for(var i=0,o=n.length;i<o&&(Wt(!(e=n[i](e))||e.type,"Intercept handlers should return nothing or a change object"),e);i++);return e}finally{xu(t)}}function Ll(r){return r.changeListeners&&r.changeListeners.length>0}function kb(r,e){var t=r.changeListeners||(r.changeListeners=[]);return t.push(e),yS(function(){var n=t.indexOf(e);n!==-1&&t.splice(n,1)})}function jl(r,e){var t=af(),n=r.changeListeners;if(n){for(var i=0,o=(n=n.slice()).length;i<o;i++)n[i](e);xu(t)}}function lo(){return!!xt.spyListeners.length}function ef(r){if(xt.spyListeners.length)for(var e=xt.spyListeners,t=0,n=e.length;t<n;t++)e[t](r)}function Qa(r){ef(iF({},r,{spyReportStart:!0}))}var R3={spyReportEnd:!0};function Ja(r){ef(r?iF({},r,R3):R3)}function F4(r){return xt.spyListeners.push(r),yS(function(){var e=xt.spyListeners.indexOf(r);e!==-1&&xt.spyListeners.splice(e,1)})}var I3="__$$iterating";function lb(r){Wt(r[I3]!==!0,"Illegal state: cannot recycle array as iterator"),qg(r,I3,!0);var e=-1;return qg(r,"next",function(){return{done:++e>=this.length,value:e<this.length?this[e]:void 0}}),r}function U4(r,e){qg(r,typeof Symbol=="function"&&Symbol.iterator||"@@iterator",e)}var Fp,V0,Mle=function(){var r=!1,e={};return Object.defineProperty(e,"0",{set:function(){r=!0}}),Object.create(e)[0]=1,r===!1}(),mO=0,bO=function(){};Fp=bO,V0=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(Fp.prototype,V0):Fp.prototype.__proto__!==void 0?Fp.prototype.__proto__=V0:Fp.prototype=V0,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(r){Object.defineProperty(bO.prototype,r,{configurable:!0,writable:!0,value:Array.prototype[r]})});var z4=function(){function r(e,t,n,i){this.array=n,this.owned=i,this.values=[],this.lastKnownLength=0,this.interceptors=null,this.changeListeners=null,this.atom=new $g(e||"ObservableArray@"+Ii()),this.enhancer=function(o,a){return t(o,a,e+"[..]")}}return r.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},r.prototype.dehanceValues=function(e){return this.dehancer!==void 0?e.map(this.dehancer):e},r.prototype.intercept=function(e){return Mb(this,e)},r.prototype.observe=function(e,t){return t===void 0&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),kb(this,e)},r.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},r.prototype.setArrayLength=function(e){if(typeof e!="number"||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),i=0;i<e-t;i++)n[i]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},r.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>mO&&dS(e+t+1)},r.prototype.spliceWithArray=function(e,t,n){var i=this;_S(this.atom);var o=this.values.length;if(e===void 0?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=arguments.length===1?o-e:t==null?0:Math.max(0,Math.min(t,o-e)),n===void 0&&(n=[]),Qc(this)){var a=Jc(this,{object:this.array,type:"splice",index:e,removedCount:t,added:n});if(!a)return nF;t=a.removedCount,n=a.added}var u=(n=n.map(function(l){return i.enhancer(l,void 0)})).length-t;this.updateArrayLength(o,u);var s=this.spliceItemsIntoValues(e,t,n);return t===0&&n.length===0||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},r.prototype.spliceItemsIntoValues=function(e,t,n){if(n.length<1e4)return(i=this.values).splice.apply(i,[e,t].concat(n));var i,o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},r.prototype.notifyArrayChildUpdate=function(e,t,n){var i=!this.owned&&lo(),o=Ll(this),a=o||i?{object:this.array,type:"update",index:e,newValue:t,oldValue:n}:null;i&&Qa(a),this.atom.reportChanged(),o&&jl(this,a),i&&Ja()},r.prototype.notifyArraySplice=function(e,t,n){var i=!this.owned&&lo(),o=Ll(this),a=o||i?{object:this.array,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;i&&Qa(a),this.atom.reportChanged(),o&&jl(this,a),i&&Ja()},r}(),_u=function(r){function e(t,n,i,o){i===void 0&&(i="ObservableArray@"+Ii()),o===void 0&&(o=!1);var a=r.call(this)||this,u=new z4(i,n,a,o);return qg(a,"$mobx",u),t&&t.length&&a.spliceWithArray(0,0,t),Mle&&Object.defineProperty(u.array,"0",kle),a}return Db(e,r),e.prototype.intercept=function(t){return this.$mobx.intercept(t)},e.prototype.observe=function(t,n){return n===void 0&&(n=!1),this.$mobx.observe(t,n)},e.prototype.clear=function(){return this.splice(0)},e.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),t.map(function(i){return Ou(i)?i.peek():i}))},e.prototype.replace=function(t){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,t)},e.prototype.toJS=function(){return this.slice()},e.prototype.toJSON=function(){return this.toJS()},e.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},e.prototype.find=function(t,n,i){i===void 0&&(i=0);var o=this.findIndex.apply(this,arguments);return o===-1?void 0:this.get(o)},e.prototype.findIndex=function(t,n,i){i===void 0&&(i=0);for(var o=this.peek(),a=o.length,u=i;u<a;u++)if(t.call(n,o[u],u,this))return u;return-1},e.prototype.splice=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(t);case 2:return this.$mobx.spliceWithArray(t,n)}return this.$mobx.spliceWithArray(t,n,i)},e.prototype.spliceWithArray=function(t,n,i){return this.$mobx.spliceWithArray(t,n,i)},e.prototype.push=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.$mobx;return i.spliceWithArray(i.values.length,0,t),i.values.length},e.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},e.prototype.shift=function(){return this.splice(0,1)[0]},e.prototype.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.$mobx;return i.spliceWithArray(0,0,t),i.values.length},e.prototype.reverse=function(){var t=this.slice();return t.reverse.apply(t,arguments)},e.prototype.sort=function(t){var n=this.slice();return n.sort.apply(n,arguments)},e.prototype.remove=function(t){var n=this.$mobx.dehanceValues(this.$mobx.values).indexOf(t);return n>-1&&(this.splice(n,1),!0)},e.prototype.move=function(t,n){function i(u){if(u<0)throw new Error("[mobx.array] Index out of bounds: "+u+" is negative");var s=this.$mobx.values.length;if(u>=s)throw new Error("[mobx.array] Index out of bounds: "+u+" is not smaller than "+s)}if(i.call(this,t),i.call(this,n),t!==n){var o,a=this.$mobx.values;o=t<n?a.slice(0,t).concat(a.slice(t+1,n+1),[a[t]],a.slice(n+1)):a.slice(0,n).concat([a[t]],a.slice(n,t),a.slice(t+1)),this.replace(o)}},e.prototype.get=function(t){var n=this.$mobx;if(n){if(t<n.values.length)return n.atom.reportObserved(),n.dehanceValue(n.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+n.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},e.prototype.set=function(t,n){var i=this.$mobx,o=i.values;if(t<o.length){_S(i.atom);var a=o[t];if(Qc(i)){var u=Jc(i,{type:"update",object:this,index:t,newValue:n});if(!u)return;n=u.newValue}(n=i.enhancer(n,a))!==a&&(o[t]=n,i.notifyArrayChildUpdate(t,n,a))}else{if(t!==o.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+o.length);i.spliceWithArray(t,0,[n])}},e}(bO);U4(_u.prototype,function(){return lb(this.slice())}),Object.defineProperty(_u.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(r){this.$mobx.setArrayLength(r)}}),["every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach(function(r){var e=Array.prototype[r];Wt(typeof e=="function","Base function not defined on Array prototype: '"+r+"'"),zl(_u.prototype,r,function(){return e.apply(this.peek(),arguments)})}),function(r,e){for(var t=0;t<e.length;t++)zl(r,e[t],r[e[t]])}(_u.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var kle=q4(0);function q4(r){return{enumerable:!1,configurable:!1,get:function(){return this.get(r)},set:function(e){this.set(r,e)}}}function Nle(r){Object.defineProperty(_u.prototype,""+r,q4(r))}function dS(r){for(var e=mO;e<r;e++)Nle(e);mO=r}dS(1e3);var Lle=of("ObservableArrayAdministration",z4);function Ou(r){return mS(r)&&Lle(r.$mobx)}var ag={},Ul=function(r){function e(t,n,i,o){i===void 0&&(i="ObservableValue@"+Ii()),o===void 0&&(o=!0);var a=r.call(this,i)||this;return a.enhancer=n,a.hasUnreportedChange=!1,a.dehancer=void 0,a.value=n(t,void 0,i),o&&lo()&&ef({type:"create",object:a,newValue:a.value}),a}return Db(e,r),e.prototype.dehanceValue=function(t){return this.dehancer!==void 0?this.dehancer(t):t},e.prototype.set=function(t){var n=this.value;if((t=this.prepareNewValue(t))!==ag){var i=lo();i&&Qa({type:"update",object:this,newValue:t,oldValue:n}),this.setNewValue(t),i&&Ja()}},e.prototype.prepareNewValue=function(t){if(_S(this),Qc(this)){var n=Jc(this,{object:this,type:"update",newValue:t});if(!n)return ag;t=n.newValue}return t=this.enhancer(t,this.value,this.name),this.value!==t?t:ag},e.prototype.setNewValue=function(t){var n=this.value;this.value=t,this.reportChanged(),Ll(this)&&jl(this,{type:"update",object:this,newValue:t,oldValue:n})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Mb(this,t)},e.prototype.observe=function(t,n){return n&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),kb(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return sF(this.get())},e}($g);Ul.prototype[aF()]=Ul.prototype.valueOf;var vS=of("ObservableValue",Ul),jle={m001:"It is not allowed to assign new values to @action fields",m002:"`runInAction` expects a function",m003:"`runInAction` expects a function without arguments",m004:"autorun expects a function",m005:"Warning: attempted to pass an action to autorun. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m006:"Warning: attempted to pass an action to autorunAsync. Actions are untracked and will not trigger on state changes. Use `reaction` or wrap only your state modification code in an action.",m007:"reaction only accepts 2 or 3 arguments. If migrating from MobX 2, please provide an options object",m008:"wrapping reaction expression in `asReference` is no longer supported, use options object instead",m009:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'. It looks like it was used on a property.",m010:"@computed can only be used on getter functions, like: '@computed get myProps() { return ...; }'",m011:"First argument to `computed` should be an expression. If using computed as decorator, don't pass it arguments",m012:"computed takes one or two arguments if used as function",m013:"[mobx.expr] 'expr' should only be used inside other reactive functions.",m014:"extendObservable expected 2 or more arguments",m015:"extendObservable expects an object as first argument",m016:"extendObservable should not be used on maps, use map.merge instead",m017:"all arguments of extendObservable should be objects",m018:"extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540",m019:"[mobx.isObservable] isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead.",m020:"modifiers can only be used for individual object properties",m021:"observable expects zero or one arguments",m022:"@observable can not be used on getters, use @computed instead",m024:"whyRun() can only be used if a derivation is active, or by passing an computed value / reaction explicitly. If you invoked whyRun from inside a computation; the computation is currently suspended but re-evaluating because somebody requested its value.",m025:"whyRun can only be used on reactions and computed values",m026:"`action` can only be invoked on functions",m028:"It is not allowed to set `useStrict` when a derivation is running",m029:"INTERNAL ERROR only onBecomeUnobserved shouldn't be called twice in a row",m030a:"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ",m030b:"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ",m031:"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: ",m032:`* This computation is suspended (not in use by any reaction) and won't run automatically.
	Didn't expect this computation to be suspended at this point?
	  1. Make sure this computation is used by a reaction (reaction, autorun, observer).
	  2. Check whether you are using this computation synchronously (in the same stack as they reaction that needs it).`,m033:"`observe` doesn't support the fire immediately property for observable maps.",m034:"`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead",m035:"Cannot make the designated object observable; it is not extensible",m036:"It is not possible to get index atoms from arrays",m037:`Hi there! I'm sorry you have just run into an exception.
If your debugger ends up here, know that some reaction (like the render() of an observer component, autorun or reaction)
threw an exception and that mobx caught it, to avoid that it brings the rest of your application down.
The original cause of the exception (the code that caused this reaction to run (again)), is still in the stack.

However, more interesting is the actual stack trace of the error itself.
Hopefully the error is an instanceof Error, because in that case you can inspect the original stack of the error from where it was thrown.
See \`error.stack\` property, or press the very subtle "(...)" link you see near the console.error message that probably brought you here.
That stack is more interesting than the stack of this console.error itself.

If the exception you see is an exception you created yourself, make sure to use \`throw new Error("Oops")\` instead of \`throw "Oops"\`,
because the javascript environment will only preserve the original stack trace in the first form.

You can also make sure the debugger pauses the next time this very same exception is thrown by enabling "Pause on caught exception".
(Note that it might pause on many other, unrelated exception as well).

If that all doesn't help you out, feel free to open an issue https://github.com/mobxjs/mobx/issues!
`,m038:`Missing items in this list?
    1. Check whether all used values are properly marked as observable (use isObservable to verify)
    2. Make sure you didn't dereference values too early. MobX observes props, not primitives. E.g: use 'person.name' instead of 'name' in your computation.
`};function _r(r){return jle[r]}function Fg(r,e){Wt(typeof e=="function",_r("m026")),Wt(typeof r=="string"&&r.length>0,"actions should have valid names, got: '"+r+"'");var t=function(){return pS(r,e,this,arguments)};return t.originalFn=e,t.isMobxAction=!0,t}function pS(r,e,t,n){var i=function(o,a,u,s){var l=lo()&&!!o,c=0;if(l){c=Date.now();var f=s&&s.length||0,h=new Array(f);if(f>0)for(var v=0;v<f;v++)h[v]=s[v];Qa({type:"action",name:o,fn:a,object:u,arguments:h})}var d=af();return Bl(),{prevDerivation:d,prevAllowStateChanges:V4(!0),notifySpy:l,startTime:c}}(r,e,t,n);try{return e.apply(t,n)}finally{(function(o){W4(o.prevAllowStateChanges),Fl(),xu(o.prevDerivation),o.notifySpy&&Ja({time:Date.now()-o.startTime})})(i)}}function G4(r){Wt(xt.trackingDerivation===null,_r("m028")),xt.strictMode=r,xt.allowStateChanges=!r}function V4(r){var e=xt.allowStateChanges;return xt.allowStateChanges=r,e}function W4(r){xt.allowStateChanges=r}function Nb(r,e,t,n,i){function o(a,u,s,l,c){if(c===void 0&&(c=0),Wt(i||M3(arguments),"This function is a decorator, but it wasn't invoked like a decorator"),s){jb(a,"__mobxLazyInitializers")||zl(a,"__mobxLazyInitializers",a.__mobxLazyInitializers&&a.__mobxLazyInitializers.slice()||[]);var f=s.value,h=s.initializer;return a.__mobxLazyInitializers.push(function(d){r(d,u,h?h.call(d):f,l,s)}),{enumerable:n,configurable:!0,get:function(){return this.__mobxDidRunLazyInitializers!==!0&&Ug(this),e.call(this,u)},set:function(d){this.__mobxDidRunLazyInitializers!==!0&&Ug(this),t.call(this,u,d)}}}var v={enumerable:n,configurable:!0,get:function(){return this.__mobxInitializedProps&&this.__mobxInitializedProps[u]===!0||D3(this,u,void 0,r,l,s),e.call(this,u)},set:function(d){this.__mobxInitializedProps&&this.__mobxInitializedProps[u]===!0?t.call(this,u,d):D3(this,u,d,r,l,s)}};return(arguments.length<3||arguments.length===5&&c<3)&&Object.defineProperty(a,u,v),v}return i?function(){if(M3(arguments))return o.apply(null,arguments);var a=arguments,u=arguments.length;return function(s,l,c){return o(s,l,c,a,u)}}:o}function D3(r,e,t,n,i,o){jb(r,"__mobxInitializedProps")||zl(r,"__mobxInitializedProps",{}),r.__mobxInitializedProps[e]=!0,n(r,e,t,i,o)}function Ug(r){r.__mobxDidRunLazyInitializers!==!0&&r.__mobxLazyInitializers&&(zl(r,"__mobxDidRunLazyInitializers",!0),r.__mobxDidRunLazyInitializers&&r.__mobxLazyInitializers.forEach(function(e){return e(r)}))}function M3(r){return(r.length===2||r.length===3)&&typeof r[1]=="string"}var Ble=Nb(function(r,e,t,n,i){var o=n&&n.length===1?n[0]:t.name||e||"<unnamed action>";zl(r,e,Jr(o,t))},function(r){return this[r]},function(){Wt(!1,_r("m001"))},!1,!0),Fle=Nb(function(r,e,t){H4(r,e,t)},function(r){return this[r]},function(){Wt(!1,_r("m001"))},!1,!1),Jr=function(r,e,t,n){return arguments.length===1&&typeof r=="function"?Fg(r.name||"<unnamed action>",r):arguments.length===2&&typeof e=="function"?Fg(r,e):arguments.length===1&&typeof r=="string"?k3(r):k3(e).apply(null,arguments)};function k3(r){return function(e,t,n){if(n&&typeof n.value=="function")return n.value=Fg(r,n.value),n.enumerable=!1,n.configurable=!0,n;if(n!==void 0&&n.get!==void 0)throw new Error("[mobx] action is not expected to be used with getters");return Ble(r).apply(this,arguments)}}function db(r){return typeof r=="function"&&r.isMobxAction===!0}function H4(r,e,t){var n=function(){return pS(e,t,r,arguments)};n.isMobxAction=!0,zl(r,e,n)}Jr.bound=function(r,e,t){if(typeof r=="function"){var n=Fg("<not yet bound action>",r);return n.autoBind=!0,n}return Fle.apply(null,arguments)};var N3=Object.prototype.toString;function Lb(r,e){return _O(r,e)}function _O(r,e,t,n){if(r===e)return r!==0||1/r==1/e;if(r==null||e==null)return!1;if(r!=r)return e!=e;var i=typeof r;return(i==="function"||i==="object"||typeof e=="object")&&function(o,a,u,s){o=L3(o),a=L3(a);var l=N3.call(o);if(l!==N3.call(a))return!1;switch(l){case"[object RegExp]":case"[object String]":return""+o==""+a;case"[object Number]":return+o!=+o?+a!=+a:+o==0?1/+o==1/a:+o==+a;case"[object Date]":case"[object Boolean]":return+o==+a;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(o)===Symbol.valueOf.call(a)}var c=l==="[object Array]";if(!c){if(typeof o!="object"||typeof a!="object")return!1;var f=o.constructor,h=a.constructor;if(f!==h&&!(typeof f=="function"&&f instanceof f&&typeof h=="function"&&h instanceof h)&&"constructor"in o&&"constructor"in a)return!1}s=s||[];for(var v=(u=u||[]).length;v--;)if(u[v]===o)return s[v]===a;if(u.push(o),s.push(a),c){if((v=o.length)!==a.length)return!1;for(;v--;)if(!_O(o[v],a[v],u,s))return!1}else{var d,y=Object.keys(o);if(v=y.length,Object.keys(a).length!==v)return!1;for(;v--;)if(!Ule(a,d=y[v])||!_O(o[d],a[d],u,s))return!1}return u.pop(),s.pop(),!0}(r,e,t,n)}function L3(r){return Ou(r)?r.peek():Ra(r)?r.entries():cd(r)?function(e){for(var t=[];;){var n=e.next();if(n.done)break;t.push(n.value)}return t}(r.entries()):r}function Ule(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function j3(r,e){return r===e}var Su={identity:j3,structural:function(r,e){return Lb(r,e)},default:function(r,e){return function(t,n){return typeof t=="number"&&typeof n=="number"&&isNaN(t)&&isNaN(n)}(r,e)||j3(r,e)}};function vb(r,e,t){var n,i,o;typeof r=="string"?(n=r,i=e,o=t):(n=r.name||"Autorun@"+Ii(),i=r,o=e),Wt(typeof i=="function",_r("m004")),Wt(db(i)===!1,_r("m005")),o&&(i=i.bind(o));var a=new Gg(n,function(){this.track(u)});function u(){i(a)}return a.schedule(),a.getDisposer()}function Y4(r,e,t){var n;arguments.length>3&&Di(_r("m007")),nf(r)&&Di(_r("m008")),(n=typeof t=="object"?t:{}).name=n.name||r.name||e.name||"Reaction@"+Ii(),n.fireImmediately=t===!0||n.fireImmediately===!0,n.delay=n.delay||0,n.compareStructural=n.compareStructural||n.struct||!1,e=Jr(n.name,n.context?e.bind(n.context):e),n.context&&(r=r.bind(n.context));var i,o=!0,a=!1,u=n.equals?n.equals:n.compareStructural||n.struct?Su.structural:Su.default,s=new Gg(n.name,function(){o||n.delay<1?l():a||(a=!0,setTimeout(function(){a=!1,l()},n.delay))});function l(){if(!s.isDisposed){var c=!1;s.track(function(){var f=r(s);c=o||!u(i,f),i=f}),o&&n.fireImmediately&&e(i,s),o||c!==!0||e(i,s),o&&(o=!1)}}return s.schedule(),s.getDisposer()}var tf=function(){function r(e,t,n,i,o){this.derivation=e,this.scope=t,this.equals=n,this.dependenciesState=Mr.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Mr.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+Ii(),this.value=new gb(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=$a.NONE,this.name=i||"ComputedValue@"+Ii(),o&&(this.setter=Fg(i+"-setter",o))}return r.prototype.onBecomeStale=function(){(function(e){if(e.lowestObserverState===Mr.UP_TO_DATE){e.lowestObserverState=Mr.POSSIBLY_STALE;for(var t=e.observers,n=t.length;n--;){var i=t[n];i.dependenciesState===Mr.UP_TO_DATE&&(i.dependenciesState=Mr.POSSIBLY_STALE,i.isTracing!==$a.NONE&&mF(i,e),i.onBecomeStale())}}})(this)},r.prototype.onBecomeUnobserved=function(){SO(this),this.value=void 0},r.prototype.get=function(){Wt(!this.isComputing,"Cycle detected in computation "+this.name,this.derivation),xt.inBatch===0?(Bl(),OO(this)&&(this.isTracing!==$a.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context and doing a full recompute"),this.value=this.computeValue(!1)),Fl()):(yF(this),OO(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState!==Mr.STALE){t.lowestObserverState=Mr.STALE;for(var n=t.observers,i=n.length;i--;){var o=n[i];o.dependenciesState===Mr.POSSIBLY_STALE?o.dependenciesState=Mr.STALE:o.dependenciesState===Mr.UP_TO_DATE&&(t.lowestObserverState=Mr.UP_TO_DATE)}}}(this));var e=this.value;if(Qp(e))throw e.cause;return e},r.prototype.peek=function(){var e=this.computeValue(!1);if(Qp(e))throw e.cause;return e},r.prototype.set=function(e){if(this.setter){Wt(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else Wt(!1,"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},r.prototype.trackAndCompute=function(){lo()&&ef({object:this.scope,type:"compute",fn:this.derivation});var e=this.value,t=this.dependenciesState===Mr.NOT_TRACKING,n=this.value=this.computeValue(!0);return t||Qp(e)||Qp(n)||!this.equals(e,n)},r.prototype.computeValue=function(e){var t;if(this.isComputing=!0,xt.computationDepth++,e)t=wF(this,this.derivation,this.scope);else try{t=this.derivation.call(this.scope)}catch(n){t=new gb(n)}return xt.computationDepth--,this.isComputing=!1,t},r.prototype.observe=function(e,t){var n=this,i=!0,o=void 0;return vb(function(){var a=n.get();if(!i||t){var u=af();e({type:"update",object:n,newValue:a,oldValue:o}),xu(u)}i=!1,o=a})},r.prototype.toJSON=function(){return this.get()},r.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},r.prototype.valueOf=function(){return sF(this.get())},r.prototype.whyRun=function(){var e=!!xt.trackingDerivation,t=pb(this.isComputing?this.newObserving:this.observing).map(function(i){return i.name}),n=pb(vF(this).map(function(i){return i.name}));return`
WhyRun? computation '`+this.name+`':
 * Running because: `+(e?"[active] the value of this computation is needed by a reaction":this.isComputing?"[get] The value of this computed was requested outside a reaction":"[idle] not running at the moment")+`
`+(this.dependenciesState===Mr.NOT_TRACKING?_r("m032"):` * This computation will re-run if any of the following observables changes:
    `+EO(t)+`
    `+(this.isComputing&&e?" (... or any observable accessed during the remainder of the current run)":"")+`
    `+_r("m038")+`

  * If the outcome of this computation changes, the following observers will be re-run:
    `+EO(n)+`
`)},r}();tf.prototype[aF()]=tf.prototype.valueOf;var Eu=of("ComputedValue",tf),X4=function(){function r(e,t){this.target=e,this.name=t,this.values={},this.changeListeners=null,this.interceptors=null}return r.prototype.observe=function(e,t){return Wt(t!==!0,"`observe` doesn't support the fire immediately property for observable objects."),kb(this,e)},r.prototype.intercept=function(e){return Mb(this,e)},r}();function sd(r,e){if(Bs(r)&&r.hasOwnProperty("$mobx"))return r.$mobx;Wt(Object.isExtensible(r),_r("m035")),ld(r)||(e=(r.constructor.name||"ObservableObject")+"@"+Ii()),e||(e="ObservableObject@"+Ii());var t=new X4(r,e);return qg(r,"$mobx",t),t}function zle(r,e,t,n){if(r.values[e]&&!Eu(r.values[e]))return Wt("value"in t,"The property "+e+" in "+r.name+" is already observable, cannot redefine it as computed property"),void(r.target[e]=t.value);if("value"in t)if(nf(t.value)){var i=t.value;wO(r,e,i.initialValue,i.enhancer)}else db(t.value)&&t.value.autoBind===!0?H4(r.target,e,t.value.originalFn):Eu(t.value)?function(o,a,u){var s=o.name+"."+a;u.name=s,u.scope||(u.scope=o.target),o.values[a]=u,Object.defineProperty(o.target,a,$4(a))}(r,e,t.value):wO(r,e,t.value,n);else K4(r,e,t.get,t.set,Su.default,!0)}function wO(r,e,t,n){if(bS(r.target,e),Qc(r)){var i=Jc(r,{object:r.target,name:e,type:"add",newValue:t});if(!i)return;t=i.newValue}t=(r.values[e]=new Ul(t,n,r.name+"."+e,!1)).value,Object.defineProperty(r.target,e,function(o){return B3[o]||(B3[o]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.values[o].get()},set:function(a){Z4(this,o,a)}})}(e)),function(o,a,u,s){var l=Ll(o),c=lo(),f=l||c?{type:"add",object:a,name:u,newValue:s}:null;c&&Qa(f),l&&jl(o,f),c&&Ja()}(r,r.target,e,t)}function K4(r,e,t,n,i,o){o&&bS(r.target,e),r.values[e]=new tf(t,r.target,i,r.name+"."+e,n),o&&Object.defineProperty(r.target,e,$4(e))}var B3={},F3={};function $4(r){return F3[r]||(F3[r]={configurable:!0,enumerable:!1,get:function(){return this.$mobx.values[r].get()},set:function(e){return this.$mobx.values[r].set(e)}})}function Z4(r,e,t){var n=r.$mobx,i=n.values[e];if(Qc(n)){if(!(u=Jc(n,{type:"update",object:r,name:e,newValue:t})))return;t=u.newValue}if((t=i.prepareNewValue(t))!==ag){var o=Ll(n),a=lo(),u=o||a?{type:"update",object:r,oldValue:i.value,name:e,newValue:t}:null;a&&Qa(u),i.setNewValue(t),o&&jl(n,u),a&&Ja()}}var qle=of("ObservableObjectAdministration",X4);function Bs(r){return!!mS(r)&&(Ug(r),qle(r.$mobx))}function vd(r,e){if(r==null)return!1;if(e!==void 0){if(Ou(r)||Ra(r))throw new Error(_r("m019"));if(Bs(r)){var t=r.$mobx;return t.values&&!!t.values[e]}return!1}return Bs(r)||!!r.$mobx||hS(r)||fd(r)||Eu(r)}function Zg(r){return Wt(!!r,":("),Nb(function(e,t,n,i,o){bS(e,t),Wt(!o||!o.get,_r("m022")),wO(sd(e,void 0),t,n,r)},function(e){var t=this.$mobx.values[e];if(t!==void 0)return t.get()},function(e,t){Z4(this,e,t)},!0,!1)}function Q4(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return gS(r,Dl,e)}function J4(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return gS(r,Ml,e)}function gS(r,e,t){Wt(arguments.length>=2,_r("m014")),Wt(typeof r=="object",_r("m015")),Wt(!Ra(r),_r("m016")),t.forEach(function(s){Wt(typeof s=="object",_r("m017")),Wt(!vd(s),_r("m018"))});for(var n=sd(r),i={},o=t.length-1;o>=0;o--){var a=t[o];for(var u in a)if(i[u]!==!0&&jb(a,u)){if(i[u]=!0,r===a&&!oF(r,u))continue;zle(n,u,Object.getOwnPropertyDescriptor(a,u),e)}}return r}var eF=Zg(Dl),Gle=Zg(tF),Vle=Zg(Ml),Wle=Zg(sg),Hle=Zg(rF),U3={box:function(r,e){return arguments.length>2&&Ol("box"),new Ul(r,Dl,e)},shallowBox:function(r,e){return arguments.length>2&&Ol("shallowBox"),new Ul(r,Ml,e)},array:function(r,e){return arguments.length>2&&Ol("array"),new _u(r,Dl,e)},shallowArray:function(r,e){return arguments.length>2&&Ol("shallowArray"),new _u(r,Ml,e)},map:function(r,e){return arguments.length>2&&Ol("map"),new ud(r,Dl,e)},shallowMap:function(r,e){return arguments.length>2&&Ol("shallowMap"),new ud(r,Ml,e)},object:function(r,e){arguments.length>2&&Ol("object");var t={};return sd(t,e),Q4(t,r),t},shallowObject:function(r,e){arguments.length>2&&Ol("shallowObject");var t={};return sd(t,e),J4(t,r),t},ref:function(){return arguments.length<2?Zp(Ml,arguments[0]):Vle.apply(null,arguments)},shallow:function(){return arguments.length<2?Zp(tF,arguments[0]):Gle.apply(null,arguments)},deep:function(){return arguments.length<2?Zp(Dl,arguments[0]):eF.apply(null,arguments)},struct:function(){return arguments.length<2?Zp(sg,arguments[0]):Wle.apply(null,arguments)}},_n=function(r){if(r===void 0&&(r=void 0),typeof arguments[1]=="string")return eF.apply(null,arguments);if(Wt(arguments.length<=1,_r("m021")),Wt(!nf(r),_r("m020")),vd(r))return r;var e=Dl(r,0,void 0);return e!==r?e:_n.box(r)};function Ol(r){Di("Expected one or two arguments to observable."+r+". Did you accidentally try to use observable."+r+" as decorator?")}function nf(r){return typeof r=="object"&&r!==null&&r.isMobxModifierDescriptor===!0}function Zp(r,e){return Wt(!nf(e),"Modifiers cannot be nested"),{isMobxModifierDescriptor:!0,initialValue:e,enhancer:r}}function Dl(r,e,t){return nf(r)&&Di("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),vd(r)?r:Array.isArray(r)?_n.array(r,t):ld(r)?_n.object(r,t):cd(r)?_n.map(r,t):r}function tF(r,e,t){return nf(r)&&Di("You tried to assign a modifier wrapped value to a collection, please define modifiers when creating the collection, not when modifying it"),r==null||Bs(r)||Ou(r)||Ra(r)?r:Array.isArray(r)?_n.shallowArray(r,t):ld(r)?_n.shallowObject(r,t):cd(r)?_n.shallowMap(r,t):Di("The shallow modifier / decorator can only used in combination with arrays, objects and maps")}function Ml(r){return r}function sg(r,e,t){if(Lb(r,e))return e;if(vd(r))return r;if(Array.isArray(r))return new _u(r,sg,t);if(cd(r))return new ud(r,sg,t);if(ld(r)){var n={};return sd(n,t),gS(n,sg,[r]),n}return r}function rF(r,e,t){return Lb(r,e)?e:r}function Yh(r,e){e===void 0&&(e=void 0),Bl();try{return r.apply(e)}finally{Fl()}}Object.keys(U3).forEach(function(r){return _n[r]=U3[r]}),_n.deep.struct=_n.struct,_n.ref.struct=function(){return arguments.length<2?Zp(rF,arguments[0]):Hle.apply(null,arguments)};var Yle={},ud=function(){function r(e,t,n){t===void 0&&(t=Dl),n===void 0&&(n="ObservableMap@"+Ii()),this.enhancer=t,this.name=n,this.$mobx=Yle,this._data=Object.create(null),this._hasMap=Object.create(null),this._keys=new _u(void 0,Ml,this.name+".keys()",!0),this.interceptors=null,this.changeListeners=null,this.dehancer=void 0,this.merge(e)}return r.prototype._has=function(e){return this._data[e]!==void 0},r.prototype.has=function(e){return!!this.isValidKey(e)&&(e=""+e,this._hasMap[e]?this._hasMap[e].get():this._updateHasMapEntry(e,!1).get())},r.prototype.set=function(e,t){this.assertValidKey(e),e=""+e;var n=this._has(e);if(Qc(this)){var i=Jc(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},r.prototype.delete=function(e){var t=this;if(this.assertValidKey(e),e=""+e,Qc(this)&&!(o=Jc(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=lo(),i=Ll(this),o=i||n?{type:"delete",object:this,oldValue:this._data[e].value,name:e}:null;return n&&Qa(o),Yh(function(){t._keys.remove(e),t._updateHasMapEntry(e,!1),t._data[e].setNewValue(void 0),t._data[e]=void 0}),i&&jl(this,o),n&&Ja(),!0}return!1},r.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap[e];return n?n.setNewValue(t):n=this._hasMap[e]=new Ul(t,Ml,this.name+"."+e+"?",!1),n},r.prototype._updateValue=function(e,t){var n=this._data[e];if((t=n.prepareNewValue(t))!==ag){var i=lo(),o=Ll(this),a=o||i?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;i&&Qa(a),n.setNewValue(t),o&&jl(this,a),i&&Ja()}},r.prototype._addValue=function(e,t){var n=this;Yh(function(){var u=n._data[e]=new Ul(t,n.enhancer,n.name+"."+e,!1);t=u.value,n._updateHasMapEntry(e,!0),n._keys.push(e)});var i=lo(),o=Ll(this),a=o||i?{type:"add",object:this,name:e,newValue:t}:null;i&&Qa(a),o&&jl(this,a),i&&Ja()},r.prototype.get=function(e){return e=""+e,this.has(e)?this.dehanceValue(this._data[e].get()):this.dehanceValue(void 0)},r.prototype.dehanceValue=function(e){return this.dehancer!==void 0?this.dehancer(e):e},r.prototype.keys=function(){return lb(this._keys.slice())},r.prototype.values=function(){return lb(this._keys.map(this.get,this))},r.prototype.entries=function(){var e=this;return lb(this._keys.map(function(t){return[t,e.get(t)]}))},r.prototype.forEach=function(e,t){var n=this;this.keys().forEach(function(i){return e.call(t,n.get(i),i,n)})},r.prototype.merge=function(e){var t=this;return Ra(e)&&(e=e.toJS()),Yh(function(){ld(e)?Object.keys(e).forEach(function(n){return t.set(n,e[n])}):Array.isArray(e)?e.forEach(function(n){var i=n[0],o=n[1];return t.set(i,o)}):cd(e)?e.forEach(function(n,i){return t.set(i,n)}):e!=null&&Di("Cannot initialize map from "+e)}),this},r.prototype.clear=function(){var e=this;Yh(function(){EF(function(){e.keys().forEach(e.delete,e)})})},r.prototype.replace=function(e){var t=this;return Yh(function(){var n,i=ld(n=e)?Object.keys(n):Array.isArray(n)?n.map(function(o){return o[0]}):cd(n)?Array.from(n.keys()):Ra(n)?n.keys():Di("Cannot get keys from "+n);t.keys().filter(function(o){return i.indexOf(o)===-1}).forEach(function(o){return t.delete(o)}),t.merge(e)}),this},Object.defineProperty(r.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),r.prototype.toJS=function(){var e=this,t={};return this.keys().forEach(function(n){return t[n]=e.get(n)}),t},r.prototype.toJSON=function(){return this.toJS()},r.prototype.isValidKey=function(e){return e!=null&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")},r.prototype.assertValidKey=function(e){if(!this.isValidKey(e))throw new Error("[mobx.map] Invalid key: '"+e+"', only strings, numbers and booleans are accepted as key in observable maps.")},r.prototype.toString=function(){var e=this;return this.name+"[{ "+this.keys().map(function(t){return t+": "+e.get(t)}).join(", ")+" }]"},r.prototype.observe=function(e,t){return Wt(t!==!0,_r("m033")),kb(this,e)},r.prototype.intercept=function(e){return Mb(this,e)},r}();U4(ud.prototype,function(){return this.entries()});var Ra=of("ObservableMap",ud),nF=[];function zg(){return typeof window<"u"?window:In.g}function Ii(){return++xt.mobxGuid}function Di(r,e){throw Wt(!1,r,e),"X"}function Wt(r,e,t){if(!r)throw new Error("[mobx] Invariant failed: "+e+(t?" in '"+t+"'":""))}Object.freeze(nF);var z3=[];function Wc(r){return z3.indexOf(r)===-1&&(z3.push(r),console.error("[mobx] Deprecated: "+r),!0)}function yS(r){var e=!1;return function(){if(!e)return e=!0,r.apply(this,arguments)}}var q3=function(){};function pb(r){var e=[];return r.forEach(function(t){e.indexOf(t)===-1&&e.push(t)}),e}function EO(r,e,t){return e===void 0&&(e=100),t===void 0&&(t=" - "),r?r.slice(0,e).join(t)+(r.length>e?" (... and "+(r.length-e)+"more)":""):""}function mS(r){return r!==null&&typeof r=="object"}function ld(r){if(r===null||typeof r!="object")return!1;var e=Object.getPrototypeOf(r);return e===Object.prototype||e===null}function iF(){for(var r=arguments[0],e=1,t=arguments.length;e<t;e++){var n=arguments[e];for(var i in n)jb(n,i)&&(r[i]=n[i])}return r}var Xle=Object.prototype.hasOwnProperty;function jb(r,e){return Xle.call(r,e)}function zl(r,e,t){Object.defineProperty(r,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function qg(r,e,t){Object.defineProperty(r,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function oF(r,e){var t=Object.getOwnPropertyDescriptor(r,e);return!t||t.configurable!==!1&&t.writable!==!1}function bS(r,e){Wt(oF(r,e),"Cannot make property '"+e+"' observable, it is not configurable and writable in the target object")}function of(r,e){var t="isMobX"+r;return e.prototype[t]=!0,function(n){return mS(n)&&n[t]===!0}}function cd(r){return zg().Map!==void 0&&r instanceof zg().Map}function aF(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function sF(r){return r===null?null:typeof r=="object"?""+r:r}var Mr,$a,Kle=["mobxGuid","resetId","spyListeners","strictMode","runId"],uF=function(){this.version=5,this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.strictMode=!1,this.resetId=0,this.spyListeners=[],this.globalReactionErrorHandlers=[]},xt=new uF,lF=!1,cF=!1,G3=!1,Vx=zg();function Fs(r,e){if(typeof r=="object"&&r!==null){if(Ou(r))return Wt(e===void 0,_r("m036")),r.$mobx.atom;if(Ra(r)){var t=r;return e===void 0?Fs(t._keys):(Wt(!!(n=t._data[e]||t._hasMap[e]),"the entry '"+e+"' does not exist in the observable map '"+xO(r)+"'"),n)}var n;if(Ug(r),e&&!r.$mobx&&r[e],Bs(r))return e?(Wt(!!(n=r.$mobx.values[e]),"no observable property '"+e+"' found on the observable object '"+xO(r)+"'"),n):Di("please specify a property");if(hS(r)||Eu(r)||fd(r))return r}else if(typeof r=="function"&&fd(r.$mobx))return r.$mobx;return Di("Cannot obtain atom from "+r)}function wu(r,e){return Wt(r,"Expecting some object"),e!==void 0?wu(Fs(r,e)):hS(r)||Eu(r)||fd(r)||Ra(r)?r:(Ug(r),r.$mobx?r.$mobx:void Wt(!1,"Cannot obtain administration from "+r))}function xO(r,e){return(e!==void 0?Fs(r,e):Bs(r)||Ra(r)?wu(r):Fs(r)).name}function fF(r,e){return hF(Fs(r,e))}function hF(r){var e={name:r.name};return r.observing&&r.observing.length>0&&(e.dependencies=pb(r.observing).map(hF)),e}function dF(r){var e={name:r.name};return function(t){return t.observers&&t.observers.length>0}(r)&&(e.observers=vF(r).map(dF)),e}function vF(r){return r.observers}function $le(r,e){var t=r.observers.length;t&&(r.observersIndexes[e.__mapid]=t),r.observers[t]=e,r.lowestObserverState>e.dependenciesState&&(r.lowestObserverState=e.dependenciesState)}function pF(r,e){if(r.observers.length===1)r.observers.length=0,gF(r);else{var t=r.observers,n=r.observersIndexes,i=t.pop();if(i!==e){var o=n[e.__mapid]||0;o?n[i.__mapid]=o:delete n[i.__mapid],t[o]=i}delete n[e.__mapid]}}function gF(r){r.isPendingUnobservation||(r.isPendingUnobservation=!0,xt.pendingUnobservations.push(r))}function Bl(){xt.inBatch++}function Fl(){if(--xt.inBatch===0){SF();for(var r=xt.pendingUnobservations,e=0;e<r.length;e++){var t=r[e];t.isPendingUnobservation=!1,t.observers.length===0&&t.onBecomeUnobserved()}xt.pendingUnobservations=[]}}function yF(r){var e=xt.trackingDerivation;e!==null?e.runId!==r.lastAccessedBy&&(r.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=r):r.observers.length===0&&gF(r)}function mF(r,e){if(console.log("[mobx.trace] '"+r.name+"' is invalidated due to a change in: '"+e.name+"'"),r.isTracing===$a.BREAK){var t=[];bF(fF(r),t,1),new Function(`debugger;
/*
Tracing '`+r.name+`'

You are entering this break point because derivation '`+r.name+"' is being traced and '"+e.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(r instanceof tf?r.derivation.toString():"")+`

The dependencies for this derivation are:

`+t.join(`
`)+`
*/
    `)()}}function bF(r,e,t){e.length>=1e3?e.push("(and many more)"):(e.push(""+new Array(t).join("	")+r.name),r.dependencies&&r.dependencies.forEach(function(n){return bF(n,e,t+1)}))}Vx.__mobxInstanceCount?(Vx.__mobxInstanceCount++,setTimeout(function(){lF||cF||G3||(G3=!0,console.warn("[mobx] Warning: there are multiple mobx instances active. This might lead to unexpected results. See https://github.com/mobxjs/mobx/issues/1082 for details."))},1)):Vx.__mobxInstanceCount=1,function(r){r[r.NOT_TRACKING=-1]="NOT_TRACKING",r[r.UP_TO_DATE=0]="UP_TO_DATE",r[r.POSSIBLY_STALE=1]="POSSIBLY_STALE",r[r.STALE=2]="STALE"}(Mr||(Mr={})),function(r){r[r.NONE=0]="NONE",r[r.LOG=1]="LOG",r[r.BREAK=2]="BREAK"}($a||($a={}));var gb=function(r){this.cause=r};function Qp(r){return r instanceof gb}function OO(r){switch(r.dependenciesState){case Mr.UP_TO_DATE:return!1;case Mr.NOT_TRACKING:case Mr.STALE:return!0;case Mr.POSSIBLY_STALE:for(var e=af(),t=r.observing,n=t.length,i=0;i<n;i++){var o=t[i];if(Eu(o)){try{o.get()}catch{return xu(e),!0}if(r.dependenciesState===Mr.STALE)return xu(e),!0}}return xF(r),xu(e),!1}}function _F(){return xt.trackingDerivation!==null}function _S(r){var e=r.observers.length>0;xt.computationDepth>0&&e&&Di(_r("m031")+r.name),!xt.allowStateChanges&&e&&Di(_r(xt.strictMode?"m030a":"m030b")+r.name)}function wF(r,e,t){xF(r),r.newObserving=new Array(r.observing.length+100),r.unboundDepsCount=0,r.runId=++xt.runId;var n,i=xt.trackingDerivation;xt.trackingDerivation=r;try{n=e.call(t)}catch(o){n=new gb(o)}return xt.trackingDerivation=i,function(o){for(var a=o.observing,u=o.observing=o.newObserving,s=Mr.UP_TO_DATE,l=0,c=o.unboundDepsCount,f=0;f<c;f++)(h=u[f]).diffValue===0&&(h.diffValue=1,l!==f&&(u[l]=h),l++),h.dependenciesState>s&&(s=h.dependenciesState);for(u.length=l,o.newObserving=null,c=a.length;c--;)(h=a[c]).diffValue===0&&pF(h,o),h.diffValue=0;for(;l--;){var h;(h=u[l]).diffValue===1&&(h.diffValue=0,$le(h,o))}s!==Mr.UP_TO_DATE&&(o.dependenciesState=s,o.onBecomeStale())}(r),n}function SO(r){var e=r.observing;r.observing=[];for(var t=e.length;t--;)pF(e[t],r);r.dependenciesState=Mr.NOT_TRACKING}function EF(r){var e=af(),t=r();return xu(e),t}function af(){var r=xt.trackingDerivation;return xt.trackingDerivation=null,r}function xu(r){xt.trackingDerivation=r}function xF(r){if(r.dependenciesState!==Mr.UP_TO_DATE){r.dependenciesState=Mr.UP_TO_DATE;for(var e=r.observing,t=e.length;t--;)e[t].lowestObserverState=Mr.UP_TO_DATE}}function V3(r){return console.log(r),r}function OF(r){switch(r.length){case 0:return xt.trackingDerivation;case 1:return Fs(r[0]);case 2:return Fs(r[0],r[1])}}var Gg=function(){function r(e,t){e===void 0&&(e="Reaction@"+Ii()),this.name=e,this.onInvalidate=t,this.observing=[],this.newObserving=[],this.dependenciesState=Mr.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+Ii(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=$a.NONE}return r.prototype.onBecomeStale=function(){this.schedule()},r.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,xt.pendingReactions.push(this),SF())},r.prototype.isScheduled=function(){return this._isScheduled},r.prototype.runReaction=function(){this.isDisposed||(Bl(),this._isScheduled=!1,OO(this)&&(this._isTrackPending=!0,this.onInvalidate(),this._isTrackPending&&lo()&&ef({object:this,type:"scheduled-reaction"})),Fl())},r.prototype.track=function(e){Bl();var t,n=lo();n&&(t=Date.now(),Qa({object:this,type:"reaction",fn:e})),this._isRunning=!0;var i=wF(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&SO(this),Qp(i)&&this.reportExceptionInDerivation(i.cause),n&&Ja({time:Date.now()-t}),Fl()},r.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this,i=_r("m037");console.error(n||i,e),lo()&&ef({type:"error",message:n,error:e,object:this}),xt.globalReactionErrorHandlers.forEach(function(o){return o(e,t)})}},r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Bl(),SO(this),Fl()))},r.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e.onError=Zle,e},r.prototype.toString=function(){return"Reaction["+this.name+"]"},r.prototype.whyRun=function(){var e=pb(this._isRunning?this.newObserving:this.observing).map(function(t){return t.name});return`
WhyRun? reaction '`+this.name+`':
 * Status: [`+(this.isDisposed?"stopped":this._isRunning?"running":this.isScheduled()?"scheduled":"idle")+`]
 * This reaction will re-run if any of the following observables changes:
    `+EO(e)+`
    `+(this._isRunning?" (... or any observable accessed during the remainder of the current run)":"")+`
	`+_r("m038")+`
`},r.prototype.trace=function(e){e===void 0&&(e=!1),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=!1;typeof t[t.length-1]=="boolean"&&(i=t.pop());var o=OF(t);if(!o)return Di("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");o.isTracing===$a.NONE&&console.log("[mobx.trace] '"+o.name+"' tracing enabled"),o.isTracing=i?$a.BREAK:$a.LOG}(this,e)},r}();function Zle(r){Wt(this&&this.$mobx&&fd(this.$mobx),"Invalid `this`"),Wt(!this.$mobx.errorHandler,"Only one onErrorHandler can be registered"),this.$mobx.errorHandler=r}var W3=100,TO=function(r){return r()};function SF(){xt.inBatch>0||xt.isRunningReactions||TO(Qle)}function Qle(){xt.isRunningReactions=!0;for(var r=xt.pendingReactions,e=0;r.length>0;){++e===W3&&(console.error("Reaction doesn't converge to a stable state after "+W3+" iterations. Probably there is a cycle in the reactive function: "+r[0]),r.splice(0));for(var t=r.splice(0),n=0,i=t.length;n<i;n++)t[n].runReaction()}xt.isRunningReactions=!1}var fd=of("Reaction",Gg);function wS(r){return Nb(function(e,t,n,i,o){Wt(o!==void 0,_r("m009")),Wt(typeof o.get=="function",_r("m010")),K4(sd(e,""),t,o.get,o.set,r,!1)},function(e){var t=this.$mobx.values[e];if(t!==void 0)return t.get()},function(e,t){this.$mobx.values[e].set(t)},!1,!1)}var Jle=wS(Su.default),ece=wS(Su.structural),yb=function(r,e,t){if(typeof e=="string")return Jle.apply(null,arguments);Wt(typeof r=="function",_r("m011")),Wt(arguments.length<3,_r("m012"));var n=typeof e=="object"?e:{};n.setter=typeof e=="function"?e:n.setter;var i=n.equals?n.equals:n.compareStructural||n.struct?Su.structural:Su.default;return new tf(r,n.context,i,n.name||r.name||"",n.setter)};function Wi(r,e,t){function n(c){return e&&t.push([r,c]),c}if(e===void 0&&(e=!0),t===void 0&&(t=[]),vd(r)){if(e&&t===null&&(t=[]),e&&r!==null&&typeof r=="object"){for(var i=0,o=t.length;i<o;i++)if(t[i][0]===r)return t[i][1]}if(Ou(r)){var a=n([]),u=r.map(function(c){return Wi(c,e,t)});for(a.length=u.length,i=0,o=u.length;i<o;i++)a[i]=u[i];return a}if(Bs(r)){for(var s in a=n({}),r)a[s]=Wi(r[s],e,t);return a}if(Ra(r)){var l=n({});return r.forEach(function(c,f){return l[f]=Wi(c,e,t)}),l}if(vS(r))return Wi(r.get(),e,t)}return r}yb.struct=ece,yb.equals=wS;var ES={allowStateChanges:function(r,e){var t,n=V4(r);try{t=e()}finally{W4(n)}return t},deepEqual:Lb,getAtom:Fs,getDebugName:xO,getDependencyTree:fF,getAdministration:wu,getGlobalState:function(){return xt},getObserverTree:function(r,e){return dF(Fs(r,e))},interceptReads:function(r,e,t){var n;if(Ra(r)||Ou(r)||vS(r))n=wu(r);else{if(!Bs(r))return Di("Expected observable map, object or array as first array");if(typeof e!="string")return Di("InterceptReads can only be used with a specific property, not with an object in general");n=wu(r,e)}return n.dehancer!==void 0?Di("An intercept reader was already established"):(n.dehancer=typeof e=="function"?e:t,function(){n.dehancer=void 0})},isComputingDerivation:_F,isSpyEnabled:lo,onReactionError:function(r){return xt.globalReactionErrorHandlers.push(r),function(){var e=xt.globalReactionErrorHandlers.indexOf(r);e>=0&&xt.globalReactionErrorHandlers.splice(e,1)}},reserveArrayBuffer:dS,resetGlobalState:function(){xt.resetId++;var r=new uF;for(var e in r)Kle.indexOf(e)===-1&&(xt[e]=r[e]);xt.allowStateChanges=!xt.strictMode},isolateGlobalState:function(){cF=!0,zg().__mobxInstanceCount--},shareGlobalState:function(){Wc("Using `shareGlobalState` is not recommended, use peer dependencies instead. See https://github.com/mobxjs/mobx/issues/1082 for details."),lF=!0;var r=zg(),e=xt;if(r.__mobservableTrackingStack||r.__mobservableViewStack)throw new Error("[mobx] An incompatible version of mobservable is already loaded.");if(r.__mobxGlobal&&r.__mobxGlobal.version!==e.version)throw new Error("[mobx] An incompatible version of mobx is already loaded.");r.__mobxGlobal?xt=r.__mobxGlobal:r.__mobxGlobal=e},spyReport:ef,spyReportEnd:Ja,spyReportStart:Qa,setReactionScheduler:function(r){var e=TO;TO=function(t){return r(function(){return e(t)})}}},CO={Reaction:Gg,untracked:EF,Atom:Dle,BaseAtom:$g,useStrict:G4,isStrictModeEnabled:function(){return xt.strictMode},spy:F4,comparer:Su,asReference:function(r){return Wc("asReference is deprecated, use observable.ref instead"),_n.ref(r)},asFlat:function(r){return Wc("asFlat is deprecated, use observable.shallow instead"),_n.shallow(r)},asStructure:function(r){return Wc("asStructure is deprecated. Use observable.struct, computed.struct or reaction options instead."),_n.struct(r)},asMap:function(r){return Wc("asMap is deprecated, use observable.map or observable.shallowMap instead"),_n.map(r||{})},isModifierDescriptor:nf,isObservableObject:Bs,isBoxedObservable:vS,isObservableArray:Ou,ObservableMap:ud,isObservableMap:Ra,map:function(r){return Wc("`mobx.map` is deprecated, use `new ObservableMap` or `mobx.observable.map` instead"),_n.map(r)},transaction:Yh,observable:_n,computed:yb,isObservable:vd,isComputed:function(r,e){if(r==null)return!1;if(e!==void 0){if(Bs(r)===!1||!r.$mobx.values[e])return!1;var t=Fs(r,e);return Eu(t)}return Eu(r)},extendObservable:Q4,extendShallowObservable:J4,observe:function(r,e,t,n){return typeof t=="function"?function(i,o,a,u){return wu(i,o).observe(a,u)}(r,e,t,n):function(i,o,a){return wu(i).observe(o,a)}(r,e,t)},intercept:function(r,e,t){return typeof t=="function"?function(n,i,o){return wu(n,i).intercept(o)}(r,e,t):function(n,i){return wu(n).intercept(i)}(r,e)},autorun:vb,autorunAsync:function(r,e,t,n){var i,o,a,u;typeof r=="string"?(i=r,o=e,a=t,u=n):(i=r.name||"AutorunAsync@"+Ii(),o=r,a=e,u=t),Wt(db(o)===!1,_r("m006")),a===void 0&&(a=1),u&&(o=o.bind(u));var s=!1,l=new Gg(i,function(){s||(s=!0,setTimeout(function(){s=!1,l.isDisposed||l.track(c)},a))});function c(){o(l)}return l.schedule(),l.getDisposer()},when:function(r,e,t,n){var i,o,a,u;return typeof r=="string"?(i=r,o=e,a=t,u=n):(i="When@"+Ii(),o=r,a=e,u=t),vb(i,function(s){if(o.call(u)){s.dispose();var l=af();a.call(u),xu(l)}})},reaction:Y4,action:Jr,isAction:db,runInAction:function(r,e,t){var n=typeof r=="string"?r:r.name||"<unnamed action>",i=typeof r=="function"?r:e,o=typeof r=="function"?e:t;return Wt(typeof i=="function",_r("m002")),Wt(i.length===0,_r("m003")),Wt(typeof n=="string"&&n.length>0,"actions should have valid names, got: '"+n+"'"),pS(n,i,o,void 0)},expr:function(r,e){return _F()||console.warn(_r("m013")),yb(r,{context:e}).get()},toJS:Wi,createTransformer:function(r,e){Wt(typeof r=="function"&&r.length<2,"createTransformer expects a function that accepts one argument");var t={},n=xt.resetId,i=function(o){function a(u,s){var l=o.call(this,function(){return r(s)},void 0,Su.default,"Transformer-"+r.name+"-"+u,void 0)||this;return l.sourceIdentifier=u,l.sourceObject=s,l}return Db(a,o),a.prototype.onBecomeUnobserved=function(){var u=this.value;o.prototype.onBecomeUnobserved.call(this),delete t[this.sourceIdentifier],e&&e(u,this.sourceObject)},a}(tf);return function(o){n!==xt.resetId&&(t={},n=xt.resetId);var a=function(s){if(typeof s=="string"||typeof s=="number")return s;if(s===null||typeof s!="object")throw new Error("[mobx] transform expected some kind of object or primitive value, got: "+s);var l=s.$transformId;return l===void 0&&zl(s,"$transformId",l=Ii()),l}(o),u=t[a];return u?u.get():(u=t[a]=new i(a,o)).get()}},whyRun:function(r,e){return Wc("`whyRun` is deprecated in favor of `trace`"),(r=OF(arguments))?Eu(r)||fd(r)?V3(r.whyRun()):Di(_r("m025")):V3(_r("m024"))},isArrayLike:function(r){return Array.isArray(r)||Ou(r)},extras:ES},H3=!1,tce=function(r){var e=CO[r];Object.defineProperty(CO,r,{get:function(){return H3||(H3=!0,console.warn("Using default export (`import mobx from 'mobx'`) is deprecated and won\u2019t work in mobx@4.0.0\nUse `import * as mobx from 'mobx'` instead")),e}})};for(Y3 in CO)tce(Y3);var Y3;function ug(r){return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(r)}function rce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,TF(n.key),n)}}function TF(r){var e=function(t){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(ug(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return ug(e)=="symbol"?e:e+""}typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:F4,extras:ES});var nce=["onLayoutDone","onLayoutStep","onError","onInitialization","onLayoutComputing","onWebGLContextLost","onZoomTransitionDone","restart"],ice=function(){return r=function t(){var n,i,o,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,t),n=this,o=void 0,(i=TF(i="callbacks"))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.callbacks=a},e=[{key:"onInitialization",value:function(){this.isValidFunction(this.callbacks.onInitialization)&&this.callbacks.onInitialization()}},{key:"onZoomTransitionDone",value:function(){this.isValidFunction(this.callbacks.onZoomTransitionDone)&&this.callbacks.onZoomTransitionDone()}},{key:"onLayoutDone",value:function(){this.isValidFunction(this.callbacks.onLayoutDone)&&this.callbacks.onLayoutDone()}},{key:"onLayoutStep",value:function(t){this.isValidFunction(this.callbacks.onLayoutStep)&&this.callbacks.onLayoutStep(t)}},{key:"onLayoutComputing",value:function(t){this.isValidFunction(this.callbacks.onLayoutComputing)&&this.callbacks.onLayoutComputing(t)}},{key:"onError",value:function(t){this.isValidFunction(this.callbacks.onError)&&this.callbacks.onError(t)}},{key:"onWebGLContextLost",value:function(t){this.isValidFunction(this.callbacks.onWebGLContextLost)&&this.callbacks.onWebGLContextLost(t)}},{key:"isValidFunction",value:function(t){return t!==void 0&&typeof t=="function"}}],e&&rce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),oce=In(1803),X3=In.n(oce),Ct=256,Up=4096,on=25,CF="#818790",PF="#EDEDED",AF="#CFD1D4",RF="#F5F6F6",IF="#8FE3E8",xS="#1A1B1D",Jp='"Open Sans", sans-serif',PO={position:"absolute",top:0,bottom:0,left:0,right:0},ace=1/.38,Tr=function(){return window.devicePixelRatio||1};function sce(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,u,s,l=[],c=!0,f=!1;try{if(u=(i=i.call(t)).next,n===0){if(Object(i)!==i)return;c=!1}else for(;!(c=(o=u.call(i)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}(r,e)||DF(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function K3(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=DF(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function DF(r,e){if(r){if(typeof r=="string")return $3(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$3(r,e):void 0}}function $3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var uce=-Math.PI/2;function zp(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return Z3(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Z3(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function Z3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var MF=function(r,e){var t=[r,e].sort();return"".concat(t[0],".").concat(t[1])},W0=function(r){var e=new Set;return r.forEach(function(t){var n=t.from,i=t.to,o=MF(n,i);e.has(o)||e.add(o)}),e},AO=function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:PF,t=new Map;return r.forEach(function(n){var i=n.id,o=n.from,a=n.to,u=n.color,s=n.width,l=n.disabled,c=MF(o,a),f=t.get(c);f?f.bundledRels.push({id:i,color:u??void 0,disabled:l!=null&&l,width:s??1}):t.set(c,{bundledRels:[{id:i,color:u??void 0,disabled:l!=null&&l,width:s??1}],key:c,from:o,to:a,color:u??void 0,disabled:l!=null&&l,width:0})}),t.forEach(function(n){var i=(0,Kr.uniqBy)(n.bundledRels,"disabled"),o=i.length===1&&i[0].disabled===!0,a=i.length===1&&i[0].disabled!==!0;if(o)n.color=e,n.width=1;else{var u=n.bundledRels.filter(function(l){return l.disabled!==!0}),s=(0,Kr.uniqBy)(u,"color");a?(n.color=s.length>1?void 0:n.bundledRels[0].color,n.bundledRels.forEach(function(l){n.width+=l.width})):(n.color=s.length===1?s[0].color:void 0,n.disabled=!1,n.bundledRels.forEach(function(l){n.width+=l.disabled!==!0?l.width:0}))}n.width=Math.min(n.width,20)}),Array.from(t.values())},rf=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).find(function(r){return"size"in r})!==void 0};function lg(r){return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(r)}function Q3(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function lce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Q3(Object(t),!0).forEach(function(n){Ya(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Q3(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Wx(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return J3(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?J3(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function J3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function cce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,kF(n.key),n)}}function Ya(r,e,t){return(e=kF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function kF(r){var e=function(t){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(lg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return lg(e)=="symbol"?e:e+""}var eB=function(r,e,t){return r+(e-r)*function(n){return n*n*(3-2*n)}(t)},OS=function(){return r=function t(n){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Ya(this,"positions",void 0),Ya(this,"oldPositions",void 0),Ya(this,"startTime",void 0),Ya(this,"t",void 0),Ya(this,"currentT",void 0),Ya(this,"state",void 0),Ya(this,"shouldUpdateAnimator",void 0),Ya(this,"parents",void 0),Ya(this,"animationCompleteCallback",void 0),Ya(this,"shouldUpdate",void 0);var i=n.state;this.positions={},this.oldPositions={},this.startTime=0,this.t=1,this.currentT=1,this.state=i,this.shouldUpdateAnimator=!1,this.parents={},this.animationCompleteCallback=n.animationCompleteCallback},e=[{key:"getPositionMapFromState",value:function(){var t,n=this.state.nodes,i=n.idToPosition,o={},a=Wx(n.items);try{for(a.s();!(t=a.n()).done;){var u=t.value,s=i[u.id];s!==void 0&&(o[u.id]={id:u.id,x:s.x,y:s.y})}}catch(l){a.e(l)}finally{a.f()}return o}},{key:"updatePositionsFromState",value:function(){this.positions=this.getPositionMapFromState()}},{key:"updateOldPositionFromState",value:function(){this.oldPositions=this.getPositionMapFromState()}},{key:"startAnimation",value:function(){this.updateOldPositionFromState(),this.startTime=Date.now(),this.t=0,this.currentT=0,this.shouldUpdateAnimator=!0}},{key:"update",value:function(){var t=this.shouldUpdateAnimator,n=(Date.now()-this.startTime)/400;this.t=Math.min(n,1),this.currentT<1?this.shouldUpdateAnimator=!0:(this.shouldUpdateAnimator=!1,t&&!this.shouldUpdateAnimator&&this.animationCompleteCallback!==void 0&&this.animationCompleteCallback(),this.shouldUpdateAnimator||this.updatePositionsFromState())}},{key:"updateNodes",value:function(t){var n,i=Wx(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.x!==void 0&&o.y!==void 0&&(this.positions[o.id]={id:o.id,x:o.x,y:o.y}),this.shouldUpdate=!0}}catch(a){i.e(a)}finally{i.f()}}},{key:"getNodePositions",value:function(t){var n,i=this.parents,o=this.state.nodes.idToPosition,a=function(m,_){for(var w={x:0,y:0},O=m.length,E=0,S=0;S<O;S++){var P=_[m[S].id];P===void 0||isNaN(P.x)||isNaN(P.y)||P.x===0||P.y===0||(w.x+=P.x,w.y+=P.y,E+=1)}return E>0?[w.x/E,w.y/E]:[0,0]}(t,o),u={x:a[0],y:a[1]},s=[],l=Wx(t);try{for(l.s();!(n=l.n()).done;){var c=n.value,f=this.positions[c.id],h=o[c.id],v={id:c.id};if(f!==void 0){for(var d,y,p,g=c.id,b=(d=this.oldPositions[c.id])!==null&&d!==void 0?d:lce({},u);b===void 0&&i[g]!==void 0;)g=i[g],b=this.oldPositions[g];b.x=(y=b.x)!==null&&y!==void 0?y:u.x,b.y=(p=b.y)!==null&&p!==void 0?p:u.y,v.x=eB(b.x,f.x,this.t),v.y=eB(b.y,f.y,this.t)}else h!==void 0&&(v.x=h.x||u.x,v.y=h.y||u.y);s.push(v)}}catch(m){l.e(m)}finally{l.f()}return this.currentT=this.t,s}}],e&&cce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function Qh(r){return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(r)}function fce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,LF(n.key),n)}}function NF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!r})()}function RO(){return RO=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=Jh(o))!==null;);return o}(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},RO.apply(null,arguments)}function Jh(r){return Jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Jh(r)}function IO(r,e){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},IO(r,e)}function tB(r,e,t){return(e=LF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function LF(r){var e=function(t){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Qh(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Qh(e)=="symbol"?e:e+""}var no="CircularLayout",hce=function(){function r(n){var i;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,r),tB(i=function(s,l,c){return l=Jh(l),function(f,h){if(h&&(Qh(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(f)}(s,NF()?Reflect.construct(l,c||[],Jh(s).constructor):l.apply(s,c))}(this,r,[n]),"stateDisposers",void 0),tB(i,"sortFunction",void 0);var o=i.state,a=o.nodes,u=o.rels;return a.addChannel(no),u.addChannel(no),i.stateDisposers=[i.state.reaction(function(){return i.state.graphUpdates},function(){if(a.version!==void 0){var s=a.channels[no],l=Object.values(s.adds).length>0,c=Object.values(s.removes).length>0,f=Object.values(s.updates),h=rf(f);i.shouldUpdate=i.shouldUpdate||l||c||h}if(u.version!==void 0){var v=u.channels[no],d=Object.values(v.adds).length>0,y=Object.values(v.removes).length>0;i.shouldUpdate=i.shouldUpdate||d||y}})],i.shouldUpdate=!0,i.setOptions(n),i.layout(a.items),i}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&IO(n,i)}(r,OS),e=r,t=[{key:"setOptions",value:function(n){n&&"sortFunction"in n&&(this.sortFunction=n.sortFunction)}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||n){var i=this.state,o=i.nodes,a=i.rels,u=Object.values(o.channels[no].adds).length>0,s=Object.values(a.channels[no].adds).length>0,l=Object.values(o.channels[no].removes).length>0,c=Object.values(a.channels[no].removes).length>0,f=Object.values(o.channels[no].updates),h=rf(f);(n||u||s||l||c||h)&&this.layout(o.items),o.clearChannel(no),a.clearChannel(no)}(function(v,d,y){var p=RO(Jh(v.prototype),"update",y);return typeof p=="function"?function(g){return p.apply(y,g)}:p})(r,0,this)([]),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return!1}},{key:"layout",value:function(n){var i,o,a,u=(a=n)!==void 0?Wi(a):a,s=(i=(o=this.sortFunction)===null||o===void 0?void 0:o.call(this,u))!==null&&i!==void 0?i:u;this.positions=function(l){var c,f=0,h=[],v=Tr(),d=K3(l);try{for(d.s();!(c=d.n()).done;){var y,p=(2*((y=c.value.size)!==null&&y!==void 0?y:on)+12.5)*v;f+=p,h.push(p)}}catch(N){d.e(N)}finally{d.f()}var g=f/(2*Math.PI);if(g<250){var b=250/g;h.forEach(function(N,B){return h[B]=N*b}),g=250}var m,_=uce,w={},O=K3(l.entries());try{for(O.s();!(m=O.n()).done;){var E=sce(m.value,2),S=E[0],P=E[1],I=h[S]/g,R=_+I/2;_=R+I/2;var D=Math.cos(R)*g,k=Math.sin(R)*g;w[P.id]={id:P.id,x:D,y:k}}}catch(N){O.e(N)}finally{O.f()}return w}(s),this.shouldUpdate=!0,this.startAnimation()}},{key:"terminateUpdate",value:function(){var n,i;this.shouldUpdate=!1,(n=this.state.nodes)===null||n===void 0||n.clearChannel(no),(i=this.state.rels)===null||i===void 0||i.clearChannel(no)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(n){n()}),this.state.nodes.removeChannel(no),this.state.rels.removeChannel(no)}}],t&&fce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),dce={value:()=>{}};function jF(){for(var r,e=0,t=arguments.length,n={};e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cb(n)}function cb(r){this._=r}function vce(r,e){for(var t,n=0,i=r.length;n<i;++n)if((t=r[n]).name===e)return t.value}function rB(r,e,t){for(var n=0,i=r.length;n<i;++n)if(r[n].name===e){r[n]=dce,r=r.slice(0,n).concat(r.slice(n+1));break}return t!=null&&r.push({name:e,value:t}),r}cb.prototype=jF.prototype={constructor:cb,on:function(r,e){var t,n,i=this._,o=(n=i,(r+"").trim().split(/^|\s+/).map(function(s){var l="",c=s.indexOf(".");if(c>=0&&(l=s.slice(c+1),s=s.slice(0,c)),s&&!n.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:l}})),a=-1,u=o.length;if(!(arguments.length<2)){if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(t=(r=o[a]).type)i[t]=rB(i[t],r.name,e);else if(e==null)for(t in i)i[t]=rB(i[t],r.name,null);return this}for(;++a<u;)if((t=(r=o[a]).type)&&(t=vce(i[t],r.name)))return t},copy:function(){var r={},e=this._;for(var t in e)r[t]=e[t].slice();return new cb(r)},call:function(r,e){if((t=arguments.length-2)>0)for(var t,n,i=new Array(t),o=0;o<t;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=0,t=(n=this._[r]).length;o<t;++o)n[o].value.apply(e,i)},apply:function(r,e,t){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(e,t)}};var pce=jF,fb,eg,$h=0,tg=0,qp=0,mb=0,$c=0,Bb=0,Vg=typeof performance=="object"&&performance.now?performance:Date,BF=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(r){setTimeout(r,17)};function FF(){return $c||(BF(gce),$c=Vg.now()+Bb)}function gce(){$c=0}function DO(){this._call=this._time=this._next=null}function UF(r,e,t){var n=new DO;return n.restart(r,e,t),n}function nB(){$c=(mb=Vg.now())+Bb,$h=tg=0;try{(function(){FF(),++$h;for(var r,e=fb;e;)(r=$c-e._time)>=0&&e._call.call(void 0,r),e=e._next;--$h})()}finally{$h=0,function(){for(var r,e,t=fb,n=1/0;t;)t._call?(n>t._time&&(n=t._time),r=t,t=t._next):(e=t._next,t._next=null,t=r?r._next=e:fb=e);eg=r,MO(n)}(),$c=0}}function yce(){var r=Vg.now(),e=r-mb;e>1e3&&(Bb-=e,mb=r)}function MO(r){$h||(tg&&(tg=clearTimeout(tg)),r-$c>24?(r<1/0&&(tg=setTimeout(nB,r-Vg.now()-Bb)),qp&&(qp=clearInterval(qp))):(qp||(mb=Vg.now(),qp=setInterval(yce,1e3)),$h=1,BF(nB)))}DO.prototype=UF.prototype={constructor:DO,restart:function(r,e,t){if(typeof r!="function")throw new TypeError("callback is not a function");t=(t==null?FF():+t)+(e==null?0:+e),this._next||eg===this||(eg?eg._next=this:fb=this,eg=this),this._call=r,this._time=t,MO()},stop:function(){this._call&&(this._call=null,this._time=1/0,MO())}};var iB=4294967296;function mce(r){return r.x}function bce(r){return r.y}var _ce=Math.PI*(3-Math.sqrt(5));function oB(r,e,t,n){if(isNaN(e)||isNaN(t))return r;var i,o,a,u,s,l,c,f,h,v=r._root,d={data:n},y=r._x0,p=r._y0,g=r._x1,b=r._y1;if(!v)return r._root=d,r;for(;v.length;)if((l=e>=(o=(y+g)/2))?y=o:g=o,(c=t>=(a=(p+b)/2))?p=a:b=a,i=v,!(v=v[f=c<<1|l]))return i[f]=d,r;if(u=+r._x.call(null,v.data),s=+r._y.call(null,v.data),e===u&&t===s)return d.next=v,i?i[f]=d:r._root=d,r;do i=i?i[f]=new Array(4):r._root=new Array(4),(l=e>=(o=(y+g)/2))?y=o:g=o,(c=t>=(a=(p+b)/2))?p=a:b=a;while((f=c<<1|l)==(h=(s>=a)<<1|u>=o));return i[h]=v,i[f]=d,r}function io(r,e,t,n,i){this.node=r,this.x0=e,this.y0=t,this.x1=n,this.y1=i}function wce(r){return r[0]}function Ece(r){return r[1]}function SS(r,e,t){var n=new TS(e??wce,t??Ece,NaN,NaN,NaN,NaN);return r==null?n:n.addAll(r)}function TS(r,e,t,n,i,o){this._x=r,this._y=e,this._x0=t,this._y0=n,this._x1=i,this._y1=o,this._root=void 0}function aB(r){for(var e={data:r.data},t=e;r=r.next;)t=t.next={data:r.data};return e}var oo=SS.prototype=TS.prototype;function uo(r){return function(){return r}}function kl(r){return 1e-6*(r()-.5)}function Hx(){var r,e,t,n,i,o=uo(-30),a=1,u=1/0,s=.81;function l(v){var d,y=r.length,p=SS(r,mce,bce).visitAfter(f);for(n=v,d=0;d<y;++d)e=r[d],p.visit(h)}function c(){if(r){var v,d,y=r.length;for(i=new Array(y),v=0;v<y;++v)d=r[v],i[d.index]=+o(d,v,r)}}function f(v){var d,y,p,g,b,m=0,_=0;if(v.length){for(p=g=b=0;b<4;++b)(d=v[b])&&(y=Math.abs(d.value))&&(m+=d.value,_+=y,p+=y*d.x,g+=y*d.y);v.x=p/_,v.y=g/_}else{(d=v).x=d.data.x,d.y=d.data.y;do m+=i[d.data.index];while(d=d.next)}v.value=m}function h(v,d,y,p){if(!v.value)return!0;var g=v.x-e.x,b=v.y-e.y,m=p-d,_=g*g+b*b;if(m*m/s<_)return _<u&&(g===0&&(_+=(g=kl(t))*g),b===0&&(_+=(b=kl(t))*b),_<a&&(_=Math.sqrt(a*_)),e.vx+=g*v.value*n/_,e.vy+=b*v.value*n/_),!0;if(!(v.length||_>=u)){(v.data!==e||v.next)&&(g===0&&(_+=(g=kl(t))*g),b===0&&(_+=(b=kl(t))*b),_<a&&(_=Math.sqrt(a*_)));do v.data!==e&&(m=i[v.data.index]*n/_,e.vx+=g*m,e.vy+=b*m);while(v=v.next)}}return l.initialize=function(v,d){r=v,t=d,c()},l.strength=function(v){return arguments.length?(o=typeof v=="function"?v:uo(+v),c(),l):o},l.distanceMin=function(v){return arguments.length?(a=v*v,l):Math.sqrt(a)},l.distanceMax=function(v){return arguments.length?(u=v*v,l):Math.sqrt(u)},l.theta=function(v){return arguments.length?(s=v*v,l):Math.sqrt(s)},l}function xce(r){return r.x+r.vx}function Oce(r){return r.y+r.vy}function Sce(r){return r.index}function sB(r,e){var t=r.get(e);if(!t)throw new Error("node not found: "+e);return t}oo.copy=function(){var r,e,t=new TS(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return t;if(!n.length)return t._root=aB(n),t;for(r=[{source:n,target:t._root=new Array(4)}];n=r.pop();)for(var i=0;i<4;++i)(e=n.source[i])&&(e.length?r.push({source:e,target:n.target[i]=new Array(4)}):n.target[i]=aB(e));return t},oo.add=function(r){let e=+this._x.call(null,r),t=+this._y.call(null,r);return oB(this.cover(e,t),e,t,r)},oo.addAll=function(r){var e,t,n,i,o=r.length,a=new Array(o),u=new Array(o),s=1/0,l=1/0,c=-1/0,f=-1/0;for(t=0;t<o;++t)isNaN(n=+this._x.call(null,e=r[t]))||isNaN(i=+this._y.call(null,e))||(a[t]=n,u[t]=i,n<s&&(s=n),n>c&&(c=n),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),t=0;t<o;++t)oB(this,a[t],u[t],r[t]);return this},oo.cover=function(r,e){if(isNaN(r=+r)||isNaN(e=+e))return this;var t=this._x0,n=this._y0,i=this._x1,o=this._y1;if(isNaN(t))i=(t=Math.floor(r))+1,o=(n=Math.floor(e))+1;else{for(var a,u,s=i-t||1,l=this._root;t>r||r>=i||n>e||e>=o;)switch(u=(e<n)<<1|r<t,(a=new Array(4))[u]=l,l=a,s*=2,u){case 0:i=t+s,o=n+s;break;case 1:t=i-s,o=n+s;break;case 2:i=t+s,n=o-s;break;case 3:t=i-s,n=o-s}this._root&&this._root.length&&(this._root=l)}return this._x0=t,this._y0=n,this._x1=i,this._y1=o,this},oo.data=function(){var r=[];return this.visit(function(e){if(!e.length)do r.push(e.data);while(e=e.next)}),r},oo.extent=function(r){return arguments.length?this.cover(+r[0][0],+r[0][1]).cover(+r[1][0],+r[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},oo.find=function(r,e,t){var n,i,o,a,u,s,l,c=this._x0,f=this._y0,h=this._x1,v=this._y1,d=[],y=this._root;for(y&&d.push(new io(y,c,f,h,v)),t==null?t=1/0:(c=r-t,f=e-t,h=r+t,v=e+t,t*=t);s=d.pop();)if(!(!(y=s.node)||(i=s.x0)>h||(o=s.y0)>v||(a=s.x1)<c||(u=s.y1)<f))if(y.length){var p=(i+a)/2,g=(o+u)/2;d.push(new io(y[3],p,g,a,u),new io(y[2],i,g,p,u),new io(y[1],p,o,a,g),new io(y[0],i,o,p,g)),(l=(e>=g)<<1|r>=p)&&(s=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=s)}else{var b=r-+this._x.call(null,y.data),m=e-+this._y.call(null,y.data),_=b*b+m*m;if(_<t){var w=Math.sqrt(t=_);c=r-w,f=e-w,h=r+w,v=e+w,n=y.data}}return n},oo.remove=function(r){if(isNaN(o=+this._x.call(null,r))||isNaN(a=+this._y.call(null,r)))return this;var e,t,n,i,o,a,u,s,l,c,f,h,v=this._root,d=this._x0,y=this._y0,p=this._x1,g=this._y1;if(!v)return this;if(v.length)for(;;){if((l=o>=(u=(d+p)/2))?d=u:p=u,(c=a>=(s=(y+g)/2))?y=s:g=s,e=v,!(v=v[f=c<<1|l]))return this;if(!v.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(t=e,h=f)}for(;v.data!==r;)if(n=v,!(v=v.next))return this;return(i=v.next)&&delete v.next,n?(i?n.next=i:delete n.next,this):e?(i?e[f]=i:delete e[f],(v=e[0]||e[1]||e[2]||e[3])&&v===(e[3]||e[2]||e[1]||e[0])&&!v.length&&(t?t[h]=v:this._root=v),this):(this._root=i,this)},oo.removeAll=function(r){for(var e=0,t=r.length;e<t;++e)this.remove(r[e]);return this},oo.root=function(){return this._root},oo.size=function(){var r=0;return this.visit(function(e){if(!e.length)do++r;while(e=e.next)}),r},oo.visit=function(r){var e,t,n,i,o,a,u=[],s=this._root;for(s&&u.push(new io(s,this._x0,this._y0,this._x1,this._y1));e=u.pop();)if(!r(s=e.node,n=e.x0,i=e.y0,o=e.x1,a=e.y1)&&s.length){var l=(n+o)/2,c=(i+a)/2;(t=s[3])&&u.push(new io(t,l,c,o,a)),(t=s[2])&&u.push(new io(t,n,c,l,a)),(t=s[1])&&u.push(new io(t,l,i,o,c)),(t=s[0])&&u.push(new io(t,n,i,l,c))}return this},oo.visitAfter=function(r){var e,t=[],n=[];for(this._root&&t.push(new io(this._root,this._x0,this._y0,this._x1,this._y1));e=t.pop();){var i=e.node;if(i.length){var o,a=e.x0,u=e.y0,s=e.x1,l=e.y1,c=(a+s)/2,f=(u+l)/2;(o=i[0])&&t.push(new io(o,a,u,c,f)),(o=i[1])&&t.push(new io(o,c,u,s,f)),(o=i[2])&&t.push(new io(o,a,f,c,l)),(o=i[3])&&t.push(new io(o,c,f,s,l))}n.push(e)}for(;e=n.pop();)r(e.node,e.x0,e.y0,e.x1,e.y1);return this},oo.x=function(r){return arguments.length?(this._x=r,this):this._x},oo.y=function(r){return arguments.length?(this._y=r,this):this._y};var Tce=In(5880),zF=In.n(Tce),Ur=zF().getLogger("NVL");function kO(r){return kO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kO(r)}var Cce=function(r){var e,t;return typeof r.source=="number"||typeof r.target=="number"||typeof r.source=="string"||typeof r.target=="string"?45*devicePixelRatio:((e=r.source.size)!==null&&e!==void 0?e:on)+((t=r.target.size)!==null&&t!==void 0?t:on)+90*devicePixelRatio};function uB(r){return kO(r)==="object"}var Pce=function(r){var e;return((e=r.size)!==null&&e!==void 0?e:on)+25*devicePixelRatio},NO=function(){return-400*Math.pow(devicePixelRatio,2)},Ace=function(){return 2*NO()};function Zc(r){return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(r)}function lB(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function cB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Rce(r,e,t){return(e=qF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ice(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,qF(n.key),n)}}function qF(r){var e=function(t){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Zc(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Zc(e)=="symbol"?e:e+""}var Ms="d3ForceLayout",Yx=function(r){return r&&Wi(r)},Dce=function(){return r=function t(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t);var o=n.state;this.state=o,this.d3Nodes={},this.d3RelList={},this.computing=!1,this.center={x:0,y:0},this.nodeRelCount=[];var a=this.state,u=a.nodes,s=a.rels;u.addChannel(Ms),s.addChannel(Ms),this.simulation=function(l){var c,f=1,h=.001,v=1-Math.pow(h,1/300),d=0,y=.6,p=new Map,g=UF(_),b=pce("tick","end"),m=function(){let S=1;return()=>(S=(1664525*S+1013904223)%iB)/iB}();function _(){w(),b.call("tick",c),f<h&&(g.stop(),b.call("end",c))}function w(S){var P,I,R=l.length;S===void 0&&(S=1);for(var D=0;D<S;++D)for(f+=(d-f)*v,p.forEach(function(k){k(f)}),P=0;P<R;++P)(I=l[P]).fx==null?I.x+=I.vx*=y:(I.x=I.fx,I.vx=0),I.fy==null?I.y+=I.vy*=y:(I.y=I.fy,I.vy=0);return c}function O(){for(var S,P=0,I=l.length;P<I;++P){if((S=l[P]).index=P,S.fx!=null&&(S.x=S.fx),S.fy!=null&&(S.y=S.fy),isNaN(S.x)||isNaN(S.y)){var R=10*Math.sqrt(.5+P),D=P*_ce;S.x=R*Math.cos(D),S.y=R*Math.sin(D)}(isNaN(S.vx)||isNaN(S.vy))&&(S.vx=S.vy=0)}}function E(S){return S.initialize&&S.initialize(l,m),S}return l==null&&(l=[]),O(),c={tick:w,restart:function(){return g.restart(_),c},stop:function(){return g.stop(),c},nodes:function(S){return arguments.length?(l=S,O(),p.forEach(E),c):l},alpha:function(S){return arguments.length?(f=+S,c):f},alphaMin:function(S){return arguments.length?(h=+S,c):h},alphaDecay:function(S){return arguments.length?(v=+S,c):+v},alphaTarget:function(S){return arguments.length?(d=+S,c):d},velocityDecay:function(S){return arguments.length?(y=1-S,c):1-y},randomSource:function(S){return arguments.length?(m=S,p.forEach(E),c):m},force:function(S,P){return arguments.length>1?(P==null?p.delete(S):p.set(S,E(P)),c):p.get(S)},find:function(S,P,I){var R,D,k,N,B,z=0,F=l.length;for(I==null?I=1/0:I*=I,z=0;z<F;++z)(k=(R=S-(N=l[z]).x)*R+(D=P-N.y)*D)<I&&(B=N,I=k);return B},on:function(S,P){return arguments.length>1?(b.on(S,P),c):b.on(S)}}}().velocityDecay(.4).force("charge",Hx().strength(NO)).force("centerX",function(l){var c,f,h,v=uo(.1);function d(p){for(var g,b=0,m=c.length;b<m;++b)(g=c[b]).vx+=(h[b]-g.x)*f[b]*p}function y(){if(c){var p,g=c.length;for(f=new Array(g),h=new Array(g),p=0;p<g;++p)f[p]=isNaN(h[p]=+l(c[p],p,c))?0:+v(c[p],p,c)}}return typeof l!="function"&&(l=uo(l==null?0:+l)),d.initialize=function(p){c=p,y()},d.strength=function(p){return arguments.length?(v=typeof p=="function"?p:uo(+p),y(),d):v},d.x=function(p){return arguments.length?(l=typeof p=="function"?p:uo(+p),y(),d):l},d}(0).strength(.03)).force("centerY",function(l){var c,f,h,v=uo(.1);function d(p){for(var g,b=0,m=c.length;b<m;++b)(g=c[b]).vy+=(h[b]-g.y)*f[b]*p}function y(){if(c){var p,g=c.length;for(f=new Array(g),h=new Array(g),p=0;p<g;++p)f[p]=isNaN(h[p]=+l(c[p],p,c))?0:+v(c[p],p,c)}}return typeof l!="function"&&(l=uo(l==null?0:+l)),d.initialize=function(p){c=p,y()},d.strength=function(p){return arguments.length?(v=typeof p=="function"?p:uo(+p),y(),d):v},d.y=function(p){return arguments.length?(l=typeof p=="function"?p:uo(+p),y(),d):l},d}(0).strength(.03)).alpha(1).alphaMin(.05).on("end",function(){i.simulationStopped=!0,i.shouldUpdate=!1,i.shouldReheatNodes=!1,i.shouldCountNodeRels=!1}).stop(),this.simulationStopped=!0,this.shouldUpdate=!0,this.shouldReheatNodes=!1,this.shouldCountNodeRels=!0,this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){var l=u.channels[Ms];if(u.version!==void 0&&l){var c=Object.values(l.adds).length>0,f=Object.values(l.removes).length>0,h=Object.values(l.updates),v=rf(h);c||f||v?(i.shouldUpdate=!0,i.shouldReheatNodes=!0,i.shouldCountNodeRels=!0):i.shouldReheatNodes=!1}var d=s.channels[Ms];if(s.version!==void 0&&d){var y=Object.values(d.adds).length>0,p=Object.values(d.removes).length>0;(y||p)&&(i.shouldUpdate=!0,i.shouldReheatNodes=!0,i.shouldCountNodeRels=!0)}}))},e=[{key:"setOptions",value:function(t){}},{key:"updateNodes",value:function(t){var n=this;t.forEach(function(i){n.d3Nodes[i.id]===void 0&&(n.d3Nodes[i.id]={id:i.id}),i!=null&&i.pinned?(n.d3Nodes[i.id].fx=i.x,n.d3Nodes[i.id].fy=i.y):(n.d3Nodes[i.id].x=i.x,n.d3Nodes[i.id].y=i.y),n.d3Nodes[i.id].vy=0,n.d3Nodes[i.id].vx=0}),this.shouldUpdate=!0,this.simulation.tick().alpha(.2)}},{key:"update",value:function(){var t,n=this,i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||i){var o=this.state,a=o.nodes,u=o.rels,s=a.channels[Ms],l=u.channels[Ms],c=Object.values(s.adds).length>0,f=Object.values(l.adds).length>0,h=Object.values(s.removes).length>0,v=Object.values(l.removes).length>0,d=Object.values(s.updates).length>0;if(c||f||h||v||d){var y=c&&Object.keys(this.d3Nodes).length===0,p=Yx(s.removes);Object.keys(p).forEach(function(m){delete n.d3Nodes[m]});var g=Yx(s.adds);if(Object.keys(g).forEach(function(m){n.d3Nodes[m]=function(_){for(var w=1;w<arguments.length;w++){var O=arguments[w]!=null?arguments[w]:{};w%2?cB(Object(O),!0).forEach(function(E){Rce(_,E,O[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(O)):cB(Object(O)).forEach(function(E){Object.defineProperty(_,E,Object.getOwnPropertyDescriptor(O,E))})}return _}({},g[m])}),d&&Object.values(s.updates).forEach(function(m){m.pinned===!0?(n.d3Nodes[m.id].fx=n.d3Nodes[m.id].x,n.d3Nodes[m.id].fy=n.d3Nodes[m.id].y):m.pinned===!1&&(n.d3Nodes[m.id].fx=null,n.d3Nodes[m.id].fy=null),m.size!==void 0&&(n.d3Nodes[m.id].size=m.size)}),(f||v)&&(this.d3RelList=AO(Yx(u.items)).filter(function(m){return m.from!==m.to}).map(function(m,_){return{source:m.from,target:m.to,index:_}})),y){var b=Object.values(this.d3Nodes);(function(m,_,w){var O=m.filter(function(E){return E.x===void 0&&E.y===void 0});O.forEach(function(E,S){E.x=_.x+w*Math.sin(2*Math.PI*S/O.length),E.y=_.y+w*Math.cos(2*Math.PI*S/O.length)})})(b,this.center,(t=b.length,45*Math.sqrt(t)))}this.layout(a.items,u.items,y)}a.clearChannel(Ms),u.clearChannel(Ms),this.shouldUpdate=!1,this.simulation.alpha()>this.simulation.alphaMin()&&(this.shouldUpdate=!0,this.simulationStopped&&(this.simulation.restart(),this.simulationStopped=!1))}}},{key:"layout",value:function(t,n,i){var o=this;if(!(0,Kr.isEmpty)(this.d3Nodes)){if(Ur.info("d3ForceLayout: start layout with ".concat(Object.keys(this.d3Nodes).length," nodes and ").concat(this.d3RelList.length," rels")),this.simulation.stop(),this.simulation.nodes(Object.values(this.d3Nodes)).force("collide",function(l){var c,f,h,v=1,d=1;function y(){for(var b,m,_,w,O,E,S,P=c.length,I=0;I<d;++I)for(m=SS(c,xce,Oce).visitAfter(p),b=0;b<P;++b)_=c[b],E=f[_.index],S=E*E,w=_.x+_.vx,O=_.y+_.vy,m.visit(R);function R(D,k,N,B,z){var F=D.data,U=D.r,W=E+U;if(!F)return k>w+W||B<w-W||N>O+W||z<O-W;if(F.index>_.index){var Y=w-F.x-F.vx,X=O-F.y-F.vy,Q=Y*Y+X*X;Q<W*W&&(Y===0&&(Q+=(Y=kl(h))*Y),X===0&&(Q+=(X=kl(h))*X),Q=(W-(Q=Math.sqrt(Q)))/Q*v,_.vx+=(Y*=Q)*(W=(U*=U)/(S+U)),_.vy+=(X*=Q)*W,F.vx-=Y*(W=1-W),F.vy-=X*W)}}}function p(b){if(b.data)return b.r=f[b.data.index];for(var m=b.r=0;m<4;++m)b[m]&&b[m].r>b.r&&(b.r=b[m].r)}function g(){if(c){var b,m,_=c.length;for(f=new Array(_),b=0;b<_;++b)m=c[b],f[m.index]=+l(m,b,c)}}return typeof l!="function"&&(l=uo(l==null?1:+l)),y.initialize=function(b,m){c=b,h=m,g()},y.iterations=function(b){return arguments.length?(d=+b,y):d},y.strength=function(b){return arguments.length?(v=+b,y):v},y.radius=function(b){return arguments.length?(l=typeof b=="function"?b:uo(+b),g(),y):l},y}().radius(Pce)),this.shouldCountNodeRels&&(this.nodeRelCount=this.countNodeRels()),this.simulation.force("link",function(l){var c,f,h,v,d,y,p=Sce,g=function(S){return 1/Math.min(v[S.source.index],v[S.target.index])},b=uo(30),m=1;function _(S){for(var P=0,I=l.length;P<m;++P)for(var R,D,k,N,B,z,F,U=0;U<I;++U)D=(R=l[U]).source,N=(k=R.target).x+k.vx-D.x-D.vx||kl(y),B=k.y+k.vy-D.y-D.vy||kl(y),N*=z=((z=Math.sqrt(N*N+B*B))-f[U])/z*S*c[U],B*=z,k.vx-=N*(F=d[U]),k.vy-=B*F,D.vx+=N*(F=1-F),D.vy+=B*F}function w(){if(h){var S,P,I=h.length,R=l.length,D=new Map(h.map((k,N)=>[p(k,N,h),k]));for(S=0,v=new Array(I);S<R;++S)(P=l[S]).index=S,typeof P.source!="object"&&(P.source=sB(D,P.source)),typeof P.target!="object"&&(P.target=sB(D,P.target)),v[P.source.index]=(v[P.source.index]||0)+1,v[P.target.index]=(v[P.target.index]||0)+1;for(S=0,d=new Array(R);S<R;++S)P=l[S],d[S]=v[P.source.index]/(v[P.source.index]+v[P.target.index]);c=new Array(R),O(),f=new Array(R),E()}}function O(){if(h)for(var S=0,P=l.length;S<P;++S)c[S]=+g(l[S],S,l)}function E(){if(h)for(var S=0,P=l.length;S<P;++S)f[S]=+b(l[S],S,l)}return l==null&&(l=[]),_.initialize=function(S,P){h=S,y=P,w()},_.links=function(S){return arguments.length?(l=S,w(),_):l},_.id=function(S){return arguments.length?(p=S,_):p},_.iterations=function(S){return arguments.length?(m=+S,_):m},_.strength=function(S){return arguments.length?(g=typeof S=="function"?S:uo(+S),O(),_):g},_.distance=function(S){return arguments.length?(b=typeof S=="function"?S:uo(+S),E(),_):b},_}(this.d3RelList).id(function(l){return l.id}).distance(Cce).strength(function(l){return function(c,f){if(!uB(c.source)||!uB(c.target))return 1;var h=1.2/(Math.min(f[c.source.index],f[c.target.index])+(Math.max(f[c.source.index],f[c.target.index])-1)/100);return Math.max(Math.min(h,1),.06)}(l,o.nodeRelCount)})),i){this.computing=!0;var a=0;this.simulation.force("charge",Hx().strength(Ace));for(var u=performance.now();performance.now()-u<300&&a<200;)this.simulation.alpha(1),this.simulation.tick(1),a+=1;this.simulation.force("charge",Hx().strength(NO));for(var s=performance.now();performance.now()-s<100&&this.simulation.alpha()>=this.simulation.alphaMin();)this.simulation.tick(1);return requestAnimationFrame(function(){o.computing=!1}),void this.simulation.restart()}this.shouldReheatNodes?this.simulation.alpha(1).restart():this.simulation.restart()}}},{key:"getNodePositions",value:function(t){var n,i=[],o=function(l,c){var f=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!f){if(Array.isArray(l)||(f=function(g,b){if(g){if(typeof g=="string")return lB(g,b);var m={}.toString.call(g).slice(8,-1);return m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set"?Array.from(g):m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m)?lB(g,b):void 0}}(l))||c&&l&&typeof l.length=="number"){f&&(l=f);var h=0,v=function(){};return{s:v,n:function(){return h>=l.length?{done:!0}:{done:!1,value:l[h++]}},e:function(g){throw g},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,y=!0,p=!1;return{s:function(){f=f.call(l)},n:function(){var g=f.next();return y=g.done,g},e:function(g){p=!0,d=g},f:function(){try{y||f.return==null||f.return()}finally{if(p)throw d}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=this.d3Nodes[a.id];if(u!==void 0){var s={id:u.id,x:u.x,y:u.y};i.push(s)}}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return this.computing}},{key:"terminateUpdate",value:function(){this.simulation.alpha(this.simulation.alphaMin()).stop(),this.simulationStopped=!0}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(t){t()}),this.state.nodes.removeChannel(Ms),this.state.rels.removeChannel(Ms),this.simulation.stop()}},{key:"setAlpha",value:function(t){this.simulation.alpha(t),this.simulation.restart(),this.simulation.shouldUpdate=!0}},{key:"countNodeRels",value:function(){for(var t=new Map(Object.entries(this.d3Nodes)),n=Object.values(this.d3RelList),i=new Array(t.length),o=0;o<n.length;++o){var a=n[o];a.index=o,Zc(a.source)!=="object"&&(a.source=t.get(a.source)),Zc(a.target)!=="object"&&(a.target=t.get(a.target)),i[a.source.index]=(i[a.source.index]||0)+1,i[a.target.index]=(i[a.target.index]||0)+1}return i}}],e&&Ice(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),Xx=Gx,Mce={CoseBilkentLayout:{standard:"createCoseBilkentLayoutWorker",fallback:"coseBilkentLayoutFallbackWorker"},HierarchicalLayout:{standard:"createHierarchicalLayoutWorker",fallback:"hierarchicalLayoutFallbackWorker"}},GF=function(r){var e,t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=Mce[r],i=n.standard,o=n.fallback;if(t)e=Xx[o];else try{e=Xx[i]()}catch(a){console.warn("Failed to initialise ".concat(r,' worker: "').concat(JSON.stringify(a),'". Falling back to syncronous code.')),e=Xx[o]}if(e===void 0)throw new Error("".concat(r," code could not be initialized."));return e.port.start(),e};function ed(r){return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ed(r)}function fB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function kce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(t),!0).forEach(function(n){Hc(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Nce(r,e){return function(t){if(Array.isArray(t))return t}(r)||function(t,n){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var o,a,u,s,l=[],c=!0,f=!1;try{if(u=(i=i.call(t)).next,n===0){if(Object(i)!==i)return;c=!1}else for(;!(c=(o=u.call(i)).done)&&(l.push(o.value),l.length!==n);c=!0);}catch(h){f=!0,a=h}finally{try{if(!c&&i.return!=null&&(s=i.return(),Object(s)!==s))return}finally{if(f)throw a}}return l}}(r,e)||VF(r,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hB(r){return function(e){if(Array.isArray(e))return LO(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||VF(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function VF(r,e){if(r){if(typeof r=="string")return LO(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?LO(r,e):void 0}}function LO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Lce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,HF(n.key),n)}}function WF(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!r})()}function jO(){return jO=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=td(o))!==null;);return o}(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},jO.apply(null,arguments)}function td(r){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},td(r)}function BO(r,e){return BO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},BO(r,e)}function Hc(r,e,t){return(e=HF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function HF(r){var e=function(t){if(ed(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(ed(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return ed(e)=="symbol"?e:e+""}var dB=function(r){return r!==void 0?Wi(r):r},jce=function(){function r(n){var i;return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,r),Hc(i=function(o,a,u){return a=td(a),function(s,l){if(l&&(ed(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(s)}(o,WF()?Reflect.construct(a,u||[],td(o).constructor):a.apply(o,u))}(this,r,[n]),"stateDisposers",void 0),Hc(i,"cytoCompleteCallback",void 0),Hc(i,"computing",void 0),Hc(i,"pendingLayoutData",void 0),Hc(i,"worker",void 0),Hc(i,"workersDisabled",void 0),i.stateDisposers=[],i.stateDisposers.push(i.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)})),i.cytoCompleteCallback=n.cytoCompleteCallback,i.shouldUpdate=!0,i.computing=!1,i.workersDisabled=n.state.disableWebWorkers,i.setOptions(),i.worker=GF("CoseBilkentLayout",i.workersDisabled),i.pendingLayoutData=null,i}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&BO(n,i)}(r,OS),e=r,t=[{key:"setOptions",value:function(){this.shouldUpdate=!0}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(this.shouldUpdate||n){var a=dB(i),u=dB(o);(a.length>0||u.length>0)&&(this.updatePositionsFromState(),this.layout(a,u))}(function(s,l,c){var f=jO(td(s.prototype),"update",c);return typeof f=="function"?function(h){return f.apply(c,h)}:f})(r,0,this)([]),this.shouldUpdate=!1}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(n,i){var o=this;if(this.worker){if(n.length){var a=n.map(function(l){return{group:"nodes",data:{id:l.id}}}),u=i.map(function(l){return{group:"edges",data:{id:"rel".concat(l.id),source:l.from,target:l.to}}}),s={elements:[].concat(hB(a),hB(u)),spacingFactor:n.reduce(function(l,c){var f;return l+((f=c.size)!==null&&f!==void 0?f:on)},0)/n.length*4.5/50*Tr()};this.computing?this.pendingLayoutData=s:(this.computing=!0,this.worker.port.onmessage=function(l){var c=l.data.positions;if(o.computing){for(var f=0,h=Object.entries(c);f<h.length;f++){var v=Nce(h[f],2),d=v[0],y=v[1];o.positions[d]=kce({id:d},y)}o.cytoCompleteCallback(),o.startAnimation()}o.computing=!1,o.shouldUpdate=!0},setTimeout(function(){o.computing&&o.worker.port.postMessage(s)},0))}}else Ur.info("Cose-Bilkent layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){this.computing=!1}},{key:"destroy",value:function(){var n;this.stateDisposers.forEach(function(i){i()}),(n=this.worker)===null||n===void 0||n.port.close()}}],t&&Lce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),vB=typeof Float32Array<"u"?Float32Array:Array;function bb(){var r=new vB(16);return vB!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}var FO=function(r,e,t,n,i,o,a){var u=1/(e-t),s=1/(n-i),l=1/(o-a);return r[0]=-2*u,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*s,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*l,r[11]=0,r[12]=(e+t)*u,r[13]=(i+n)*s,r[14]=(a+o)*l,r[15]=1,r},Bce=In(9792),pB=In.n(Bce);function cg(r){return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(r)}function Fce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,YF(n.key),n)}}function Gp(r,e,t){return(e=YF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function YF(r){var e=function(t){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(cg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return cg(e)=="symbol"?e:e+""}var Nl=function(){return r=function t(n,i,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,t),Gp(this,"shaderProgram",void 0),Gp(this,"gl",void 0),Gp(this,"curTexture",void 0),Gp(this,"attributeInfo",void 0),Gp(this,"uniformInfo",void 0);var u=n.createShader(n.FRAGMENT_SHADER);if(!n.isShader(u))throw new Error("Could not create shader object");var s=pB()(o,a);n.shaderSource(u,s),n.compileShader(u),(0,Kr.isNil)(n.getShaderParameter(u,n.COMPILE_STATUS))&&Ur.info(n.getShaderInfoLog(u));var l=n.createShader(n.VERTEX_SHADER);if(!n.isShader(l))throw new Error("Could not create shader object");var c=pB()(i,a);if(n.shaderSource(l,c),n.compileShader(l),(0,Kr.isNil)(n.getShaderParameter(l,n.COMPILE_STATUS))&&Ur.info(n.getShaderInfoLog(l)),this.shaderProgram=n.createProgram(),n.attachShader(this.shaderProgram,u),n.attachShader(this.shaderProgram,l),n.linkProgram(this.shaderProgram),(0,Kr.isNil)(n.getProgramParameter(this.shaderProgram,n.LINK_STATUS)))throw new Error("Could not initialise shader");this.gl=n,this.curTexture=0,this.scanUniforms(),this.scanAttributes()},(e=[{key:"setUniform",value:function(t,n){var i=this.gl,o=this.uniformInfo[t];if(o===void 0)throw new Error("Shader.setUniform - Uniform ".concat(t," not found in shader"));switch(o.type){case i.INT:i.uniform1i(o.location,n);break;case i.INT_VEC2:i.uniform2iv(o.location,n);break;case i.INT_VEC3:i.uniform3iv(o.location,n);break;case i.INT_VEC4:i.uniform4iv(o.location,n);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+o.texture),i.bindTexture(i.TEXTURE_2D,n),i.uniform1i(o.location,o.texture);break;case i.SAMPLER_CUBE:case i.FLOAT:i.uniform1f(o.location,n);break;case i.FLOAT_VEC2:i.uniform2fv(o.location,n);break;case i.FLOAT_VEC3:i.uniform3fv(o.location,n);break;case i.FLOAT_VEC4:i.uniform4fv(o.location,n);break;case i.FLOAT_MAT2:i.uniformMatrix2fv(o.location,!1,n);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(o.location,!1,n);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(o.location,!1,n)}}},{key:"setAttributePointer",value:function(t,n,i,o){var a=this.gl,u=this.attributeInfo[t],s=i*Float32Array.BYTES_PER_ELEMENT,l=o*Float32Array.BYTES_PER_ELEMENT;a.enableVertexAttribArray(u.position),a.vertexAttribPointer(u.position,n,a.FLOAT,!1,l,s)}},{key:"setAttributePointerFloat",value:function(t,n,i,o){var a=this.gl,u=this.attributeInfo[t];a.enableVertexAttribArray(u.position),a.vertexAttribPointer(u.position,n,a.FLOAT,!1,o,i)}},{key:"setAttributePointerUShort",value:function(t,n,i,o){var a=this.gl,u=this.attributeInfo[t];a.enableVertexAttribArray(u.position),a.vertexAttribPointer(u.position,n,a.UNSIGNED_SHORT,!1,o,i)}},{key:"setAttributePointerByteNorm",value:function(t,n,i,o){var a=this.gl,u=this.attributeInfo[t];a.enableVertexAttribArray(u.position),a.vertexAttribPointer(u.position,n,a.UNSIGNED_BYTE,!0,o,i)}},{key:"setAttributePointerByte",value:function(t,n,i,o){var a=this.gl,u=this.attributeInfo[t];a.enableVertexAttribArray(u.position),a.vertexAttribPointer(u.position,n,a.UNSIGNED_BYTE,!1,o,i)}},{key:"use",value:function(){this.gl.useProgram(this.shaderProgram)}},{key:"remove",value:function(){this.gl.deleteProgram(this.shaderProgram)}},{key:"scanAttributes",value:function(){var t=this.gl;this.attributeInfo={};for(var n,i,o=t.getProgramParameter(this.shaderProgram,t.ACTIVE_ATTRIBUTES),a=0;a<o;a++)n=t.getActiveAttrib(this.shaderProgram,a),i=t.getAttribLocation(this.shaderProgram,n.name),this.attributeInfo[n.name]={type:n.type,position:i}}},{key:"scanUniforms",value:function(){var t=this.gl;this.uniformInfo={};for(var n,i=t.getProgramParameter(this.shaderProgram,t.ACTIVE_UNIFORMS),o=0;o<i;o++){n=t.getActiveUniform(this.shaderProgram,o);var a=t.getUniformLocation(this.shaderProgram,n.name),u={type:n.type,location:a};n.type===t.SAMPLER_2D&&(u.texture=this.curTexture,this.curTexture+=1),this.uniformInfo[n.name]=u}}}])&&Fce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function rd(r){return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rd(r)}function Uce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,zce(n.key),n)}}function zce(r){var e=function(t){if(rd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(rd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return rd(e)=="symbol"?e:e+""}function UO(r){var e=typeof Map=="function"?new Map:void 0;return UO=function(t){if(t===null||!function(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(i,o,a){if(CS())return Reflect.construct.apply(null,arguments);var u=[null];u.push.apply(u,o);var s=new(i.bind.apply(i,u));return a&&Wg(s,a.prototype),s}(t,arguments,Hg(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Wg(n,t)},UO(r)}function CS(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CS=function(){return!!r})()}function Wg(r,e){return Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Wg(r,e)}function Hg(r){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hg(r)}var XF=function(){function r(){return function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,r),function(n,i,o){return i=Hg(i),function(a,u){if(u&&(rd(u)=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(a)}(n,CS()?Reflect.construct(i,o||[],Hg(n).constructor):i.apply(n,o))}(this,r,arguments)}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&Wg(n,i)}(r,UO(Error)),e=r,(t=[{key:"toString",value:function(){return this.message}}])&&Uce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),H0=`uniform mat4 u_projection;

attribute vec2 a_position;
//attribute float a_index;

//varying highp float index;

void main() {
//  index = a_index;
  gl_Position = u_projection * vec4(a_position, 0.0, 1.0);
}`;function fg(r){return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(r)}function gB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function yB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(t),!0).forEach(function(n){Xh(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):gB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function qce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,KF(n.key),n)}}function Xh(r,e,t){return(e=KF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function KF(r){var e=function(t){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(fg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return fg(e)=="symbol"?e:e+""}var mB=function(){return r=function t(n,i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Xh(this,"graph",void 0),Xh(this,"subGraphs",void 0),Xh(this,"sunMap",void 0),Xh(this,"relIdMap",void 0),Xh(this,"nodeSortMap",void 0),this.graph=this.constructGraphObjects(n,i),this.subGraphs=[],this.sunMap={}},e=[{key:"constructGraphObjects",value:function(t,n){var i=[],o=[],a={},u=[];return t.nodes.forEach(function(s,l){i[l]=[],o[l]=[],u.push(s)}),t.rels.forEach(function(s){var l=n[s.from],c=n[s.to];l!==void 0&&c!==void 0&&(i[l].push(c),i[c].push(l),o[l].push(s.id),o[c].push(s.id),a[s.id]=s)}),this.relIdMap=o,{nodes:u,relationships:i,idToRel:a}}},{key:"coarsenTo",value:function(t){for(var n=this.graph,i=n.nodes.length,o=0;o===0||n.nodes.length>t&&n.relationships.some(function(u){return u.length>0});){var a=this.coarsen(n,o===0);if(o===0&&(this.nodeSortMap=a.nodeSortMap),this.subGraphs.push(a.sortedInput),(n=a.output).relationships.length===0||n.relationships.every(function(u){return u.length===0})||i===n.nodes.length)break;i=n.nodes.length,o+=1}return this.subGraphs.push(n),n}},{key:"coarsenBy",value:function(t){for(var n=t,i=this.graph,o=i.nodes.length,a=n;n>0;){var u=this.coarsen(i,n===a);if(this.subGraphs.push(u.sortedInput),(i=u.output).relationships.length===0||i.relationships.every(function(s){return s.length===0})||o===i.nodes.length)break;o=i.nodes.length,n-=1}return this.subGraphs.push(i),i}},{key:"coarsen",value:function(t,n){var i=this,o=t.nodes,a=t.relationships,u=n?o.map(function(E,S){return yB(yB({},E),{},{originalId:E.id,id:S})}):o,s=u.map(function(E,S){return S}),l={},c={};u.forEach(function(E,S){l[S]=E,c[E.originalId]=S});for(var f=a.map(function(E){return E.slice()}),h={suns:{},planets:{},moons:{}},v=[],d=[],y=function(){var E=s[0];s.splice(s.indexOf(E),1),a[E].forEach(function(I){var R=s.indexOf(I);R>=0&&s.splice(R,1);var D=-1,k=f[I];k.forEach(function(N,B){var z=s.indexOf(N);z>=0?s.splice(z,1):N===E&&(D=B)}),D>-1&&k.splice(D,1)});var S={id:E};if(n)S.originalId=l[E].originalId;else{var P=l[E];S.finestIndex=P.finestIndex,S.originalId=P.originalId}v.push(S),h.suns[E]=S};s.length>0;)y();v.forEach(function(E,S){d[S]=[]}),v.forEach(function(E,S){var P,I={},R=[];a[E.id].forEach(function(D){if(D!==E.id&&!I[D]){var k=l[D],N={id:D,parent:E,sunId:S,moons:[],weight:k.weight||1,children:function(){return N.moons},size:function(){return N.moons.length+1}};n||(N.finestIndex=k.finestIndex),N.originalId=k.originalId,R.push(N),I[D]=!0}}),R.forEach(function(D){h.planets[D.id]=D}),E.planets=R,E.children=function(){return E.planets},E.weight=E.planets.reduce(function(D,k){var N;return D+((N=k.weight)!==null&&N!==void 0?N:1)},0)+((P=l[E.id].weight)!==null&&P!==void 0?P:1),E.size=function(){return E.planets.reduce(function(D,k){return D+k.size()},0)+1}});var p=u.filter(function(E,S){return!v.find(function(P){return P.id===S})&&!h.planets[S]}),g=[];p.forEach(function(E){for(var S,P=c[E.originalId],I=f[P],R=-1,D=0;D<I.length;D++){var k=I[D];if(k!==P&&(S=h.planets[k])!==void 0){R=D;break}}if(R>-1&&I.splice(R,1),S!==void 0){var N,B={id:P,parent:S,sunId:S.sunId,weight:E.weight||1,size:function(){return 0}};n||(B.finestIndex=E.finestIndex),B.originalId=E.originalId,h.moons[P]=B,S.moons.push(B),S.weight+=B.weight,S.parent.weight+=B.weight;var z=(N=f[S.id])!==null&&N!==void 0?N:[],F=z.indexOf(P);F>-1&&z.splice(F,1)}else g.push(E)}),f.forEach(function(E,S){if(!h.suns[S]){var P=h.planets[S]||h.moons[S];P&&f[S].forEach(function(I){var R=h.planets[I]||h.moons[I];if(R&&P.sunId!==R.sunId){var D=d[P.sunId];D.includes(R.sunId)||D.push(R.sunId)}})}});var b=[],m=0,_={};v.forEach(function(E,S){var P=E.id,I=u[P];_[P]=m,E.previousIndex=S,E.id=m,m+=1,n&&(o[P].finestIndex=E.id,I.finestIndex=E.id,E.finestIndex=E.id),b.push(I),E.planets.forEach(function(R){var D=R.id,k=u[D];_[D]=m,R.id=m,m+=1,R.sunId=E.id,n&&(o[D].finestIndex=R.id,k.finestIndex=R.id),i.sunMap[R.originalId]=E.originalId,b.push(k),R.moons.forEach(function(N){var B=N.id,z=u[B];_[B]=m,N.id=m,m+=1,N.sunId=E.id,n&&(o[B].finestIndex=N.id,z.finestIndex=N.id),i.sunMap[N.originalId]=E.originalId,b.push(z)})})});var w=[],O=[];return a.forEach(function(E,S){var P=_[S];P!==void 0&&(w[P]=E.map(function(I){return _[I]}),n&&(O[P]=E.map(function(I,R){return i.relIdMap[S][R]})))}),O!==void 0&&O.length>0&&(this.relIdMap=O),{output:{nodes:v,relationships:d,idToRel:this.graph.idToRel},sortedInput:{nodes:b,relationships:w,idToRel:this.graph.idToRel},nodeSortMap:_}}}],e&&qce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),bB=function(r,e,t){for(var n=2*Math.PI/t,i=[],o=0;o<t;o++){var a=n*o;i.push({x:r.x+e*Math.cos(a),y:r.y+e*Math.sin(a)})}return i},$F=function(r){return"originalId"in r};function hg(r){return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(r)}function Vp(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return _B(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_B(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function _B(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Gce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,ZF(n.key),n)}}function Tt(r,e,t){return(e=ZF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZF(r){var e=function(t){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(hg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return hg(e)=="symbol"?e:e+""}var Ai="PhysLayout",Wp=new Float32Array(4),Sa=256,Kx=function(r){for(var e={},t={},n=0;n<r.length;n++){var i=r[n];$F(i)?(e[i.originalId]=n,t[n]=i.originalId):(e[i.id]=n,t[n]=i.id)}return{nodeIdToIndex:e,nodeIndexToId:t}},Vce=function(){return r=function t(n){var i=this;(function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")})(this,t),Tt(this,"physVbo",void 0),Tt(this,"physSmallVbo",void 0),Tt(this,"physProjection",void 0),Tt(this,"physSmallProjection",void 0),Tt(this,"gl",void 0),Tt(this,"useReadpixelWorkaround",void 0),Tt(this,"averageNodeSize",void 0),Tt(this,"shouldUpdate",void 0),Tt(this,"iterationCount",void 0),Tt(this,"lastSpeedValues",void 0),Tt(this,"rollingAvgGraphSpeed",void 0),Tt(this,"nodeVariation",void 0),Tt(this,"nodeCenterPoint",void 0),Tt(this,"peakIterationMultiplier",void 0),Tt(this,"stateDisposers",void 0),Tt(this,"state",void 0),Tt(this,"dpr",void 0),Tt(this,"intelWorkaround",void 0),Tt(this,"simulationStopVelocitySquared",void 0),Tt(this,"gravity",void 0),Tt(this,"force",void 0),Tt(this,"nodeIdToIndex",void 0),Tt(this,"nodeIndexToId",void 0),Tt(this,"flatRelationshipKeys",void 0),Tt(this,"numNodes",void 0),Tt(this,"solarMerger",void 0),Tt(this,"subGraphs",void 0),Tt(this,"nodeSortMap",void 0),Tt(this,"firstUpdate",void 0),Tt(this,"curPhysData",void 0),Tt(this,"apprxRepForceShader",void 0),Tt(this,"levelsClusterTexture",void 0),Tt(this,"levelsFinestIndexTexture",void 0),Tt(this,"initalLevelTexture",void 0),Tt(this,"levelsData",void 0),Tt(this,"collisionDetectionMultiplier",void 0),Tt(this,"physShader",void 0),Tt(this,"physData",void 0),Tt(this,"workaroundData",void 0),Tt(this,"pinData",void 0),Tt(this,"updateData",void 0),Tt(this,"updateShader",void 0),Tt(this,"workaroundShader",void 0),Tt(this,"physPositions",void 0),Tt(this,"springTexture",void 0),Tt(this,"sizeTexture",void 0),Tt(this,"offsetTexture",void 0),Tt(this,"pinTexture",void 0),Tt(this,"addedNodes",void 0),Tt(this,"updateTexture",void 0),Tt(this,"vaoExt",null),Tt(this,"physVao",null),Tt(this,"physSmallVao",null),Tt(this,"updateVao",null),Tt(this,"workaroundVao",null),Tt(this,"enableVerlet",void 0);var o=n.state,a=n.webGLContext;if(Ur.info("layout - webGLContext",!!a),n.webGLContext===void 0)throw new Error("PhysLayout missing options: webGLContext - webgl context");if(n.state===void 0)throw new Error("PhysLayout missing options: state - state object");var u=a;if(this.checkCompatibility(u),this.printGlStats(u),this.vaoExt=u.getExtension("OES_vertex_array_object"),this.vaoExt===null)throw new Error("PhysLayout needs VAO support via OES_vertex_array_object extension");this.physVbo=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.physVbo);var s=new Float32Array([0,0,Ct,0,0,Ct,Ct,Ct]);u.bufferData(u.ARRAY_BUFFER,s,u.STATIC_DRAW),this.physSmallVbo=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,this.physSmallVbo);var l=new Float32Array([0,0,Sa,0,0,Sa,Sa,Sa]);u.bufferData(u.ARRAY_BUFFER,l,u.STATIC_DRAW),this.physProjection=bb(),FO(this.physProjection,0,Ct,Ct,0,0,1e6),this.physSmallProjection=bb(),FO(this.physSmallProjection,0,Sa,Sa,0,0,1e6),u.disable(u.DEPTH_TEST),this.gl=u,this.useReadpixelWorkaround&&this.setupReadpixelWorkaround(),this.setupUpdates(),this.averageNodeSize=on,this.shouldUpdate=!0,this.iterationCount=0,this.lastSpeedValues=[],this.rollingAvgGraphSpeed=0,this.nodeVariation=0,this.nodeCenterPoint=[0,0],this.peakIterationMultiplier=160,this.setOptions(n,!0),this.definePhysicsArrays(),this.flatRelationshipKeys=new Set;var c=o.nodes,f=o.rels;c.addChannel(Ai),f.addChannel(Ai),this.stateDisposers=[],this.stateDisposers.push(o.reaction(function(){return o.graphUpdates},function(){var h=c.channels[Ai];if(c.version!==void 0&&h){var v=Object.values(h.adds).length>0,d=Object.values(h.removes).length>0,y=Object.values(h.updates),p=rf(y);(v||d||p)&&(i.shouldUpdate=!0,i.checkForUpdates())}var g=f.channels[Ai];if(f.version!==void 0&&g){var b=Object.values(g.adds).length>0,m=Object.values(g.removes).length>0;(b||m)&&(i.shouldUpdate=!0,i.checkForUpdates())}})),this.setData({nodes:c.items,rels:f.items}),this.state=o,this.dpr=window.devicePixelRatio||1},e=[{key:"setOptions",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(t){var i=t.intelWorkaround,o=t.enableVerlet,a=o===void 0||o;n&&(this.intelWorkaround=i,this.enableVerlet=a);var u=this.enableVerlet?.25:100;this.simulationStopVelocitySquared=u*u,this.gravity=25,this.force=0}}},{key:"setData",value:function(t){var n=Kx(t.nodes),i=n.nodeIdToIndex,o=n.nodeIndexToId;return this.nodeIdToIndex=i,this.nodeIndexToId=o,this.numNodes=t.nodes.length,this.flatRelationshipKeys=W0(t.rels),this.solarMerger=new mB(t,i),this.solarMerger.coarsenTo(1),this.subGraphs=this.solarMerger.subGraphs,this.nodeSortMap=this.solarMerger.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]),this.setupPhysics(),this.firstUpdate=!0,this.curPhysData=0,this.shouldUpdate=!0,this.iterationCount=0,this.subGraphs[0]}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.gl;if(this.checkForUpdates(t),!this.shouldUpdate)return n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(0).frameBuffer),n.readPixels(0,0,Ct,Ct,n.RGBA,n.FLOAT,this.physPositions),!1;n.disable(n.BLEND);for(var i=this.nodeVariation/(this.numNodes||1)>.3,o=this.getScaleNumber(this.iterationCount),a=this.subGraphs?this.subGraphs.length:0,u=this.getPhysData(0).texture,s=a-1;s>0;s--){var l=this.subGraphs[s].nodes.length,c=s===a-1;this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_physData",u),this.apprxRepForceShader.setUniform("u_clusterData",this.levelsClusterTexture[s]),this.apprxRepForceShader.setUniform("u_finestIndexes",this.levelsFinestIndexTexture[s]),this.apprxRepForceShader.setUniform("u_prevForce",c?this.initalLevelTexture:this.levelsData[s+1].texture),this.apprxRepForceShader.setUniform("u_numNodes",l),this.apprxRepForceShader.setUniform("u_iterationMultiplier",o),this.apprxRepForceShader.setUniform("u_baseLength",this.getBaseLength(l)),this.apprxRepForceShader.setUniform("u_isTopLevel",c?1:0),this.vaoExt.bindVertexArrayOES(this.physSmallVao),n.bindFramebuffer(n.FRAMEBUFFER,this.levelsData[s].frameBuffer),n.viewport(0,0,Sa,Sa),n.drawArrays(n.TRIANGLE_STRIP,0,4),this.vaoExt.bindVertexArrayOES(null)}if(this.collisionDetectionMultiplier=0,this.collisionDetectionMultiplier=i?Math.min(this.iterationCount/Math.min(this.numNodes,300),1):1,this.force=a<=1?this.initalLevelTexture:this.levelsData[1].texture,this.physShader.use(),this.physShader.setUniform("u_prevForce",a<=1?this.initalLevelTexture:this.levelsData[1].texture),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_physData",u),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_iterationMultiplier",o),this.physShader.setUniform("u_curIteration",this.iterationCount),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_clusterData",this.levelsClusterTexture[0]),this.physShader.setUniform("u_collisionMultiplier",this.collisionDetectionMultiplier),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.firstUpdate=!1,this.vaoExt.bindVertexArrayOES(this.physVao),n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(1).frameBuffer),n.viewport(0,0,Ct,Ct),n.drawArrays(n.TRIANGLE_STRIP,0,4),this.vaoExt.bindVertexArrayOES(null),this.useReadpixelWorkaround?this.doReadpixelWorkaround():(n.bindFramebuffer(n.FRAMEBUFFER,this.getPhysData(0).frameBuffer),n.readPixels(0,0,Ct,Ct,n.RGBA,n.FLOAT,this.physPositions)),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.iterationCount+=1,this.numNodes<2)this.shouldUpdate=!1,this.iterationCount=0;else if(this.iterationCount%5==0){var f=this.iterationCount<300,h=f?this.getMaxSpeedSquared():this.getMedianSpeedSquared(this.addedNodes);this.lastSpeedValues.push(h),this.rollingAvgGraphSpeed=this.lastSpeedValues.reduce(function(y,p){return y+p},0)/this.lastSpeedValues.length;var v=f&&h>=this.rollingAvgGraphSpeed,d=this.simulationStopVelocitySquared&&this.rollingAvgGraphSpeed<this.simulationStopVelocitySquared;this.lastSpeedValues.length>20&&this.lastSpeedValues.shift(),!v&&d===!0&&this.iterationCount>2&&this.terminateUpdate()}return this.shouldUpdate}},{key:"terminateUpdate",value:function(){Ur.info("Cooling down after ".concat(this.iterationCount," iterations at graph speed of ").concat(Math.sqrt(this.rollingAvgGraphSpeed))),this.shouldUpdate=!1,this.iterationCount=0,this.rollingAvgGraphSpeed=0,this.lastSpeedValues=[],this.addedNodes=null,this.nodeVariation=0}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"getNodePositions",value:function(t){var n=[];if(this.useReadpixelWorkaround){var i,o=Vp(t);try{for(o.s();!(i=o.n()).done;){var a=i.value,u=this.nodeIdToIndex[a.id],s=a.id,l=void 0,c=void 0;u!==void 0&&(l=this.workaroundData[0].dataFloat[u],c=this.workaroundData[1].dataFloat[u]),n.push({id:s,x:l,y:c})}}catch(b){o.e(b)}finally{o.f()}}else{var f,h=Vp(t);try{for(h.s();!(f=h.n()).done;){var v=f.value,d=this.nodeIdToIndex[v.id],y=v.id,p=void 0,g=void 0;d!==void 0&&(p=this.physPositions[4*d+0],g=this.physPositions[4*d+1]),n.push({id:y,x:p,y:g})}}catch(b){h.e(b)}finally{h.f()}}return n}},{key:"reheat",value:function(t){this.setupSize(this.subGraphs[0]),this.shouldUpdate=!0,this.iterationCount=0,this.nodeVariation=t.nodes.length}},{key:"updateNodes",value:function(t){var n=this.gl,i=new Set;n.bindTexture(n.TEXTURE_2D,this.getPhysData().texture);var o,a=Vp(t);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=this.nodeIdToIndex[u.id];if(u.x!==void 0&&u.y!==void 0){Wp[0]=u.x,Wp[1]=u.y,Wp[2]=0,Wp[3]=0;var l=s%Ct,c=(s-l)/Ct;n.texSubImage2D(n.TEXTURE_2D,0,l,c,1,1,n.RGBA,n.FLOAT,Wp),this.useReadpixelWorkaround?(this.workaroundData[0].dataFloat[s]=u.x,this.workaroundData[1].dataFloat[s]=u.y):(this.physPositions[4*s+0]=u.x,this.physPositions[4*s+1]=u.y)}u.pinned!==void 0&&(this.pinData[s]=u.pinned?255:0),Object.keys(u).forEach(function(f){return i.add(f)})}}catch(f){a.e(f)}finally{a.f()}i.has("pinned")&&(n.bindTexture(n.TEXTURE_2D,this.pinTexture),n.texSubImage2D(n.TEXTURE_2D,0,0,0,Ct,Ct,n.ALPHA,n.UNSIGNED_BYTE,this.pinData)),(i.has("x")||i.has("y")||i.has("size"))&&(this.shouldUpdate=!0,this.iterationCount=0)}},{key:"addRemoveData",value:function(t,n,i){var o=this.gl;this.numNodes=t.nodes.length,this.physShader.use(),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_baseLength",this.getBaseLength());var a=Kx(t.nodes).nodeIdToIndex,u=new mB(t,a);u.coarsenTo(1);var s=u.subGraphs[0],l=this.subGraphs[0],c=function(U){return l.nodes.findIndex(function(W){return W.originalId===U})},f=Object.values(n.adds),h=Object.values(n.removes);this.addedNodes=f.length>0?{}:null,this.nodeVariation=f.length+h.length;for(var v=function(U){return!!n.adds[U]},d=3*Math.sqrt(t.nodes.length),y={x:0,y:0},p=s.nodes.length,g=new Uint8Array(65536),b=0;b<p;b++){var m=0,_=0,w=s.nodes[b],O=$F(w)?w.originalId:w.id;if(v(O)){if(this.addedNodes[b]=O,m=w.position?w.position.x:void 0,_=w.position?w.position.y:void 0,m===void 0||_===void 0){var E=u.sunMap,S=void 0;for(S=E[O];S!==void 0;S=E[S]){var P=c(S);if(P!==-1){var I=this.getNodePosition(P);m=I.x+10*(Math.random()-.5),_=I.y+10*(Math.random()-.5);break}}S===void 0&&(m=this.nodeCenterPoint[0]+d*(Math.random()-.5),_=this.nodeCenterPoint[1]+d*(Math.random()-.5))}this.updateData[2*b]=m,this.updateData[2*b+1]=_,g[b]=w.pinned?255:0}else{var R=c(O),D=this.getNodePosition(R);m=D.x,_=D.y,this.updateData[2*b]=R,this.updateData[2*b+1]=999999,g[b]=this.pinData[R]}y.x+=m||0,y.y+=_||0}this.nodeCenterPoint=p?[y.x/p,y.y/p]:[0,0],this.pinData=g,this.subGraphs=u.subGraphs,this.nodeSortMap=u.nodeSortMap,this.setupSprings(this.subGraphs[0]),this.setupSize(this.subGraphs[0]);var k=Kx(this.subGraphs[0].nodes),N=k.nodeIdToIndex,B=k.nodeIndexToId;this.nodeIdToIndex=N,this.nodeIndexToId=B,o.bindTexture(o.TEXTURE_2D,this.updateTexture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,Ct,Ct,o.ALPHA,o.FLOAT,this.updateData),Ur.info("Setting gravity center to ",this.nodeCenterPoint),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.updateShader.use(),this.updateShader.setUniform("u_numNodesNew",s.nodes.length),this.updateShader.setUniform("u_physData",this.getPhysData(0).texture),this.updateShader.setUniform("u_updateData",this.updateTexture),o.disable(o.BLEND),this.vaoExt.bindVertexArrayOES(this.updateVao),o.bindFramebuffer(o.FRAMEBUFFER,this.getPhysData(1).frameBuffer),o.viewport(0,0,Ct,Ct),o.drawArrays(o.TRIANGLE_STRIP,0,4),this.vaoExt.bindVertexArrayOES(null),this.curPhysData=(this.curPhysData+1)%this.physData.length,this.useReadpixelWorkaround?this.doReadpixelWorkaround():(o.bindFramebuffer(o.FRAMEBUFFER,this.getPhysData().frameBuffer),o.readPixels(0,0,Ct,Ct,o.RGBA,o.FLOAT,this.physPositions)),(f.length>0||h.length>0)&&(o.bindTexture(o.TEXTURE_2D,this.pinTexture),o.texSubImage2D(o.TEXTURE_2D,0,0,0,Ct,Ct,o.ALPHA,o.UNSIGNED_BYTE,this.pinData));var z=W0(t.rels),F=this.hasRelationshipFlatMapChanged(z,i);return this.shouldUpdate=this.nodeVariation>0||F,this.iterationCount=0,this.flatRelationshipKeys=z,this.setupPhysicsForCoarse(),this.subGraphs[0]}},{key:"destroy",value:function(){var t=this;this.gl.deleteBuffer(this.physVbo),this.gl.deleteBuffer(this.physSmallVbo),this.vaoExt.deleteVertexArrayOES(this.physVao),this.vaoExt.deleteVertexArrayOES(this.physSmallVao),this.vaoExt.deleteVertexArrayOES(this.updateVao),this.vaoExt.deleteVertexArrayOES(this.workaroundVao),this.physData.forEach(function(n){t.gl.deleteFramebuffer(n.frameBuffer),t.gl.deleteTexture(n.texture)}),this.levelsData.forEach(function(n){t.gl.deleteFramebuffer(n.frameBuffer),t.gl.deleteTexture(n.texture)}),this.levelsClusterTexture.forEach(function(n){t.gl.deleteTexture(n)}),this.levelsFinestIndexTexture.forEach(function(n){t.gl.deleteTexture(n)}),this.gl.deleteTexture(this.initalLevelTexture),this.gl.deleteTexture(this.sizeTexture),this.gl.deleteTexture(this.offsetTexture),this.gl.deleteTexture(this.springTexture),this.gl.deleteTexture(this.pinTexture),this.gl.deleteTexture(this.updateTexture),this.apprxRepForceShader!==void 0&&this.apprxRepForceShader.remove(),this.updateShader!==void 0&&this.updateShader.remove(),this.physShader!==void 0&&this.physShader.remove(),this.physPositions=null,this.gl=null,this.stateDisposers.forEach(function(n){n()}),this.state.nodes.removeChannel(Ai),this.state.rels.removeChannel(Ai)}},{key:"hasRelationshipFlatMapChanged",value:function(t,n){if(t.size!==this.flatRelationshipKeys.size)return!0;var i=!1,o=Object.values(n.adds),a=Object.values(n.removes);if(o.length>0||a.length>0){var u,s=Vp(W0(o));try{for(s.s();!(u=s.n()).done;){var l=u.value;if(!this.flatRelationshipKeys.has(l)){i=!0;break}}}catch(v){s.e(v)}finally{s.f()}if(!i){var c,f=Vp(W0(a));try{for(f.s();!(c=f.n()).done;){var h=c.value;if(!t.has(h)){i=!0;break}}}catch(v){f.e(v)}finally{f.f()}}}return i}},{key:"dumpTexture",value:function(t,n,i){var o=this.gl;Ur.info("--- Dumping texture ",i),o.bindFramebuffer(o.FRAMEBUFFER,t),o.readPixels(0,0,Ct,Ct,o.RGBA,o.FLOAT,this.physPositions);for(var a=0;a<n;a++)Ur.info(a,": ",this.physPositions[4*a+0],this.physPositions[4*a+1],this.physPositions[4*a+2],this.physPositions[4*a+3])}},{key:"getScaleNumber",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(i,o,a){return a+Math.pow(10,6)*Math.pow(i-120,-1.7)};return t===0?0:t<300?200+-1/Math.pow(10,5)*3*Math.pow(Math.abs(t-200+12),3):n(t,200,10)}},{key:"getBaseLength",value:function(t){if(t===void 0||t===this.numNodes)return 100*this.dpr;var n=Math.pow(this.averageNodeSize/2,2)*Math.PI,i=this.numNodes/t*n;return(100+Math.sqrt(i/Math.PI)/2/t)*this.dpr}},{key:"checkForUpdates",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.state,i=n.nodes,o=n.rels,a={nodes:i.items,rels:o.items},u=Object.values(i.channels[Ai].adds).length>0,s=Object.values(o.channels[Ai].adds).length>0,l=Object.values(i.channels[Ai].removes).length>0,c=Object.values(o.channels[Ai].removes).length>0,f=Object.values(i.channels[Ai].updates),h=u||s||l||c;h&&this.addRemoveData(a,{adds:i.channels[Ai].adds,removes:i.channels[Ai].removes},{adds:o.channels[Ai].adds,removes:o.channels[Ai].removes}),t&&h?(this.updateNodes(a.nodes),this.reheat(a)):f.length>0&&(this.updateNodes(f),rf(f)&&this.reheat(a)),i.clearChannel(Ai),o.clearChannel(Ai)}},{key:"getNodePosition",value:function(t){return this.useReadpixelWorkaround?{x:this.workaroundData[0].dataFloat[t],y:this.workaroundData[1].dataFloat[t]}:{x:this.physPositions[4*t+0],y:this.physPositions[4*t+1]}}},{key:"getMaxSpeedSquared",value:function(){var t=0;if(this.useReadpixelWorkaround)for(var n=0;n<this.numNodes;n++){var i=this.workaroundData[2].dataFloat[n],o=this.workaroundData[3].dataFloat[n],a=i*i+o*o;a>t&&(t=a)}else for(var u=0;u<this.numNodes;u++){var s=this.physPositions[4*u+2],l=this.physPositions[4*u+3],c=s*s+l*l;c>t&&(t=c)}return t}},{key:"getMedianSpeedSquared",value:function(t){var n=[];if(this.useReadpixelWorkaround)for(var i=0;i<this.numNodes;i++){var o=this.workaroundData[2].dataFloat[i],a=this.workaroundData[3].dataFloat[i],u=o*o+a*a;n[i]=u}else for(var s=0;s<this.numNodes;s++)if(!t||t[s]){var l=this.physPositions[4*s+2],c=this.physPositions[4*s+3],f=l*l+c*c;n.push(f)}return n.sort(function(h,v){return h-v}),n[Math.floor(n.length/2)]}},{key:"getPhysData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.physData[(this.curPhysData+t)%this.physData.length]}},{key:"newTexture",value:function(t,n,i){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.FLOAT,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.RGBA,u=t.createTexture();return t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,a,i,i,0,a,o,n),u}},{key:"newFramebuffer",value:function(t,n){var i=t.createFramebuffer();return t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0),i}},{key:"checkCompatibility",value:function(t){function n(l){throw new XF(l)}t||n("Could not initialize WebGL"),t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)===0&&n("Vertex shader texture access not available"),t.getExtension("OES_texture_float")||n("OES_texture_float extension not available"),t.getExtension("WEBGL_color_buffer_float")||(Ur.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0);var i=t.getParameter(t.MAX_TEXTURE_SIZE),o=Math.max(Ct,Up);if(i<o&&n("Need larger WebGL texture support. Avaliable: ".concat(i," needed: ").concat(o)),!this.useReadpixelWorkaround){var a=new Float32Array(4),u=this.newTexture(t,a,1),s=this.newFramebuffer(t,u);t.bindFramebuffer(t.FRAMEBUFFER,s),t.readPixels(0,0,1,1,t.RGBA,t.FLOAT,a),t.getError()!==t.NO_ERROR&&(Ur.info("gl.readPixels doesnt work for float texture, activating workaround"),this.useReadpixelWorkaround=!0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.deleteFramebuffer(s),t.deleteTexture(u)}}},{key:"printGlStats",value:function(t){var n="?",i="?";if(t.getParameter(t.RENDERER))i=t.getParameter(t.RENDERER),n=t.getParameter(t.VENDOR);else{var o=t.getExtension("WEBGL_debug_renderer_info");o&&(n=t.getParameter(o.UNMASKED_VENDOR_WEBGL),i=t.getParameter(o.UNMASKED_RENDERER_WEBGL))}Ur.trace("Vendor: ".concat(n)),Ur.trace("Renderer: ".concat(i));var a=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE);Ur.trace("Line width range: ".concat(a));var u=t.getSupportedExtensions();Ur.trace("Extentions:"),u.length>0&&u.forEach(function(s){return Ur.trace(s)})}},{key:"adjustToGlSize",value:function(t){return t*this.dpr*2.5}},{key:"setupSize",value:function(t){for(var n=new Float32Array(65536),i=t.nodes,o=i.length,a=0,u=0;u<o;u++){var s=void 0,l=i[u].size;s=typeof l=="function"?l():l!==void 0?typeof l=="string"?parseInt(l,10):l:on,isNaN(s)&&(s=on),n[u]=this.adjustToGlSize(s),a+=s}this.averageNodeSize=o?a/o:on;var c=this.gl,f=this.sizeTexture===void 0;f&&(this.sizeTexture=c.createTexture()),c.bindTexture(c.TEXTURE_2D,this.sizeTexture),f?c.texImage2D(c.TEXTURE_2D,0,c.ALPHA,Ct,Ct,0,c.ALPHA,c.FLOAT,n):c.texSubImage2D(c.TEXTURE_2D,0,0,0,Ct,Ct,c.ALPHA,c.FLOAT,n),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE)}},{key:"setupSprings",value:function(t){var n,i,o=this.gl,a=t.relationships,u=new Float32Array(16777216),s=new Float32Array(65536),l=0;for(n=0;n<t.nodes.length;n++)for(s[n]=l,u[l]=a[n].length,l+=1,i=0;i<a[n].length;i++)u[l]=a[n][i],l+=1;for(i=l;i<u.length;i++)u[i]=1;for(i=n;i<s.length;i++)s[i]=0;var c=this.offsetTexture===void 0;c&&(this.offsetTexture=o.createTexture()),o.bindTexture(o.TEXTURE_2D,this.offsetTexture),c?o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,Ct,Ct,0,o.ALPHA,o.FLOAT,s):o.texSubImage2D(o.TEXTURE_2D,0,0,0,Ct,Ct,o.ALPHA,o.FLOAT,s),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE);var f=this.springTexture===void 0;f&&(this.springTexture=o.createTexture()),o.bindTexture(o.TEXTURE_2D,this.springTexture),f?o.texImage2D(o.TEXTURE_2D,0,o.ALPHA,Up,Up,0,o.ALPHA,o.FLOAT,u):o.texSubImage2D(o.TEXTURE_2D,0,0,0,Up,Up,o.ALPHA,o.FLOAT,u),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE)}},{key:"setupPhysics",value:function(){this.setupPhysicsForCoarse(),this.setupPhysicsForNodes(),this.physPositions=new Float32Array(262144),this.setupPinData()}},{key:"setupPhysicsForNodes",value:function(){var t=this.gl,n=this.subGraphs.length,i=this.subGraphs[0].nodes,o=3*Math.sqrt(i.length),a=new Float32Array(262144),u=new Float32Array(262144);this.numNodes=i.length;for(var s=0;s<262144;s++)a[s]=0,u[s]=0;for(var l=function(p,g,b,m){m[4*p+0]=g,m[4*p+1]=b,m[4*p+2]=0,m[4*p+3]=0},c=n-1;c>=0;c--){var f=c===n-1?[]:this.subGraphs[c+1].nodes;f.length===0?this.subGraphs[c].nodes.forEach(function(p,g){var b=p.placement?p.placement.x:o*(Math.random()-.5),m=p.placement?p.placement.y:o*(Math.random()-.5);l(p.finestIndex===void 0?g:p.finestIndex,b,m,a)}):f.forEach(function(p){var g=p.finestIndex,b=a[4*p.finestIndex],m=a[4*p.finestIndex+1],_=bB({x:b,y:m},10,p.planets.length+1);g+=1,p.planets.forEach(function(w,O){var E=_[O];l(g+=1,E.x,E.y,a);var S=bB({x:E.x,y:E.y},10,w.moons.length+1);w.moons.forEach(function(P,I){var R=S[I];l(g+=1,R.x,R.y,a)})})})}this.physData=[];for(var h=0;h<2;h++){var v=this.newTexture(t,h===0?a:u,Ct),d=this.newFramebuffer(t,v);this.physData.push({texture:v,frameBuffer:d})}var y=this.enableVerlet?`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;


float DAMP = 0.6;
float COOL = 0.99998;
float TEMP = max(0.02, pow(COOL, u_curIteration));
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 50000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection, float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = (combinedNodeSize - dist) / (dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * fScale) / (dist);
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale * (dist / 1000.0);
  acceleration += grav;

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, myPosition.zw);
  } else {
    vec2 prevVelocity = myPosition.zw;
    vec2 currentPos = myPosition.xy;
    vec2 prevPos = currentPos - prevVelocity;

    vec2 newPos = currentPos + TEMP * ( DAMP * (prevVelocity) + acceleration * TIMESTEP * TIMESTEP);
    vec2 newVelocity = newPos - currentPos;
    gl_FragColor = vec4(newPos, newVelocity);
  }
}`:`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_connections;
uniform sampler2D u_connectionOffsets;
uniform sampler2D u_pinnedNodes;
uniform sampler2D u_sizeTexture;
uniform float u_baseLength;
uniform float u_curIteration;
uniform float u_iterationMultiplier;
uniform vec2 u_gravityCenter;
uniform float u_numNodes;
uniform float u_gravity;

uniform sampler2D u_clusterData;
uniform sampler2D u_prevForce;
uniform float u_collisionMultiplier;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;
float accLimitLow = 500000.0;
float accLimitHigh = 750000.0;
float accLimitPosHigh = 10000000.0;

const float denseNodeThreshold = 1000.0;
const float MIN_DISTANCE = 0.00000001;
const float MAX_DISTANCE = 1000000000.0;
const float MAX_ACCELERATION = 500000.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

bool isNan(float val) {
  return (val < 0.0 || 0.0 < val || val == 0.0) ? false : true;
}

const float BIG_NUMBER = 999999999999999999.0;
bool isInf(float val) {
  return val > BIG_NUMBER || val < -BIG_NUMBER;
}

vec2 getDelta(vec2 v1, vec2 v2) {
  vec2 delta = v1 - v2;
  float dist = length(delta);
  if (dist < MIN_DISTANCE || isNan(dist)) {
    return vec2(MIN_DISTANCE, MIN_DISTANCE);
  }
  if (dist > MAX_DISTANCE) {
    vec2 normDelta = delta / dist;
    return normDelta * MAX_DISTANCE;
  }
  return delta;
}

vec4 getOtherNodePosition(float i) {
  return getTextureData(u_physData, i, 256.0);
}

float getCombinedNodeSize(float i, float nodeSize) {
  float otherNodeSize = getTextureData(u_sizeTexture, i, 256.0).a;
  return nodeSize + otherNodeSize;
}

vec2 getSpringForce(float curConnection,  float numConnections, float springFScale, vec4 myPosition, float i) {
  float curSpring = getTextureData(u_connections, curConnection + i, 4096.0).a;

  vec4 otherPosition = getTextureData(u_physData, curSpring, 256.0);
  float otherDataPosition = getTextureData(u_connectionOffsets, curSpring, 256.0).a;
  float avgDegree;
#if INTEL_WORKAROUND
    avgDegree = max(numConnections, 4.0);
#else
    float otherNumConnections = getTextureData(u_connections, otherDataPosition, 4096.0).a;
    avgDegree = max((otherNumConnections + numConnections * 3.0) / 4.0, 4.0);
#endif

  vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
  float dist = length(delta);

  float F = (dist * dist * springFScale) / (u_baseLength * avgDegree);
  if (u_collisionMultiplier > 0.0) {
    F *= u_collisionMultiplier;
  }
  return (-delta / dist) * F;
}

vec2 getCollisionForce(float combinedNodeSize, float dist, float fScale, vec2 delta) {
  float collisionForce = ((combinedNodeSize - dist) / dist);
  if (u_collisionMultiplier > 0.0) {
    collisionForce *= u_collisionMultiplier;
  }
  return (delta * collisionForce * fScale * combinedNodeSize) / (combinedNodeSize + 1.0);
}

vec2 getRepulsionForce(float dist, float fScale, vec2 delta) {
  float F = (u_baseLength * u_baseLength * (fScale / 1.5)) / dist;
  return (delta / dist) * F * 0.05;
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * textureSide;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterWeight = clusterData.w;

  vec4 myPosition = getTextureData(u_physData, index, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);

  vec2 acceleration = previousForce.xy;

  float isPinned = getTextureData(u_pinnedNodes, index, 256.0).a;
  float nodeSize = getTextureData(u_sizeTexture, index, 256.0).a;

  if (isPinned > 0.5) {
    gl_FragColor = vec4(myPosition.xy, 0.0, 0.0);
    return;
  }

  float curConnection = getTextureData(u_connectionOffsets, index, 256.0).a;
  float numConnections = getTextureData(u_connections, curConnection, 4096.0).a;

  float fScale = 1.0 + sqrt(u_iterationMultiplier);
  float springFScale = fScale;

  if (numConnections > denseNodeThreshold) {
    springFScale = sqrt(fScale);
  }

  float numOfRels = 0.0;

  // Springs
  for (float i = 1.0; i <= 256.0 * 256.0; i++) {
    if (numOfRels >= numConnections) {
      break;
    }
    acceleration += getSpringForce(curConnection, numConnections, springFScale, myPosition, i);
    numOfRels += 1.0;
  }

  // Repulsion && collision detection
  if (u_collisionMultiplier > 0.0) {
    float number_of_collisions = 0.0;
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= u_numNodes) {
        break;
      }

      if (i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize) * 2.0;

      if (dist < combinedNodeSize && number_of_collisions < 40.0) {
        number_of_collisions++;
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      if (i >= clusterStartIndex && i < clusterStartIndex + clusterSize) {
        acceleration += getRepulsionForce(dist, fScale, delta);
      }
    }
  } else {
    for (float i = 0.0; i < 256.0 * 256.0; i++) {
      if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
        break;
      }

      if (i < clusterStartIndex || i == index) {
        continue;
      }

      vec4 otherPosition = getOtherNodePosition(i);
      vec2 delta = getDelta(myPosition.xy, otherPosition.xy);
      float dist = length(delta);
      float combinedNodeSize = getCombinedNodeSize(i, nodeSize);

      if (dist < combinedNodeSize) {
        acceleration += getCollisionForce(combinedNodeSize, dist, fScale, delta);
      }

      acceleration += getRepulsionForce(dist, fScale, delta);
    }
  }

  // Gravity
  vec2 delta = getDelta(u_gravityCenter, myPosition.xy);
  float dist = length(delta);

  vec2 grav = (delta / dist) * u_gravity * fScale;
  acceleration += grav * smoothstep(0.0, 500.0, dist);

  float accMagnitude = length(acceleration);
  acceleration *= min(MAX_ACCELERATION, accMagnitude) / accMagnitude;

  float iterationFrictionThreshold = 1000.0;

  if (u_curIteration > iterationFrictionThreshold) {
    float friction = 1.0 + pow((u_curIteration - iterationFrictionThreshold), 2.0) / 100.0;
    acceleration *= 1.0 / friction;
  }

  if (u_curIteration == 0.0) {
    gl_FragColor = vec4(myPosition.xy, acceleration * TIMESTEP * 0.5);
  } else {
    myPosition.zw = myPosition.zw * VELOCITYDECAY;
    gl_FragColor = vec4(myPosition.xy + myPosition.zw * TIMESTEP, myPosition.zw + acceleration * TIMESTEP);
  }
}`;this.physShader=new Nl(t,H0,y,{INTEL_WORKAROUND:this.intelWorkaround?1:0}),this.physShader.use(),this.physShader.setUniform("u_projection",this.physProjection),this.physShader.setUniform("u_baseLength",this.getBaseLength()),this.physShader.setUniform("u_connections",this.springTexture),this.physShader.setUniform("u_sizeTexture",this.sizeTexture),this.physShader.setUniform("u_connectionOffsets",this.offsetTexture),this.physShader.setUniform("u_pinnedNodes",this.pinTexture),this.physShader.setUniform("u_gravityCenter",this.nodeCenterPoint),this.physShader.setUniform("u_numNodes",this.numNodes),this.physShader.setUniform("u_gravity",this.gravity),this.physVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.physVao),t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.physShader.setAttributePointer("a_position",2,0,2),this.vaoExt.bindVertexArrayOES(null)}},{key:"setupPhysicsForCoarse",value:function(){var t=this,n=this.gl;this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[];var i,o,a=this.subGraphs.length,u=function(d,y,p,g,b){i[4*d+0]=y,i[4*d+1]=p,i[4*d+2]=b.size(),i[4*d+3]=g||1};if(a===1){i=new Float32Array(262144);var s=this.subGraphs[0].nodes;s.forEach(function(d,y){u(y,0,0,d.weight,{size:function(){return s.length}})}),this.levelsClusterTexture[0]=this.newTexture(n,i,Sa)}else for(var l=function(){var d=t.subGraphs[c].nodes,y=c===t.subGraphs.length-1?[]:t.subGraphs[c+1].nodes;i=new Float32Array(262144),o=new Float32Array(65536);var p=0;if(y.length>0){var g=y.slice();g.sort(function(_,w){return _.previousIndex-w.previousIndex}),g.forEach(function(_,w){var O=p,E=y.indexOf(_);u(p,E,O,d[_.id].weight,_),o[p]=d[p].finestIndex,p+=1,_.planets.forEach(function(S){u(p,E,O,S.weight,_),o[p]=d[p].finestIndex,p+=1,S.moons.forEach(function(P){u(p,E,O,P.weight,_),o[p]=d[p].finestIndex,p+=1})})})}else d.forEach(function(_,w){u(w,0,0,_.weight,{size:function(){return d.length}}),o[w]=d[w].finestIndex});var b=t.newTexture(n,null,Sa),m=t.newFramebuffer(n,b);t.levelsData[c]={texture:b,frameBuffer:m},t.levelsClusterTexture[c]=t.newTexture(n,i,Sa),t.levelsFinestIndexTexture[c]=t.newTexture(n,o,Ct,n.FLOAT,n.ALPHA)},c=this.subGraphs.length-1;c>=0;c--)l();for(var f=new Float32Array(262144),h=0;h<f.length;h++)f[h]=0;this.initalLevelTexture=this.newTexture(n,f,Sa);var v=this.enableVerlet?`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float PI = 3.1415926535897932384626433832795;
float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 1.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getSquaredLogClusterWeight(float value) {
  return pow(log(value), 2.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;
  float clusterArea = pow(clusterSize + u_baseLength * 2.0, 2.0);

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getSquaredLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = (clusterArea * fScale) / (dist * dist);

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.2;
    }

    acceleration += ((delta / sqrt(dist)) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / (dist * dist);
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`:`precision mediump float;
uniform sampler2D u_physData;
uniform sampler2D u_clusterData;
uniform sampler2D u_finestIndexes;
uniform sampler2D u_prevForce;

uniform float u_baseLength;
uniform float u_numNodes;
uniform float u_iterationMultiplier;
uniform float u_isTopLevel;

float TIMESTEP = 1.0 / 30.0;
float VELOCITYDECAY = 0.6;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

float getLogClusterWeight(float value) {
  return value / max(log(value), 1.0);
}

void main(void) {
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5) * 256.0;

  if (index >= u_numNodes) {
    discard;
  }

  vec4 clusterData = getTextureData(u_clusterData, index, 256.0);

  float clusterIndex = clusterData.x;
  float clusterStartIndex = clusterData.y;
  float clusterSize = clusterData.z;

  float finestIndex = getTextureData(u_finestIndexes, index, 256.0).a;
  vec4 myPosition = getTextureData(u_physData, finestIndex, 256.0);
  vec4 previousForce = getTextureData(u_prevForce, clusterIndex, 256.0);
  float fScale = 1.0 + sqrt(u_iterationMultiplier);

  vec2 acceleration = previousForce.xy;

  // Repulsion & Collision Detection
  for (float i = 0.0; i < 256.0 * 256.0; i++) {
    if (i >= clusterStartIndex + clusterSize || i >= u_numNodes) {
      break;
    }
    if (i < clusterStartIndex || i == index) {
      continue;
    }

    vec4 otherClusterData = getTextureData(u_clusterData, i, 256.0);
    float otherClusterWeight = getLogClusterWeight(otherClusterData.w);

    float otherFinestIndex = getTextureData(u_finestIndexes, i, 256.0).a;
    vec4 otherPosition = getTextureData(u_physData, otherFinestIndex, 256.0);

    vec2 delta = myPosition.xy - otherPosition.xy;
    float dist = max(length(delta), 0.0000001);
    float maxDist = 25.0;
    float repulsionForceScale = 0.1;

    float F = ((u_baseLength * u_baseLength) * (fScale / 1.5)) / dist;

    if (u_isTopLevel == 1.0) {
      repulsionForceScale = 0.3;
    }

    acceleration += ((delta / dist) * F) * repulsionForceScale * otherClusterWeight;

    if (dist < maxDist) {
      float collide = (maxDist - dist) / dist;
      acceleration += delta * collide * fScale * maxDist / (maxDist + 1.0);
    }
  }

  gl_FragColor = vec4(acceleration, vec2(finestIndex, 0));
}`;this.apprxRepForceShader=new Nl(n,H0,v),this.apprxRepForceShader.use(),this.apprxRepForceShader.setUniform("u_projection",this.physSmallProjection),this.physSmallVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.physSmallVao),n.bindBuffer(n.ARRAY_BUFFER,this.physSmallVbo),this.apprxRepForceShader.setAttributePointer("a_position",2,0,2),this.vaoExt.bindVertexArrayOES(null)}},{key:"setupPinData",value:function(){var t=this.gl;this.pinTexture=t.createTexture(),this.pinData=new Uint8Array(65536);for(var n=0;n<65536;n++)this.pinData[n]=0;t.bindTexture(t.TEXTURE_2D,this.pinTexture),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,Ct,Ct,0,t.ALPHA,t.UNSIGNED_BYTE,this.pinData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)}},{key:"setupUpdates",value:function(){var t=this.gl;this.updateData=new Float32Array(65536),this.updateTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.updateTexture),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,Ct,Ct,0,t.ALPHA,t.FLOAT,this.updateData),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.updateShader=new Nl(t,H0,`precision mediump float;

uniform sampler2D u_physData;
uniform sampler2D u_updateData;
uniform float u_numNodesNew;

const float INDEX_FLAG = 999999.0;

vec4 getTextureData(sampler2D texture, float index, float base) {
  float x = mod(index, base);
  float y = (index - x) / base;
  return texture2D(texture, vec2(x + 0.5, y + 0.5) / base);
}

void main(void) {
  float textureSide = 256.0; //#TEXTURE_SIDE#;
  float index = (gl_FragCoord.x - 0.5) + (gl_FragCoord.y - 0.5)*textureSide;

  if (index >= u_numNodesNew) {
    discard;
  }

  float firstValue = getTextureData(u_updateData, index * 2.0, 256.0).a;
  float secondValue = getTextureData(u_updateData, index * 2.0 + 1.0, 256.0).a;

  if (secondValue == INDEX_FLAG) {
    vec4 myPosition = getTextureData(u_physData, firstValue, 256.0);
    gl_FragColor = myPosition;
  } else {
    gl_FragColor = vec4(firstValue, secondValue, 0.0, 0.0);
  }
}
`),this.updateShader.use(),this.updateShader.setUniform("u_projection",this.physProjection),this.updateVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.updateVao),t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.updateShader.setAttributePointer("a_position",2,0,2),this.vaoExt.bindVertexArrayOES(null)}},{key:"setupReadpixelWorkaround",value:function(){var t=this.gl;this.workaroundShader=new Nl(t,H0,`precision lowp float;

uniform sampler2D u_physData;
uniform float u_index;

float shift_right (float v, float amt) { 
    v = floor(v) + 0.5; 
    return floor(v / exp2(amt)); 
}

float shift_left (float v, float amt) { 
    return floor(v * exp2(amt) + 0.5); 
}

float mask_last (float v, float bits) { 
    return mod(v, shift_left(1.0, bits)); 
}

float extract_bits (float num, float from, float to) { 
    from = floor(from + 0.5); to = floor(to + 0.5); 
    return mask_last(shift_right(num, from), to - from); 
}

// From https://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target
vec4 encode_float (float val) { 
    if (val == 0.0) return vec4(0, 0, 0, 0); 
    float sign = val > 0.0 ? 0.0 : 1.0; 
    val = abs(val); 
    float exponent = floor(log2(val)); 
    float biased_exponent = exponent + 127.0; 
    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0; 
    float t = biased_exponent / 2.0; 
    float last_bit_of_biased_exponent = fract(t) * 2.0; 
    float remaining_bits_of_biased_exponent = floor(t); 
    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0; 
    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0; 
    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0; 
    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0; 
    return vec4(byte4, byte3, byte2, byte1); 
}

void main(void) {
  vec4 texData = texture2D(u_physData, gl_FragCoord.xy / 255.0);
  float data;
  if (u_index == 0.0) {
    data = texData.x;
  } else if (u_index == 1.0) {
    data = texData.y;
  } else if (u_index == 2.0) {
    data = texData.z;
  } else if (u_index == 3.0) {
    data = texData.w;
  }

  gl_FragColor = encode_float(data);
}
`),this.workaroundShader.use(),this.workaroundShader.setUniform("u_projection",this.physProjection),this.workaroundVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.workaroundVao),t.bindBuffer(t.ARRAY_BUFFER,this.physVbo),this.workaroundShader.setAttributePointer("a_position",2,0,2),this.vaoExt.bindVertexArrayOES(null),this.workaroundData=[];for(var n=0;n<4;n++){var i=new Uint8Array(262144),o=this.newTexture(t,null,Ct,t.UNSIGNED_BYTE),a=this.newFramebuffer(t,o);this.workaroundData.push({dataByte:i,dataFloat:new Float32Array(i.buffer),texture:o,frameBuffer:a})}}},{key:"doReadpixelWorkaround",value:function(){for(var t=this.gl,n=0;n<4;n++){var i=this.workaroundData[n];t.bindFramebuffer(t.FRAMEBUFFER,i.frameBuffer),t.viewport(0,0,Ct,Ct),this.workaroundShader.use(),this.workaroundShader.setUniform("u_index",n),this.workaroundShader.setUniform("u_physData",this.getPhysData(0).texture),this.vaoExt.bindVertexArrayOES(this.workaroundVao),t.drawArrays(t.TRIANGLE_STRIP,0,4),this.vaoExt.bindVertexArrayOES(null),t.readPixels(0,0,Ct,Ct,t.RGBA,t.UNSIGNED_BYTE,i.dataByte)}}},{key:"definePhysicsArrays",value:function(){this.physData=[],this.levelsData=[],this.levelsClusterTexture=[],this.levelsFinestIndexTexture=[]}}],e&&Gce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function dg(r){return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(r)}function Y0(r){return function(e){if(Array.isArray(e))return $x(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return $x(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$x(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function $x(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Wce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,QF(n.key),n)}}function zh(r,e,t){return(e=QF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function QF(r){var e=function(t){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(dg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return dg(e)=="symbol"?e:e+""}var qh="ForceCytoLayout",X0="forceDirected",K0="coseBilkent",Hce=function(){return r=function t(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),zh(this,"physLayout",void 0),zh(this,"coseBilkentLayout",void 0),zh(this,"state",void 0),zh(this,"currentLayoutType",void 0),zh(this,"enableCytoscape",void 0),zh(this,"currentLayout",void 0);var o=n.state,a=n.enableCytoscape;this.enableCytoscape=a==null||a,this.physLayout=new Vce(n),this.coseBilkentLayout=new jce({state:o,cytoCompleteCallback:function(){for(i.physLayout.update(!0),i.copyLayoutPositions(i.state.nodes.items,i.coseBilkentLayout,i.physLayout);i.physLayout.update(!1););i.copyLayoutPositions(i.state.nodes.items,i.physLayout,i.coseBilkentLayout)},animationCompleteCallback:function(){i.currentLayoutType===K0&&setTimeout(function(){return i.setLayout(X0)},50)}}),this.currentLayout=this.physLayout,this.currentLayoutType=X0;var u=o.nodes,s=o.rels;u.addChannel(qh),s.addChannel(qh),this.state=o},e=[{key:"setOptions",value:function(t){t!==void 0&&(this.currentLayout.setOptions(t),this.enableCytoscape=t.enableCytoscape)}},{key:"getLayout",value:function(t){return t===K0?this.coseBilkentLayout:this.physLayout}},{key:"setLayout",value:function(t){if(t!==this.currentLayoutType){Ur.info("Switching to layout: ".concat(t," in ForceCyto"));var n=this.getLayout(t);this.currentLayout=n,this.currentLayoutType=t}}},{key:"copyLayoutPositions",value:function(t,n,i){var o=n.getNodePositions(t);i.updateNodes(o)}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=this.state,i=n.nodes,o=n.rels,a=i.channels[qh],u=o.channels[qh],s=Object.values(a.adds).length,l=Object.values(u.adds).length,c=Object.values(a.adds).map(function(P){return P.id}),f=Object.values(u.adds).map(function(P){return P.id}),h=new Set(Object.keys(a.adds)),v=new Set(Object.keys(u.adds));if(i.clearChannel(qh),o.clearChannel(qh),this.currentLayoutType===X0&&this.enableCytoscape&&i.items.length<=100&&s<100&&s>0&&l>0){var d=i.items.map(function(P){return P.id}),y=new Set([].concat(Y0(d),Y0(c))),p=o.items.map(function(P){return P.id}),g=new Set([].concat(Y0(p),Y0(f)));if(y.size<=100&&g.size<=300){var b=function(P,I,R,D){var k,N=new Set(P),B=zp(new Set(I));try{for(B.s();!(k=B.n()).done;){var z=k.value,F=D.idToItem[z];if(F){var U=F.from,W=F.to;N.add(U),N.add(W)}}}catch(he){B.e(he)}finally{B.f()}var Y,X=function(he){var ee,K={},J={},ie=zp(he);try{for(ie.s();!(ee=ie.n()).done;){for(var de=ee.value,_e=de.from,Ce=de.to,Ae="".concat(_e,"-").concat(Ce),xe="".concat(Ce,"-").concat(_e),j=0,G=[Ae,xe];j<G.length;j++){var H=G[j];J[H]!==void 0?J[H].push(de):J[H]=[de]}K[_e]||(K[_e]=new Set),K[Ce]||(K[Ce]=new Set),K[_e].add(Ce),K[Ce].add(_e)}}catch(oe){ie.e(oe)}finally{ie.f()}return{adjNodesMap:K,relMap:J}}(D.items),Q=X.adjNodesMap,ue=X.relMap,ce={},ae={},pe=function(he){var ee=[];for(ce[he]||ee.push(he);ee.length>0;){var K=ee.shift();if(ce[K]=R.idToItem[K],Q[K]!==void 0){var J,ie=zp(Q[K]);try{for(ie.s();!(J=ie.n()).done;){var de=J.value;if(!ce[de]){ee.push(de);var _e=ue["".concat(K,"-").concat(de)];if(_e){var Ce,Ae=zp(_e);try{for(Ae.s();!(Ce=Ae.n()).done;){var xe=Ce.value;ae[xe.id]||(ae[xe.id]=xe)}}catch(j){Ae.e(j)}finally{Ae.f()}}}}}catch(j){ie.e(j)}finally{ie.f()}}}},fe=zp(N);try{for(fe.s();!(Y=fe.n()).done;)pe(Y.value)}catch(he){fe.e(he)}finally{fe.f()}return{connectedNodes:ce,connectedRels:ae}}(h,v,i,o),m=b.connectedNodes,_=b.connectedRels,w=Object.values(m),O=Object.values(_),E=w.length,S=O.length;E===h.size&&S===v.size&&(v.size>0||h.size>0)?(this.setLayout(K0),this.coseBilkentLayout.update(!0,i.items,o.items)):S>0&&v.size/S>.25&&(this.setLayout(K0),this.coseBilkentLayout.update(!0,w,O))}}this.physLayout.update(t),this.coseBilkentLayout.update(t)}},{key:"getShouldUpdate",value:function(){return this.currentLayout.getShouldUpdate()}},{key:"getComputing",value:function(){return this.currentLayout.getComputing()}},{key:"updateNodes",value:function(t){this.setLayout(X0),this.physLayout.updateNodes(t)}},{key:"getNodePositions",value:function(t){return this.currentLayout.getNodePositions(t)}},{key:"terminateUpdate",value:function(){this.physLayout.terminateUpdate(),this.coseBilkentLayout.terminateUpdate()}},{key:"destroy",value:function(){this.physLayout.destroy(),this.coseBilkentLayout.destroy()}}],e&&Wce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function vg(r){return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(r)}function wB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Yce(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(t),!0).forEach(function(n){rg(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):wB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function EB(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return xB(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?xB(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function xB(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Xce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,JF(n.key),n)}}function rg(r,e,t){return(e=JF(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function JF(r){var e=function(t){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(vg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return vg(e)=="symbol"?e:e+""}var ks="FreeLayout",Kce=function(){return r=function t(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),rg(this,"state",void 0),rg(this,"positions",void 0),rg(this,"shouldUpdate",void 0),rg(this,"stateDisposers",void 0);var o=n.state;this.state=o,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)}));var a=this.state,u=a.nodes,s=a.rels;u.addChannel(ks),s.addChannel(ks),this.shouldUpdate=!0,this.setOptions(),this.layout(u.items,u.idToItem,u.idToPosition)},e=[{key:"setOptions",value:function(){}},{key:"updateNodes",value:function(t){var n,i=EB(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.x!==void 0&&o.y!==void 0&&(this.positions[o.id]={x:o.x,y:o.y}),this.shouldUpdate=!0}}catch(a){i.e(a)}finally{i.f()}}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||t){var n=this.state,i=n.nodes,o=n.rels,a=Object.values(i.channels[ks].adds).length>0,u=Object.values(o.channels[ks].adds).length>0,s=Object.values(i.channels[ks].removes).length>0,l=Object.values(o.channels[ks].removes).length>0;(a||u||s||l)&&this.layout(i.items,i.idToItem,i.idToPosition),i.clearChannel(ks),o.clearChannel(ks)}this.shouldUpdate=!1}},{key:"layout",value:function(t,n,i){var o,a=(o=t)!==void 0?Wi(o):o;if(!(0,Kr.isEmpty)(a)){for(var u={},s=0;s<a.length;++s){var l,c=a[s].id,f=(l=i[c])!==null&&l!==void 0?l:{},h=f.x,v=h===void 0?0:h,d=f.y,y=d===void 0?0:d;u[c]={id:c,x:v,y}}this.positions=u,this.shouldUpdate=!1}}},{key:"setNodePositions",value:function(t){this.positions=t}},{key:"getNodePositions",value:function(t){var n,i=[],o=EB(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=this.positions[a.id],s=Yce({id:a.id},u);i.push(s)}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){}},{key:"destroy",value:function(){this.state.nodes.removeChannel(ks),this.state.rels.removeChannel(ks)}}],e&&Xce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function pg(r){return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(r)}function OB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function SB(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(t),!0).forEach(function(n){$ce(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):OB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function $ce(r,e,t){return(e=eU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function TB(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return CB(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?CB(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function CB(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Zce(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,eU(n.key),n)}}function eU(r){var e=function(t){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(pg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return pg(e)=="symbol"?e:e+""}var Ns="GridLayout",Qce=function(){return r=function t(n){var i=this;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t);var o=n.state;this.state=o,this.positions={},this.stateDisposers=[],this.stateDisposers.push(this.state.reaction(function(){return i.state.graphUpdates},function(){i.state.nodes.version!==void 0&&(i.shouldUpdate=!0),i.state.rels.version!==void 0&&(i.shouldUpdate=!0)}));var a=this.state,u=a.nodes,s=a.rels;u.addChannel(Ns),s.addChannel(Ns),this.shouldUpdate=!0,this.setOptions(n),this.layout(u.items,u.idToItem,u.idToPosition,s.items)},e=[{key:"setOptions",value:function(t){}},{key:"updateNodes",value:function(t){var n,i=TB(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;o.x!==void 0&&o.y!==void 0&&(this.positions[o.id]={x:o.x,y:o.y}),this.shouldUpdate=!0}}catch(a){i.e(a)}finally{i.f()}}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||t){var n=this.state,i=n.nodes,o=n.rels,a=Object.values(i.channels[Ns].adds).length>0,u=Object.values(o.channels[Ns].adds).length>0,s=Object.values(i.channels[Ns].removes).length>0,l=Object.values(o.channels[Ns].removes).length>0;(a||u||s||l)&&(this.layout(i.items,i.idToItem,i.idToPosition,o.items),i.idToPosition=this.positions),i.clearChannel(Ns),o.clearChannel(Ns)}this.shouldUpdate=!1}},{key:"layout",value:function(t,n,i,o){var a,u=(a=t)?Wi(a):a;if(!(0,Kr.isEmpty)(u)){for(var s=u.length,l=Math.ceil(Math.sqrt(s)),c=new Array(s),f=0,h=0;h<l;++h){for(var v=0;v<l&&(c[f]={y:0+150*h,x:0+150*v},(f+=1)!==s);++v);if(f===s)break}for(var d=u.sort(),y={},p=0;p<s;++p){var g=d[p],b=c[p];g.x===b.x&&g.y===b.y||(y[g.id]=SB({id:g.id},b))}this.positions=y,this.shouldUpdate=!1}}},{key:"getNodePositions",value:function(t){var n,i=[],o=TB(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=this.positions[a.id],s=SB({id:a.id},u);i.push(s)}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate}},{key:"getComputing",value:function(){return!1}},{key:"terminateUpdate",value:function(){this.shouldUpdate=!1}},{key:"destroy",value:function(){this.state.nodes.removeChannel(Ns),this.state.rels.removeChannel(Ns)}}],e&&Zce(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),Jce=new Set(["direction","packing"]),efe="forceDirected",_b="hierarchical",tfe="grid",rfe="free",nfe="d3Force",ife="circular",Yc="webgl",Il="canvas",Gh="svg";function gg(r){return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(r)}function $0(r,e,t){return(e=function(n){var i=function(o){if(gg(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(gg(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return gg(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var zO="down",ofe=$0($0($0($0({},"up","BT"),zO,"TB"),"left","RL"),"right","LR"),qO="bin",afe=[qO,"stack"],sfe=["html"],ufe=["html"],lfe=["captionHtml"];function nd(r){return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nd(r)}function Zx(r,e){if(r==null)return{};var t,n,i=function(a,u){if(a==null)return{};var s={};for(var l in a)if({}.hasOwnProperty.call(a,l)){if(u.indexOf(l)!==-1)continue;s[l]=a[l]}return s}(r,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(n=0;n<o.length;n++)t=o[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}function cfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,rU(n.key),n)}}function tU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!r})()}function GO(){return GO=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=id(o))!==null;);return o}(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},GO.apply(null,arguments)}function id(r){return id=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},id(r)}function VO(r,e){return VO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},VO(r,e)}function Ls(r,e,t){return(e=rU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rU(r){var e=function(t){if(nd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(nd(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return nd(e)=="symbol"?e:e+""}var ao="HierarchicalLayout",Z0=function(r){return r!==void 0?Wi(r):r},ffe=function(){function r(n){var i;(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,r),Ls(i=function(s,l,c){return l=id(l),function(f,h){if(h&&(nd(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(f)}(s,tU()?Reflect.construct(l,c||[],id(s).constructor):l.apply(s,c))}(this,r,[n]),"direction",void 0),Ls(i,"packing",void 0),Ls(i,"stateDisposers",void 0),Ls(i,"oldComputing",void 0),Ls(i,"computing",void 0),Ls(i,"pendingLayoutData",void 0),Ls(i,"worker",void 0),Ls(i,"directionChanged",void 0),Ls(i,"packingChanged",void 0),Ls(i,"workersDisabled",void 0),i.direction=zO,i.packing=qO;var o=i.state,a=o.nodes,u=o.rels;return a.addChannel(ao),u.addChannel(ao),i.stateDisposers=[i.state.reaction(function(){return i.state.graphUpdates},function(){if(a.version!==void 0){var s=a.channels[ao],l=Object.values(s.adds).length>0,c=Object.values(s.removes).length>0,f=Object.values(s.updates),h=rf(f);i.shouldUpdate=i.shouldUpdate||l||c||h}if(u.version!==void 0){var v=u.channels[ao],d=Object.values(v.adds).length>0,y=Object.values(v.removes).length>0;i.shouldUpdate=i.shouldUpdate||d||y}})],i.shouldUpdate=!0,i.oldComputing=!1,i.computing=!1,i.workersDisabled=n.state.disableWebWorkers,i.setOptions(n),i.worker=GF("HierarchicalLayout",i.workersDisabled),i.pendingLayoutData=null,i.layout(a.items,a.idToItem,a.idToPosition,u.items),i}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&VO(n,i)}(r,OS),e=r,t=[{key:"setOptions",value:function(n){if(n!==void 0&&function(s){return Object.keys(s).every(function(l){return Jce.has(l)})}(n)){var i=n.direction,o=i===void 0?zO:i,a=n.packing,u=a===void 0?qO:a;Object.keys(ofe).includes(o)&&(this.directionChanged=this.direction&&this.direction!==o,this.direction=o),afe.includes(u)&&(this.packingChanged=this.packing&&this.packing!==u,this.packing=u),this.shouldUpdate=this.shouldUpdate||this.directionChanged||this.packingChanged}}},{key:"update",value:function(){var n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(this.shouldUpdate||n){var i=this.state,o=i.nodes,a=i.rels,u=this.directionChanged,s=this.packingChanged,l=Object.values(o.channels[ao].adds).length>0,c=Object.values(a.channels[ao].adds).length>0,f=Object.values(o.channels[ao].removes).length>0,h=Object.values(a.channels[ao].removes).length>0,v=Object.values(o.channels[ao].updates),d=rf(v);(n||l||c||f||h||u||s||d)&&this.layout(o.items,o.idToItem,o.idToPosition,a.items),o.clearChannel(ao),a.clearChannel(ao),this.directionChanged=!1,this.packingChanged=!1}(function(y,p,g){var b=GO(id(y.prototype),"update",g);return typeof b=="function"?function(m){return b.apply(g,m)}:b})(r,0,this)([]),this.shouldUpdate=!1,this.oldComputing=this.computing}},{key:"getShouldUpdate",value:function(){return this.shouldUpdate||this.shouldUpdateAnimator}},{key:"getComputing",value:function(){return this.computing}},{key:"layout",value:function(n,i,o,a){var u=this;if(this.worker){var s=Z0(n).map(function(g){return g.html,Zx(g,sfe)}),l=Z0(i),c={};Object.keys(l).forEach(function(g){var b=l[g],m=(b.html,Zx(b,ufe));c[g]=m});var f=Z0(a).map(function(g){return g.captionHtml,Zx(g,lfe)}),h=Z0(o),v=this.direction,d=this.packing,y=window.devicePixelRatio,p={nodes:s,nodeIds:c,idToPosition:h,rels:f,direction:v,packing:d,pixelRatio:y,forcedDelay:0};this.computing?this.pendingLayoutData=p:(this.worker.port.onmessage=function(g){var b=g.data,m=b.positions,_=b.parents,w=b.waypoints;u.computing&&(u.positions=m),u.parents=_,u.state.setWaypoints(w),u.pendingLayoutData!==null?(u.worker.port.postMessage(u.pendingLayoutData),u.pendingLayoutData=null):u.computing=!1,u.shouldUpdate=!0,u.startAnimation()},this.computing=!0,this.worker.port.postMessage(p))}else Ur.info("Hierarchical layout code not yet initialised.")}},{key:"terminateUpdate",value:function(){var n,i;this.computing=!1,this.shouldUpdate=!1,(n=this.state.nodes)===null||n===void 0||n.clearChannel(ao),(i=this.state.rels)===null||i===void 0||i.clearChannel(ao)}},{key:"destroy",value:function(){var n;this.stateDisposers.forEach(function(i){i()}),this.state.nodes.removeChannel(ao),this.state.rels.removeChannel(ao),(n=this.worker)===null||n===void 0||n.port.close()}}],t&&cfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),hfe=In(3269),nU=In.n(hfe);function wb(r){return wb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wb(r)}var dfe=/^\s+/,vfe=/\s+$/;function Et(r,e){if(e=e||{},(r=r||"")instanceof Et)return r;if(!(this instanceof Et))return new Et(r,e);var t=function(n){var i,o,a,u={r:0,g:0,b:0},s=1,l=null,c=null,f=null,h=!1,v=!1;return typeof n=="string"&&(n=function(d){d=d.replace(dfe,"").replace(vfe,"").toLowerCase();var y,p=!1;if(WO[d])d=WO[d],p=!0;else if(d=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(y=Xa.rgb.exec(d))?{r:y[1],g:y[2],b:y[3]}:(y=Xa.rgba.exec(d))?{r:y[1],g:y[2],b:y[3],a:y[4]}:(y=Xa.hsl.exec(d))?{h:y[1],s:y[2],l:y[3]}:(y=Xa.hsla.exec(d))?{h:y[1],s:y[2],l:y[3],a:y[4]}:(y=Xa.hsv.exec(d))?{h:y[1],s:y[2],v:y[3]}:(y=Xa.hsva.exec(d))?{h:y[1],s:y[2],v:y[3],a:y[4]}:(y=Xa.hex8.exec(d))?{r:ia(y[1]),g:ia(y[2]),b:ia(y[3]),a:MB(y[4]),format:p?"name":"hex8"}:(y=Xa.hex6.exec(d))?{r:ia(y[1]),g:ia(y[2]),b:ia(y[3]),format:p?"name":"hex"}:(y=Xa.hex4.exec(d))?{r:ia(y[1]+""+y[1]),g:ia(y[2]+""+y[2]),b:ia(y[3]+""+y[3]),a:MB(y[4]+""+y[4]),format:p?"name":"hex8"}:!!(y=Xa.hex3.exec(d))&&{r:ia(y[1]+""+y[1]),g:ia(y[2]+""+y[2]),b:ia(y[3]+""+y[3]),format:p?"name":"hex"}}(n)),wb(n)=="object"&&(bu(n.r)&&bu(n.g)&&bu(n.b)?(i=n.r,o=n.g,a=n.b,u={r:255*bn(i,255),g:255*bn(o,255),b:255*bn(a,255)},h=!0,v=String(n.r).substr(-1)==="%"?"prgb":"rgb"):bu(n.h)&&bu(n.s)&&bu(n.v)?(l=ng(n.s),c=ng(n.v),u=function(d,y,p){d=6*bn(d,360),y=bn(y,100),p=bn(p,100);var g=Math.floor(d),b=d-g,m=p*(1-y),_=p*(1-b*y),w=p*(1-(1-b)*y),O=g%6;return{r:255*[p,_,m,m,w,p][O],g:255*[w,p,p,_,m,m][O],b:255*[m,m,w,p,p,_][O]}}(n.h,l,c),h=!0,v="hsv"):bu(n.h)&&bu(n.s)&&bu(n.l)&&(l=ng(n.s),f=ng(n.l),u=function(d,y,p){var g,b,m;function _(E,S,P){return P<0&&(P+=1),P>1&&(P-=1),P<1/6?E+6*(S-E)*P:P<.5?S:P<2/3?E+(S-E)*(2/3-P)*6:E}if(d=bn(d,360),y=bn(y,100),p=bn(p,100),y===0)g=b=m=p;else{var w=p<.5?p*(1+y):p+y-p*y,O=2*p-w;g=_(O,w,d+1/3),b=_(O,w,d),m=_(O,w,d-1/3)}return{r:255*g,g:255*b,b:255*m}}(n.h,l,f),h=!0,v="hsl"),n.hasOwnProperty("a")&&(s=n.a)),s=iU(s),{ok:h,format:n.format||v,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:s}}(r);this._originalInput=r,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}function PB(r,e,t){r=bn(r,255),e=bn(e,255),t=bn(t,255);var n,i,o=Math.max(r,e,t),a=Math.min(r,e,t),u=(o+a)/2;if(o==a)n=i=0;else{var s=o-a;switch(i=u>.5?s/(2-o-a):s/(o+a),o){case r:n=(e-t)/s+(e<t?6:0);break;case e:n=(t-r)/s+2;break;case t:n=(r-e)/s+4}n/=6}return{h:n,s:i,l:u}}function AB(r,e,t){r=bn(r,255),e=bn(e,255),t=bn(t,255);var n,i,o=Math.max(r,e,t),a=Math.min(r,e,t),u=o,s=o-a;if(i=o===0?0:s/o,o==a)n=0;else{switch(o){case r:n=(e-t)/s+(e<t?6:0);break;case e:n=(t-r)/s+2;break;case t:n=(r-e)/s+4}n/=6}return{h:n,s:i,v:u}}function RB(r,e,t,n){var i=[Za(Math.round(r).toString(16)),Za(Math.round(e).toString(16)),Za(Math.round(t).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function IB(r,e,t,n){return[Za(oU(n)),Za(Math.round(r).toString(16)),Za(Math.round(e).toString(16)),Za(Math.round(t).toString(16))].join("")}function pfe(r,e){e=e===0?0:e||10;var t=Et(r).toHsl();return t.s-=e/100,t.s=Fb(t.s),Et(t)}function gfe(r,e){e=e===0?0:e||10;var t=Et(r).toHsl();return t.s+=e/100,t.s=Fb(t.s),Et(t)}function yfe(r){return Et(r).desaturate(100)}function mfe(r,e){e=e===0?0:e||10;var t=Et(r).toHsl();return t.l+=e/100,t.l=Fb(t.l),Et(t)}function bfe(r,e){e=e===0?0:e||10;var t=Et(r).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(-e/100*255))),t.g=Math.max(0,Math.min(255,t.g-Math.round(-e/100*255))),t.b=Math.max(0,Math.min(255,t.b-Math.round(-e/100*255))),Et(t)}function _fe(r,e){e=e===0?0:e||10;var t=Et(r).toHsl();return t.l-=e/100,t.l=Fb(t.l),Et(t)}function wfe(r,e){var t=Et(r).toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,Et(t)}function Efe(r){var e=Et(r).toHsl();return e.h=(e.h+180)%360,Et(e)}function DB(r,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Et(r).toHsl(),n=[Et(r)],i=360/e,o=1;o<e;o++)n.push(Et({h:(t.h+o*i)%360,s:t.s,l:t.l}));return n}function xfe(r){var e=Et(r).toHsl(),t=e.h;return[Et(r),Et({h:(t+72)%360,s:e.s,l:e.l}),Et({h:(t+216)%360,s:e.s,l:e.l})]}function Ofe(r,e,t){e=e||6,t=t||30;var n=Et(r).toHsl(),i=360/t,o=[Et(r)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,o.push(Et(n));return o}function Sfe(r,e){e=e||6;for(var t=Et(r).toHsv(),n=t.h,i=t.s,o=t.v,a=[],u=1/e;e--;)a.push(Et({h:n,s:i,v:o})),o=(o+u)%1;return a}Et.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(299*r.r+587*r.g+114*r.b)/1e3},getLuminance:function(){var r,e,t,n=this.toRgb();return r=n.r/255,e=n.g/255,t=n.b/255,.2126*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))+.7152*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.0722*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))},setAlpha:function(r){return this._a=iU(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=AB(this._r,this._g,this._b);return{h:360*r.h,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=AB(this._r,this._g,this._b),e=Math.round(360*r.h),t=Math.round(100*r.s),n=Math.round(100*r.v);return this._a==1?"hsv("+e+", "+t+"%, "+n+"%)":"hsva("+e+", "+t+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var r=PB(this._r,this._g,this._b);return{h:360*r.h,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=PB(this._r,this._g,this._b),e=Math.round(360*r.h),t=Math.round(100*r.s),n=Math.round(100*r.l);return this._a==1?"hsl("+e+", "+t+"%, "+n+"%)":"hsla("+e+", "+t+"%, "+n+"%, "+this._roundA+")"},toHex:function(r){return RB(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return function(e,t,n,i,o){var a=[Za(Math.round(e).toString(16)),Za(Math.round(t).toString(16)),Za(Math.round(n).toString(16)),Za(oU(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*bn(this._r,255))+"%",g:Math.round(100*bn(this._g,255))+"%",b:Math.round(100*bn(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(100*bn(this._r,255))+"%, "+Math.round(100*bn(this._g,255))+"%, "+Math.round(100*bn(this._b,255))+"%)":"rgba("+Math.round(100*bn(this._r,255))+"%, "+Math.round(100*bn(this._g,255))+"%, "+Math.round(100*bn(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(Tfe[RB(this._r,this._g,this._b,!0)]||!1)},toFilter:function(r){var e="#"+IB(this._r,this._g,this._b,this._a),t=e,n=this._gradientType?"GradientType = 1, ":"";if(r){var i=Et(r);t="#"+IB(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+e+",endColorstr="+t+")"},toString:function(r){var e=!!r;r=r||this._format;var t=!1,n=this._a<1&&this._a>=0;return e||!n||r!=="hex"&&r!=="hex6"&&r!=="hex3"&&r!=="hex4"&&r!=="hex8"&&r!=="name"?(r==="rgb"&&(t=this.toRgbString()),r==="prgb"&&(t=this.toPercentageRgbString()),r!=="hex"&&r!=="hex6"||(t=this.toHexString()),r==="hex3"&&(t=this.toHexString(!0)),r==="hex4"&&(t=this.toHex8String(!0)),r==="hex8"&&(t=this.toHex8String()),r==="name"&&(t=this.toName()),r==="hsl"&&(t=this.toHslString()),r==="hsv"&&(t=this.toHsvString()),t||this.toHexString()):r==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return Et(this.toString())},_applyModification:function(r,e){var t=r.apply(null,[this].concat([].slice.call(e)));return this._r=t._r,this._g=t._g,this._b=t._b,this.setAlpha(t._a),this},lighten:function(){return this._applyModification(mfe,arguments)},brighten:function(){return this._applyModification(bfe,arguments)},darken:function(){return this._applyModification(_fe,arguments)},desaturate:function(){return this._applyModification(pfe,arguments)},saturate:function(){return this._applyModification(gfe,arguments)},greyscale:function(){return this._applyModification(yfe,arguments)},spin:function(){return this._applyModification(wfe,arguments)},_applyCombination:function(r,e){return r.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Ofe,arguments)},complement:function(){return this._applyCombination(Efe,arguments)},monochromatic:function(){return this._applyCombination(Sfe,arguments)},splitcomplement:function(){return this._applyCombination(xfe,arguments)},triad:function(){return this._applyCombination(DB,[3])},tetrad:function(){return this._applyCombination(DB,[4])}},Et.fromRatio=function(r,e){if(wb(r)=="object"){var t={};for(var n in r)r.hasOwnProperty(n)&&(t[n]=n==="a"?r[n]:ng(r[n]));r=t}return Et(r,e)},Et.equals=function(r,e){return!(!r||!e)&&Et(r).toRgbString()==Et(e).toRgbString()},Et.random=function(){return Et.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Et.mix=function(r,e,t){t=t===0?0:t||50;var n=Et(r).toRgb(),i=Et(e).toRgb(),o=t/100;return Et({r:(i.r-n.r)*o+n.r,g:(i.g-n.g)*o+n.g,b:(i.b-n.b)*o+n.b,a:(i.a-n.a)*o+n.a})},Et.readability=function(r,e){var t=Et(r),n=Et(e);return(Math.max(t.getLuminance(),n.getLuminance())+.05)/(Math.min(t.getLuminance(),n.getLuminance())+.05)},Et.isReadable=function(r,e,t){var n,i,o,a,u,s=Et.readability(r,e);switch(i=!1,(a=((o=(o=t)||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&a!=="AAA"&&(a="AA"),(u=(o.size||"small").toLowerCase())!=="small"&&u!=="large"&&(u="small"),(n={level:a,size:u}).level+n.size){case"AAsmall":case"AAAlarge":i=s>=4.5;break;case"AAlarge":i=s>=3;break;case"AAAsmall":i=s>=7}return i},Et.mostReadable=function(r,e,t){var n,i,o,a,u=null,s=0;i=(t=t||{}).includeFallbackColors,o=t.level,a=t.size;for(var l=0;l<e.length;l++)(n=Et.readability(r,e[l]))>s&&(s=n,u=Et(e[l]));return Et.isReadable(r,u,{level:o,size:a})||!i?u:(t.includeFallbackColors=!1,Et.mostReadable(r,["#fff","#000"],t))};var WO=Et.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Tfe=Et.hexNames=function(r){var e={};for(var t in r)r.hasOwnProperty(t)&&(e[r[t]]=t);return e}(WO);function iU(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function bn(r,e){(function(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1})(r)&&(r="100%");var t=function(n){return typeof n=="string"&&n.indexOf("%")!=-1}(r);return r=Math.min(e,Math.max(0,parseFloat(r))),t&&(r=parseInt(r*e,10)/100),Math.abs(r-e)<1e-6?1:r%e/parseFloat(e)}function Fb(r){return Math.min(1,Math.max(0,r))}function ia(r){return parseInt(r,16)}function Za(r){return r.length==1?"0"+r:""+r}function ng(r){return r<=1&&(r=100*r+"%"),r}function oU(r){return Math.round(255*parseFloat(r)).toString(16)}function MB(r){return ia(r)/255}var Sl,Q0,J0,Xa=(Q0="[\\s|\\(]+("+(Sl="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Sl+")[,|\\s]+("+Sl+")\\s*\\)?",J0="[\\s|\\(]+("+Sl+")[,|\\s]+("+Sl+")[,|\\s]+("+Sl+")[,|\\s]+("+Sl+")\\s*\\)?",{CSS_UNIT:new RegExp(Sl),rgb:new RegExp("rgb"+Q0),rgba:new RegExp("rgba"+J0),hsl:new RegExp("hsl"+Q0),hsla:new RegExp("hsla"+J0),hsv:new RegExp("hsv"+Q0),hsva:new RegExp("hsva"+J0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function bu(r){return!!Xa.CSS_UNIT.exec(r)}var HO=function(r){return Et.mostReadable(r,[xS,"#FFFFFF"]).toString()},Yg=function(r){return nU().get.rgb(r)},eb=function(r){var e=new ArrayBuffer(4),t=new Uint32Array(e),n=new Uint8Array(e),i=Yg(r);return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=255*i[3],t[0]},tb=function(r){return[(e=Yg(r))[0]/255,e[1]/255,e[2]/255];var e},kB={selected:{rings:[{widthFactor:.05,color:RF},{widthFactor:.1,color:IF}],shadow:{width:10,opacity:1,color:AF}},default:{rings:[]}},NB={selected:{rings:[{color:RF,width:2},{color:IF,width:4}],shadow:{width:18,opacity:1,color:AF}},default:{rings:[]}},Qx=.75,Jx={noPan:!1,outOnly:!1,animated:!0};function yg(r){return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(r)}function eO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function LB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function tO(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(t),!0).forEach(function(n){Cfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):LB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Cfe(r,e,t){return(e=function(n){var i=function(o){if(yg(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(yg(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return yg(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var YO,Eb=function(r){return r.captions&&r.captions.length>0?r.captions:r.caption&&r.caption.length>0?[{value:r.caption}]:[]},Tl=function(r,e,t){(0,Kr.isNil)(r)||(function(n){return typeof n=="string"&&Yg(n)!==null}(r)?e(r):zF().warn("Invalid color string for ".concat(t,":"),r))},aU=function(r,e,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Tr();r.width=e*n,r.height=t*n,r.style.width="".concat(e,"px"),r.style.height="".concat(t,"px")},sU=function(r){Ur.warn("Error: WebGL context lost - visualization will stop working!",r),YO!==void 0&&YO(r)},hb=function(r){var e=r.parentElement,t=e.getBoundingClientRect(),n=t.width,i=t.height;n!==0||i!==0||e.isConnected||(n=parseInt(e.style.width,10)||0,i=parseInt(e.style.height,10)||0),aU(r,n,i)},rO=function(r,e){var t=document.createElement("canvas");return Object.assign(t.style,PO),r!==void 0&&(r.appendChild(t),hb(t)),function(n,i){YO=i,n.addEventListener("webglcontextlost",sU)}(t,e),t},Vh=function(r){r.width=0,r.height=0,r.remove()},jB=function(r){var e={antialias:!0},t=r.getContext("webgl",e);return t===null&&(t=r.getContext("experimental-webgl",e)),function(n){return n instanceof WebGLRenderingContext}(t)?t:null},BB=function(r){r.canvas.removeEventListener("webglcontextlost",sU);var e=r.getExtension("WEBGL_lose_context");e?.loseContext()},XO=new Map,ig=function(r,e){var t=r.font,n=XO.get(t);n===void 0&&(n=new Map,XO.set(t,n));var i=n.get(e);return i===void 0&&(i=r.measureText(e).width,n.set(e,i)),i};function mg(r){return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(r)}function FB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,uU(n.key),n)}}function Xc(r,e,t){return(e=uU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function uU(r){var e=function(t){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(mg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return mg(e)=="symbol"?e:e+""}var KO=function(r){return(0,Kr.isFinite)(r.x)&&(0,Kr.isFinite)(r.y)},Xg=function(r,e){return KO(r)&&KO(e)},rb=function(r,e){if(r===void 0||e===void 0||!Xg(r,e))return!1;var t=e.x-r.x,n=e.y-r.y,i=Tr();return t*t+n*n<100*i*i},Vi=function(){return r=function t(n,i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),Xc(this,"p1",void 0),Xc(this,"p2",void 0),Xc(this,"unit",void 0),Xc(this,"norm",void 0),Xc(this,"length",void 0),Xc(this,"vector",void 0),this.p1=n,this.p2=i,this.vector=this.getVector(),this.length=this.getLength(),this.unit=this.getUnitVector(),this.norm=this.getUnitNormalVector()},e=[{key:"getVector",value:function(){return{x:this.p2.x-this.p1.x,y:this.p2.y-this.p1.y}}},{key:"getLength",value:function(){var t=this.vector,n=t.x,i=t.y;return Math.sqrt(n*n+i*i)}},{key:"getUnitVector",value:function(){var t=this.vector,n=this.length;return{x:t.x/n,y:t.y/n}}},{key:"getUnitNormalVector",value:function(){return{x:this.unit.y,y:-this.unit.x}}}],e&&Pfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),PS=function(r,e,t){var n={x:e.x-r.x,y:e.y-r.y},i=function(l,c){var f=(l.x*c.x+l.y*c.y)/(c.x*c.x+c.y*c.y);return(0,Kr.clamp)(f,0,1)}({x:t.x-r.x,y:t.y-r.y},n),o=r.x+i*n.x,a=r.y+i*n.y,u=o-t.x,s=a-t.y;return Math.sqrt(u*u+s*s)},Afe=function(r,e,t,n){if(e.x===t.x&&e.y===t.y)return e;var i=e.y-r.y,o=r.x-e.x,a=i*r.x+o*r.y,u=n.y-t.y,s=t.x-n.x,l=u*t.x+s*t.y,c=i*s-u*o;return c===0?null:{x:(s*a-o*l)/c,y:(i*l-u*a)/c}},nO=function(r,e,t,n){var i,o,a,u=1e9,s=function(c){for(var f=1;f<arguments.length;f++){var h=arguments[f]!=null?arguments[f]:{};f%2?FB(Object(h),!0).forEach(function(v){Xc(c,v,h[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(h)):FB(Object(h)).forEach(function(v){Object.defineProperty(c,v,Object.getOwnPropertyDescriptor(h,v))})}return c}({},r),l={x:0,y:0};for(o=1;o<10;o++)a=.1*o,l.x=Math.pow(1-a,2)*r.x+2*a*(1-a)*t.x+Math.pow(a,2)*e.x,l.y=Math.pow(1-a,2)*r.y+2*a*(1-a)*t.y+Math.pow(a,2)*e.y,o>0&&(u=(i=PS(s,l,n))<u?i:u),s.x=l.x,s.y=l.y;return u};function bg(r){return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(r)}function Rfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,lU(n.key),n)}}function lU(r){var e=function(t){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(bg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return bg(e)=="symbol"?e:e+""}var Ta=64,Ife=function(){return r=function t(){var n,i,o;(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),n=this,o=void 0,(i=lU(i="cache"))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.cache={}},e=[{key:"getImage",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.getOrCreateEntry(t),o=n?"inverted":"image",a=i[o];return a===void 0&&(a=this.loadImage(t),i[o]=a),this.drawIfNeeded(a,n),a.canvas}},{key:"getOrCreateEntry",value:function(t){return this.cache[t]===void 0&&(this.cache[t]={}),this.cache[t]}},{key:"invertCanvas",value:function(t){for(var n=t.getImageData(0,0,Ta,Ta),i=n.data,o=0;o<4096;o++){var a=4*o;i[a]^=255,i[a+1]^=255,i[a+2]^=255}t.putImageData(n,0,0)}},{key:"loadImage",value:function(t){var n=document.createElement("canvas");n.width=Ta,n.height=Ta;var i=new Image;return i.src=t,i.crossOrigin="anonymous",{canvas:n,image:i,drawn:!1}}},{key:"drawIfNeeded",value:function(t,n){var i=t.image,o=t.canvas;if(!t.drawn&&i.complete){var a=o.getContext("2d");try{a.drawImage(i,0,0,Ta,Ta)}catch(u){Ur.error("Failed to draw image",i.src,u),a.beginPath(),a.strokeStyle="black",a.rect(0,0,Ta,Ta),a.moveTo(0,0),a.lineTo(Ta,Ta),a.moveTo(0,Ta),a.lineTo(Ta,0),a.stroke(),a.closePath()}n&&this.invertCanvas(a),t.drawn=!0}}},{key:"waitForImages",value:function(){for(var t=[],n=0,i=Object.values(this.cache);n<i.length;n++)for(var o=i[n],a=function(){var l,c=s[u],f=(l=o[c])!==null&&l!==void 0?l:{},h=f.image,v=f.drawn;h&&!v&&t.push(new Promise(function(d){var y=function(){return d()},p=function(){return d()};h.addEventListener("load",y,{once:!0}),h.addEventListener("error",p,{once:!0}),h.complete&&(h.removeEventListener("load",y),h.removeEventListener("error",p),d())}))},u=0,s=["image","inverted"];u<s.length;u++)a();return t.length>0?Promise.all(t).then(function(){}):Promise.resolve()}}],e&&Rfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),Dfe=Ife;function _g(r){return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_g(r)}function UB(r,e){if(r){if(typeof r=="string")return $O(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?$O(r,e):void 0}}function $O(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Mfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,cU(n.key),n)}}function Cl(r,e,t){return(e=cU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function cU(r){var e=function(t){if(_g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(_g(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return _g(e)=="symbol"?e:e+""}var kfe=function(){return r=function t(n,i,o){(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),Cl(this,"key",void 0),Cl(this,"rels",void 0),Cl(this,"waypointPath",void 0),Cl(this,"selfReferring",void 0),Cl(this,"fromId",void 0),Cl(this,"toId",void 0),Cl(this,"angles",void 0),Cl(this,"labelInfo",void 0),this.key=n,this.rels=new Map,this.selfReferring=i===o,this.fromId=i,this.toId=o,this.labelInfo={},this.angles=[]},e=[{key:"insert",value:function(t){this.rels.set(t.id,t)}},{key:"setLabelInfo",value:function(t,n){this.labelInfo[t]=n}},{key:"has",value:function(t){var n=t.id;return this.rels.has(n)}},{key:"remove",value:function(t){var n=t.id;if(this.rels.has(n)&&(this.rels.delete(n),this.size()>0)){var i=function(o,a){return function(u){if(Array.isArray(u))return u}(o)||function(u,s){var l=u==null?null:typeof Symbol<"u"&&u[Symbol.iterator]||u["@@iterator"];if(l!=null){var c,f,h,v,d=[],y=!0,p=!1;try{if(h=(l=l.call(u)).next,s===0){if(Object(l)!==l)return;y=!1}else for(;!(y=(c=h.call(l)).done)&&(d.push(c.value),d.length!==s);y=!0);}catch(g){p=!0,f=g}finally{try{if(!y&&l.return!=null&&(v=l.return(),Object(v)!==v))return}finally{if(p)throw f}}return d}}(o,a)||UB(o,a)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(this.relArray(),1)[0];this.fromId=i.from,this.toId=i.to}}},{key:"size",value:function(){return this.rels.size}},{key:"relArray",value:function(){return Array.from(this.rels.values())}},{key:"maxFontSize",value:function(){if(this.size()===0)return 1;var t=this.relArray().map(function(n){return(0,Kr.isNumber)(n.captionSize)?n.captionSize:1});return Math.max.apply(Math,function(n){return function(i){if(Array.isArray(i))return $O(i)}(n)||function(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(n)||UB(n)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(t))}},{key:"relIsOppositeDirection",value:function(t){var n=t.from,i=t.to,o=this.fromId,a=this.toId;return n!==o&&i!==a||n===a&&i===o}},{key:"indexOf",value:function(t){var n=t.id,i=Array.from(this.rels.keys());return this.rels.has(n)?i.indexOf(n):-1}},{key:"getRel",value:function(t){var n=this.relArray();return t<0||t>=n.length?null:n[t]}},{key:"setWaypoints",value:function(t){this.waypointPath=t}},{key:"setAngles",value:function(t){this.angles=t}}],e&&Mfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),zB=CF,qB=2*Math.PI/50,GB=.1*Math.PI,Ub=1.5,ZO=Jp;function wg(r){return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(r)}function VB(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=fU(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function WB(r){return function(e){if(Array.isArray(e))return QO(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||fU(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fU(r,e){if(r){if(typeof r=="string")return QO(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?QO(r,e):void 0}}function QO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Nfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,hU(n.key),n)}}function HB(r,e,t){return(e=hU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function hU(r){var e=function(t){if(wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(wg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return wg(e)=="symbol"?e:e+""}var Lfe=function(r){var e=[];if(r.length===0)e.push({size:2*Math.PI,start:0});else{for(var t=r.length-1;t>=0;t--){var n=void 0,i=void 0;t===0?(i=r[r.length-1],n=r[t]-r[r.length-1]+2*Math.PI):(i=r[t-1],n=r[t]-r[t-1]),e.push({size:n,start:i})}e.sort(function(o,a){return a.size-o.size})}return e},jfe=function(r,e){for(;e>r.length||r[0].size>2*r[e-1].size;)r.push({size:r[0].size/2,start:r[0].start}),r.push({size:r[0].size/2,start:r[0].start+r[0].size/2}),r.shift(),r.sort(function(t,n){return n.size-t.size});return r},Bfe=function(){return r=function t(n,i){(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),HB(this,"bundles",void 0),HB(this,"nodeToBundles",void 0),this.bundles={},this.nodeToBundles={};var o=n.reduce(function(a,u){return a[u.id]=u,a},{});this.updateData(o,{},{},i)},e=[{key:"getBundle",value:function(t){var n=this.bundles,i=this.nodeToBundles,o=this.generatePairId(t.from,t.to),a=n[o];return a===void 0&&(a=new kfe(o,t.from,t.to),n[o]=a,i[t.from]===void 0&&(i[t.from]=[]),i[t.to]===void 0&&(i[t.to]=[]),i[t.from].push(a),i[t.to].push(a)),a}},{key:"updateData",value:function(t,n,i,o){var a,u=this.bundles,s=this.nodeToBundles,l=function(w,O){var E=s[O].findIndex(function(S){return S===w});E!==-1&&s[O].splice(E,1),s[O].length===0&&delete s[O]},c=[].concat(WB(Object.values(t)),WB(Object.values(i))),f=Object.values(n),h=VB(c);try{for(h.s();!(a=h.n()).done;){var v=a.value;this.getBundle(v).insert(v)}}catch(w){h.e(w)}finally{h.f()}for(var d=0,y=f;d<y.length;d++){var p=y[d],g=this.getBundle(p);g.remove(p),g.size()===0&&(delete u[g.key],l(g,p.from),l(g,p.to))}for(var b=0,m=Object.keys(u);b<m.length;b++){var _=u[m[b]];_.setWaypoints(o["".concat(_.fromId,"-").concat(_.toId)])}}},{key:"updatePositions",value:function(t){for(var n=this.nodeToBundles,i=0,o=Object.keys(t);i<o.length;i++){var a,u=o[i],s=(a=n[u])!==null&&a!==void 0?a:[];if(s.length!==0){var l=s.find(function(S){return S.selfReferring}),c=s.filter(function(S){return!S.selfReferring});if(l!==void 0){var f,h=[],v=VB(c);try{for(v.s();!(f=v.n()).done;){var d=f.value,y=t[d.fromId],p=t[d.toId];if(y!==void 0&&p!==void 0)for(var g=qB*d.size(),b=y.id===u?Math.atan2(p.y-y.y,p.x-y.x):Math.atan2(y.y-p.y,y.x-p.x),m=0;m<d.size();m++)h.push(b+g/2-m*qB);else{var _=y===void 0?d.fromId:d.toId;Ur.warn("Arrowbundler: Node with id ".concat(_," is not in position map"))}}}catch(S){v.e(S)}finally{v.f()}var w=h.map(function(S){return(S+2*Math.PI)%(2*Math.PI)}).sort(),O=Lfe(w);jfe(O,l.size());var E=O.map(function(S){return S.start+S.size/2}).slice(0,l.size());l.setAngles(E)}}}}},{key:"generatePairId",value:function(t,n){return[t.toString(),n.toString()].sort(function(i,o){return i.localeCompare(o)}).join("-")}}],e&&Nfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),Hp=function(r,e){return{x:r.x+e.x,y:r.y+e.y}},dU=function(r,e){return{x:r.x-e.x,y:r.y-e.y}},Wh=function(r,e){return{x:r.x*e,y:r.y*e}},Ffe=function(r,e){return r.x*e.x+r.y*e.y},xb=function(r,e){return function(t){return Math.sqrt(t.x*t.x+t.y*t.y)}(dU(r,e))};function YB(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var Ufe=2*Math.PI,Ob=function(r,e,t){var n,i,o,a,u,s,l,c,f=t.indexOf(r),h=(n=t.angles[f])!==null&&n!==void 0?n:0,v=h-GB/2,d=h+GB/2,y=Tr(),p=((i=e.size)!==null&&i!==void 0?i:on)*y+4*y,g=(o=e.x)!==null&&o!==void 0?o:0,b=(a=e.y)!==null&&a!==void 0?a:0,m={x:g+Math.cos(v)*(p+((u=r.width)!==null&&u!==void 0?u:2)/2),y:b+Math.sin(v)*(p+((s=r.width)!==null&&s!==void 0?s:2)/2)},_={x:g+Math.cos(d)*(p+((l=r.width)!==null&&l!==void 0?l:2)/2),y:b+Math.sin(d)*(p+((c=r.width)!==null&&c!==void 0?c:2)/2)},w={x:g+Math.cos(h)*(p+35*y),y:b+Math.sin(h)*(p+35*y)};return{angle:h,startAngle:v,endAngle:d,startPoint:m,endPoint:_,apexPoint:w,control1Point:{x:w.x+25*Math.cos(h-Math.PI/2)*y/2,y:w.y+25*Math.sin(h-Math.PI/2)*y/2},control2Point:{x:w.x+25*Math.cos(h+Math.PI/2)*y/2,y:w.y+25*Math.sin(h+Math.PI/2)*y/2},nodeGap:p}},vU=function(r,e,t,n,i,o,a){var u,s=Math.PI/2,l=2*Math.PI,c=Tr(),f=Math.atan2(t.y-n.y,t.x-n.x),h=o.length>0?((u=o[0].width)!==null&&u!==void 0?u:0)*c:0,v=a&&a>1?a*c/2:1,d=9*v,y=7*v,p=i?h*Math.sqrt(1+2*d/y*(2*d/y)):0;return{x:r.x-Math.cos(f)*(p/4),y:r.y-Math.sin(f)*(p/4),angle:(e+s)%l,flip:(e+l)%l<Math.PI}},Sb=function(){var r,e;return((r=(e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[])[0])===null||e===void 0?void 0:e.width)!==null&&r!==void 0?r:0)*Tr()*Ub},pU=function(r,e,t,n,i,o){var a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:"top";if(r.length===0)return{x:0,y:0,angle:0};if(r.length===1)return{x:r[0].x,y:r[0].y,angle:0};var u,s,l,c,f,h=Math.PI/2,v=Math.floor(r.length/2),d=e.x>t.x,y=r[v];if(1&~r.length?(u=r[d?v:v-1],s=r[d?v-1:v],l=(u.x+s.x)/2,c=(u.y+s.y)/2,f=Math.atan2(s.y-u.y,s.x-u.x)):(u=r[d?v+1:v-1],s=r[d?v-1:v+1],n?(l=(y.x+(u.x+s.x)/2)/2,c=(y.y+(u.y+s.y)/2)/2,f=d?Math.atan2(e.y-t.y,e.x-t.x):Math.atan2(t.y-e.y,t.x-e.x)):(xb(y,u)>xb(y,s)?s=y:u=y,l=(u.x+s.x)/2,c=(u.y+s.y)/2,f=Math.atan2(s.y-u.y,s.x-u.x))),i){var p=Sb(o),g=a==="bottom"?1:-1;l+=Math.cos(f+h)*p*g,c+=Math.sin(f+h)*p*g}return{x:l,y:c,angle:f}},XB=function(r,e,t,n,i,o){var a={x:(r.x+e.x)/2,y:(r.y+e.y)/2},u={x:r.x,y:r.y},s={x:e.x,y:e.y},l=new Vi(s,u),c=function(h,v){var d=0;return h&&(d+=h),v&&(d-=v),d}(n,t);a.x+=c/2*l.unit.x,a.y+=c/2*l.unit.y;var f=o.size()/2-o.indexOf(i);return a.x+=f*l.unit.x,a.y+=f*l.unit.y,a},KB=function(r){var e=Tr(),t=r.size,n=r.selected;return((t??on)+4+(n===!0?4:0))*e},Tb=function(r,e,t,n,i){var o=arguments.length>5&&arguments[5]!==void 0&&arguments[5];if(t.x===n.x&&t.y===n.y)return[{x:t.x,y:t.y}];var a=function(B){var z=arguments.length>1&&arguments[1]!==void 0&&arguments[1],F=B.norm.x,U=B.norm.y;return z?{x:-F,y:-U}:B.norm},u=Tr(),s=e.indexOf(r),l=(e.size()-1)/2,c=s>l,f=Math.abs(s-l),h=i?17*e.maxFontSize():8,v=(e.size()-1)*h*u,d=function(B,z,F,U,W,Y,X){var Q,ue=arguments.length>7&&arguments[7]!==void 0&&arguments[7],ce=Tr(),ae=B.size(),pe=ae>1,fe=B.relIsOppositeDirection(Y),he=fe?F:z,ee=fe?z:F,K=B.waypointPath,J=K?.points,ie=K?.from,de=K?.to,_e=rb(he,ie)&&rb(ee,de)||rb(ee,ie)&&rb(he,de),Ce=_e?J[1]:null,Ae=_e?J[J.length-2]:null,xe=KB(he),j=KB(ee),G=function(Rt,wt){return Math.atan2(Rt.y-wt.y,Rt.x-wt.x)},H=Math.max(Math.PI,Ufe/(ae/2)),oe=pe?U*H*(X?1:-1)/((Q=he.size)!==null&&Q!==void 0?Q:on):0,ve=G(_e?Ce:ee,he),ye=_e?G(ee,Ae):ve,we=function(Rt,wt,dr,ir){return{x:Rt.x+Math.cos(wt)*dr*(ir?-1:1),y:Rt.y+Math.sin(wt)*dr*(ir?-1:1)}},je=function(Rt,wt){return we(he,ve+Rt,wt,!1)},ze=function(Rt,wt){return we(ee,ye-Rt,wt,!0)},rt=function(Rt,wt){return{x:Rt.x+(wt.x-Rt.x)/2,y:Rt.y+(wt.y-Rt.y)/2}},Ze=function(Rt,wt){return Math.sqrt((Rt.x-wt.x)*(Rt.x-wt.x)+(Rt.y-wt.y)*(Rt.y-wt.y))*ce},Je=je(oe,xe),tt=ze(oe,j),Xe=pe?je(0,xe):null,ke=pe?ze(0,j):null,te=200*ce,Se=[];if(_e){var De=Ze(Je,Ce)<te;if(pe&&!De){var Me=rt(Xe,Ce);Se.push(new Vi(Je,Me)),Se.push(new Vi(Me,Ce))}else Se.push(new Vi(Je,Ce));for(var Ne=2;Ne<J.length-1;Ne++)Se.push(new Vi(J[Ne-1],J[Ne]));var nt=Ze(tt,Ae)<te;if(pe&&!nt){var Be=rt(ke,Ae);Se.push(new Vi(Ae,Be)),Se.push(new Vi(Be,tt))}else Se.push(new Vi(Ae,tt))}else{var ot=pe?Ze(Xe,ke):0;if(pe&&ot>2*(30*ce+Math.min(xe,j)))if(ue){var Qe=XB(he,ee,xe,j,Y,B);Se.push(new Vi(Je,Qe)),Se.push(new Vi(Qe,tt))}else{var it=U*W,gt=30+xe,Pt=Math.sqrt(gt*gt+it*it),lt=30+j,Lt=Math.sqrt(lt*lt+it*it),dt=je(0,Pt),Qt=ze(0,Lt);Se.push(new Vi(Je,dt)),Se.push(new Vi(dt,Qt)),Se.push(new Vi(Qt,tt))}else if(ot>(xe+j)/2){var Yt=XB(he,ee,xe,j,Y,B);Se.push(new Vi(Je,Yt)),Se.push(new Vi(Yt,tt))}else Se.push(new Vi(Je,tt))}return Se}(e,t,n,f,h,r,c,o),y=[],p=d[0],g=a(p,c);y.push({x:p.p1.x+g.x,y:p.p1.y+g.y});for(var b=1;b<d.length;b++)if(e.size()===1)y.push(d[b-1].p2);else{var m=d[b-1],_=d[b],w=a(m,c),O=a(_,c),E=Hp(m.p1,Wh(w,v/2)),S=Hp(m.p2,Wh(w,v/2)),P=Hp(_.p1,Wh(O,v/2)),I=Hp(_.p2,Wh(O,v/2)),R=null;Ffe(w,O)<.99&&(R=Afe(E,S,P,I));var D=R!==null?dU(R,m.p2):Wh(w,v/2);y.push(Hp(m.p2,Wh(D,f/l)))}var k=d[d.length-1],N=a(k,c);return y.push({x:k.p2.x+N.x,y:k.p2.y+N.y}),e.relIsOppositeDirection(r)?y.reverse():y},zfe=function(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0&&arguments[4],o=arguments.length>5&&arguments[5]!==void 0&&arguments[5];return Xg(t,n)?t.id===n.id?function(a,u,s){for(var l=Ob(a,u,s),c={left:1/0,top:1/0,right:-1/0,bottom:-1/0},f=["startPoint","endPoint","apexPoint","control1Point","control2Point"],h=0;h<f.length;h++){var v=l[f[h]],d=v.x,y=v.y;d<c.left&&(c.left=d),d>c.right&&(c.right=d),y<c.top&&(c.top=y),y>c.bottom&&(c.bottom=y)}return c}(r,t,e):function(a,u,s,l,c,f){var h,v={left:1/0,top:1/0,right:-1/0,bottom:-1/0},d=function(b,m){var _=typeof Symbol<"u"&&b[Symbol.iterator]||b["@@iterator"];if(!_){if(Array.isArray(b)||(_=function(I,R){if(I){if(typeof I=="string")return YB(I,R);var D={}.toString.call(I).slice(8,-1);return D==="Object"&&I.constructor&&(D=I.constructor.name),D==="Map"||D==="Set"?Array.from(I):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?YB(I,R):void 0}}(b))||m&&b&&typeof b.length=="number"){_&&(b=_);var w=0,O=function(){};return{s:O,n:function(){return w>=b.length?{done:!0}:{done:!1,value:b[w++]}},e:function(I){throw I},f:O}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,S=!0,P=!1;return{s:function(){_=_.call(b)},n:function(){var I=_.next();return S=I.done,I},e:function(I){P=!0,E=I},f:function(){try{S||_.return==null||_.return()}finally{if(P)throw E}}}}(Tb(a,u,s,l,c,f));try{for(d.s();!(h=d.n()).done;){var y=h.value,p=y.x,g=y.y;p<v.left&&(v.left=p),p>v.right&&(v.right=p),g<v.top&&(v.top=g),g>v.bottom&&(v.bottom=g)}}catch(b){d.e(b)}finally{d.f()}return v}(r,e,t,n,i,o):null},gU=function(r,e){var t,n=r.selected?Ub:1;return((t=r.width)!==null&&t!==void 0?t:e)*n*Tr()},yU=function(r,e,t,n,i){if(r.length<2)return{tailOffset:null};var o=r[r.length-2],a=r[r.length-1],u=Math.atan2(a.y-o.y,a.x-o.x),s=t/2+n;r[r.length-1]={x:a.x-Math.cos(u)*s,y:a.y-Math.sin(u)*s};var l=null;if(e){var c=r[0],f=r[1],h=Math.atan2(f.y-c.y,f.x-c.x),v=Sb(i);l={x:Math.cos(h)*v,y:Math.sin(h)*v},r[0]={x:c.x+l.x,y:c.y+l.y}}return{tailOffset:l}},mU=function(r,e,t){var n=Tr(),i=n*(r>1?r/2:1),o=9*i,a=2*i,u=7*i,s=t.length>0?t[0].width*n:0,l=2*o,c=e?s*Math.sqrt(1+l/u*(l/u)):0;return{headFactor:i,headHeight:o,headChinHeight:a,headWidth:u,headSelectedAdjustment:c,headPositionOffset:2-c}},$B=function(r){return 6*r*Tr()},ZB=function(r,e,t){return{widthAlign:e/2*r[0],heightAlign:t/2*r[1]}},qfe=function(r){var e=r.x,t=e===void 0?0:e,n=r.y,i=n===void 0?0:n,o=r.size,a=o===void 0?on:o;return{top:i-a,left:t-a,right:t+a,bottom:i+a}},bU=function(r,e,t,n){return(n<2||!e?1*r:.75*r)/t},_U=function(r,e,t,n,i){var o=i<2||!e;return{iconXPos:r/2,iconYPos:o?.5*r:r*(n===1?t==="center"?1.3:t==="bottom"||o?1.1:0:t==="center"?1.35:t==="bottom"||o?1.1:0)}},wU=function(r,e){return r*e},EU=function(r,e,t){var n=r/2-e*t[1];return{iconXPos:r/2-e*t[0],iconYPos:n}};function Eg(r){return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(r)}function QB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function so(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(t),!0).forEach(function(n){Pa(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QB(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function JB(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return e4(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?e4(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function e4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function Gfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,xU(n.key),n)}}function Pa(r,e,t){return(e=xU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function xU(r){var e=function(t){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Eg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Eg(e)=="symbol"?e:e+""}var OU=function(){return r=function t(n,i){var o,a=this,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),Pa(this,"arrowBundler",void 0),Pa(this,"state",void 0),Pa(this,"relationshipThreshold",void 0),Pa(this,"stateDisposers",void 0),Pa(this,"needsRun",void 0),Pa(this,"imageCache",void 0),Pa(this,"nodeVersion",void 0),Pa(this,"relVersion",void 0),Pa(this,"waypointVersion",void 0),Pa(this,"channelId",void 0),Pa(this,"activeNodes",void 0),this.state=n,this.relationshipThreshold=(o=u.relationshipThreshold)!==null&&o!==void 0?o:0,this.channelId=i,this.arrowBundler=new Bfe(n.rels.items,n.waypoints.data),this.stateDisposers=[],this.needsRun=!0,this.imageCache=new Dfe,this.nodeVersion=n.nodes.version,this.relVersion=n.rels.version,this.waypointVersion=n.waypoints.counter,this.activeNodes=new Set,this.stateDisposers.push(this.state.autorun(function(){a.state.zoom!==void 0&&(a.needsRun=!0),a.state.panX!==void 0&&(a.needsRun=!0),a.state.panY!==void 0&&(a.needsRun=!0),a.state.nodes.version!==void 0&&(a.needsRun=!0),a.state.rels.version!==void 0&&(a.needsRun=!0),a.state.waypoints.counter>0&&(a.needsRun=!0),a.state.layout!==void 0&&(a.needsRun=!0)}))},(e=[{key:"getRelationshipsToRender",value:function(t,n,i,o){var a,u=[],s=[],l=[],c=this.arrowBundler,f=this.state,h=this.relationshipThreshold,v=f.layout,d=f.rels,y=f.nodes,p=y.idToItem,g=y.idToPosition,b=v!=="hierarchical",m=JB(d.items);try{for(m.s();!(a=m.n()).done;){var _=a.value,w=c.getBundle(_),O=so(so({},p[_.from]),g[_.from]),E=so(so({},p[_.to]),g[_.to]),S=n!==void 0?t||n>h||_.captionHtml!==void 0:t,P=!0;if(i!==void 0&&o!==void 0){var I=zfe(_,w,O,E,S,b);if(I!==null){var R,D,k,N,B,z,F=this.isBoundingBoxOffScreen(I,i,o),U=xb({x:(R=O.x)!==null&&R!==void 0?R:0,y:(D=O.y)!==null&&D!==void 0?D:0},{x:(k=E.x)!==null&&k!==void 0?k:0,y:(N=E.y)!==null&&N!==void 0?N:0}),W=Tr(),Y=(((B=O.size)!==null&&B!==void 0?B:on)+((z=E.size)!==null&&z!==void 0?z:on))*W,X=O.id!==E.id&&Y>U;P=!(F||X)}else P=!1}P&&(_.disabled?s.push(so(so({},_),{},{fromNode:O,toNode:E,showLabel:S})):_.selected?u.push(so(so({},_),{},{fromNode:O,toNode:E,showLabel:S})):l.push(so(so({},_),{},{fromNode:O,toNode:E,showLabel:S})))}}catch(Q){m.e(Q)}finally{m.f()}return[].concat(s,l,u)}},{key:"getNodesToRender",value:function(t,n,i){var o,a=[],u=[],s=[],l=this.state.nodes.idToItem,c=JB(t);try{for(c.s();!(o=c.n()).done;){var f=o.value,h=!0;if(n!==void 0&&i!==void 0){var v=qfe(f);h=!this.isBoundingBoxOffScreen(v,n,i)}h&&(l[f.id].disabled?a.push(so({},f)):l[f.id].selected?u.push(so({},f)):s.push(so({},f)))}}catch(d){c.e(d)}finally{c.f()}return[].concat(a,s,u)}},{key:"processUpdates",value:function(){var t=this.state,n=!1,i=t.nodes.channels[this.channelId],o=t.rels.channels[this.channelId],a=o.adds,u=o.removes,s=o.updates;if(this.nodeVersion<t.nodes.version&&(this.processNodeChannelUpdates(i,t.nodes),this.nodeVersion=t.nodes.version,t.nodes.clearChannel(this.channelId)),this.relVersion<t.rels.version&&(n=Object.keys(a).length>0||Object.keys(u).length>0||Object.keys(s).length>0,t.rels.clearChannel(this.channelId),this.relVersion=t.rels.version),n||this.waypointVersion<t.waypoints.counter){var l=Object.values(s).reduce(function(c,f){var h=t.rels.idToItem[f.id];return h&&(c[f.id]=so(so({},h),f)),c},{});this.arrowBundler.updateData(a,u,l,t.waypoints.data),this.waypointVersion=t.waypoints.counter}}},{key:"processNodeChannelUpdates",value:function(t,n){for(var i=Object.keys(t.adds),o=0;o<i.length;o++){var a=i[o];t.adds[a].activated&&this.activeNodes.add(a)}for(var u=Object.keys(t.removes),s=0;s<u.length;s++){var l=u[s];this.activeNodes.delete(l)}for(var c=Object.keys(t.updates),f=0;f<c.length;f++){var h=c[f];n.idToItem[h].activated?this.activeNodes.add(h):this.activeNodes.delete(h)}}},{key:"isBoundingBoxOffScreen",value:function(t,n,i){var o=this.state,a=o.zoom,u=n/a,s=i/a,l=o.panX-u/2,c=o.panY-s/2,f=t.right<l,h=t.bottom<c,v=t.left>l+u,d=t.top>c+s;return f||v||h||d}},{key:"needsToRun",value:function(){return this.needsRun}},{key:"waitForImages",value:function(){return this.imageCache.waitForImages()}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(t){t()}),this.state.nodes.removeChannel(this.channelId),this.state.rels.removeChannel(this.channelId)}}])&&Gfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),Vfe=[[.04,1],[100,2]],Cb=[[.8,1.1],[3,1.6],[8,2.5]],Wfe=[[Cb[0][0],1],[100,1.25]],Vc=function(r,e){if(r.includes("rgba"))return r;if(r.includes("rgb")){var t=r.substr(r.indexOf("(")+1).replace(")","").split(",");return"rgba(".concat(t[0],",").concat(t[1],",").concat(t[2],",").concat(e,")")}var n=nU().get.rgb(r);return n===null?r:"rgba(".concat(n[0],",").concat(n[1],",").concat(n[2],",").concat(e,")")};function iO(r,e){var t=e.find(function(i){return r<i[0]}),n=e[e.length-1][1];return t!==void 0?t[1]:n}function AS(r,e){if(!r||!e)return{nodeInfoLevel:0,fontInfoLevel:1.25,iconInfoLevel:1};var t=Tr(),n=1600*t*(1200*t),i=Math.pow(r,2)*Math.PI*Math.pow(e,2)/(n/100);return{nodeInfoLevel:iO(i,Vfe),fontInfoLevel:iO(i,Cb),iconInfoLevel:iO(i,Wfe)}}function xg(r){return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xg(r)}function Yp(r){return function(e){if(Array.isArray(e))return JO(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||SU(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function t4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Pb(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(t),!0).forEach(function(n){Hfe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):t4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Hfe(r,e,t){return(e=function(n){var i=function(o){if(xg(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(xg(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return xg(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function SU(r,e){if(r){if(typeof r=="string")return JO(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?JO(r,e):void 0}}function JO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var Ab="\u2026",TU=function(r){var e=r[Math.floor(r.length/2)-1],t=r[Math.floor(r.length/2)];return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},r4=function(r){return!(!r||!isNaN(Number(r))||r.toLowerCase()===r.toUpperCase())&&r===r.toUpperCase()},Yfe=function(r){var e=r[r.length-1],t=r[r.length-2];return!(!e||!isNaN(Number(e))||e.toLowerCase()===e.toUpperCase())&&!(!t||!isNaN(Number(t))||t.toLowerCase()===t.toUpperCase())&&r4(e)&&!r4(t)},Xfe=function(r){return` 	
\r\v`.includes(r)},Kg=function(r,e,t,n){for(var i,o=arguments.length>4&&arguments[4]!==void 0&&arguments[4],a=[],u=[],s=0,l=0,c=!1,f=!1,h=0;h<n;h++)a[h]=t(h,n);for(var v,d=function(){i=r.slice(s,y);var p,g=e(i),b=a[l];if(g>b||(p=r[y-1],`
\r\v`.includes(p))){if(!(l<n-1)){if(o)return{v:[]};for(var m=y,_=function(){return r[m-1]};g>b;){for(m-=1;Xfe(_());)m-=1;if(!(m-s>1)){i="",f=!0,c=!1;break}i=r.slice(s,m),g=e(i),f=!0,c=!1}return u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:c},{v:u}}c=!1,f=!1;var w=function(E){var S=E.length,P=Math.min(S-1,3);if(S===1)return{hyphen:!1,cnt:0};for(var I=0;I<P;I++){var R=E[E.length-(I+1)];if(R===" "||R.toLowerCase()===R.toUpperCase())return{hyphen:!1,cnt:I+1};var D=E.slice(0,E.length-I);if(Yfe(D))return{hyphen:!1,cnt:I+1}}return{hyphen:!0,cnt:1}}(i),O=y-w.cnt;if(w.hyphen)for(i=r.slice(s,O),g=e(i),c=!0;g>b;){if(!(O-s>1)){i=r[s],O=s+1,g=e(i),c=!1;break}O-=1,i=r.slice(s,O),g=e(i),c=!0}else i=(i=r.slice(s,O)).trim();u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:c},s=O,l+=1}},y=1;y<=r.length;y++)if(v=d())return v.v;return i=r.slice(s,r.length),u[l]={text:i,hasEllipsisChar:f,hasHyphenChar:!1},u},Og=function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce(function(e,t,n){var i=t.value;if(i){var o="".concat(n>0&&e.length?", ":"").concat(i);return[].concat(Yp(e),[Pb(Pb({},t),{},{value:o,chars:o.split("").map(function(a,u){var s,l;return n!==0&&e.length?u<2?null:Yp((s=t.styles)!==null&&s!==void 0?s:[]):Yp((l=t.styles)!==null&&l!==void 0?l:[])})})])}return e},[]);return{stylesPerChar:r.reduce(function(e,t){return[].concat(Yp(e),Yp(t.chars))},[]),fullCaption:r.map(function(e){return e.value}).join("")}};function CU(r,e,t){var n,i,o,a=r.size,u=a===void 0?on:a,s=r.caption,l=s===void 0?"":s,c=r.captions,f=c===void 0?[]:c,h=r.captionAlign,v=h===void 0?"center":h,d=r.captionSize,y=d===void 0?1:d,p=r.icon,g=u*Tr(),b=2*g,m=AS(g,e).fontInfoLevel,_=function(B){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:on)/({1:3.5,2:2.75,3:2}[arguments.length>2&&arguments[2]!==void 0?arguments[2]:1]+(arguments.length>3&&arguments[3]!==void 0&&arguments[3]?1:0))/B}(m,g,y,!!p),w=f.length>0,O=l.length>0,E=[],S="";if(!w&&!O)return{lines:[],stylesPerChar:[],fullCaption:"",fontSize:_,fontFace:Jp,fontColor:"",yPos:0,maxNoLines:2,hasContent:!1};if(w){var P=Og(f);E=P.stylesPerChar,S=P.fullCaption}else O&&(S=l,E=l.split("").map(function(){return[]}));var I=2;m===((n=Cb[1])===null||n===void 0?void 0:n[1])?I=3:m===((i=Cb[2])===null||i===void 0?void 0:i[1])&&(I=4);var R=v==="center"?.7*b:2*Math.sqrt(Math.pow(b/2,2)-Math.pow(b/3,2)),D=t;D||(D=document.createElement("canvas").getContext("2d")),D.font="bold ".concat(_,"px ").concat(Jp),o=function(B,z,F,U,W,Y,X){var Q=function(ee){return/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(ee)}(z)?z.split("").reverse().join(""):z;B.font="bold ".concat(U,"px ").concat(F).replace(/"/g,"");for(var ue=function(ee){return ig(B,ee)},ce=Y?(X<4?["",""]:[""]).length:0,ae=function(ee,K){return function(J,ie,de){var _e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"top",Ce=.98*de,Ae=.89*de,xe=.95*de;return ie===1?Ce:ie===2?xe:ie===3&&_e==="top"?J===0||J===2?Ae:Ce:ie===4&&_e==="top"?J===0||J===3?.78*de:xe:ie===5&&_e==="top"?J===0||J===4?.65*de:J===1||J===3?Ae:xe:Ce}(ee+ce,K+ce,W)},pe=1,fe=[],he=function(){if((fe=function(K,J,ie,de){var _e,Ce=K.split(/\s/g).filter(function(we){return we.length>0}),Ae=[],xe=null,j=function(we){return J(we)>ie(Ae.length,de)},G=function(we){var je=typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(!je){if(Array.isArray(we)||(je=SU(we))){je&&(we=je);var ze=0,rt=function(){};return{s:rt,n:function(){return ze>=we.length?{done:!0}:{done:!1,value:we[ze++]}},e:function(Xe){throw Xe},f:rt}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ze,Je=!0,tt=!1;return{s:function(){je=je.call(we)},n:function(){var Xe=je.next();return Je=Xe.done,Xe},e:function(Xe){tt=!0,Ze=Xe},f:function(){try{Je||je.return==null||je.return()}finally{if(tt)throw Ze}}}}(Ce);try{for(G.s();!(_e=G.n()).done;){var H=_e.value,oe=xe?"".concat(xe," ").concat(H):H;if(J(oe)<ie(Ae.length,de))xe=oe;else{if(xe!==null){var ve=j(xe);Ae.push({text:xe,overflowed:ve})}if(xe=H,Ae.length>de)return[]}}}catch(we){G.e(we)}finally{G.f()}if(xe){var ye=j(xe);Ae.push({text:xe,overflowed:ye})}return Ae.length<=de?Ae:[]}(Q,ue,ae,pe)).length===0)fe=Kg(Q,ue,ae,pe,X>pe);else if(fe.some(function(K){return K.overflowed})){var ee=pe;fe=fe.reduce(function(K,J){var ie=X-K.length;if(ie===0){var de=K[K.length-1];return de.text.endsWith(Ab)||(ue(de.text)+ue(Ab)>ae(K.length,ee)?(K[K.length-1].text=de.text.slice(0,-2),K[K.length-1].hasEllipsisChar=!0):(K[K.length-1].text=de.text,K[K.length-1].hasEllipsisChar=!0)),K}if(J.overflowed){var _e=Kg(J.text,ue,ae,ie);K=K.concat(_e)}else K.push({text:J.text,hasEllipsisChar:!1,hasHyphenChar:!1});return K},[])}else fe=fe.map(function(K){return Pb(Pb({},K),{},{hasEllipsisChar:!1,hasHyphenChar:!1})});pe+=1};fe.length===0;)he();return Array.from(fe)}(D,S,Jp,_,R,!!p,I);var k,N=-(o.length-2)*_/2;return k=v&&v!=="center"?v==="bottom"?N+g/Math.PI:N-g/Math.PI:N,{lines:o,stylesPerChar:E,fullCaption:S,fontSize:_,fontFace:Jp,fontColor:"",yPos:k,maxNoLines:I,hasContent:!0}}function Sg(r){return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(r)}function Kfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,PU(n.key),n)}}function js(r,e,t){return(e=PU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function PU(r){var e=function(t){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Sg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Sg(e)=="symbol"?e:e+""}var $fe=function(){return r=function t(n,i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),js(this,"elementId",void 0),js(this,"currentValue",void 0),js(this,"startValue",void 0),js(this,"currentTime",void 0),js(this,"duration",void 0),js(this,"status",void 0),js(this,"endValue",void 0),js(this,"startTime",void 0),js(this,"endTime",void 0),js(this,"hasNextAnimation",void 0),this.elementId=n,this.startValue=i,this.status=0,this.currentValue=i,this.duration=0},(e=[{key:"setDuration",value:function(t){this.duration=t,this.setEndTime(this.startTime+this.duration)}},{key:"getStatus",value:function(){return this.status}},{key:"advance",value:function(){if(this.status!==1)return!1;this.currentTime=new Date().getTime();var t,n=this.endTime-this.startTime;return(t=n>0?(this.currentTime-this.startTime)/n:1)>=1?(this.currentValue=this.endValue,this.status=2):(this.currentValue=this.startValue+t*(this.endValue-this.startValue),this.hasNextAnimation=!0),this.hasNextAnimation}},{key:"setEndValue",value:function(t){this.endValue!==t&&(t-this.currentValue!==0?(this.currentTime=new Date().getTime(),this.status=1,this.startValue=this.currentValue,this.endValue=t,this.startTime=this.currentTime,this.setEndTime(this.startTime+this.duration)):this.endValue=t)}},{key:"setEndTime",value:function(t){this.endTime=Math.max(t,this.startTime)}}])&&Kfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function Tg(r){return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(r)}function n4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function i4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n4(Object(t),!0).forEach(function(n){Kc(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):n4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Zfe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,AU(n.key),n)}}function Kc(r,e,t){return(e=AU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function AU(r){var e=function(t){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Tg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Tg(e)=="symbol"?e:e+""}var Qfe=function(){return r=function t(){(function(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")})(this,t),Kc(this,"animations",void 0),Kc(this,"durations",void 0),Kc(this,"defaultDuration",void 0),Kc(this,"hasNextAnimation",void 0),Kc(this,"ignoreAnimationsFlag",void 0),this.animations=new Map,this.durations=[],this.durations[0]=0,this.durations[1]=0,this.defaultDuration=150,this.hasNextAnimation=!1,this.ignoreAnimationsFlag=!1},e=[{key:"advance",value:function(){var t=this;return this.hasNextAnimation=!1,this.animations.forEach(function(n){Object.values(n).forEach(function(i){i.advance()&&(t.hasNextAnimation=!0)})}),this.hasNextAnimation}},{key:"ignoreAnimations",value:function(t){this.ignoreAnimationsFlag=t}},{key:"setOptions",value:function(t){t.fadeDuration!==void 0&&(this.durations[0]=t.fadeDuration),t.sizeDuration!==void 0&&(this.durations[1]=t.sizeDuration)}},{key:"needsToRun",value:function(){return this.hasNextAnimation}},{key:"getValueForAnimationName",value:function(t,n,i){var o,a,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(this.ignoreAnimationsFlag)return i;var s=(o=this.getById(t))!==null&&o!==void 0?o:{};if(s[n]===void 0){var l=u===1?this.createSizeAnimation(0,t,n):this.createFadeAnimation(0,t,n);l.setEndValue(i),a=l.currentValue}else{var c=s[n];if(c.currentValue===i)return i;c.setEndValue(i),a=c.currentValue}return this.hasNextAnimation=!0,a}},{key:"createAnimation",value:function(t,n,i){var o,a=new $fe(n,t),u=(o=this.animations.get(n))!==null&&o!==void 0?o:{};return this.animations.set(n,i4(i4({},u),{},Kc({},i,a))),a}},{key:"getById",value:function(t){return this.animations.get(t)}},{key:"createFadeAnimation",value:function(t,n,i){var o,a=this.createAnimation(t,n,i);return a.setDuration((o=this.durations[0])!==null&&o!==void 0?o:this.defaultDuration),a}},{key:"createSizeAnimation",value:function(t,n,i){var o,a=this.createAnimation(t,n,i);return a.setDuration((o=this.durations[1])!==null&&o!==void 0?o:this.defaultDuration),a}}],e&&Zfe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function oO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var Pl=function(r,e,t,n){var i=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],o=arguments.length>5&&arguments[5]!==void 0&&arguments[5],a=n.headPosition,u=n.headAngle,s=n.headHeight,l=n.headChinHeight,c=n.headWidth,f=Math.cos(u),h=Math.sin(u),v=function(p,g){return{x:a.x+p*f-g*h,y:a.y+p*h+g*f}},d=[v(l-s,0),v(-s,c/2),v(0,0),v(-s,-c/2)],y={lineWidth:r.lineWidth,strokeStyle:r.strokeStyle,fillStyle:r.fillStyle};r.lineWidth=e,r.strokeStyle=t,r.fillStyle=t,function(p,g,b,m){if(p.beginPath(),g.length>0){var _=g[0];p.moveTo(_.x,_.y)}for(var w=1;w<g.length;w++){var O=g[w];p.lineTo(O.x,O.y)}p.closePath(),b&&p.fill(),m&&p.stroke()}(r,d,i,o),r.lineWidth=y.lineWidth,r.strokeStyle=y.strokeStyle,r.fillStyle=y.fillStyle},Jfe=function(r,e,t,n,i){var o=n;i.forEach(function(a){var u=a.width,s=a.color,l=o+u;r.beginPath(),r.fillStyle=s,r.arc(e,t,l,0,2*Math.PI,!1),r.arc(e,t,o,2*Math.PI,0,!0),r.fill(),r.closePath(),o=l})},RU=function(r,e,t,n){r.beginPath(),r.arc(e,t,n,0,2*Math.PI,!1),r.closePath()},o4=function(r,e,t,n,i){r.beginPath(),r.fillStyle=n,RU(r,e,t,i),r.fill(),r.closePath()};function od(r){return od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},od(r)}function a4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function s4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(t),!0).forEach(function(n){Kh(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):a4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Xp(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=eS(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function eS(r,e){if(r){if(typeof r=="string")return tS(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?tS(r,e):void 0}}function tS(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function ehe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,DU(n.key),n)}}function u4(r,e){if(e&&(od(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r)}function IU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IU=function(){return!!r})()}function nb(r,e,t,n){var i=rS(hd(1&n?r.prototype:r),e,t);return 2&n&&typeof i=="function"?function(o){return i.apply(t,o)}:i}function rS(){return rS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=hd(o))!==null;);return o}(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},rS.apply(null,arguments)}function hd(r){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hd(r)}function nS(r,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},nS(r,e)}function Kh(r,e,t){return(e=DU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function DU(r){var e=function(t){if(od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(od(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return od(e)=="symbol"?e:e+""}var aO="canvasRenderer",the=function(){function r(n,i,o){var a,u,s,l,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}(this,r),u=this,l=[o,aO,c],s=hd(s=r),Kh(a=u4(u,IU()?Reflect.construct(s,l||[],hd(u).constructor):s.apply(u,l)),"canvas",void 0),Kh(a,"context",void 0),Kh(a,"animationHandler",void 0),Kh(a,"ellipsisWidth",void 0),Kh(a,"disableArrowShadow",!1),i===null?u4(a):(a.canvas=n,a.context=i,o.nodes.addChannel(aO),o.rels.addChannel(aO),a.animationHandler=new Qfe,a.animationHandler.setOptions({fadeDuration:150,sizeDuration:150}),a.ellipsisWidth=ig(i,Ab),a)}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&nS(n,i)}(r,OU),e=r,t=[{key:"needsToRun",value:function(){return nb(r,"needsToRun",this,3)([])||this.animationHandler.needsToRun()||this.activeNodes.size>0}},{key:"processUpdates",value:function(){nb(r,"processUpdates",this,3)([]);var n=this.state.rels.items.filter(function(i){return i.selected||i.hovered});this.disableArrowShadow=n.length>500}},{key:"drawNode",value:function(n,i,o,a,u,s,l,c,f){var h=i.x,v=h===void 0?0:h,d=i.y,y=d===void 0?0:d,p=i.size,g=p===void 0?on:p,b=i.captionAlign,m=b===void 0?"center":b,_=i.disabled,w=i.activated,O=i.selected,E=i.hovered,S=i.id,P=i.icon,I=i.overlayIcon,R=Eb(i),D=Tr(),k=this.getRingStyles(i,a,u),N=k.reduce(function(dt,Qt){return dt+Qt.width},0),B=g*D,z=2*B,F=AS(B,f),U=F.nodeInfoLevel,W=F.iconInfoLevel,Y=i.color||l,X=HO(Y),Q=B;if(N>0&&(Q=B+N),_)Y=s.color,X=s.fontColor;else{var ue;if(w){var ce=Date.now()%1e3/1e3,ae=ce<.7?ce/.7:0,pe=Vc(Y,.4-.4*ae);o4(n,v,y,pe,B+.88*B*ae)}var fe=(ue=u.selected.shadow)!==null&&ue!==void 0?ue:{width:0,opacity:0,color:""},he=fe.width*D,ee=fe.opacity,K=fe.color,J=O||E?he:0,ie=a.getValueForAnimationName(S,"shadowWidth",J);ie>0&&function(dt,Qt,Yt,Rt,wt,dr){var ir=arguments.length>6&&arguments[6]!==void 0?arguments[6]:1,vr=wt+dr,wr=dt.createRadialGradient(Qt,Yt,wt,Qt,Yt,vr);wr.addColorStop(0,"transparent"),wr.addColorStop(.01,Vc(Rt,.5*ir)),wr.addColorStop(.05,Vc(Rt,.5*ir)),wr.addColorStop(.5,Vc(Rt,.12*ir)),wr.addColorStop(.75,Vc(Rt,.03*ir)),wr.addColorStop(1,Vc(Rt,0)),dt.fillStyle=wr,RU(dt,Qt,Yt,vr),dt.fill()}(n,v,y,K,Q,ie,ee)}o4(n,v,y,Y,B),N>0&&Jfe(n,v,y,B,k);var de=!!R.length;if(P){var _e=bU(B,de,W,U),Ce=U>0?1:0,Ae=_U(_e,de,m,W,U),xe=Ae.iconXPos,j=Ae.iconYPos,G=a.getValueForAnimationName(S,"iconSize",_e),H=a.getValueForAnimationName(S,"iconXPos",xe),oe=a.getValueForAnimationName(S,"iconYPos",j),ve=n.globalAlpha,ye=_?.1:Ce;n.globalAlpha=a.getValueForAnimationName(S,"iconOpacity",ye);var we=X==="#ffffff",je=o.getImage(P,we);n.drawImage(je,v-H,y-oe,Math.floor(G),Math.floor(G)),n.globalAlpha=ve}if(I!==void 0){var ze,rt,Ze,Je,tt=wU(z,(ze=I.size)!==null&&ze!==void 0?ze:1),Xe=(rt=I.position)!==null&&rt!==void 0?rt:[0,0],ke=[(Ze=Xe[0])!==null&&Ze!==void 0?Ze:0,(Je=Xe[1])!==null&&Je!==void 0?Je:0],te=EU(tt,B,ke),Se=te.iconXPos,De=te.iconYPos,Me=n.globalAlpha,Ne=_?.1:1;n.globalAlpha=a.getValueForAnimationName(S,"iconOpacity",Ne);var nt=o.getImage(I.url);n.drawImage(nt,v-Se,y-De,tt,tt),n.globalAlpha=Me}var Be=CU(i,f,n);if(Be.hasContent){var ot=U<2?0:1,Qe=a.getValueForAnimationName(S,"textOpacity",ot,0);if(Qe>0){var it=Be.lines,gt=Be.stylesPerChar,Pt=Be.yPos,lt=Be.fontSize,Lt=Be.fontFace;n.fillStyle=Vc(X,Qe),function(dt,Qt,Yt,Rt,wt,dr,ir,vr,wr,Er){var Pr=Rt,Vr=0,cn=0,Dn="".concat(wt,"px ").concat(dr),On="normal ".concat(Dn);Qt.forEach(function(xr){dt.font=On;var mr=-ig(dt,xr.text)/2,Wr=xr.text?function(fn){return function(Jt){if(Array.isArray(Jt))return oO(Jt)}(fn)||function(Jt){if(typeof Symbol<"u"&&Jt[Symbol.iterator]!=null||Jt["@@iterator"]!=null)return Array.from(Jt)}(fn)||function(Jt,Mn){if(Jt){if(typeof Jt=="string")return oO(Jt,Mn);var Sn={}.toString.call(Jt).slice(8,-1);return Sn==="Object"&&Jt.constructor&&(Sn=Jt.constructor.name),Sn==="Map"||Sn==="Set"?Array.from(Jt):Sn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Sn)?oO(Jt,Mn):void 0}}(fn)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(xr.text):[];xr.hasHyphenChar||xr.hasEllipsisChar||Wr.push(" "),Wr.forEach(function(fn){var Jt,Mn=ig(dt,fn),Sn=(Jt=Yt[cn])!==null&&Jt!==void 0?Jt:[],ut=Sn.includes("bold"),jt=Sn.includes("italic");dt.font=ut&&jt?"italic 600 ".concat(Dn):jt?"italic 400 ".concat(Dn):ut?"bold ".concat(Dn):On,Sn.includes("underline")&&dt.fillRect(vr+mr+Vr,wr+Pr+.2,Mn,.2),xr.hasEllipsisChar?dt.fillText(fn,vr+mr+Vr-Er/2,wr+Pr):dt.fillText(fn,vr+mr+Vr,wr+Pr),Vr+=Mn,cn+=1}),dt.font=On,xr.hasHyphenChar&&dt.fillText("\u2010",vr+mr+Vr,wr+Pr),xr.hasEllipsisChar&&dt.fillText(Ab,vr+mr+Vr-Er/2,wr+Pr),Vr=0,Pr+=ir})}(n,it,gt,Pt,lt,Lt,lt,v,y,c)}}}},{key:"enableShadow",value:function(n,i){var o=Tr();n.shadowColor=i.color,n.shadowBlur=i.width*o,n.shadowOffsetX=0,n.shadowOffsetY=0}},{key:"disableShadow",value:function(n){n.shadowColor="rgba(0,0,0,0)",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0}},{key:"drawSegments",value:function(n,i,o,a,u){if(n.beginPath(),n.moveTo(i[0].x,i[0].y),u&&i.length>2){for(var s=1;s<i.length-2;){var l=(i[s].x+i[s+1].x)/2,c=(i[s].y+i[s+1].y)/2;n.quadraticCurveTo(i[s].x,i[s].y,l,c),s+=1}n.quadraticCurveTo(i[s].x,i[s].y,i[s+1].x,i[s+1].y)}else for(var f=1;f<i.length;f++)n.lineTo(i[f].x,i[f].y);n.lineWidth=o,n.strokeStyle=a,n.lineCap="round",n.stroke()}},{key:"drawLoop",value:function(n,i,o,a,u,s){n.beginPath(),n.moveTo(i.x,i.y),n.quadraticCurveTo(u.x,u.y,a.x,a.y),n.quadraticCurveTo(s.x,s.y,o.x,o.y),n.stroke()}},{key:"drawLabel",value:function(n,i,o,a,u,s,l,c){var f,h=arguments.length>8&&arguments[8]!==void 0&&arguments[8],v=Math.PI/2,d=Tr(),y=u.selected,p=u.width,g=u.disabled,b=u.captionAlign,m=b===void 0?"top":b,_=u.captionSize,w=_===void 0?1:_,O=Eb(u),E=O.length>0?(f=Og(O))===null||f===void 0?void 0:f.fullCaption:"";if(E!==void 0){var S=6*w*d,P=ZO,I=y===!0?"bold":"normal",R=E;n.fillStyle=g===!0?l.fontColor:c,n.font="".concat(I," ").concat(S,"px ").concat(P);var D=function(fe){return ig(n,fe)},k=(p??1)*(y===!0?Ub:1),N=D(R);if(N>a){var B=Kg(R,D,function(){return a},1,!1)[0];R=B.hasEllipsisChar===!0?"".concat(B.text,"..."):R,N=a}var z=Math.cos(o),F=Math.sin(o),U={x:i.x,y:i.y},W=U.x,Y=U.y,X=o;h&&(X=o-v,W+=2*S*z,Y+=2*S*F,X-=v);var Q=(1+w)*d,ue=m==="bottom"?S/2+k+Q:-(k+Q);n.translate(W,Y),n.rotate(X),n.fillText(R,-N/2,ue),n.rotate(-X),n.translate(-W,-Y);var ce=2*ue*Math.sin(o),ae=2*ue*Math.cos(o),pe={position:{x:i.x-ce,y:i.y+ae},rotation:h?o-Math.PI:o,width:a/d,height:(S+Q)/d};s.setLabelInfo(u.id,pe)}}},{key:"renderWaypointArrow",value:function(n,i,o,a,u,s,l,c,f,h){var v=arguments.length>10&&arguments[10]!==void 0?arguments[10]:zB,d=Math.PI/2,y=i.overlayIcon,p=i.color,g=i.disabled,b=i.selected,m=i.width,_=i.hovered,w=i.captionAlign,O=b===!0,E=g===!0,S=y!==void 0,P=f.rings,I=f.shadow,R=Tb(i,u,o,a,l,c),D=Tr(),k=gU(i,1),N=!this.disableArrowShadow&&l,B=E?h.color:p??v,z=P[0].width*D,F=P[1].width*D,U=mU(m,O,P),W=U.headHeight,Y=U.headChinHeight,X=U.headWidth,Q=U.headSelectedAdjustment,ue=U.headPositionOffset,ce=xb(R[R.length-2],R[R.length-1]),ae=ue,pe=Q;Math.floor(R.length/2),R.length>2&&O&&ce<W+Q-Y&&(ae+=ce,pe-=ce/2+Y,R.pop(),Math.floor(R.length/2));var fe,he,ee=R[R.length-2],K=R[R.length-1],J=(fe=ee,he=K,Math.atan2(he.y-fe.y,he.x-fe.x)),ie={headPosition:{x:K.x+Math.cos(J)*ae,y:K.y+Math.sin(J)*ae},headAngle:J,headHeight:W,headChinHeight:Y,headWidth:X};yU(R,O,W,pe,P);var de,_e=Xp(R);try{for(_e.s();!(de=_e.n()).done;){var Ce=de.value;Ce.x=Math.round(Ce.x),Ce.y=Math.round(Ce.y)}}catch(it){_e.e(it)}finally{_e.f()}var Ae,xe,j=l||S?function(it){return function(gt){if(Array.isArray(gt))return tS(gt)}(it)||function(gt){if(typeof Symbol<"u"&&gt[Symbol.iterator]!=null||gt["@@iterator"]!=null)return Array.from(gt)}(it)||eS(it)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(R):null;if(n.save(),O){var G=P[0].color,H=P[1].color;N&&this.enableShadow(n,I),this.drawSegments(n,R,k+F,H,c),Pl(n,F,H,ie,!1,!0),N&&this.disableShadow(n),this.drawSegments(n,R,k+z,G,c),Pl(n,z,G,ie,!1,!0)}if(_===!0&&!O&&!E){var oe=I.color;N&&this.enableShadow(n,I),this.drawSegments(n,R,k,oe,c),Pl(n,k,oe,ie),N&&this.disableShadow(n)}if(this.drawSegments(n,R,k,B,c),Pl(n,k,B,ie),l||S){var ve=pU(j,o,a,c,O,P,w==="bottom"?"bottom":"top"),ye=TU(j);if(l&&this.drawLabel(n,{x:ve.x,y:ve.y},ve.angle,ye,i,u,h,v),S){var we,je,ze=y.position,rt=ze===void 0?[0,0]:ze,Ze=y.url,Je=y.size,tt=$B(Je===void 0?1:Je),Xe=[(we=rt[0])!==null&&we!==void 0?we:0,(je=rt[1])!==null&&je!==void 0?je:0],ke=ZB(Xe,ye,tt),te=ke.widthAlign,Se=ke.heightAlign,De=O?(Ae=ve.angle+d,xe=Sb(f.rings),{x:Math.cos(Ae)*xe,y:Math.sin(Ae)*xe}):{x:0,y:0},Me=rt[1]<0?-1:1,Ne=De.x*Me,nt=De.y*Me,Be=tt/2;n.translate(ve.x,ve.y),n.rotate(ve.angle);var ot=-Be+Ne+te,Qe=-Be+nt+Se;n.drawImage(s.getImage(Ze),ot,Qe,tt,tt),n.rotate(-ve.angle),n.translate(-ve.x,-ve.y)}}n.restore()}},{key:"renderSelfArrow",value:function(n,i,o,a,u,s,l,c){var f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:zB,h=i.overlayIcon,v=i.selected,d=i.width,y=i.hovered,p=i.disabled,g=i.color,b=Ob(i,o,a),m=b.startPoint,_=b.endPoint,w=b.apexPoint,O=b.control1Point,E=b.control2Point,S=l.rings,P=l.shadow,I=Tr(),R=S[0].color,D=S[1].color,k=S[0].width*I,N=S[1].width*I,B=40*I,z=(d??1)*I,F=!this.disableArrowShadow&&s,U=z>1?z/2:1,W=9*U,Y=2*U,X=7*U,Q=v===!0,ue=p===!0,ce=h!==void 0,ae=Math.atan2(_.y-E.y,_.x-E.x),pe=Q?k*Math.sqrt(1+2*W/X*(2*W/X)):0,fe={x:_.x-Math.cos(ae)*(.5*W-Y+pe),y:_.y-Math.sin(ae)*(.5*W-Y+pe)},he={headPosition:{x:_.x+Math.cos(ae)*(.5*W-Y-pe),y:_.y+Math.sin(ae)*(.5*W-Y-pe)},headAngle:ae,headHeight:W,headChinHeight:Y,headWidth:X};if(n.save(),n.lineCap="round",Q&&(F&&this.enableShadow(n,P),n.lineWidth=z+N,n.strokeStyle=D,this.drawLoop(n,m,fe,w,O,E),Pl(n,N,D,he,!1,!0),F&&this.disableShadow(n),n.lineWidth=z+k,n.strokeStyle=R,this.drawLoop(n,m,fe,w,O,E),Pl(n,k,R,he,!1,!0)),n.lineWidth=z,y===!0&&!Q&&!ue){var ee=P.color;F&&this.enableShadow(n,P),n.strokeStyle=ee,n.fillStyle=ee,this.drawLoop(n,m,fe,w,O,E),Pl(n,z,ee,he),F&&this.disableShadow(n)}var K=ue?c.color:g??f;if(n.fillStyle=K,n.strokeStyle=K,this.drawLoop(n,m,fe,w,O,E),Pl(n,z,K,he),s||ce){var J,ie=a.indexOf(i),de=(J=a.angles[ie])!==null&&J!==void 0?J:0,_e=vU(w,de,_,E,Q,S,d),Ce=_e.x,Ae=_e.y,xe=_e.angle,j=_e.flip;if(s&&this.drawLabel(n,{x:Ce,y:Ae},xe,B,i,a,c,f,j),ce){var G,H,oe=h.position,ve=oe===void 0?[0,0]:oe,ye=h.url,we=h.size,je=$B(we===void 0?1:we),ze=[(G=ve[0])!==null&&G!==void 0?G:0,(H=ve[1])!==null&&H!==void 0?H:0],rt=ZB(ze,B,je),Ze=rt.widthAlign,Je=rt.heightAlign+(Q?Sb(l.rings):0)*(ve[1]<0?-1:1);n.save(),n.translate(Ce,Ae),j?(n.rotate(xe-Math.PI),n.translate(2*-Ze,2*-Je)):n.rotate(xe);var tt=je/2,Xe=-tt+Ze,ke=-tt+Je;n.drawImage(u.getImage(ye),Xe,ke,je,je),n.restore()}}n.restore()}},{key:"renderArrow",value:function(n,i,o,a,u,s,l,c,f,h){var v=!(arguments.length>10&&arguments[10]!==void 0)||arguments[10];Xg(o,a)&&(o.id===a.id?this.renderSelfArrow(n,i,o,u,s,l,c,f,h):this.renderWaypointArrow(n,i,o,a,u,s,l,v,c,f,h))}},{key:"render",value:function(n){var i,o,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=this.state,s=this.animationHandler,l=this.arrowBundler,c=u.zoom,f=u.layout,h=u.nodes.idToPosition,v=(i=a.canvas)!==null&&i!==void 0?i:this.canvas,d=(o=a.context)!==null&&o!==void 0?o:this.context,y=Tr(),p=v.clientWidth*y,g=v.clientHeight*y;d.save(),a.backgroundColor!==void 0?(d.fillStyle=a.backgroundColor,d.fillRect(0,0,p,g)):d.clearRect(0,0,p,g),this.zoomAndPan(d,v),s.ignoreAnimations(!!a.ignoreAnimations),a.ignoreAnimations||s.advance(),l.updatePositions(h);var b=nb(r,"getRelationshipsToRender",this,3)([a.showCaptions,c,p,g]);this.renderRelationships(b,d,f!==_b);var m=nb(r,"getNodesToRender",this,3)([n,p,g]);this.renderNodes(m,d,c),d.restore(),this.needsRun=!1}},{key:"renderNodes",value:function(n,i,o){var a,u=this.imageCache,s=this.animationHandler,l=this.state,c=this.ellipsisWidth,f=l.nodes.idToItem,h=l.nodeBorderStyles,v=l.disabledItemStyles,d=l.defaultNodeColor,y=Xp(n);try{for(y.s();!(a=y.n()).done;){var p=a.value;this.drawNode(i,s4(s4({},f[p.id]),p),u,s,h,v,d,c,o)}}catch(g){y.e(g)}finally{y.f()}}},{key:"renderRelationships",value:function(n,i,o){var a,u=this.state.relationshipBorderStyles.selected,s=this.arrowBundler,l=this.imageCache,c=this.state,f=c.disabledItemStyles,h=c.defaultRelationshipColor,v=Xp(n);try{for(v.s();!(a=v.n()).done;){var d=a.value,y=s.getBundle(d),p=d.fromNode,g=d.toNode,b=d.showLabel;this.renderArrow(i,d,p,g,y,l,b,u,f,h,o)}}catch(m){v.e(m)}finally{v.f()}}},{key:"getNodesAt",value:function(n){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],u=this.state.nodes,s=u.items,l=u.idToPosition,c=Tr(),f=Xp(s);try{var h=function(){var v=i.value,d=v.id,y=v.size,p=y===void 0?on:y,g=l[d],b=g.x,m=g.y,_=Math.sqrt(Math.pow(n.x-b,2)+Math.pow(n.y-m,2));if(_<=(p+o)*c){var w=a.findIndex(function(O){return O.distance>_});a.splice(w!==-1?w:a.length,0,{data:v,targetCoordinates:{x:b,y:m},pointerCoordinates:n,distanceVector:{x:n.x-b,y:n.y-m},insideNode:_<=p*c,distance:_})}};for(f.s();!(i=f.n()).done;)h()}catch(v){f.e(v)}finally{f.f()}return a}},{key:"getRelsAt",value:function(n){var i,o=[],a=this.state,u=this.arrowBundler,s=this.relationshipThreshold,l=a.zoom,c=a.rels.items,f=a.nodes.idToPosition,h=a.layout,v=l>s,d=Xp(c);try{var y=function(){var p=i.value,g=u.getBundle(p),b=f[p.from],m=f[p.to];if(b!==void 0&&m!==void 0&&g.has(p)){var _=function(O,E,S,P,I,R){var D=arguments.length>6&&arguments[6]!==void 0&&arguments[6];if(!Xg(S,P))return 1/0;var k=S===P?function(N,B,z,F){var U=Ob(B,z,F),W=U.startPoint,Y=U.endPoint,X=U.apexPoint,Q=U.control1Point,ue=U.control2Point,ce=nO(W,X,Q,N),ae=nO(X,Y,ue,N);return Math.min(ce,ae)}(O,E,S,I):function(N,B,z,F,U,W,Y){var X=Tb(B,z,F,U,W,Y),Q=1/0;if(Y&&X.length===3)Q=nO(X[0],X[2],X[1],N);else for(var ue=1;ue<X.length;ue++){var ce=X[ue-1],ae=X[ue],pe=PS(ce,ae,N);Q=pe<Q?pe:Q}return Q}(O,E,I,S,P,R,D);return k}(n,p,b,m,g,v,h!==_b);if(_<10){var w=o.findIndex(function(O){return O.distance>_});o.splice(w!==-1?w:o.length,0,{data:p,fromTargetCoordinates:b,toTargetCoordinates:m,pointerCoordinates:n,distance:_})}}};for(d.s();!(i=d.n()).done;)y()}catch(p){d.e(p)}finally{d.f()}return o}},{key:"getRingStyles",value:function(n,i,o){var a=n.selected?o.selected.rings:o.default.rings;if(!a.length){var u=i.getById(n.id);return u!==void 0&&Object.entries(u).forEach(function(s){var l=function(h,v){return function(d){if(Array.isArray(d))return d}(h)||function(d,y){var p=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(p!=null){var g,b,m,_,w=[],O=!0,E=!1;try{if(m=(p=p.call(d)).next,y===0){if(Object(p)!==p)return;O=!1}else for(;!(O=(g=m.call(p)).done)&&(w.push(g.value),w.length!==y);O=!0);}catch(S){E=!0,b=S}finally{try{if(!O&&p.return!=null&&(_=p.return(),Object(_)!==_))return}finally{if(E)throw b}}return w}}(h,v)||eS(h,v)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(s,2),c=l[0],f=l[1];c.startsWith("ring-")&&f.setEndValue(0)}),[{width:0,color:""}]}return a.map(function(s,l){var c=s.widthFactor,f=s.color,h=(n.size||on)*c*Tr();return{width:i.getValueForAnimationName(n.id,"ring-".concat(l),h),color:f}})}},{key:"zoomAndPan",value:function(n,i){var o=i.width,a=i.height,u=this.state,s=u.zoom,l=u.panX,c=u.panY;n.translate(-o/2*s,-a/2*s),n.translate(-l*s,-c*s),n.scale(s,s),n.translate(o/2/s,a/2/s),n.translate(o/2,a/2)}}],t&&ehe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function l4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var rhe=function(r,e){e.includes("bold")&&e.includes("italic")?(r.setAttribute("font-weight","bold"),r.setAttribute("font-style","italic")):e.includes("bold")?r.setAttribute("font-weight","bold"):e.includes("italic")&&r.setAttribute("font-style","italic"),e.includes("underline")&&r.setAttribute("text-decoration","underline")},c4=function(r,e,t,n){for(var i=[],o="".concat(r.tip.x,",").concat(r.tip.y," ").concat(r.base1.x,",").concat(r.base1.y," ").concat(r.base2.x,",").concat(r.base2.y),a=t.length-1;a>=0;a--){var u=t[a],s=document.createElementNS("http://www.w3.org/2000/svg","polygon");s.setAttribute("points",o),s.setAttribute("fill","none"),s.setAttribute("stroke",u.color),s.setAttribute("stroke-width",String(u.width*n)),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-linejoin","round"),i.push(s)}var l=document.createElementNS("http://www.w3.org/2000/svg","polygon");return l.setAttribute("points",o),l.setAttribute("fill",e),i.push(l),i},sO=function(r){var e=r.x,t=r.y,n=r.fontSize,i=r.fontFace,o=r.fontColor,a=r.textAnchor,u=r.dominantBaseline,s=r.lineSpans,l=r.transform,c=r.fontWeight,f=document.createElementNS("http://www.w3.org/2000/svg","text");f.setAttribute("x",String(e)),f.setAttribute("y",String(t)),f.setAttribute("text-anchor",a),f.setAttribute("dominant-baseline",u),f.setAttribute("font-size",String(n)),f.setAttribute("font-family",i),f.setAttribute("fill",o),l&&f.setAttribute("transform",l),c&&f.setAttribute("font-weight",c);var h,v=function(p,g){var b=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!b){if(Array.isArray(p)||(b=function(S,P){if(S){if(typeof S=="string")return l4(S,P);var I={}.toString.call(S).slice(8,-1);return I==="Object"&&S.constructor&&(I=S.constructor.name),I==="Map"||I==="Set"?Array.from(S):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?l4(S,P):void 0}}(p))||g&&p&&typeof p.length=="number"){b&&(p=b);var m=0,_=function(){};return{s:_,n:function(){return m>=p.length?{done:!0}:{done:!1,value:p[m++]}},e:function(S){throw S},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,O=!0,E=!1;return{s:function(){b=b.call(p)},n:function(){var S=b.next();return O=S.done,S},e:function(S){E=!0,w=S},f:function(){try{O||b.return==null||b.return()}finally{if(E)throw w}}}}(s);try{for(v.s();!(h=v.n()).done;){var d=h.value,y=document.createElementNS("http://www.w3.org/2000/svg","tspan");y.textContent=d.text,rhe(y,d.style),f.appendChild(y)}}catch(p){v.e(p)}finally{v.f()}return f},f4=function(r,e,t,n,i){for(var o=[],a=n.length-1;a>=0;a--){var u=n[a],s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",r),s.setAttribute("stroke",u.color),s.setAttribute("stroke-width",String(t+u.width*i)),s.setAttribute("stroke-linecap","round"),s.setAttribute("fill","none"),o.push(s)}var l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",r),l.setAttribute("stroke",e),l.setAttribute("stroke-width",String(t)),l.setAttribute("fill","none"),o.push(l),o},h4=function(r,e,t,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.3333333333333333,o=Math.atan2(e.y-r.y,e.x-r.x),a={x:e.x+Math.cos(o)*(t*i),y:e.y+Math.sin(o)*(t*i)};return{tip:a,base1:{x:a.x-t*Math.cos(o)+n/2*Math.sin(o),y:a.y-t*Math.sin(o)-n/2*Math.cos(o)},base2:{x:a.x-t*Math.cos(o)-n/2*Math.sin(o),y:a.y-t*Math.sin(o)+n/2*Math.cos(o)},angle:o}},uO=function(r,e,t){for(var n=[],i="",o="",a="",u=t,s=0;s<r.length;s++){var l,c=r[s],f=((l=e[u])!==null&&l!==void 0?l:[]).sort().join(",");s===0||f!==i?(o.length>0&&n.push({text:o,style:a}),o=c,a=f,i=f):o+=c,u+=1}return o.length>0&&n.push({text:o,style:a}),n},d4=function(r){var e=r.nodeX,t=e===void 0?0:e,n=r.nodeY,i=n===void 0?0:n,o=r.iconXPos,a=r.iconYPos,u=r.iconSize,s=r.image,l=r.isDisabled,c=document.createElementNS("http://www.w3.org/2000/svg","image");c.setAttribute("x",String(t-o)),c.setAttribute("y",String(i-a));var f=String(Math.floor(u));return c.setAttribute("width",f),c.setAttribute("height",f),c.setAttribute("href",s.toDataURL()),l&&c.setAttribute("opacity","0.1"),c};function ad(r){return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ad(r)}function v4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ib(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(t),!0).forEach(function(n){sS(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):v4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lO(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=MU(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function MU(r,e){if(r){if(typeof r=="string")return iS(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?iS(r,e):void 0}}function iS(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function nhe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,NU(n.key),n)}}function kU(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kU=function(){return!!r})()}function p4(r,e,t,n){var i=oS(dd(1&n?r.prototype:r),e,t);return 2&n&&typeof i=="function"?function(o){return i.apply(t,o)}:i}function oS(){return oS=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(r,e,t){var n=function(o,a){for(;!{}.hasOwnProperty.call(o,a)&&(o=dd(o))!==null;);return o}(r,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?r:t):i.value}},oS.apply(null,arguments)}function dd(r){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dd(r)}function aS(r,e){return aS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},aS(r,e)}function sS(r,e,t){return(e=NU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function NU(r){var e=function(t){if(ad(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(ad(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return ad(e)=="symbol"?e:e+""}var cO="svgRenderer",ihe=function(){function r(n,i){var o,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,r),sS(o=function(s,l,c){return l=dd(l),function(f,h){if(h&&(ad(h)=="object"||typeof h=="function"))return h;if(h!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(f)}(s,kU()?Reflect.construct(l,c||[],dd(s).constructor):l.apply(s,c))}(this,r,[i,cO,a]),"svg",void 0),sS(o,"measurementContext",void 0),o.svg=n;var u=document.createElement("canvas");return o.measurementContext=u.getContext("2d"),i.nodes.addChannel(cO),i.rels.addChannel(cO),o}return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),i&&aS(n,i)}(r,OU),e=r,t=[{key:"render",value:function(n,i){var o,a,u,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.state,c=this.arrowBundler,f=l.layout,h=l.zoom,v=l.panX,d=l.panY,y=l.nodes.idToPosition,p=(o=s.svg)!==null&&o!==void 0?o:this.svg,g=p.clientWidth||((a=p.width)===null||a===void 0||(a=a.baseVal)===null||a===void 0?void 0:a.value)||parseInt(p.getAttribute("width"),10)||500,b=p.clientHeight||((u=p.height)===null||u===void 0||(u=u.baseVal)===null||u===void 0?void 0:u.value)||parseInt(p.getAttribute("height"),10)||500,m=h,_=v,w=d;for(i&&(m=1,_=i.centerX,w=i.centerY);p.firstChild;)p.removeChild(p.firstChild);if(s.backgroundColor){var O=document.createElementNS("http://www.w3.org/2000/svg","rect");O.setAttribute("width","100%"),O.setAttribute("height","100%"),O.setAttribute("fill",s.backgroundColor),p.appendChild(O)}c.updatePositions(y);var E=document.createElementNS("http://www.w3.org/2000/svg","g");E.setAttribute("transform",this.getSvgTransform(g,b,m,_,w));var S=p4(r,"getRelationshipsToRender",this,3)([s.showCaptions,this.state.zoom]);this.renderRelationships(S,E,f!==_b);var P=p4(r,"getNodesToRender",this,3)([n]);this.renderNodes(P,E,m),p.appendChild(E),this.needsRun=!1}},{key:"renderNodes",value:function(n,i,o){var a,u=this,s=this.state,l=s.nodes.idToItem,c=s.disabledItemStyles,f=s.defaultNodeColor,h=s.nodeBorderStyles,v=lO(n);try{var d=function(){var y,p,g,b,m=a.value,_=ib(ib({},l[m.id]),m);if(!KO(_))return 1;var w=document.createElementNS("http://www.w3.org/2000/svg","g");w.setAttribute("class","node"),w.setAttribute("data-id",_.id);var O=Tr(),E=(_.selected?h.selected.rings:h.default.rings).map(function(Qe){var it=Qe.widthFactor,gt=Qe.color;return{width:(_.size||on)*(it??0)*O,color:gt}}).filter(function(Qe){return Qe.width>0}),S=function(Qe,it){var gt;return((gt=Qe.size)!==null&&gt!==void 0?gt:25)*it}(_,O),P=document.createElementNS("http://www.w3.org/2000/svg","circle");P.setAttribute("cx",String((y=_.x)!==null&&y!==void 0?y:0)),P.setAttribute("cy",String((p=_.y)!==null&&p!==void 0?p:0)),P.setAttribute("r",String(S));var I=_.disabled?c.color:_.color||f;if(P.setAttribute("fill",I),w.appendChild(P),E.length>0){var R,D=S,k=lO(E);try{for(k.s();!(R=k.n()).done;){var N=R.value;if(N.width>0){var B,z;D+=N.width/2;var F=document.createElementNS("http://www.w3.org/2000/svg","circle");F.setAttribute("cx",String((B=_.x)!==null&&B!==void 0?B:0)),F.setAttribute("cy",String((z=_.y)!==null&&z!==void 0?z:0)),F.setAttribute("r",String(D)),F.setAttribute("fill","none"),F.setAttribute("stroke",N.color),F.setAttribute("stroke-width",String(N.width)),w.appendChild(F),D+=N.width/2}}}catch(Qe){k.e(Qe)}finally{k.f()}}var U=_.icon,W=_.overlayIcon,Y=S,X=2*Y,Q=AS(Y,o),ue=Q.nodeInfoLevel,ce=Q.iconInfoLevel,ae=!!(!((g=_.captions)===null||g===void 0)&&g.length||!((b=_.caption)===null||b===void 0)&&b.length);if(U){var pe,fe=bU(Y,ae,ce,ue),he=_U(fe,ae,(pe=_.captionAlign)!==null&&pe!==void 0?pe:"center",ce,ue),ee=he.iconXPos,K=he.iconYPos,J=HO(I)==="#ffffff",ie=u.imageCache.getImage(U,J),de=d4({nodeX:_.x,nodeY:_.y,iconXPos:ee,iconYPos:K,iconSize:fe,image:ie,isDisabled:_.disabled===!0});w.appendChild(de)}if(W!==void 0){var _e,Ce,Ae,xe,j=wU(X,(_e=W.size)!==null&&_e!==void 0?_e:1),G=(Ce=W.position)!==null&&Ce!==void 0?Ce:[0,0],H=[(Ae=G[0])!==null&&Ae!==void 0?Ae:0,(xe=G[1])!==null&&xe!==void 0?xe:0],oe=EU(j,Y,H),ve=oe.iconXPos,ye=oe.iconYPos,we=u.imageCache.getImage(W.url),je=d4({nodeX:_.x,nodeY:_.y,iconXPos:ve,iconYPos:ye,iconSize:j,image:we,isDisabled:_.disabled===!0});w.appendChild(je)}var ze=CU(_,o);if(ze.hasContent){var rt=ze.lines,Ze=ze.stylesPerChar,Je=ze.fontSize,tt=ze.fontFace,Xe=ze.yPos,ke=HO(_.color||f);_.disabled&&(ke=c.fontColor);for(var te=0,Se=0;Se<rt.length;Se++){var De,Me,Ne,nt=(De=rt[Se].text)!==null&&De!==void 0?De:"",Be=uO(nt,Ze,te);te+=nt.length;var ot=sO({x:(Me=_.x)!==null&&Me!==void 0?Me:0,y:((Ne=_.y)!==null&&Ne!==void 0?Ne:0)+Xe+Se*Je,fontSize:Je,fontFace:tt,fontColor:ke,textAnchor:"middle",dominantBaseline:"auto",lineSpans:Be});w.appendChild(ot)}}i.appendChild(w)};for(v.s();!(a=v.n()).done;)d()}catch(y){v.e(y)}finally{v.f()}}},{key:"renderRelationships",value:function(n,i,o){var a,u=this,s=this.arrowBundler,l=this.state,c=l.disabledItemStyles,f=l.defaultRelationshipColor,h=l.relationshipBorderStyles,v=Tr(),d=lO(n);try{var y=function(){var p=a.value;if(!p.fromNode||!p.toNode||!Xg(p.fromNode,p.toNode))return 1;var g,b,m,_,w,O=s.getBundle(p),E=p.fromNode,S=p.toNode,P=p.showLabel,I=p.selected?h.selected.rings:h.default.rings,R=gU(p,1),D=p.disabled?c.fontColor:f;if(E.id===S.id){var k=Ob(p,E,O),N=(g=k.startPoint,b=k.endPoint,m=k.apexPoint,_=k.control1Point,w=k.control2Point,["M".concat(g.x,",").concat(g.y),"Q".concat(_.x,",").concat(_.y,",").concat(m.x,",").concat(m.y),"Q".concat(w.x,",").concat(w.y,",").concat(b.x,",").concat(b.y)].join(" ")),B=p.disabled?c.color:p.color||f,z=p.selected?I.map(function(ut){var jt;return{color:ut.color,width:(jt=ut.width)!==null&&jt!==void 0?jt:0}}).filter(function(ut){return ut.width>0}):[];f4(N,B,R,z,v).forEach(function(ut){return i.appendChild(ut)});var F=h4(k.control2Point,k.endPoint,9,7,2/9),U=p.disabled?c.color:p.color||f;if(c4(F,U,z,v).forEach(function(ut){return i.appendChild(ut)}),P&&(p.captions&&p.captions.length>0||p.caption&&p.caption.length>0)){var W,Y=Tr(),X=p.selected===!0,Q=X?h.selected.rings:h.default.rings,ue=vU(k.apexPoint,k.angle,k.endPoint,k.control2Point,X,Q,p.width),ce=ue.x,ae=ue.y,pe=ue.angle,fe=(ue.flip,Eb(p)),he=fe.length>0?(W=Og(fe))===null||W===void 0?void 0:W.fullCaption:"";if(he){var ee,K,J,ie,de=40*Y,_e=(ee=p.captionSize)!==null&&ee!==void 0?ee:1,Ce=6*_e*Y,Ae=ZO,xe=p.selected?"bold":"normal";u.measurementContext.font="".concat(xe," ").concat(Ce,"px ").concat(Ae);var j=function(ut){return u.measurementContext.measureText(ut).width},G=he;if(j(G)>de){var H=Kg(G,j,function(){return de},1,!1)[0];G=H.hasEllipsisChar?"".concat(H.text,"..."):G}var oe=p.selected?Ub:1,ve=((K=p.width)!==null&&K!==void 0?K:1)*oe,ye=(1+_e)*Y,we=((J=p.captionAlign)!==null&&J!==void 0?J:"top")==="bottom"?Ce/2+ve+ye:-(ve+ye),je=((ie=Og(fe))!==null&&ie!==void 0?ie:{stylesPerChar:[]}).stylesPerChar,ze=uO(G,je,0),rt=sO({x:ce,y:ae+we,fontSize:Ce,fontFace:Ae,fontColor:D,textAnchor:"middle",dominantBaseline:"alphabetic",lineSpans:ze,transform:"rotate(".concat(180*pe/Math.PI,",").concat(ce,",").concat(ae,")"),fontWeight:xe});i.appendChild(rt)}}}else{var Ze,Je,tt,Xe=Tb(p,O,E,S,P,o),ke=mU((Ze=p.width)!==null&&Ze!==void 0?Ze:1,p.selected===!0,p.selected?h.selected.rings:h.default.rings),te=ke.headHeight,Se=ke.headWidth,De=ke.headSelectedAdjustment,Me=ke.headPositionOffset,Ne=Xe.length>1?ib({},Xe[Xe.length-2]):null,nt=Xe.length>1?ib({},Xe[Xe.length-1]):null;if(Xe.length>1){var Be=p.selected===!0,ot=Be?h.selected.rings:h.default.rings;yU(Xe,Be,te,De,ot)}var Qe=function(ut){return function(jt){if(Array.isArray(jt))return iS(jt)}(ut)||function(jt){if(typeof Symbol<"u"&&jt[Symbol.iterator]!=null||jt["@@iterator"]!=null)return Array.from(jt)}(ut)||MU(ut)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(Xe);if(o&&Xe.length>2){var it=function(ut){if(ut.length<2)return"";var jt="M".concat(ut[0].x,",").concat(ut[0].y);if(ut.length===2)return jt+" L".concat(ut[1].x,",").concat(ut[1].y);for(var kn=1;kn<ut.length-1;kn++){var co=(ut[kn].x+ut[kn+1].x)/2,fo=(ut[kn].y+ut[kn+1].y)/2;jt+=" Q".concat(ut[kn].x,",").concat(ut[kn].y,",").concat(co,",").concat(fo)}var Vn=ut.length-1;return jt+" Q".concat(ut[Vn].x,",").concat(ut[Vn].y,",").concat(ut[Vn].x,",").concat(ut[Vn].y)}(Xe),gt=p.disabled?c.color:p.color||f,Pt=p.selected?I.map(function(ut){var jt;return{color:ut.color,width:(jt=ut.width)!==null&&jt!==void 0?jt:0}}).filter(function(ut){return ut.width>0}):[];f4(it,gt,R,Pt,v).forEach(function(ut){return i.appendChild(ut)})}else{var lt=function(ut){return ut.map(function(jt){return"".concat(jt.x,",").concat(jt.y)}).join(" ")}(Xe),Lt=function(ut,jt,kn,co,fo){for(var Vn=[],oi=co.length-1;oi>=0;oi--){var pr=co[oi],Xt=document.createElementNS("http://www.w3.org/2000/svg","polyline");Xt.setAttribute("points",ut),Xt.setAttribute("stroke",pr.color),Xt.setAttribute("stroke-width",String(kn+pr.width*fo)),Xt.setAttribute("stroke-linecap","round"),Xt.setAttribute("fill","none"),Vn.push(Xt)}var Mi=document.createElementNS("http://www.w3.org/2000/svg","polyline");return Mi.setAttribute("points",ut),Mi.setAttribute("stroke",jt),Mi.setAttribute("stroke-width",String(kn)),Mi.setAttribute("fill","none"),Vn.push(Mi),Vn}(lt,p.disabled?c.color:p.color||f,R,p.selected?I.map(function(ut){var jt;return{color:ut.color,width:(jt=ut.width)!==null&&jt!==void 0?jt:0}}).filter(function(ut){return ut.width>0}):[],v);Lt.forEach(function(ut){return i.appendChild(ut)})}if(Xe.length>1){var dt=h4(Ne,nt,te,Se,Me/te),Qt=p.disabled?c.color:p.color||f,Yt=p.selected?I.map(function(ut){var jt;return{color:ut.color,width:(jt=ut.width)!==null&&jt!==void 0?jt:0}}).filter(function(ut){return ut.width>0}):[];c4(dt,Qt,Yt,v).forEach(function(ut){return i.appendChild(ut)})}var Rt=Eb(p),wt=(Je=p.captionSize)!==null&&Je!==void 0?Je:1,dr=6*wt*v,ir=ZO,vr=(tt=Og(Rt))!==null&&tt!==void 0?tt:{fullCaption:"",stylesPerChar:[]},wr=vr.fullCaption,Er=vr.stylesPerChar;if(P&&wr.length>0){var Pr;u.measurementContext.font="bold ".concat(dr,"px ").concat(ir);var Vr=(Pr=p.captionAlign)!==null&&Pr!==void 0?Pr:"top",cn=pU(Qe,E,S,!0,p.selected===!0,I,Vr),Dn=TU(Qe),On=function(ut){var jt=180*ut/Math.PI;return(jt>90||jt<-90)&&(jt+=180),jt}(cn.angle),xr=function(ut){return u.measurementContext.measureText(ut).width},mr=wr;if(xr(mr)>Dn){var Wr=Kg(mr,xr,function(){return Dn},1,!1)[0];mr=Wr.hasEllipsisChar?"".concat(Wr.text,"..."):mr}var fn=uO(mr,Er,0),Jt=(1+wt)*v,Mn=Vr==="bottom"?dr/2+R+Jt:-(R+Jt),Sn=sO({x:cn.x,y:cn.y+Mn,fontSize:dr,fontFace:ir,fontColor:D,textAnchor:"middle",dominantBaseline:"alphabetic",lineSpans:fn,transform:"rotate(".concat(On,",").concat(cn.x,",").concat(cn.y,")"),fontWeight:p.selected?"bold":void 0});i.appendChild(Sn)}}};for(d.s();!(a=d.n()).done;)y()}catch(p){d.e(p)}finally{d.f()}}},{key:"getSvgTransform",value:function(n,i,o,a,u){var s=i/2;return"translate(".concat(n/2,",").concat(s,") scale(").concat(o,") translate(").concat(-a,",").concat(-u,")")}}],t&&nhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),LU=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=function(a,u){if((0,Kr.isNil)(a)||(0,Kr.isNil)(u))return{offsetX:0,offsetY:0};var s=u.getBoundingClientRect(),l=window.devicePixelRatio||1;return{offsetX:l*(a.clientX-s.left-.5*s.width),offsetY:l*(a.clientY-s.top-.5*s.height)}}(r,e);return{x:n+o.offsetX/t,y:i+o.offsetY/t}};function Cg(r){return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(r)}function jU(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function g4(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,FU(n.key),n)}}function BU(r,e,t){return e&&g4(r.prototype,e),t&&g4(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Aa(r,e,t){return(e=FU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function FU(r){var e=function(t){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Cg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Cg(e)=="symbol"?e:e+""}var Ca="WebGLRenderer",ohe=function(){return BU(function r(e){var t=this;if(jU(this,r),Aa(this,"mainSceneRenderer",void 0),Aa(this,"minimapRenderer",void 0),Aa(this,"needsRun",void 0),Aa(this,"minimapMouseDown",void 0),Aa(this,"stateDisposers",void 0),Aa(this,"state",void 0),e.state===void 0)throw new Error("Renderer missing options: state - state object");var n=e.state,i=e.mainSceneRenderer,o=e.minimapRenderer,a=n.nodes,u=n.rels;this.mainSceneRenderer=i,this.minimapRenderer=o,this.needsRun=!1,this.minimapMouseDown=!1,this.stateDisposers=[],this.stateDisposers.push(n.autorun(function(){t.updateMainViewport(n.zoom,n.panX,n.panY)})),this.stateDisposers.push(n.autorun(function(){t.updateMinimapViewport(n.minimapZoom,n.minimapPanX,n.minimapPanY)})),this.stateDisposers.push(n.autorun(function(){n.nodes.version!==void 0&&(t.needsRun=!0),n.rels.version!==void 0&&(t.needsRun=!0)})),a.addChannel(Ca),u.addChannel(Ca),this.state=n,this.setupMinimapInteractions()},[{key:"needsToRun",value:function(){return this.needsRun||Object.keys(this.mainSceneRenderer.activeNodes).length>0}},{key:"renderMainScene",value:function(r){var e=this.state,t=e.nodes,n=e.rels;this.checkForUpdates(t,n),this.mainSceneRenderer.render(r),this.needsRun=!1}},{key:"renderMinimap",value:function(r){var e=this.state,t=e.nodes,n=e.rels;this.checkForUpdates(t,n),this.minimapRenderer.render(r),this.minimapRenderer.renderViewbox(),this.needsRun=!1}},{key:"checkForUpdates",value:function(r,e){var t=Object.values(r.channels[Ca].adds).length>0,n=Object.values(e.channels[Ca].adds).length>0,i=Object.values(r.channels[Ca].removes).length>0,o=Object.values(e.channels[Ca].removes).length>0,a=Object.values(r.channels[Ca].updates),u=Object.values(e.channels[Ca].updates);t||n||i||o?(this.mainSceneRenderer.setData({nodes:r.items,rels:e.items}),this.minimapRenderer.setData({nodes:r.items,rels:e.items})):(a.length>0&&(this.mainSceneRenderer.updateNodes(a),this.minimapRenderer.updateNodes(a)),u.length>0&&(this.mainSceneRenderer.updateRelationships(e.items),this.minimapRenderer.updateRelationships(e.items))),r.clearChannel(Ca),e.clearChannel(Ca)}},{key:"onResize",value:function(){var r=this.state,e=r.zoom,t=r.panX,n=r.panY,i=r.minimapZoom,o=r.minimapPanX,a=r.minimapPanY;this.updateMainViewport(e,t,n),this.updateMinimapViewport(i,o,a)}},{key:"updateMainViewport",value:function(r,e,t){this.mainSceneRenderer.updateViewport(r,e,t);var n=this.mainSceneRenderer.canvas.clientWidth,i=this.mainSceneRenderer.canvas.clientHeight;this.minimapRenderer.updateViewportBox(r,e,t,n,i),this.needsRun=!0}},{key:"updateMinimapViewport",value:function(r,e,t){this.minimapRenderer.updateViewport(r,e,t),this.needsRun=!0}},{key:"handleMinimapDrag",value:function(r){var e=this.state,t=this.minimapRenderer,n=LU(r,t.canvas,e.minimapZoom,e.minimapPanX,e.minimapPanY),i=n.x,o=n.y;e.setPan(i,o)}},{key:"handleMinimapWheel",value:function(r){var e=this.state,t=this.mainSceneRenderer;e.setZoom(function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(0,Kr.isNil)(n)||isNaN(n.deltaY)?i:i-n.deltaY/500*Math.min(1,i)}(r,e.zoom),t.canvas),r.preventDefault()}},{key:"setupMinimapInteractions",value:function(){var r=this,e=this.minimapRenderer.canvas;e.addEventListener("mousedown",function(t){r.handleMinimapDrag(t),r.minimapMouseDown=!0}),e.addEventListener("mousemove",function(t){r.minimapMouseDown&&r.handleMinimapDrag(t)}),e.addEventListener("mouseup",function(){r.minimapMouseDown=!1}),e.addEventListener("mouseleave",function(){r.minimapMouseDown=!1}),e.addEventListener("wheel",function(t){r.handleMinimapWheel(t)})}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(r){r()}),this.state.nodes.removeChannel(Ca),this.state.rels.removeChannel(Ca),this.mainSceneRenderer.destroy(),this.minimapRenderer.destroy()}}])}(),ahe=function(){return BU(function r(){jU(this,r),Aa(this,"mainSceneRenderer",void 0),Aa(this,"minimapRenderer",void 0),Aa(this,"needsRun",void 0),Aa(this,"minimapMouseDown",void 0),Aa(this,"stateDisposers",void 0),Aa(this,"state",void 0)},[{key:"renderMainScene",value:function(r){}},{key:"renderMinimap",value:function(r){}},{key:"checkForUpdates",value:function(r,e){}},{key:"onResize",value:function(){}},{key:"updateMainViewport",value:function(r,e,t){}},{key:"updateMinimapViewport",value:function(r,e,t){}},{key:"handleMinimapDrag",value:function(r){}},{key:"handleMinimapWheel",value:function(r){}},{key:"setupMinimapInteractions",value:function(){}},{key:"destroy",value:function(){}},{key:"needsToRun",value:function(){return!1}}])}();function Pg(r){return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(r)}function fO(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return y4(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?y4(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function y4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function she(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,UU(n.key),n)}}function Xr(r,e,t){return(e=UU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function UU(r){var e=function(t){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Pg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Pg(e)=="symbol"?e:e+""}var Ri=24,m4=function(){return r=function t(n,i,o,a){if(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,t),Xr(this,"nodeShader",void 0),Xr(this,"nodeAnimShader",void 0),Xr(this,"relShader",void 0),Xr(this,"relDataBuffer",void 0),Xr(this,"viewportBoxShader",void 0),Xr(this,"defaultRelColor",void 0),Xr(this,"defaultNodeColor",void 0),Xr(this,"disableRelColor",void 0),Xr(this,"disableNodeColor",void 0),Xr(this,"gl",void 0),Xr(this,"activeNodes",void 0),Xr(this,"canvas",void 0),Xr(this,"projection",void 0),Xr(this,"idToIndex",void 0),Xr(this,"posBuffer",void 0),Xr(this,"numRels",void 0),Xr(this,"numNodes",void 0),Xr(this,"nodeDataByte",void 0),Xr(this,"relIdToIndex",void 0),Xr(this,"relData",void 0),Xr(this,"viewportBoxBuffer",void 0),Xr(this,"relBuffer",void 0),Xr(this,"nodeBuffer",void 0),Xr(this,"posTexture",void 0),Xr(this,"nodeVao",void 0),Xr(this,"relVao",void 0),Xr(this,"nodeAnimVao",void 0),Xr(this,"vaoExt",null),this.gl=n,this.vaoExt=n.getExtension("OES_vertex_array_object"),n.getExtension("OES_texture_float")===null)throw new Error("Renderer needs floating point texture support");if(this.vaoExt===null)throw new Error("Renderer needs VAO support via OES_vertex_array_object extension");this.nodeShader=new Nl(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;
uniform lowp vec3 u_nodeBorderColor;
uniform lowp vec3 u_selectedBorderColor;
uniform lowp vec3 u_selectedInnerBorderColor;
uniform lowp vec3 u_shadowColor;
uniform lowp float u_drawDefaultBorder;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_selected;
attribute lowp float a_hovered;

varying lowp float window;
varying lowp vec4 color;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float drawDefaultBorder;

lowp float MinNodeSize = 5.0;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);
  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  lowp float nodeSize = a_size * u_zoom * u_glAdjust;
  if (nodeSize < MinNodeSize) {
   gl_PointSize = MinNodeSize;
   varNodeSize = MinNodeSize;
  } else {
    gl_PointSize = nodeSize;
    varNodeSize = nodeSize;
  }

  color = a_color;
  selected = a_selected;
  hovered = a_hovered;
  nodeBorderColor = u_nodeBorderColor;
  selectedBorderColor = u_selectedBorderColor;
  selectedInnerBorderColor = u_selectedInnerBorderColor;
  shadowColor = u_shadowColor;
  drawDefaultBorder = u_drawDefaultBorder;
}`,`uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float drawDefaultBorder;
varying lowp vec3 nodeBorderColor;
varying lowp vec3 selectedBorderColor;
varying lowp vec3 selectedInnerBorderColor;
varying lowp vec3 shadowColor;
varying lowp float selected;
varying lowp float hovered;
varying lowp float varNodeSize;

mediump float circleSize = 0.40;
mediump float defaultBoderSize = 0.42;
mediump float innerSelectedRingSize = 0.43;
mediump float outerSelectedRingSize = 0.47;
mediump float shadowSize = 0.51;

lowp float getShadowAlpha(lowp float size, lowp float dist) {
  return (1.0 - smoothstep(size, shadowSize, dist)) * 0.25;
}

lowp float getCircleAlpha(lowp float ringSize, lowp float nodeSize, lowp float dist) {
  return color.w - smoothstep(ringSize - nodeSize, ringSize, dist);
}

void main() {
  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float nodeSize = 1.0 / varNodeSize;
    lowp float nodeAlpha = getCircleAlpha(circleSize, nodeSize, dist);
    lowp float borderAlpha = getCircleAlpha(defaultBoderSize, nodeSize, dist);
    lowp float ringAlpha = getCircleAlpha(innerSelectedRingSize, nodeSize, dist);
    lowp vec3 finalColor = color.xyz;
    lowp float finalAlpha = nodeAlpha;

    if (selected > 0.0) {
      lowp float shadowAlpha = getShadowAlpha(outerSelectedRingSize, dist);
      lowp float ringAlpha2 = getCircleAlpha(outerSelectedRingSize, nodeSize, dist);

      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedInnerBorderColor, finalColor, borderAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(borderAlpha, ringAlpha2)));
      } else {
        finalColor = mix(selectedInnerBorderColor, finalColor, nodeAlpha);
        finalColor = mix(selectedBorderColor, finalColor, ringAlpha);
        finalColor = mix(shadowColor, finalColor, ringAlpha2);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, max(ringAlpha, ringAlpha2)));
      }
    } else if (hovered > 0.0) {
      if (drawDefaultBorder > 0.0) {
        lowp float shadowAlpha = getShadowAlpha(defaultBoderSize, dist);
  
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalColor = mix(shadowColor, finalColor, borderAlpha);
        finalAlpha = max(shadowAlpha, max(nodeAlpha, ringAlpha));
      } else {
        lowp float shadowAlpha = getShadowAlpha(circleSize, dist);

        finalColor = mix(shadowColor, finalColor, nodeAlpha);
        finalAlpha = max(shadowAlpha, nodeAlpha);
      }
    } else {
      if (drawDefaultBorder > 0.0) {
        finalColor = mix(nodeBorderColor, finalColor, nodeAlpha);
        finalAlpha = borderAlpha;
      }
    }
    gl_FragColor = vec4(finalColor, 1.0) * finalAlpha;
  }
}
`),this.nodeAnimShader=new Nl(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform lowp float u_animPos;
uniform mediump float u_zoom;
uniform mediump float u_glAdjust;

attribute float a_size;
attribute lowp vec2 a_index;
attribute lowp vec4 a_color;
attribute lowp float a_active;

varying lowp float varNodeSize;
varying lowp vec4 color;

void main(void) {
  vec4 data = texture2D(u_positions, a_index);

  gl_Position = u_projection * vec4(data.xy, 0.0, 1.0);

  float nodeSize = a_size * u_zoom * u_glAdjust;
  nodeSize = nodeSize * (0.4 / 0.5); // Remove extra space added for shadow and selection ring

  gl_PointSize = a_active > 0.5
    ? nodeSize + 0.88 * nodeSize * u_animPos
    : 0.0;

  color = a_color;
  varNodeSize = a_size;
}`,`uniform mediump float u_zoom;
uniform lowp float u_animPos;
uniform mediump float u_glAdjust;

varying lowp vec4 color;
varying lowp float varNodeSize;
mediump float circleSize = 0.50;

void main(void) {

  lowp float dist = distance(gl_PointCoord, vec2(0.5));

  if (dist > 0.51) {
    discard;
  }
  else {
    lowp float alpha = 1.0 - smoothstep(circleSize - (1.0 / (varNodeSize * 2.0 * u_zoom * u_glAdjust)), circleSize, dist);
    lowp float pulseAlpha = 0.9 - 0.9 * u_animPos;
    gl_FragColor = vec4(color.xyz, 1.0) * alpha * pulseAlpha;
  }
}
`),this.relShader=new Nl(n,`uniform mat4 u_projection;
uniform sampler2D u_positions;
uniform mediump float u_glAdjust;

attribute vec2 a_from;
attribute vec2 a_to;
attribute lowp vec4 a_color;
attribute lowp float a_triside;
attribute float a_width;

varying lowp vec4 color;

void main(void) {
  vec4 from = texture2D(u_positions, a_from);
  vec4 to = texture2D(u_positions, a_to);
  vec2 direction = normalize(to.xy - from.xy);
  direction = vec2(-direction.y, direction.x);

  float width = a_width * u_glAdjust * 0.5;

  if (a_triside == 0.0) {
    from.y += (width / 2.0) * direction.y;
    from.x += (width / 2.0) * direction.x;
  } else {
    from.y -= (width / 2.0) * direction.y;
    from.x -= (width / 2.0) * direction.x;
  }

  color = a_color;
  gl_Position = u_projection * vec4(from.xy, 0.0, 1.0);
}
`,`varying lowp vec4 color;

void main(void) {
  gl_FragColor = vec4(color.xyz, 1.0) * color.w;
}
`),this.viewportBoxShader=new Nl(n,`
attribute vec2 coordinates;
uniform mat4 u_projection;
uniform lowp vec4 u_minimapViewportBoxColor;

varying lowp vec4 minimapViewportBoxColor;

void main(void) {
  gl_Position = u_projection * vec4(coordinates, 0.0, 1.0);
  minimapViewportBoxColor = u_minimapViewportBoxColor;
}
`,`
varying lowp vec4 minimapViewportBoxColor;

void main(void) {
 gl_FragColor = minimapViewportBoxColor;
}
`),this.setShaderUniforms(a),n.clearColor(0,0,0,0),n.disable(n.DEPTH_TEST),this.defaultRelColor=a.defaultRelationshipColor,this.defaultNodeColor=a.defaultNodeColor,this.disableRelColor=a.disabledItemStyles.color,this.disableNodeColor=a.disabledItemStyles.color,n.blendFunc(n.ONE,n.ONE_MINUS_SRC_ALPHA),this.activeNodes={},this.canvas=n.canvas,this.projection=bb(),this.setData({nodes:i.items,rels:o.items}),this.createPositionTexture(),this.setupViewportRendering(a.minimapViewportBoxColor)},e=[{key:"setShaderUniforms",value:function(t){var n,i,o,a,u,s=t.nodeBorderStyles,l=null;((n=s.default)===null||n===void 0?void 0:n.rings.length)>0&&(l=(u=s.default.rings[0])===null||u===void 0?void 0:u.color);var c,f,h=null,v=null,d=(i=(o=s.selected)===null||o===void 0?void 0:o.rings)!==null&&i!==void 0?i:[],y=d.length;y>1&&(v=(c=d[y-2])===null||c===void 0?void 0:c.color,h=(f=d[y-1])===null||f===void 0?void 0:f.color);var p=null;(a=s.selected)!==null&&a!==void 0&&a.shadow&&(p=s.selected.shadow.color),this.nodeShader.use(),(0,Kr.isNil)(l)?this.nodeShader.setUniform("u_drawDefaultBorder",0):(this.nodeShader.setUniform("u_nodeBorderColor",tb(l)),this.nodeShader.setUniform("u_drawDefaultBorder",1));var g=tb(h),b=tb(v),m=tb(p);this.nodeShader.setUniform("u_selectedBorderColor",g),this.nodeShader.setUniform("u_selectedInnerBorderColor",b),this.nodeShader.setUniform("u_shadowColor",m)}},{key:"setData",value:function(t){var n=AO(t.rels,this.disableRelColor);this.setupNodeRendering(t.nodes),this.setupRelationshipRendering(n)}},{key:"render",value:function(t){var n=this.gl,i=this.idToIndex,o=this.posBuffer,a=this.posTexture;if(this.numNodes!==0||this.numRels!==0){var u,s=fO(t);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=i[l.id];c!==void 0&&(o[4*c]=l.x,o[4*c+1]=l.y)}}catch(f){s.e(f)}finally{s.f()}n.bindTexture(n.TEXTURE_2D,a),n.texSubImage2D(n.TEXTURE_2D,0,0,0,Ct,Ct,n.RGBA,n.FLOAT,o),n.enable(n.BLEND),n.bindFramebuffer(n.FRAMEBUFFER,null),n.clear(n.COLOR_BUFFER_BIT),n.viewport(0,0,n.drawingBufferWidth,n.drawingBufferHeight),this.renderAnimations(a),this.numRels>0&&(this.relShader.use(),this.relShader.setUniform("u_positions",a),this.vaoExt.bindVertexArrayOES(this.relVao),n.drawArrays(n.TRIANGLES,0,6*this.numRels),this.vaoExt.bindVertexArrayOES(null)),this.numNodes>0&&(this.nodeShader.use(),this.nodeShader.setUniform("u_positions",a),this.vaoExt.bindVertexArrayOES(this.nodeVao),n.drawArrays(n.POINTS,0,this.numNodes),this.vaoExt.bindVertexArrayOES(null))}}},{key:"renderViewbox",value:function(){var t=this.gl,n=this.projection,i=this.viewportBoxBuffer;this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_projection",n),t.bindBuffer(t.ARRAY_BUFFER,i),this.viewportBoxShader.setAttributePointerFloat("coordinates",2,0,0),t.drawArrays(t.LINES,0,8)}},{key:"updateNodes",value:function(t){var n,i=this.gl,o=this.idToIndex,a=this.disableNodeColor,u=this.nodeBuffer,s=this.nodeDataByte,l=!1,c=fO(t);try{for(c.s();!(n=c.n()).done;){var f=n.value,h=o[f.id];if(!(0,Kr.isNil)(f.color)||f.disabled===!0){var v=Yg(f.disabled===!0?a:f.color);this.nodeDataByte[3*h*4+0]=v[0],this.nodeDataByte[3*h*4+1]=v[1],this.nodeDataByte[3*h*4+2]=v[2],this.nodeDataByte[3*h*4+3]=255*v[3],l=!0}if(f.selected!==void 0){var d=f.selected;this.nodeDataByte[3*h*4+4]=d?255:0,l=!0}if(f.activated!==void 0&&(this.nodeDataByte[3*h*4+7]=f.activated?255:0,l=!0,f.activated?this.activeNodes[f.id]=!0:delete this.activeNodes[f.id]),f.hovered!==void 0){var y=f.disabled!==!0&&f.hovered;this.nodeDataByte[3*h*4+9]=y?255:0,l=!0}if(f.size!==void 0){var p=f.size;this.nodeDataByte[3*h*4+8]=p||on,l=!0}}}catch(g){c.e(g)}finally{c.f()}l&&(i.bindBuffer(i.ARRAY_BUFFER,u),i.bufferData(i.ARRAY_BUFFER,s,i.DYNAMIC_DRAW))}},{key:"updateRelationships",value:function(t){var n,i=AO(t,this.disableRelColor),o=this.gl,a=!1,u=fO(i);try{for(u.s();!(n=u.n()).done;){var s=n.value,l=s.key,c=s.width,f=s.color,h=s.disabled,v=this.relIdToIndex[l],d=(0,Kr.isNil)(f)?this.defaultRelColor:f,y=eb(h?this.disableRelColor:d);this.relData.positionsAndColors[v*Ri+0]=y,this.relData.positionsAndColors[v*Ri+4]=y,this.relData.positionsAndColors[v*Ri+8]=y,this.relData.positionsAndColors[v*Ri+12]=y,this.relData.positionsAndColors[v*Ri+16]=y,this.relData.positionsAndColors[v*Ri+20]=y,a=!0,c!==void 0&&(this.relData.widths[v*Ri+3]=c,this.relData.widths[v*Ri+7]=c,this.relData.widths[v*Ri+11]=c,this.relData.widths[v*Ri+15]=c,this.relData.widths[v*Ri+19]=c,this.relData.widths[v*Ri+23]=c,a=!0)}}catch(p){u.e(p)}finally{u.f()}a&&(o.bindBuffer(o.ARRAY_BUFFER,this.relBuffer),o.bufferData(o.ARRAY_BUFFER,this.relDataBuffer,o.DYNAMIC_DRAW))}},{key:"createPositionTexture",value:function(){var t=this.gl,n=t.createTexture(),i=new Float32Array(262144);t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,Ct,Ct,0,t.RGBA,t.FLOAT,i),this.posTexture=n,this.posBuffer=i}},{key:"updateViewportBox",value:function(t,n,i,o,a){var u=this.gl,s=Tr(),l=o*s,c=a*s,f=(.5*l+n*t)/t,h=(.5*c+i*t)/t,v=(.5*-l+n*t)/t,d=(.5*-c+i*t)/t,y=[f,h,v,h,v,h,v,d,v,d,f,d,f,d,f,h];u.bindBuffer(u.ARRAY_BUFFER,this.viewportBoxBuffer),u.bufferData(u.ARRAY_BUFFER,new Float32Array(y),u.DYNAMIC_DRAW)}},{key:"updateViewport",value:function(t,n,i){var o=this.gl,a=1/t,u=n-o.drawingBufferWidth*a*.5,s=i-o.drawingBufferHeight*a*.5,l=o.drawingBufferWidth*a,c=o.drawingBufferHeight*a,f=bb(),h=ace*Tr();FO(f,u,u+l,s+c,s,0,1e6),this.nodeShader.use(),this.nodeShader.setUniform("u_zoom",t),this.nodeShader.setUniform("u_glAdjust",h),this.nodeShader.setUniform("u_projection",f),this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_zoom",t),this.nodeAnimShader.setUniform("u_glAdjust",h),this.nodeAnimShader.setUniform("u_projection",f),this.relShader.use(),this.relShader.setUniform("u_glAdjust",h),this.relShader.setUniform("u_projection",f),this.projection=f}},{key:"setupViewportRendering",value:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xS;this.viewportBoxBuffer=this.gl.createBuffer(),this.viewportBoxShader.use(),this.viewportBoxShader.setUniform("u_minimapViewportBoxColor",[(t=Yg(n))[0]/255,t[1]/255,t[2]/255,t[3]])}},{key:"setupNodeRendering",value:function(t){var n=this.gl,i=new ArrayBuffer(8),o=new Uint32Array(i),a=new Uint8Array(i);this.nodeBuffer===void 0&&(this.nodeBuffer=n.createBuffer()),this.numNodes=t.length;var u=new ArrayBuffer(3*t.length*8),s=new Uint32Array(u),l={};this.activeNodes={};for(var c=0;c<t.length;c++){var f=t[c],h=f.selected,v=f.hovered,d=f.color,y=f.activated,p=f.size,g=f.id,b=f.disabled,m=eb((0,Kr.isNil)(d)?this.defaultNodeColor:d);s[3*c+0]=b?eb(this.disableNodeColor):m,a[0]=h?255:0,a[1]=c%Ct,a[2]=Math.floor(c/Ct),a[3]=y?255:0,a[4]=!b&&v?255:0,y&&(this.activeNodes[g]=!0),s[3*c+1]=o[0],s[3*c+2]=p??on,s[3*c+3]=o[1],l[g]=c}n.bindBuffer(n.ARRAY_BUFFER,this.nodeBuffer),n.bufferData(n.ARRAY_BUFFER,s,n.DYNAMIC_DRAW),this.numNodes=t.length,this.nodeDataByte=new Uint8Array(u),this.idToIndex=l,this.vaoExt.deleteVertexArrayOES(this.nodeVao),this.vaoExt.deleteVertexArrayOES(this.nodeAnimVao),this.nodeVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.nodeVao),this.nodeShader.use(),n.bindBuffer(n.ARRAY_BUFFER,this.nodeBuffer),this.nodeShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeShader.setAttributePointerByteNorm("a_selected",1,4,12),this.nodeShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeShader.setAttributePointerByte("a_size",4,8,12),this.nodeShader.setAttributePointerByteNorm("a_hovered",1,9,12),this.nodeAnimVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.nodeAnimVao),this.nodeAnimShader.use(),n.bindBuffer(n.ARRAY_BUFFER,this.nodeBuffer),this.nodeAnimShader.setAttributePointerByteNorm("a_color",4,0,12),this.nodeAnimShader.setAttributePointerByteNorm("a_active",1,7,12),this.nodeAnimShader.setAttributePointerByteNorm("a_index",2,5,12),this.nodeAnimShader.setAttributePointerByte("a_size",4,8,12),this.vaoExt.bindVertexArrayOES(null)}},{key:"setupRelationshipRendering",value:function(t){var n=this,i=this.gl,o=new ArrayBuffer(4),a=new Uint32Array(o),u=new Uint8Array(o),s={};this.relBuffer===void 0&&(this.relBuffer=i.createBuffer());for(var l=new ArrayBuffer(t.length*Ri*4),c=new Uint32Array(l),f=new Float32Array(l),h=function(d){var y=t[d],p=y.from,g=y.to,b=y.color,m=y.width,_=m===void 0?1:m,w=y.key,O=y.disabled,E=n.idToIndex[p],S=n.idToIndex[g],P=E%Ct,I=Math.floor(E/Ct),R=S%Ct,D=Math.floor(S/Ct),k=[P,I,R,D],N=[R,D,P,I],B=(0,Kr.isNil)(b)?n.defaultRelColor:b,z=eb(O?n.disableRelColor:B);s[w]=d;var F=0,U=function(W,Y,X,Q){c[d*Ri+F]=W,F+=1;for(var ue=0;ue<Y.length;ue++)u[ue]=Y[ue];c[d*Ri+F]=a[0],F+=1,u[0]=X,c[d*Ri+F]=a[0],f[d*Ri+(F+=1)]=Q,F+=1};U(z,k,255,_),U(z,N,0,_),U(z,k,0,_),U(z,N,0,_),U(z,k,0,_),U(z,N,255,_)},v=0;v<t.length;v++)h(v);i.bindBuffer(i.ARRAY_BUFFER,this.relBuffer),i.bufferData(i.ARRAY_BUFFER,l,i.DYNAMIC_DRAW),this.numRels=t.length,this.relDataBuffer=l,this.relData={positionsAndColors:c,widths:f},this.relIdToIndex=s,this.vaoExt.deleteVertexArrayOES(this.relVao),this.relVao=this.vaoExt.createVertexArrayOES(),this.vaoExt.bindVertexArrayOES(this.relVao),this.relShader.use(),i.bindBuffer(i.ARRAY_BUFFER,this.relBuffer),this.relShader.setAttributePointerByteNorm("a_color",4,0,16),this.relShader.setAttributePointerByteNorm("a_from",2,4,16),this.relShader.setAttributePointerByteNorm("a_to",2,6,16),this.relShader.setAttributePointerByteNorm("a_triside",1,8,16),this.relShader.setAttributePointerFloat("a_width",1,12,16),this.vaoExt.bindVertexArrayOES(null)}},{key:"renderAnimations",value:function(t){var n=this.gl,i=this.numNodes,o=Date.now()%1e3/1e3,a=o<.7?o/.7:0;this.nodeAnimShader.use(),this.nodeAnimShader.setUniform("u_positions",t),this.nodeAnimShader.setUniform("u_animPos",a),this.vaoExt.bindVertexArrayOES(this.nodeAnimVao),n.drawArrays(n.POINTS,0,i),this.vaoExt.bindVertexArrayOES(null)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.nodeBuffer),this.gl.deleteBuffer(this.relBuffer),this.vaoExt.deleteVertexArrayOES(this.nodeVao),this.vaoExt.deleteVertexArrayOES(this.relVao),this.vaoExt.deleteVertexArrayOES(this.nodeAnimVao),this.nodeShader.remove(),this.nodeAnimShader.remove(),this.relShader.remove()}}],e&&she(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function ob(r){return function(e){if(Array.isArray(e))return lS(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||zU(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function uS(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=zU(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function zU(r,e){if(r){if(typeof r=="string")return lS(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?lS(r,e):void 0}}function lS(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var uhe=on*Tr();function Ag(r){return Ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ag(r)}function b4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ab(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(t),!0).forEach(function(n){lhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):b4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function lhe(r,e,t){return(e=function(n){var i=function(o){if(Ag(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(Ag(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return Ag(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Rg=function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,t={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},n=0;n<r.length;n++)t.minX>r[n].x&&(t.minX=r[n].x),t.minY>r[n].y&&(t.minY=r[n].y),t.maxX<r[n].x&&(t.maxX=r[n].x),t.maxY<r[n].y&&(t.maxY=r[n].y);var i=(t.minX+t.maxX)/2,o=(t.minY+t.maxY)/2,a=2*e,u=Tr()*a;return{centerX:i,centerY:o,nodesWidth:t.maxX-t.minX+a+u,nodesHeight:t.maxY-t.minY+a+u}},cS=function(r,e,t,n){var i=1/0,o=1/0;return r>1&&(i=t/r),e>1&&(o=n/e),{zoomX:i,zoomY:o}},qU=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/0,i=Math.min(r,e);return Math.min(n,Math.max(t,i))};var Ig=function(r,e,t,n){return Math.max(Math.min(e,t),Math.min(r,n))},hO=function(r,e,t,n,i,o){var a=e;return function(u,s,l){return u<s&&u<l}(i,o,e)&&r.length>1?(a=function(u,s,l){var c=function(y){var p=new Array(4).fill(y[0]);return y.forEach(function(g){p[0]=g.x<p[0].x?p[0]:ab({},g),p[1]=g.y<p[1].y?p[1]:ab({},g),p[2]=g.x<p[2].x?ab({},g):p[2],p[3]=g.y<p[3].y?ab({},g):p[3]}),p}(u),f=function(){for(var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=0,g=0,b=0;b<y.length;b++)for(var m=b+1;m<y.length;m++)p=Math.hypot(Math.abs(y[b].x-y[m].x),Math.abs(y[b].y-y[m].y)),g=Math.max(g,p);return g}(c),h=2*l,v=Tr()*h,d=s.height<=s.width?s.height-h-v:s.width-h-v;return f>d?.9*d/f:.9*f/d}(r,n,25),Ig(i,o,Math.min(e,a),t)):Ig(i,o,e,t)};function Dg(r){return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(r)}function che(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,GU(n.key),n)}}function GU(r){var e=function(t){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Dg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Dg(e)=="symbol"?e:e+""}var fhe=function(){return r=function t(){var n,i,o;(function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")})(this,t),n=this,o=void 0,(i=GU(i="callbacks"))in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,this.callbacks={}},e=[{key:"register",value:function(t,n){this.isCallbackRegistered(t)||(this.callbacks[t]=[]),this.callbacks[t].push(n)}},{key:"isCallbackRegistered",value:function(t){return this.callbacks[t]!==void 0}},{key:"callIfRegistered",value:function(){var t,n=arguments,i=Array.prototype.slice.call(arguments)[0];t=i,nce.includes(t)&&this.isCallbackRegistered(i)&&this.callbacks[i].slice(0).forEach(function(o){return o.apply(null,Array.prototype.slice.call(n,1))})}}],e&&che(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}(),hhe=In(481),dO=In.n(hhe);function Mg(r){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(r)}function dhe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,VU(n.key),n)}}function Al(r,e,t){return(e=VU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function VU(r){var e=function(t){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(Mg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return Mg(e)=="symbol"?e:e+""}var _4=5e-5,vhe=function(){return r=function t(n){var i,o=this,a=n.state,u=n.getNodePositions,s=n.canvas;(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Al(this,"xCtrl",void 0),Al(this,"yCtrl",void 0),Al(this,"zoomCtrl",void 0),Al(this,"getNodePositions",void 0),Al(this,"firstUpdate",void 0),Al(this,"state",void 0),Al(this,"canvas",void 0),Al(this,"stateDisposers",void 0),this.state=a,this.getNodePositions=u,this.canvas=s,this.xCtrl=new(dO())(.35,_4,.05,1),this.yCtrl=new(dO())(.35,_4,.05,1),this.zoomCtrl=new(dO())(.3,1e-5,.01,1),this.stateDisposers=[],this.stateDisposers.push(a.autorun(function(){a.fitNodeIds===null&&(o.xCtrl.reset(),o.yCtrl.reset(),o.zoomCtrl.reset())})),this.stateDisposers.push(a.autorun(function(){i!==a.fitNodeIds&&(i=a.fitNodeIds,o.firstUpdate=!0)})),this.stateDisposers.push(a.autorun(function(){a.resetZoom&&(o.firstUpdate=!0)}))},(e=[{key:"needsToRun",value:function(){var t=this.state,n=t.fitNodeIds,i=t.resetZoom;return n.length>0||i}},{key:"update",value:function(t,n){var i=this.state,o=i.fitNodeIds,a=i.resetZoom;o.length>0?this.fitNodes(o,t,n):a&&this.reset(t,n)}},{key:"destroy",value:function(){this.stateDisposers.forEach(function(t){return t()})}},{key:"recalculateTarget",value:function(t,n,i,o){for(var a=this.xCtrl,u=this.yCtrl,s=this.zoomCtrl,l=this.state,c=[],f=0;f<t.length;f++)c.push({id:t[f]});var h=l.zoom,v=l.panX,d=l.panY,y=l.maxNodeRadius,p=l.nodes,g=l.defaultZoomLevel,b=this.getNodePositions(c);p.updatePositions(b);var m=Rg(b,y),_=m.centerX,w=m.centerY,O=m.nodesWidth,E=m.nodesHeight;if(isNaN(_)||isNaN(w))return Ur.info("fit() function couldn't calculate center point, not updating viewport"),!1;var S=n.noPan,P=n.outOnly,I=n.minZoom,R=n.maxZoom;a.setTarget(S?v:_),u.setTarget(S?d:w);var D=cS(O,E,i,o),k=D.zoomX,N=D.zoomY;if(k===1/0&&N===1/0)s.setTarget(g);else{var B=qU(k,N,I,R);P&&h<B?s.setTarget(h):s.setTarget(B)}return!0}},{key:"allNodesAreVisible",value:function(t,n,i){var o=cS(n,i,this.canvas.width,this.canvas.height),a=o.zoomX,u=o.zoomY;return t<a&&t<u}},{key:"reset",value:function(t,n){var i=this.xCtrl,o=this.yCtrl,a=this.zoomCtrl,u=this.state,s=this.firstUpdate,l=this.canvas,c=u.zoom,f=u.panX,h=u.panY,v=u.nodes,d=u.maxNodeRadius,y=u.defaultZoomLevel;if(s||t){a.setTarget(y);var p=Rg(Object.values(v.idToPosition),d),g=p.centerX,b=p.centerY,m=p.nodesWidth,_=p.nodesHeight;this.allNodesAreVisible(c,m,_)?(i.setTarget(g),o.setTarget(b)):(i.setTarget(f),o.setTarget(h)),this.firstUpdate=!1}var w=c+a.update(c),O=f+i.update(f),E=h+o.update(h);u.updateZoomToFit(w,O,E,l),Math.abs(a.target-w)<.01&&(u.updateZoomToFit(y,O,E,l),u.clearReset(),n!==void 0&&n())}},{key:"fitNodes",value:function(t,n,i){var o=this.state,a=this.firstUpdate,u=this.canvas,s=this.xCtrl,l=this.yCtrl,c=this.zoomCtrl,f=o.zoomOptions,h=f===void 0?{}:f,v=o.zoom,d=o.panX,y=o.panY,p=!0;if(a||n){var g=u.width,b=u.height;p=this.recalculateTarget(t,h,g,b),this.firstUpdate=!1}if(p){if(!h.animated)return o.setZoomPan(c.target,s.target,l.target,u),void o.clearFit();var m=d+s.update(d),_=y+l.update(y),w=v+c.update(v);o.updateZoomToFit(w,m,_,u);var O=Math.max(5,10/c.target),E=Math.min(.01,.01*c.target);!n&&Math.abs(c.target-w)<E&&Math.abs(s.target-m)<O&&Math.abs(l.target-_)<O&&(o.setZoom(c.target,u),o.clearFit(),i!==void 0&&i())}}}])&&dhe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function kg(r){return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(r)}function og(){var r,e,t=typeof Symbol=="function"?Symbol:{},n=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function o(v,d,y,p){var g=d&&d.prototype instanceof u?d:u,b=Object.create(g.prototype);return oa(b,"_invoke",function(m,_,w){var O,E,S,P=0,I=w||[],R=!1,D={p:0,n:0,v:r,a:k,f:k.bind(r,4),d:function(N,B){return O=N,E=0,S=r,D.n=B,a}};function k(N,B){for(E=N,S=B,e=0;!R&&P&&!z&&e<I.length;e++){var z,F=I[e],U=D.p,W=F[2];N>3?(z=W===B)&&(S=F[(E=F[4])?5:(E=3,3)],F[4]=F[5]=r):F[0]<=U&&((z=N<2&&U<F[1])?(E=0,D.v=B,D.n=F[1]):U<W&&(z=N<3||F[0]>B||B>W)&&(F[4]=N,F[5]=B,D.n=W,E=0))}if(z||N>1)return a;throw R=!0,B}return function(N,B,z){if(P>1)throw TypeError("Generator is already running");for(R&&B===1&&k(B,z),E=B,S=z;(e=E<2?r:S)||!R;){O||(E?E<3?(E>1&&(D.n=-1),k(E,S)):D.n=S:D.v=S);try{if(P=2,O){if(E||(N="next"),e=O[N]){if(!(e=e.call(O,S)))throw TypeError("iterator result is not an object");if(!e.done)return e;S=e.value,E<2&&(E=0)}else E===1&&(e=O.return)&&e.call(O),E<2&&(S=TypeError("The iterator does not provide a '"+N+"' method"),E=1);O=r}else if((e=(R=D.n<0)?S:m.call(_,D))!==a)break}catch(F){O=r,E=1,S=F}finally{P=1}}return{value:e,done:R}}}(v,y,p),!0),b}var a={};function u(){}function s(){}function l(){}e=Object.getPrototypeOf;var c=[][n]?e(e([][n]())):(oa(e={},n,function(){return this}),e),f=l.prototype=u.prototype=Object.create(c);function h(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,l):(v.__proto__=l,oa(v,i,"GeneratorFunction")),v.prototype=Object.create(f),v}return s.prototype=l,oa(f,"constructor",l),oa(l,"constructor",s),s.displayName="GeneratorFunction",oa(l,i,"GeneratorFunction"),oa(f),oa(f,i,"Generator"),oa(f,n,function(){return this}),oa(f,"toString",function(){return"[object Generator]"}),(og=function(){return{w:o,m:h}})()}function oa(r,e,t,n){var i=Object.defineProperty;try{i({},"",{})}catch{i=0}oa=function(o,a,u,s){function l(c,f){oa(o,c,function(h){return this._invoke(c,f,h)})}a?i?i(o,a,{value:u,enumerable:!s,configurable:!s,writable:!s}):o[a]=u:(l("next",0),l("throw",1),l("return",2))},oa(r,e,t,n)}function w4(r,e,t,n,i,o,a){try{var u=r[o](a),s=u.value}catch(l){return void t(l)}u.done?e(s):Promise.resolve(s).then(n,i)}function E4(r){return function(){var e=this,t=arguments;return new Promise(function(n,i){var o=r.apply(e,t);function a(s){w4(o,n,i,a,u,"next",s)}function u(s){w4(o,n,i,a,u,"throw",s)}a(void 0)})}}function x4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function O4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Rn(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(t),!0).forEach(function(n){Zt(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):O4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function phe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,WU(n.key),n)}}function Zt(r,e,t){return(e=WU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function WU(r){var e=function(t){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(kg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return kg(e)=="symbol"?e:e+""}var sb="NvlController",Kp={filename:"visualisation.png",backgroundColor:"rgba(0,0,0,0)"},Rl="onError",S4="onLayoutDone",T4="onLayoutStep",Rb={},$p=function(){var r;return(r=Rb[arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default"])!==null&&r!==void 0?r:Object.values(Rb).pop()},ghe=function(){return r=function i(o,a,u){var s,l,c,f=this;(function(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")})(this,i),Zt(this,"destroyed",void 0),Zt(this,"state",void 0),Zt(this,"callbacks",void 0),Zt(this,"instanceId",void 0),Zt(this,"glController",void 0),Zt(this,"webGLContext",void 0),Zt(this,"webGLMinimapContext",void 0),Zt(this,"htmlOverlay",void 0),Zt(this,"hasResized",void 0),Zt(this,"hierarchicalLayout",void 0),Zt(this,"gridLayout",void 0),Zt(this,"freeLayout",void 0),Zt(this,"d3ForceLayout",void 0),Zt(this,"circularLayout",void 0),Zt(this,"forceLayout",void 0),Zt(this,"canvasRenderer",void 0),Zt(this,"svgRenderer",void 0),Zt(this,"glCanvas",void 0),Zt(this,"canvasRect",void 0),Zt(this,"glMinimapCanvas",void 0),Zt(this,"c2dCanvas",void 0),Zt(this,"svg",void 0),Zt(this,"isInRenderSwitchAnimation",void 0),Zt(this,"justSwitchedRenderer",void 0),Zt(this,"justSwitchedLayout",void 0),Zt(this,"layoutUpdating",void 0),Zt(this,"layoutComputing",void 0),Zt(this,"isRenderingDisabled",void 0),Zt(this,"setRenderSwitchAnimation",void 0),Zt(this,"stateDisposers",void 0),Zt(this,"zoomTransitionHandler",void 0),Zt(this,"currentLayout",void 0),Zt(this,"layoutTimeLimit",void 0),Zt(this,"pixelRatio",void 0),Zt(this,"removeResizeListener",void 0),Zt(this,"removeMinimapResizeListener",void 0),Zt(this,"pendingZoomOperation",void 0),Zt(this,"layoutRunner",void 0),Zt(this,"animationRequestId",void 0),Zt(this,"layoutDoneCallback",void 0),Zt(this,"layoutComputingCallback",void 0),Zt(this,"currentLayoutType",void 0),Zt(this,"descriptionElement",void 0),this.destroyed=!1;var h=u.minimapContainer,v=h===void 0?document.createElement("span"):h,d=u.layoutOptions,y=u.layout,p=u.instanceId,g=p===void 0?"default":p,b=u.disableAria,m=b!==void 0&&b,_=o.nodes,w=o.rels,O=o.disableWebGL;this.state=o,this.callbacks=new fhe,this.instanceId=g;var E=a;E.setAttribute("instanceId",g),E.setAttribute("data-testid","nvl-parent"),(s=E.style.height)!==null&&s!==void 0&&s.length||Object.assign(E.style,{height:"100%"}),(l=E.style.outline)!==null&&l!==void 0&&l.length||Object.assign(E.style,{outline:"none"}),this.descriptionElement=m?document.createElement("div"):function(F,U){var W;F.setAttribute("role","img"),F.setAttribute("aria-label","Graph visualization");var Y="nvl-".concat(U,"-description"),X=(W=document.getElementById(Y))!==null&&W!==void 0?W:document.createElement("div");return X.textContent="",X.id="nvl-".concat(U,"-description"),X.setAttribute("role","status"),X.setAttribute("aria-live","polite"),X.setAttribute("aria-atomic","false"),X.style.display="none",F.appendChild(X),F.setAttribute("aria-describedby",X.id),X}(E,g);var S=rO(E,this.onWebGLContextLost.bind(this)),P=rO(v,this.onWebGLContextLost.bind(this));if(S.setAttribute("data-testid","nvl-gl-canvas"),O)this.glController=new ahe;else{var I=jB(S),R=jB(P);this.glController=new ohe({mainSceneRenderer:new m4(I,_,w,this.state),minimapRenderer:new m4(R,_,w,this.state),state:o}),this.webGLContext=I,this.webGLMinimapContext=R}var D=rO(E,this.onWebGLContextLost.bind(this));D.setAttribute("data-testid","nvl-c2d-canvas");var k=D.getContext("2d"),N=document.createElementNS("http://www.w3.org/2000/svg","svg");Object.assign(N.style,Rn(Rn({},PO),{},{overflow:"hidden",width:"100%",height:"100%"})),E.appendChild(N);var B=document.createElement("div");Object.assign(B.style,Rn(Rn({},PO),{},{overflow:"hidden"})),E.appendChild(B),this.htmlOverlay=B,this.hasResized=!0,this.hierarchicalLayout=new ffe(Rn(Rn({},d),{},{state:this.state})),this.gridLayout=new Qce({state:this.state}),this.freeLayout=new Kce({state:this.state}),this.d3ForceLayout=new Dce({state:this.state}),this.circularLayout=new hce(Rn(Rn({},d),{},{state:this.state})),this.forceLayout=O?this.d3ForceLayout:new Hce(Rn(Rn({},d),{},{webGLContext:this.webGLContext,state:this.state})),this.state.setLayout(y),this.state.setLayoutOptions(d),this.canvasRenderer=new the(D,k,o,u),this.svgRenderer=new ihe(N,o,u),this.glCanvas=S,this.canvasRect=S.getBoundingClientRect(),this.glMinimapCanvas=P,this.c2dCanvas=D,this.svg=N;var z=o.renderer;this.glCanvas.style.opacity=z===Yc?"1":"0",this.c2dCanvas.style.opacity=z===Il?"1":"0",this.svg.style.opacity=z===Gh?"1":"0",this.isInRenderSwitchAnimation=!1,this.justSwitchedRenderer=!1,this.justSwitchedLayout=!1,this.hasResized=!1,this.layoutUpdating=!1,this.layoutComputing=!1,this.isRenderingDisabled=!1,_.addChannel(sb),w.addChannel(sb),this.setRenderSwitchAnimation=function(){f.isInRenderSwitchAnimation=!1},this.stateDisposers=[],this.stateDisposers.push(o.autorun(function(){f.callIfRegistered("zoom",o.zoom)})),this.stateDisposers.push(o.autorun(function(){f.callIfRegistered("pan",{panX:o.panX,panY:o.panY})})),this.stateDisposers.push(o.autorun(function(){f.setLayout(o.layout)})),this.stateDisposers.push(o.autorun(function(){f.setLayoutOptions(o.layoutOptions)})),m||this.stateDisposers.push(o.autorun(function(){(function(F,U){var W=F.nodes,Y=F.rels,X=F.layout,Q=W.items.length,ue=Y.items.length;if(Q!==0||ue!==0){var ce="".concat(Q," node").concat(Q!==1?"s":""),ae="".concat(ue," relationship").concat(ue!==1?"s":""),pe="displayed using a ".concat(X??"forceDirected"," layout");U.textContent="A graph visualization with ".concat(ce," and ").concat(ae,", ").concat(pe,".")}else U.textContent="An empty graph visualization."})(o,f.descriptionElement)})),this.stateDisposers.push(o.autorun(function(){var F=o.renderer;F!==(f.glCanvas.style.opacity==="1"?Yc:f.c2dCanvas.style.opacity==="1"?Il:f.svg.style.opacity==="1"?Gh:Il)&&(f.justSwitchedRenderer=!0,f.glCanvas.style.opacity=F===Yc?"1":"0",f.c2dCanvas.style.opacity=F===Il?"1":"0",f.svg.style.opacity=F===Gh?"1":"0")})),this.startMainLoop(),this.zoomTransitionHandler=new vhe({state:o,getNodePositions:function(F){return f.currentLayout.getNodePositions(F)},canvas:S}),this.layoutTimeLimit=(c=u.layoutTimeLimit)!==null&&c!==void 0?c:16,this.pixelRatio=Tr(),this.removeResizeListener=X3()(E,function(){hb(S),hb(D),f.canvasRect=S.getBoundingClientRect(),f.hasResized=!0}),this.removeMinimapResizeListener=X3()(v,function(){hb(P)}),Rb[g]=this,window.__Nvl_dumpNodes=function(F){var U;return(U=$p(F))===null||U===void 0?void 0:U.dumpNodes()},window.__Nvl_dumpRelationships=function(F){var U;return(U=$p(F))===null||U===void 0?void 0:U.dumpRelationships()},window.__Nvl_registerDoneCallback=function(F,U){var W;return(W=$p(U))===null||W===void 0?void 0:W.on(S4,F)},window.__Nvl_getNodesOnScreen=function(F){var U;return(U=$p(F))===null||U===void 0?void 0:U.getNodesOnScreen()},window.__Nvl_getZoomLevel=function(F){var U;return(U=$p(F))===null||U===void 0?void 0:U.getScale()},this.pendingZoomOperation=null},e=[{key:"onWebGLContextLost",value:function(i){this.callIfRegistered("onWebGLContextLost",i)}},{key:"updateMinimapZoom",value:function(){var i=this.state,o=i.nodes,a=i.maxNodeRadius,u=i.maxMinimapZoom,s=i.minMinimapZoom,l=Rg(Object.values(o.idToPosition),a),c=l.centerX,f=l.centerY,h=l.nodesWidth,v=l.nodesHeight,d=cS(h,v,this.glMinimapCanvas.width,this.glMinimapCanvas.height),y=d.zoomX,p=d.zoomY,g=qU(y,p,s,u);this.state.updateMinimapZoomToFit(g,c,f)}},{key:"startMainLoop",value:function(){var i=this,o=this.state,a=o.nodes,u=o.rels;this.currentLayout.update();var s=this.currentLayout.getNodePositions(a.items);a.updatePositions(s),this.isRenderingDisabled||(this.glController.renderMainScene(s),this.glController.renderMinimap(s),this.canvasRenderer.processUpdates(),this.canvasRenderer.render(s)),this.layoutRunner=setInterval(function(){try{(function(){var c=i.currentLayout.getShouldUpdate(),f=c||i.justSwitchedLayout,h=f&&!i.layoutUpdating&&!i.justSwitchedLayout;if(f)for(var v=window.performance.now(),d=h?0:50,y=0;y<d;y++){i.currentLayout.update(i.justSwitchedLayout),i.justSwitchedLayout=!1;var p=window.performance.now();if(!c||p-v>i.layoutTimeLimit)break}})()}catch(c){if(!i.callbacks.isCallbackRegistered(Rl))throw c;i.callIfRegistered(Rl,c)}},13);var l=function(){try{(function(c){if(i.destroyed)Ur.info("STEP IN A DESTROYED STRIP");else{var f=Tr();if(f!==i.pixelRatio)return i.pixelRatio=f,void i.callIfRegistered("restart");var h=i.currentLayout.getShouldUpdate(),v=h||i.justSwitchedLayout,d=i.currentLayout.getComputing(),y=i.zoomTransitionHandler.needsToRun(),p=v&&!i.layoutUpdating&&!i.justSwitchedLayout,g=i.layoutComputing&&!d,b=i.state.renderer,m=b===Yc&&i.glController.needsToRun(),_=b===Il&&i.canvasRenderer.needsToRun(),w=b===Gh&&i.svgRenderer.needsToRun(),O=i.isInRenderSwitchAnimation||i.justSwitchedRenderer,E=i.hasResized,S=i.pendingZoomOperation!==null,P=i.glController.minimapMouseDown;if(a.clearChannel(sb),u.clearChannel(sb),y||v||g||O||m||_||w||P||E||S){!S||p||i.currentLayout.getComputing()||(i.pendingZoomOperation(),i.pendingZoomOperation=null);var I=h||d||g;i.zoomTransitionHandler.update(I,function(){return i.callIfRegistered("onZoomTransitionDone")}),E&&i.glController.onResize();var R=i.currentLayout.getNodePositions(a.items);if(a.updatePositions(R),i.callbacks.isCallbackRegistered(T4)&&i.callIfRegistered(T4,i.dumpNodes()),i.updateMinimapZoom(),i.glController.renderMinimap(R),!i.isRenderingDisabled){var D=i.state.renderer;if((D===Yc||O)&&i.glController.renderMainScene(R),D===Il||D===Gh||O){i.canvasRenderer.processUpdates(),i.canvasRenderer.render(R);for(var k=0;k<u.items.length;k++){var N=u.items[k].id,B=i.canvasRenderer.arrowBundler.getBundle(u.items[k]),z=u.idToHtmlOverlay[N],F=B.labelInfo[N];if(z&&F){var U=F.rotation,W=F.position,Y=F.width,X=F.height,Q=i.mapCanvasSpaceToRelativePosition(W.x,W.y),ue=Q.x,ce=Q.y,ae=Y>5&&D!==Yc;Object.assign(z.style,{top:"".concat(ce,"px"),left:"".concat(ue,"px"),width:"".concat(Y,"px"),height:"".concat(X,"px"),display:ae?"block":"none",transform:"translate(-50%, -50%) scale(".concat(Number(i.state.zoom),") rotate(").concat(U,"rad")})}}}(D===Gh||O)&&(i.svgRenderer.processUpdates(),i.svgRenderer.render(R));for(var pe=0;pe<a.items.length;pe++){var fe=a.items[pe],he=fe.id,ee=fe.size,K=a.idToHtmlOverlay[he];if(K){var J=i.state.nodes.idToPosition[he],ie=i.mapCanvasSpaceToRelativePosition(J.x,J.y),de=ie.x,_e=ie.y,Ce="".concat(2*(ee??on),"px");Object.assign(K.style,{top:"".concat(_e,"px"),left:"".concat(de,"px"),width:Ce,height:Ce,transform:"translate(-50%, -50%) scale(".concat(Number(i.state.zoom),")")})}}}}var Ae=!v&&i.layoutUpdating,xe=d!==i.layoutComputing;i.layoutComputing=d,i.layoutUpdating=v,Ae&&i.callIfRegistered(S4),xe&&i.callIfRegistered("onLayoutComputing",d),i.justSwitchedRenderer=!1,i.hasResized=!1,c!==void 0&&c()}})(function(){i.animationRequestId=window.requestAnimationFrame(l)})}catch(c){if(!i.callbacks.isCallbackRegistered(Rl))throw c;i.callIfRegistered(Rl,c)}};this.animationRequestId=window.requestAnimationFrame(l)}},{key:"updateHtmlOverlay",value:function(){this.state.nodes.updateHtmlOverlay(this.htmlOverlay),this.state.rels.updateHtmlOverlay(this.htmlOverlay)}},{key:"dumpNodes",value:function(){var i,o=Wi(this.state.nodes.items),a=this.state.nodes.idToPosition,u=[],s=function(h,v){var d=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!d){if(Array.isArray(h)||(d=function(_,w){if(_){if(typeof _=="string")return x4(_,w);var O={}.toString.call(_).slice(8,-1);return O==="Object"&&_.constructor&&(O=_.constructor.name),O==="Map"||O==="Set"?Array.from(_):O==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?x4(_,w):void 0}}(h))||v&&h&&typeof h.length=="number"){d&&(h=d);var y=0,p=function(){};return{s:p,n:function(){return y>=h.length?{done:!0}:{done:!1,value:h[y++]}},e:function(_){throw _},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,b=!0,m=!1;return{s:function(){d=d.call(h)},n:function(){var _=d.next();return b=_.done,_},e:function(_){m=!0,g=_},f:function(){try{b||d.return==null||d.return()}finally{if(m)throw g}}}}(o);try{for(s.s();!(i=s.n()).done;){var l=i.value,c=a[l.id],f=this.mapCanvasSpaceToRelativePosition(c.x,c.y);u.push(Rn(Rn({},l),{},{x:f.x,y:f.y}))}}catch(h){s.e(h)}finally{s.f()}return u}},{key:"dumpRelationships",value:function(){return Wi(this.state.rels.items)}},{key:"mapCanvasSpaceToRelativePosition",value:function(i,o){var a=this.canvasRect,u=window.devicePixelRatio||1,s=(i-this.state.panX)*this.state.zoom/u,l=(o-this.state.panY)*this.state.zoom/u;return{x:s+.5*a.width,y:l+.5*a.height}}},{key:"mapRelativePositionToCanvasSpace",value:function(i,o){var a=this.glCanvas.getBoundingClientRect(),u=window.devicePixelRatio||1,s=u*(i-.5*a.width),l=u*(o-.5*a.height);return{x:this.state.panX+s/this.state.zoom,y:this.state.panY+l/this.state.zoom}}},{key:"getNodePositions",value:function(){return Object.values(Wi(this.state.nodes.idToPosition))}},{key:"setNodePositions",value:function(i){var o=this,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1],u=[],s=i.filter(function(l){var c=l.id,f=o.state.nodes.idToItem[c]!==void 0;return f||u.push(c),f});u.length>0&&Ur.warn("Failed to set positions for following nodes: ".concat(u.join(", "),". They do not exist in the graph.")),this.state.nodes.updatePositions(s),this.currentLayout.updateNodes(s),a||this.currentLayout.terminateUpdate(),this.hasResized=!0,this.getNodesOnScreen().nodes.length===0&&this.state.setPan(0,0),this.state.clearFit()}},{key:"isLayoutMoving",value:function(){return this.layoutUpdating}},{key:"getNodesOnScreen",value:function(){var i=this.glCanvas.getBoundingClientRect(),o=this.mapRelativePositionToCanvasSpace(0,0),a=o.x,u=o.y,s=this.mapRelativePositionToCanvasSpace(i.width,i.height);return function(l,c,f,h,v){var d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:["node"],y=v.nodes,p=v.rels,g=Math.min(l,f),b=Math.max(l,f),m=Math.min(c,h),_=Math.max(c,h),w=[],O=[];if(d.includes("node"))for(var E=0,S=Object.values(y.idToPosition);E<S.length;E++){var P=S[E],I=P.x,R=P.y;I!==void 0&&R!==void 0&&I>g&&I<b&&R>m&&R<_&&w.push(P)}if(d.includes("relationship")){var D,k=uS(p.items);try{for(k.s();!(D=k.n()).done;){var N=D.value,B=N.from,z=N.to,F=y.idToPosition[B],U=y.idToPosition[z];if(F.x!==void 0&&F.y!==void 0&&U.x!==void 0&&U.y!==void 0){var W=F.x>g&&F.x<b&&F.y>m&&F.y<_,Y=U.x>g&&U.x<b&&U.y>m&&U.y<_;W&&Y&&O.push(N)}}}catch(X){k.e(X)}finally{k.f()}}return{nodes:w,rels:O}}(a,u,s.x,s.y,this.state,["node"])}},{key:"registerDoneCallback",value:function(i){this.layoutDoneCallback=i}},{key:"registerComputingCallback",value:function(i){this.layoutComputingCallback=i}},{key:"getPosition",value:function(i){return this.currentLayout.getNodePositions([{id:i}])[0]}},{key:"getScale",value:function(){return this.state.zoom}},{key:"getPan",value:function(){return{x:this.state.panX,y:this.state.panY}}},{key:"setZoomLevel",value:function(i){var o=this;this.pendingZoomOperation=function(){return o.state.setZoom(i,o.glCanvas)}}},{key:"setPanCoordinates",value:function(i,o){this.state.setPan(i,o)}},{key:"setZoomAndPan",value:function(i,o,a){var u=this;this.pendingZoomOperation=function(){return u.state.setZoomPan(i,o,a,u.glCanvas)}}},{key:"fit",value:function(i,o){var a=this;this.pendingZoomOperation=function(){return a.state.fitNodes(i,o)}}},{key:"resetZoom",value:function(){var i=this;this.pendingZoomOperation=function(){return i.state.setZoomReset()}}},{key:"setRenderer",value:function(i){this.state.setRenderer(i)}},{key:"on",value:function(i,o){this.callbacks.register(i,o)}},{key:"isDestroyed",value:function(){return this.destroyed}},{key:"destroy",value:function(){var i;this.destroyed||(this.animationRequestId&&window.cancelAnimationFrame(this.animationRequestId),this.layoutRunner!==void 0&&window.clearInterval(this.layoutRunner),this.glController.destroy(),this.glCanvas.removeEventListener("transitionend",this.setRenderSwitchAnimation),this.webGLContext!==void 0&&BB(this.webGLContext),this.webGLMinimapContext!==void 0&&BB(this.webGLMinimapContext),Vh(this.glCanvas),Vh(this.glMinimapCanvas),this.canvasRenderer.destroy(),Vh(this.c2dCanvas),XO.clear(),this.svgRenderer.destroy(),this.svg.remove(),this.removeResizeListener(),this.removeMinimapResizeListener(),this.forceLayout.destroy(),this.hierarchicalLayout.destroy(),this.gridLayout.destroy(),this.freeLayout.destroy(),this.circularLayout.destroy(),this.htmlOverlay.remove(),this.descriptionElement.remove(),this.zoomTransitionHandler.destroy(),this.stateDisposers.forEach(function(o){o()}),i=this.instanceId,delete Rb[i],this.destroyed=!0)}},{key:"callIfRegistered",value:function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];this.callbacks.callIfRegistered.apply(this.callbacks,arguments)}},{key:"getCanvasRelsAt",value:function(i){return this.canvasRenderer.getRelsAt(i)}},{key:"getCanvasNodesAt",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this.canvasRenderer.getNodesAt(i,o)}},{key:"getLayout",value:function(i){return i===_b?this.hierarchicalLayout:i===efe?this.forceLayout:i===tfe?this.gridLayout:i===rfe?this.freeLayout:i===nfe?this.d3ForceLayout:i===ife?this.circularLayout:this.forceLayout}},{key:"setLayout",value:function(i){Ur.info("Switching to layout: ".concat(i));var o=this.currentLayoutType,a=this.getLayout(i);i==="free"&&a.setNodePositions(this.state.nodes.idToPosition),this.currentLayout=a,this.currentLayoutType=i,o&&o!==this.currentLayoutType&&(this.justSwitchedLayout=!0)}},{key:"setLayoutOptions",value:function(i){this.getLayout(this.state.layout).setOptions(i)}},{key:"getDataUrlForCanvas",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1],a=i.toDataURL("image/png");return o?a.replace(/^data:image\/png/,"data:application/octet-stream"):a}},{key:"initiateFileDownload",value:function(i,o){var a=document.createElement("a");a.style.display="none",a.setAttribute("download",i);var u=this.getDataUrlForCanvas(o,!0);a.setAttribute("href",u),a.click()}},{key:"updateLayoutAndPositions",value:function(){var i=this.state.nodes,o=i.items;this.currentLayout.update(this.justSwitchedLayout),this.justSwitchedLayout=!1;var a=this.currentLayout.getNodePositions(o);return i.updatePositions(a),a}},{key:"saveToFile",value:function(i){var o=Rn(Rn({},Kp),i),a=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,o.backgroundColor);this.initiateFileDownload(o.filename,a),Vh(a),a=null}},{key:"saveToSvg",value:(n=E4(og().m(function i(){var o,a,u,s,l,c,f,h,v,d,y,p,g,b=arguments;return og().w(function(m){for(;;)switch(m.p=m.n){case 0:return a=b.length>0&&b[0]!==void 0?b[0]:{},u=Rn(Rn({},Kp),a),s=((o=u.filename)===null||o===void 0?void 0:o.replace(/\.[^.]+$/,".svg"))||"visualisation.svg",l=null,m.p=1,c=this.updateLayoutAndPositions(),f=Rg(c,100),(l=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("width",String(f.nodesWidth)),l.setAttribute("height",String(f.nodesHeight)),l.style.background=u.backgroundColor||"rgba(0,0,0,0)",this.svgRenderer.processUpdates(),this.svgRenderer.render(c,f,{svg:l,backgroundColor:u.backgroundColor,showCaptions:!0}),m.n=2,this.svgRenderer.waitForImages();case 2:this.svgRenderer.render(c,f,{svg:l,backgroundColor:u.backgroundColor,showCaptions:!0}),h=new XMLSerializer,v=h.serializeToString(l),d=new Blob([v],{type:"image/svg+xml"}),y=URL.createObjectURL(d),(p=document.createElement("a")).style.display="none",p.setAttribute("download",s),p.setAttribute("href",y),document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(y),m.n=5;break;case 3:if(m.p=3,g=m.v,Ur.error("An error occurred while exporting to SVG",g),!this.callbacks.isCallbackRegistered(Rl)){m.n=4;break}this.callIfRegistered(Rl,g),m.n=5;break;case 4:throw g;case 5:return m.p=5,l&&l.remove(),l=null,m.f(5);case 6:return m.a(2)}},i,this,[[1,3,5,6]])})),function(){return n.apply(this,arguments)})},{key:"getImageDataURL",value:function(i){var o=Rn(Rn({},Kp),i),a=this.createCanvasAndRenderImage(this.c2dCanvas.width,this.c2dCanvas.height,o.backgroundColor),u=this.getDataUrlForCanvas(a);return Vh(a),a=null,u}},{key:"prepareLargeFileForDownload",value:function(i){var o=this,a=Rn(Rn({},Kp),i),u=this.currentLayout.getNodePositions(this.state.nodes.items),s=Rg(u,100),l=s.nodesWidth,c=s.nodesHeight,f=s.centerX,h=s.centerY,v=Math.max(Math.min(l+100,15e3),5e3),d=Math.max(Math.min(c+100,15e3),5e3);return this.isRenderingDisabled=!0,new Promise(function(y,p){try{o.setPanCoordinates(f,h);var g=Math.max(v/l-.02,o.state.minZoom),b=Math.max(d/c-.02,o.state.minZoom);o.setZoomLevel(Math.min(g,b))}catch(m){return Ur.error("An error occurred while downloading the file"),void p(new Error("An error occurred while downloading the file",{cause:m}))}setTimeout(function(){try{var m=o.createCanvasAndRenderImage(v,d,a.backgroundColor);o.initiateFileDownload(a.filename,m),Vh(m),m=null,y(!0)}catch(_){p(new Error("An error occurred while downloading the file",{cause:_}))}},500)})}},{key:"createCanvasAndRenderImage",value:function(i,o,a){var u=function(c,f){var h=document.createElement("canvas");return document.body.appendChild(h),aU(h,c,f,1),h}(i,o),s=function(c){return c.getContext("2d")}(u),l=this.updateLayoutAndPositions();return this.canvasRenderer.processUpdates(),this.canvasRenderer.render(l,{canvas:u,context:s,backgroundColor:a,ignoreAnimations:!0,showCaptions:!0}),u}},{key:"saveFullGraphToLargeFile",value:(t=E4(og().m(function i(o){var a,u,s,l,c;return og().w(function(f){for(;;)switch(f.p=f.n){case 0:return a=Rn(Rn({},Kp),o),u=this.state.zoom,s=this.state.panX,l=this.state.panY,f.p=1,f.n=2,this.prepareLargeFileForDownload(a);case 2:f.n=5;break;case 3:if(f.p=3,c=f.v,Ur.error("An error occurred while downloading the image"),!this.callbacks.isCallbackRegistered(Rl)){f.n=4;break}this.callIfRegistered(Rl,c),f.n=5;break;case 4:throw c;case 5:return f.p=5,this.isRenderingDisabled=!1,this.setZoomLevel(u),this.setPanCoordinates(s,l),f.f(5);case 6:return f.a(2)}},i,this,[[1,3,5,6]])})),function(i){return t.apply(this,arguments)})}],e&&phe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e,t,n}();function zb(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function(s,l){if(s){if(typeof s=="string")return C4(s,l);var c={}.toString.call(s).slice(8,-1);return c==="Object"&&s.constructor&&(c=s.constructor.name),c==="Map"||c==="Set"?Array.from(s):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?C4(s,l):void 0}}(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function C4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function yhe(r){return"from"in r&&"to"in r}function mhe(r){this.channels[r]={adds:{},updates:{},removes:{}}}function bhe(r){delete this.channels[r]}function _he(r){this.channels[r].adds={},this.channels[r].updates={},this.channels[r].removes={}}var HU=function(r){return"html"in r?r.html:"captionHtml"in r?r.captionHtml:void 0};function whe(r,e){var t,n=!1,i=zb(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.id;if(this.idToItem[a]===void 0){if(o=(0,Kr.cloneDeep)(o),this.items.push(o),this.idToItem[a]=o,this.idToPosition[a]={id:a,x:0,y:0},"x"in o&&"y"in o){var u=o,s=u.x,l=u.y;isNaN(s)||isNaN(l)||(this.idToPosition[a].x=s,this.idToPosition[a].y=l)}var c=HU(o);if(c instanceof HTMLElement){var f=document.createElement("div");Object.assign(f.style,{position:"absolute"}),f.appendChild(c),this.idToHtmlOverlay[a]=f}for(var h=Object.values(this.channels),v=0,d=h;v<d.length;v++){var y=d[v];y.removes[a]===void 0?y.adds[a]=o:(delete y.removes[a],y.updates[a]=o)}n=!0}}}catch(p){i.e(p)}finally{i.f()}n&&(this.version+=1,e!==void 0&&(e.added=!0))}function Ehe(r,e){var t,n=!1,i=zb(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.id,u=this.idToItem[a];if(u!==void 0){Object.assign(u,o);var s=HU(o);if(s instanceof HTMLElement){var l;(l=this.idToHtmlOverlay[a])===null||l===void 0||l.remove(),delete this.idToHtmlOverlay[a];var c=document.createElement("div");Object.assign(c.style,{position:"absolute"}),c.appendChild(s),this.idToHtmlOverlay[a]=c}for(var f=Object.values(this.channels),h=0,v=f;h<v.length;h++){var d=v[h];if(d.adds[a]===void 0){var y=d.updates[a];y===void 0&&(y={id:a},yhe(u)&&(y={id:a,from:u.from,to:u.to}),d.updates[a]=y),Object.assign(y,o)}}e!==void 0&&(e.updated=!0)}n=!0}}catch(p){i.e(p)}finally{i.f()}n&&(this.version+=1)}function xhe(r,e){var t,n=!1,i=zb(r);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=this.idToItem[o];if(a!==void 0){var u;n=!0,delete this.idToItem[a.id],delete this.idToPosition[a.id],(u=this.idToHtmlOverlay[a.id])===null||u===void 0||u.remove(),delete this.idToHtmlOverlay[a.id],this.items.splice(this.items.indexOf(a),1);for(var s=Object.values(this.channels),l=0,c=s;l<c.length;l++){var f=c[l];f.adds[o]!==void 0?delete f.adds[o]:(delete f.updates[o],f.removes[o]=a)}}}}catch(h){i.e(h)}finally{i.f()}n&&(e!==void 0&&(e.removed=!0),this.version+=1)}function Ohe(r){var e,t=zb(r);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(this.idToPosition[n.id]!==void 0){var i=this.idToPosition[n.id];Object.assign(i,n)}else this.idToPosition[n.id]={id:n.id,x:n.x,y:n.y,pinned:n.pinned}}}catch(o){t.e(o)}finally{t.f()}}function She(r){for(var e in this.idToHtmlOverlay){var t=this.idToHtmlOverlay[e];r.appendChild(t)}}var P4=function(){return{idToItem:_n.shallow({}),items:_n.shallow([]),channels:_n.shallow({}),idToPosition:_n.shallow({}),idToHtmlOverlay:_n.shallow({}),version:0,addChannel:Jr(mhe),removeChannel:Jr(bhe),clearChannel:Jr(_he),add:Jr(whe),update:Jr(Ehe),remove:Jr(xhe),updatePositions:Jr(Ohe),updateHtmlOverlay:Jr(She)}};function Ng(r){return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(r)}function A4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function R4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(t),!0).forEach(function(n){The(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function The(r,e,t){return(e=function(n){var i=function(o){if(Ng(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(Ng(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return Ng(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var Che=function(r){var e=r.minZoom,t=r.maxZoom,n=r.allowDynamicMinZoom,i=n===void 0||n,o=r.layout,a=r.layoutOptions,u=r.styling,s=u===void 0?{}:u,l=r.panX,c=l===void 0?0:l,f=r.panY,h=f===void 0?0:f,v=r.initialZoom,d=r.renderer,y=d===void 0?Il:d,p=r.disableWebGL,g=p!==void 0&&p,b=r.disableWebWorkers,m=b!==void 0&&b,_=r.disableTelemetry,w=_!==void 0&&_;G4(!0),ES.isolateGlobalState();var O=function(N){var B=N.nodeDefaultBorderColor,z=N.selectedBorderColor,F=N.disabledItemColor,U=N.disabledItemFontColor,W=N.selectedInnerBorderColor,Y=N.dropShadowColor,X=N.defaultNodeColor,Q=N.defaultRelationshipColor,ue=N.minimapViewportBoxColor,ce=tO({},kB.default),ae=tO({},kB.selected),pe=tO({},NB.selected),fe={color:PF,fontColor:"#DDDDDD"},he=CF,ee="#FFDF81";return Tl(W,function(K){ae.rings[0].color=K,pe.rings[0].color=K},"selectedInnerBorderColor"),Tl(z,function(K){ae.rings[1].color=K,pe.rings[1].color=K},"selectedBorderColor"),Tl(B,function(K){var J;ce.rings=[{color:K,widthFactor:.025}],ae.rings=[{color:K,widthFactor:.025}].concat(function(ie){if(Array.isArray(ie))return eO(ie)}(J=ae.rings)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(J)||function(ie,de){if(ie){if(typeof ie=="string")return eO(ie,de);var _e={}.toString.call(ie).slice(8,-1);return _e==="Object"&&ie.constructor&&(_e=ie.constructor.name),_e==="Map"||_e==="Set"?Array.from(ie):_e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_e)?eO(ie,de):void 0}}(J)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())},"nodeDefaultBorderColor"),Tl(Y,function(K){ae.shadow.color=K,pe.shadow.color=K},"dropShadowColor"),Tl(F,function(K){fe.color=K},"disabledItemColor"),Tl(U,function(K){fe.fontColor=K},"disabledItemFontColor"),Tl(X,function(K){ee=K},"defaultNodeColor"),Tl(Q,function(K){he=K},"defaultRelationshipColor"),{nodeBorderStyles:{default:ce,selected:ae},relationshipBorderStyles:{default:NB.default,selected:pe},disabledItemStyles:fe,defaultNodeColor:ee,defaultRelationshipColor:he,minimapViewportBoxColor:ue||xS}}(s),E=O.nodeBorderStyles,S=O.relationshipBorderStyles,P=O.disabledItemStyles,I=O.defaultNodeColor,R=O.defaultRelationshipColor,D=O.minimapViewportBoxColor,k=_n({zoom:v||Qx,minimapZoom:Qx,defaultZoomLevel:Qx,panX:c,panY:h,minimapPanX:0,minimapPanY:0,fitNodeIds:[],resetZoom:!1,zoomOptions:Jx,forceWebGL:!1,renderer:y,disableWebGL:g,disableWebWorkers:m,disableTelemetry:w,fitMovement:0,layout:o,layoutOptions:a,maxDistance:0,maxNodeRadius:50,nodeBorderStyles:E,minZoom:(0,Kr.isNil)(e)?.075:e,maxZoom:(0,Kr.isNil)(t)?10:t,relationshipBorderStyles:S,disabledItemStyles:P,defaultNodeColor:I,defaultRelationshipColor:R,minimapViewportBoxColor:D,get minMinimapZoom(){return 0},get maxMinimapZoom(){return .2},nodes:P4(),rels:P4(),graphUpdates:0,waypoints:{data:_n.shallow({}),counter:0},setGraphUpdated:Jr(function(){this.graphUpdates+=1}),setRenderer:Jr(function(N){Jr(function(){this.graphUpdates+=1}),this.renderer=N}),setWaypoints:Jr(function(N){this.waypoints.data=N,this.waypoints.counter+=1}),setZoomPan:Jr(function(N,B,z,F){if(i){var U=Object.values(this.nodes.idToPosition),W=hO(U,this.minZoom,this.maxZoom,F,N,this.zoom);W!==this.zoom&&(this.zoom=W,W<this.minZoom&&(this.minZoom=W),N===W&&(this.panX=B,this.panY=z))}else{var Y=Ig(N,this.zoom,this.minZoom,this.maxZoom);Y!==this.zoom&&(this.zoom=Y,this.panX=B,this.panY=z)}this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setZoom:Jr(function(N,B){if(i){var z=Object.values(this.nodes.idToPosition);this.zoom=hO(z,this.minZoom,this.maxZoom,B,N,this.zoom),this.zoom<this.minZoom&&(this.minZoom=this.zoom)}else this.zoom=Ig(N,this.zoom,this.minZoom,this.maxZoom);this.fitNodeIds=[],this.fitMovement=0,this.resetZoom=!1,this.forceWebGL=!1}),setPan:Jr(function(N,B){this.panX=N,this.panY=B,this.fitNodeIds=[],this.resetZoom=!1,this.forceWebGL=!1}),setLayout:Jr(function(N){this.layout=N}),setLayoutOptions:Jr(function(N){this.layoutOptions=N}),fitNodes:Jr(function(N){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.fitNodeIds=(0,Kr.intersection)(N,(0,Kr.map)(this.nodes.items,"id")),this.zoomOptions=R4(R4({},Jx),B)}),setZoomReset:Jr(function(){this.resetZoom=!0}),clearFit:Jr(function(){this.fitNodeIds=[],this.forceWebGL=!1,this.fitMovement=0,this.zoomOptions=Jx}),clearReset:Jr(function(){this.resetZoom=!1,this.fitMovement=0}),updateZoomToFit:Jr(function(N,B,z,F){var U;if(this.fitMovement=Math.abs(N-this.zoom)+Math.abs(B-this.panX)+Math.abs(z-this.panY),i){var W=Object.values(this.nodes.idToPosition);(U=hO(W,this.minZoom,this.maxZoom,F,N,this.zoom))<this.minZoom&&(this.minZoom=U)}else U=Ig(N,this.zoom,this.minZoom,this.maxZoom);this.zoom=U,this.panX=B,this.panY=z}),updateMinimapZoomToFit:Jr(function(N,B,z){this.minimapZoom=N,this.minimapPanX=B,this.minimapPanY=z}),autorun:vb,reaction:Y4});return k},Phe=function(r){return!!r&&typeof r.id=="string"&&r.id.length>0},ub=In(1187);function Lg(r){return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(r)}function I4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function D4(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(t),!0).forEach(function(n){Ahe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):I4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Ahe(r,e,t){return(e=function(n){var i=function(o){if(Lg(o)!="object"||!o)return o;var a=o[Symbol.toPrimitive];if(a!==void 0){var u=a.call(o,"string");if(Lg(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)}(n);return Lg(i)=="symbol"?i:i+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function M4(r){return function(e){if(Array.isArray(e))return vO(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return vO(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vO(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function vO(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}var pO=function(r){return{id:r.elementId}},k4=function(r){return{id:r.elementId,from:r.startNodeElementId,to:r.endNodeElementId}},Lye=ub.resultTransformers.mappedResultTransformer({map:function(r){return Object.values(r.toObject())},collect:function(r){var e={nodes:[],relationships:[]},t=new Map;return function(n){for(var i=M4(n),o=[];i.length;){var a=i.pop();Array.isArray(a)?i.push.apply(i,M4(a)):o.push(a)}return o}(r).forEach(function(n){(0,ub.isNode)(n)?(e.nodes.push(pO(n)),t.set(n.elementId,n)):(0,ub.isPath)(n)?n.segments.forEach(function(i){e.nodes.push(pO(i.start)),e.nodes.push(pO(i.end)),e.relationships.push(k4(i.relationship)),t.set(i.start.elementId,i.start),t.set(i.end.elementId,i.end),t.set(i.relationship.elementId,i.relationship)}):(0,ub.isRelationship)(n)&&(e.relationships.push(k4(n)),t.set(n.elementId,n))}),D4(D4({},e),{},{recordObjectMap:t})}});function jg(r){return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(r)}function fS(r,e){var t=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=YU(r))||e&&r&&typeof r.length=="number"){t&&(r=t);var n=0,i=function(){};return{s:i,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(s){throw s},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,u=!1;return{s:function(){t=t.call(r)},n:function(){var s=t.next();return a=s.done,s},e:function(s){u=!0,o=s},f:function(){try{a||t.return==null||t.return()}finally{if(u)throw o}}}}function YU(r,e){if(r){if(typeof r=="string")return N4(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N4(r,e):void 0}}function N4(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function L4(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function gi(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?L4(Object(t),!0).forEach(function(n){Rhe(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):L4(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}function Rhe(r,e,t){return(e=XU(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ihe(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,XU(n.key),n)}}function XU(r){var e=function(t){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,"string");if(jg(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r);return jg(e)=="symbol"?e:e+""}function Hh(r,e,t){KU(r,e),e.set(r,t)}function KU(r,e){if(e.has(r))throw new TypeError("Cannot initialize the same private elements twice on an object")}function st(r,e){return r.get(Do(r,e))}function Bg(r,e,t){return r.set(Do(r,e),t),t}function Do(r,e,t){if(typeof r=="function"?r===e:r.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}window.localStorage;var Ib=new WeakMap,yr=new WeakMap,Fr=new WeakMap,Ka=new WeakMap,Zh=new WeakMap,Dhe=new WeakMap,na=new WeakSet,Mhe=function(){return r=function t(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),function(s,l){KU(s,l),l.add(s)}(this,na),Hh(this,Ib,void 0),Hh(this,yr,void 0),Hh(this,Fr,void 0),Hh(this,Ka,void 0),Hh(this,Zh,void 0),Hh(this,Dhe,void 0),a.disableTelemetry,Do(na,this,khe).call(this,a),Bg(Ib,this,new ice(u)),Bg(Ka,this,a),Bg(Zh,this,n),this.checkWebGLCompatibility(),Do(na,this,j4).call(this,i,o,a)},e=[{key:"restart",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.getNodePositions(),o=st(yr,this),a=o.zoom,u=o.layout,s=o.layoutOptions,l=o.nodes,c=o.rels;st(Fr,this).destroy(),Object.assign(st(Ka,this),t),Do(na,this,j4).call(this,l.items,c.items,st(Ka,this)),this.setZoom(a),this.setLayout(u),this.setLayoutOptions(s),this.addAndUpdateElementsInGraph(l.items,c.items),n&&this.setNodePositions(i)}},{key:"addAndUpdateElementsInGraph",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Do(na,this,gO).call(this,t),Do(na,this,yO).call(this,n,t);var i={added:!1,updated:!1};st(yr,this).nodes.update(t,gi({},i)),st(yr,this).rels.update(n,gi({},i)),st(yr,this).nodes.add(t,gi({},i)),st(yr,this).rels.add(n,gi({},i)),st(yr,this).setGraphUpdated(),st(Fr,this).updateHtmlOverlay()}},{key:"getSelectedNodes",value:function(){var t=this;return Wi(st(yr,this).nodes.items).filter(function(n){return n.selected}).map(function(n){return gi(gi({},n),st(yr,t).nodes.idToPosition[n.id])})}},{key:"getSelectedRelationships",value:function(){return Wi(st(yr,this).rels.items).filter(function(t){return t.selected})}},{key:"updateElementsInGraph",value:function(t,n){var i=this,o={added:!1,updated:!1},a=t.filter(function(s){return st(yr,i).nodes.idToItem[s.id]!==void 0}),u=n.filter(function(s){return st(yr,i).rels.idToItem[s.id]!==void 0});Do(na,this,gO).call(this,a),Do(na,this,yO).call(this,u,t),st(yr,this).nodes.update(a,gi({},o)),st(yr,this).rels.update(u,gi({},o)),st(Fr,this).updateHtmlOverlay()}},{key:"addElementsToGraph",value:function(t,n){Do(na,this,gO).call(this,t),Do(na,this,yO).call(this,n,t);var i={added:!1,updated:!1};st(yr,this).nodes.add(t,gi({},i)),st(yr,this).rels.add(n,gi({},i)),st(Fr,this).updateHtmlOverlay()}},{key:"removeNodesWithIds",value:function(t){if(Array.isArray(t)&&!(0,Kr.isEmpty)(t)){var n,i={},o=fS(t);try{for(o.s();!(n=o.n()).done;)i[n.value]=!0}catch(c){o.e(c)}finally{o.f()}var a,u=[],s=fS(st(yr,this).rels.items);try{for(s.s();!(a=s.n()).done;){var l=a.value;i[l.from]!==!0&&i[l.to]!==!0||u.push(l.id)}}catch(c){s.e(c)}finally{s.f()}u.length>0&&Do(na,this,B4).call(this,u),Do(na,this,Nhe).call(this,t),st(yr,this).setGraphUpdated(),st(Fr,this).updateHtmlOverlay()}}},{key:"removeRelationshipsWithIds",value:function(t){Array.isArray(t)&&!(0,Kr.isEmpty)(t)&&(Do(na,this,B4).call(this,t),st(yr,this).setGraphUpdated(),st(Fr,this).updateHtmlOverlay())}},{key:"getNodes",value:function(){return st(Fr,this).dumpNodes()}},{key:"getRelationships",value:function(){return st(Fr,this).dumpRelationships()}},{key:"getNodeById",value:function(t){return st(yr,this).nodes.idToItem[t]}},{key:"getRelationshipById",value:function(t){return st(yr,this).rels.idToItem[t]}},{key:"getPositionById",value:function(t){return st(yr,this).nodes.idToPosition[t]}},{key:"getCurrentOptions",value:function(){return st(Ka,this)}},{key:"destroy",value:function(){st(Fr,this).destroy()}},{key:"deselectAll",value:function(){this.updateElementsInGraph(st(yr,this).nodes.items.map(function(t){return gi(gi({},t),{},{selected:!1})}),st(yr,this).rels.items.map(function(t){return gi(gi({},t),{},{selected:!1})}))}},{key:"fit",value:function(t,n){st(Fr,this).fit(t,n)}},{key:"resetZoom",value:function(){st(Fr,this).resetZoom()}},{key:"setRenderer",value:function(t){st(Fr,this).setRenderer(t)}},{key:"setDisableWebGL",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];st(Ka,this).disableWebGL!==t&&(st(Ka,this).disableWebGL=t,this.restart())}},{key:"pinNode",value:function(t){st(yr,this).nodes.update([{id:t,pinned:!0}],{})}},{key:"unPinNode",value:function(t){st(yr,this).nodes.update(t.map(function(n){return{id:n,pinned:!1}}),{})}},{key:"setLayout",value:function(t){st(yr,this).setLayout(t)}},{key:"setLayoutOptions",value:function(t){st(yr,this).setLayoutOptions(t)}},{key:"getNodesOnScreen",value:function(){return st(Fr,this).getNodesOnScreen()}},{key:"getNodePositions",value:function(){return st(Fr,this).getNodePositions()}},{key:"setNodePositions",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];st(Fr,this).setNodePositions(t,n)}},{key:"isLayoutMoving",value:function(){return st(Fr,this).isLayoutMoving()}},{key:"saveToFile",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st(Fr,this).saveToFile(t)}},{key:"saveToSvg",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st(Fr,this).saveToSvg(t)}},{key:"getImageDataUrl",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return st(Fr,this).getImageDataURL(t)}},{key:"saveFullGraphToLargeFile",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};st(Fr,this).saveFullGraphToLargeFile(t)}},{key:"getZoomLimits",value:function(){return{minZoom:st(yr,this).minZoom,maxZoom:st(yr,this).maxZoom}}},{key:"setZoom",value:function(t){st(Fr,this).setZoomLevel(t)}},{key:"setPan",value:function(t,n){st(Fr,this).setPanCoordinates(t,n)}},{key:"setZoomAndPan",value:function(t,n,i){st(Fr,this).setZoomAndPan(t,n,i)}},{key:"getScale",value:function(){return st(Fr,this).getScale()}},{key:"getPan",value:function(){return st(Fr,this).getPan()}},{key:"getHits",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["node","relationship"],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{hitNodeMarginWidth:0},o=st(yr,this),a=o.zoom,u=o.panX,s=o.panY,l=o.renderer,c=LU(t,st(Zh,this),a,u,s),f=c.x,h=c.y,v=l===Yc?function(d,y,p){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},m=[],_=[],w=p.nodes,O=p.rels;return g.includes("node")&&m.push.apply(m,ob(function(E,S){var P,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,D=[],k=uS(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var N=function(){var B,z=P.value,F=I[z.id];if(F?.x===void 0||F.y===void 0)return 1;var U=((B=z.size)!==null&&B!==void 0?B:on)*Tr(),W={x:F.x-E,y:F.y-S},Y=Math.pow(U,2),X=Math.pow(U+R,2),Q=Math.pow(W.x,2)+Math.pow(W.y,2),ue=Math.sqrt(Q);if(Q<X){var ce=D.findIndex(function(ae){return ae.distance>ue});D.splice(ce!==-1?ce:D.length,0,{data:z,targetCoordinates:{x:F.x,y:F.y},pointerCoordinates:{x:E,y:S},distanceVector:W,distance:ue,insideNode:Q<Y})}};for(k.s();!(P=k.n()).done;)N()}catch(B){k.e(B)}finally{k.f()}return D}(d,y,w.items,w.idToPosition,b.hitNodeMarginWidth))),g.includes("relationship")&&_.push.apply(_,ob(function(E,S){var P,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},R=[],D={},k=uS(arguments.length>2&&arguments[2]!==void 0?arguments[2]:[]);try{var N=function(){var B=P.value,z=B.from,F=B.to;if(D["".concat(z,".").concat(F)]===void 0){var U=I[z],W=I[F];if(U?.x===void 0||U.y===void 0||W?.x===void 0||W.y===void 0)return 0;var Y=PS({x:U.x,y:U.y},{x:W.x,y:W.y},{x:E,y:S});if(Y<=uhe){var X=R.findIndex(function(Q){return Q.distance>Y});R.splice(X!==-1?X:R.length,0,{data:B,fromTargetCoordinates:{x:U.x,y:U.y},toTargetCoordinates:{x:W.x,y:W.y},pointerCoordinates:{x:E,y:S},distance:Y})}D["".concat(z,".").concat(F)]=1,D["".concat(F,".").concat(z)]=1}};for(k.s();!(P=k.n()).done;)N()}catch(B){k.e(B)}finally{k.f()}return R}(d,y,O.items,w.idToPosition))),{nodes:m,relationships:_}}(f,h,st(yr,this),n,i):function(d,y,p){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["node","relationship"],b=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},m=[],_=[];return g.includes("node")&&m.push.apply(m,ob(p.getCanvasNodesAt({x:d,y},b.hitNodeMarginWidth))),g.includes("relationship")&&_.push.apply(_,ob(p.getCanvasRelsAt({x:d,y}))),{nodes:m,relationships:_}}(f,h,st(Fr,this),n,i);return gi(gi({},t),{},{nvlTargets:v})}},{key:"getContainer",value:function(){return st(Zh,this)}},{key:"checkWebGLCompatibility",value:function(){var t=st(Ka,this).disableWebGL;if(t===void 0||!t){var n=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("canvas");try{return window.WebGLRenderingContext!==void 0&&(i.getContext("webgl")!==null||i.getContext("experimental-webgl")!==null)}catch{return!1}}();if(!n){if(t!==void 0)throw new XF("Could not initialize WebGL");st(Ka,this).renderer=Il,Ur.warn("GPU acceleration is not available on your browser. Falling back to CPU layout and rendering. You can disable this warning by setting the disableWebGL option to true.")}t===void 0&&(st(Ka,this).disableWebGL=!n)}}}],e&&Ihe(r.prototype,e),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,e}();function j4(){var r,e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Bg(yr,this,Che(i)),i.minimapContainer instanceof HTMLElement||delete i.minimapContainer,Bg(Fr,this,new ghe(st(yr,this),st(Zh,this),i)),this.addAndUpdateElementsInGraph(t,n),st(Fr,this).on("restart",this.restart.bind(this));var o,a,u=fS((o=st(Ib,this).callbacks,Object.entries(o)));try{var s=function(){var l,c,f=(l=a.value,c=2,function(d){if(Array.isArray(d))return d}(l)||function(d,y){var p=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(p!=null){var g,b,m,_,w=[],O=!0,E=!1;try{if(m=(p=p.call(d)).next,y===0){if(Object(p)!==p)return;O=!1}else for(;!(O=(g=m.call(p)).done)&&(w.push(g.value),w.length!==y);O=!0);}catch(S){E=!0,b=S}finally{try{if(!O&&p.return!=null&&(_=p.return(),Object(_)!==_))return}finally{if(E)throw b}}return w}}(l,c)||YU(l,c)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),h=f[0],v=f[1];v!==void 0&&st(Fr,e).on(h,function(){for(var d=arguments.length,y=new Array(d),p=0;p<d;p++)y[p]=arguments[p];return v.apply(st(Ib,e),y)})};for(u.s();!(a=u.n()).done;)s()}catch(l){u.e(l)}finally{u.f()}setTimeout(function(){st(Fr,e).callIfRegistered("onInitialization")}),(r=st(Zh,this))===null||r===void 0||r.getAttribute("id"),st(Ka,this).disableTelemetry}function khe(r){var e,t=r.logging;t?.level!==void 0&&(e=t.level,Ur.setLevel(e),function(n,i){var o=n.methodFactory;n.methodFactory=function(a,u,s){var l=o(a,u,s);return function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];typeof i.logger=="function"?i.logger.apply(i,[a].concat(f)):l.apply(void 0,f)}},n.setLevel(n.getLevel())}(Ur,t))}function Nhe(r){var e=Array.isArray(r)?r:[r],t=st(yr,this),n=t.nodes,i=t.fitNodeIds;n.remove(e,{removed:!1}),i.length&&e.find(function(o){return i.includes(o)})!==void 0&&st(yr,this).fitNodes(i.filter(function(o){return!e.includes(o)}))}function B4(r){var e=Array.isArray(r)?r:[r];st(yr,this).rels.remove(e,{removed:!1})}function gO(r){var e=r.find(function(n){return!function(i){return!!i&&typeof i.id=="string"&&i.id.length>0}(n)});if(e){var t="";throw/^\d+$/.test(e.id)||(t=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported."),new TypeError("Invalid node provided: ".concat(JSON.stringify(e),".").concat(t))}}function yO(r){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t="",n=null,i=st(yr,this),o=i.nodes,a=i.rels,u={},s=0;s<e.length;s++){var l=e[s];u[l.id]=l}for(var c=gi(gi({},o.idToItem),u),f=a.idToItem,h=0;h<r.length;h++){var v=r[h];if(!Phe(v)){n=v,/^\d+$/.test(v.id)&&(t=" Node ids need to be numeric strings. Strings that contain anything other than numbers are not yet supported.");break}if(f[v.id]===void 0){var d=c[v.from],y=c[v.to];if(d===void 0){t=' Node with id "'.concat(v.from,'" does not exist.'),n=v;break}if(y===void 0){t=' Node with id "'.concat(v.to,'" does not exist.'),n=v;break}}}if(n!==null)throw new TypeError("Invalid relationship provided: ".concat(JSON.stringify(n),".").concat(t))}var Mo=class{constructor(e,t){kt(this,"nvl");kt(this,"options");kt(this,"container");kt(this,"callbackMap");kt(this,"addEventListener",(e,t,n)=>{this.container?.addEventListener(e,t,n)});kt(this,"removeEventListener",(e,t,n)=>{this.container?.removeEventListener(e,t,n)});kt(this,"callCallbackIfRegistered",(e,...t)=>{let n=this.callbackMap.get(e);typeof n=="function"&&n(...t)});kt(this,"updateCallback",(e,t)=>{this.callbackMap.set(e,t)});kt(this,"removeCallback",e=>{this.callbackMap.delete(e)});kt(this,"toggleGlobalTextSelection",(e,t)=>{e?(document.body.style.removeProperty("user-select"),t&&document.body.removeEventListener("mouseup",t)):(document.body.style.setProperty("user-select","none","important"),t&&document.body.addEventListener("mouseup",t))});this.nvl=e,this.options=t,this.container=this.nvl.getContainer(),this.callbackMap=new Map}get nvlInstance(){return this.nvl}get currentOptions(){return this.options}get containerInstance(){return this.container}};var qb=(r,e)=>{let t=Math.abs(r.clientX-e.x),n=Math.abs(r.clientY-e.y);return t>10||n>10?!0:Math.pow(t,2)+Math.pow(n,2)>10};var $U=(r,e)=>{let t=r.getBoundingClientRect(),n=window.devicePixelRatio||1;return{x:(e.clientX-t.left-t.width*.5)*n,y:(e.clientY-t.top-t.height*.5)*n}};var Gb=class extends Mo{constructor(t,n={selectOnClick:!1}){super(t,n);kt(this,"moved",!1);kt(this,"mousePosition",{x:0,y:0});kt(this,"handleMouseDown",t=>{this.mousePosition={x:t.clientX,y:t.clientY}});kt(this,"handleRightClick",t=>{t.preventDefault();let{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:o=[]}=n;if(i.length===0&&o.length===0){this.callCallbackIfRegistered("onCanvasRightClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeRightClick",i[0]?.data,n,t):o.length>0&&this.callCallbackIfRegistered("onRelationshipRightClick",o[0]?.data,n,t)});kt(this,"handleDoubleClick",t=>{let{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:o=[]}=n;if(i.length===0&&o.length===0){this.callCallbackIfRegistered("onCanvasDoubleClick",t);return}i.length>0?this.callCallbackIfRegistered("onNodeDoubleClick",i[0]?.data,n,t):o.length>0&&this.callCallbackIfRegistered("onRelationshipDoubleClick",o[0]?.data,n,t)});kt(this,"handleClick",t=>{if(qb(t,this.mousePosition)||t.button!==0)return;let{nvlTargets:n}=this.nvlInstance.getHits(t),{nodes:i=[],relationships:o=[]}=n;if(i.length===0&&o.length===0){this.currentOptions.selectOnClick===!0&&this.nvlInstance.deselectAll(),this.callCallbackIfRegistered("onCanvasClick",t);return}if(i.length>0){let a=i.map(u=>u.data);if(this.currentOptions.selectOnClick===!0){let u=this.nvlInstance.getSelectedNodes(),s=this.nvlInstance.getSelectedRelationships(),c=[...a[0]?[{id:a[0].id,selected:!0}]:[],...u.map(h=>({id:h.id,selected:!1}))],f=s.map(h=>({...h,selected:!1}));this.nvlInstance.updateElementsInGraph(c,f)}this.callCallbackIfRegistered("onNodeClick",i[0]?.data,n,t)}else if(o.length>0){let a=o.map(u=>u.data);if(this.currentOptions.selectOnClick===!0){let u=this.nvlInstance.getSelectedNodes(),s=this.nvlInstance.getSelectedRelationships(),l=u.map(h=>({id:h.id,selected:!1})),f=[...a[0]?[{id:a[0].id,selected:!0}]:[],...s.map(h=>({...h,selected:!1}))];this.nvlInstance.updateElementsInGraph(l,f)}this.callCallbackIfRegistered("onRelationshipClick",o[0]?.data,n,t)}});kt(this,"destroy",()=>{this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("click",this.handleClick,!0),this.removeEventListener("dblclick",this.handleDoubleClick,!0),this.removeEventListener("contextmenu",this.handleRightClick,!0)});this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("click",this.handleClick,!0),this.addEventListener("dblclick",this.handleDoubleClick,!0),this.addEventListener("contextmenu",this.handleRightClick,!0)}};var Vb=class extends Mo{constructor(t,n={}){super(t,n);kt(this,"mousePosition",{x:0,y:0});kt(this,"mouseDownNode",null);kt(this,"isDragging",!1);kt(this,"isDrawing",!1);kt(this,"selectedNodes",[]);kt(this,"moveSelectedNodes",!1);kt(this,"handleMouseDown",t=>{this.mousePosition={x:t.clientX,y:t.clientY},this.mouseDownNode=null;let n=this.nvlInstance.getHits(t,["node"],{hitNodeMarginWidth:10}),i=n.nvlTargets.nodes.filter(a=>a.insideNode);n.nvlTargets.nodes.filter(a=>!a.insideNode).length>0?(this.isDrawing=!0,this.addEventListener("mouseup",this.resetState,{once:!0})):i.length>0&&(this.mouseDownNode=n.nvlTargets.nodes[0]??null,this.toggleGlobalTextSelection(!1,this.handleBodyMouseUp)),this.selectedNodes=this.nvlInstance.getSelectedNodes(),this.mouseDownNode!==null&&this.selectedNodes.map(a=>a.id).includes(this.mouseDownNode.data.id)?this.moveSelectedNodes=!0:this.moveSelectedNodes=!1});kt(this,"handleMouseMove",t=>{if(this.mouseDownNode===null||t.buttons!==1||this.isDrawing||!qb(t,this.mousePosition))return;this.isDragging||(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragStart",this.selectedNodes,t):this.callCallbackIfRegistered("onDragStart",[this.mouseDownNode.data],t),this.isDragging=!0);let n=this.nvlInstance.getScale(),i=(t.clientX-this.mousePosition.x)/n*window.devicePixelRatio,o=(t.clientY-this.mousePosition.y)/n*window.devicePixelRatio;this.moveSelectedNodes?(this.nvlInstance.setNodePositions(this.selectedNodes.map(a=>({id:a.id,x:a.x+i,y:a.y+o,pinned:!0})),!0),this.callCallbackIfRegistered("onDrag",this.selectedNodes,t)):(this.nvlInstance.setNodePositions([{id:this.mouseDownNode.data.id,x:this.mouseDownNode.targetCoordinates.x+i,y:this.mouseDownNode.targetCoordinates.y+o,pinned:!0}],!0),this.callCallbackIfRegistered("onDrag",[this.mouseDownNode.data],t))});kt(this,"handleBodyMouseUp",t=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.isDragging&&this.mouseDownNode!==null&&(this.moveSelectedNodes?this.callCallbackIfRegistered("onDragEnd",this.selectedNodes,t):this.callCallbackIfRegistered("onDragEnd",[this.mouseDownNode.data],t)),this.resetState()});kt(this,"resetState",()=>{this.isDragging=!1,this.mouseDownNode=null,this.isDrawing=!1,this.selectedNodes=[],this.moveSelectedNodes=!1});kt(this,"destroy",()=>{this.toggleGlobalTextSelection(!0,this.handleBodyMouseUp),this.removeEventListener("mousedown",this.handleMouseDown),this.removeEventListener("mousemove",this.handleMouseMove)});this.addEventListener("mousedown",this.handleMouseDown),this.addEventListener("mousemove",this.handleMouseMove)}};var Hhe=wc(p6());var g6=wc(Qr());var Kb=class extends Mo{constructor(t,n={excludeNodeMargin:!1}){super(t,n);kt(this,"initialMousePosition",{x:0,y:0});kt(this,"initialPan",{x:0,y:0});kt(this,"targets",[]);kt(this,"shouldPan",!1);kt(this,"isPanning",!1);kt(this,"updateTargets",(t,n)=>{this.targets=t,this.currentOptions.excludeNodeMargin=n});kt(this,"handleMouseDown",t=>{let n=this.nvlInstance.getHits(t,(0,g6.difference)(["node","relationship"],this.targets),{hitNodeMarginWidth:this.currentOptions.excludeNodeMargin===!0?10:0});n.nvlTargets.nodes.length>0||n.nvlTargets.relationships.length>0?this.shouldPan=!1:(this.initialMousePosition={x:t.clientX,y:t.clientY},this.initialPan=this.nvlInstance.getPan(),this.shouldPan=!0)});kt(this,"handleMouseMove",t=>{if(!this.shouldPan||t.buttons!==1)return;this.isPanning||(this.toggleGlobalTextSelection(!1,this.handleMouseUp),this.isPanning=!0);let n=this.nvlInstance.getScale(),{x:i,y:o}=this.initialPan,a=(t.clientX-this.initialMousePosition.x)/n*window.devicePixelRatio,u=(t.clientY-this.initialMousePosition.y)/n*window.devicePixelRatio,s=i-a,l=o-u;this.currentOptions.controlledPan!==!0&&this.nvlInstance.setPan(s,l),this.callCallbackIfRegistered("onPan",{x:s,y:l},t)});kt(this,"handleMouseUp",()=>{this.isPanning&&this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.resetPanState()});kt(this,"resetPanState",()=>{this.isPanning=!1,this.shouldPan=!1,this.initialMousePosition={x:0,y:0},this.initialPan={x:0,y:0},this.targets=[]});this.addEventListener("mousedown",this.handleMouseDown,!0),this.addEventListener("mousemove",this.handleMouseMove,!0),this.addEventListener("mouseup",this.handleMouseUp,!0)}destroy(){this.toggleGlobalTextSelection(!0,this.handleMouseUp),this.removeEventListener("mousedown",this.handleMouseDown,!0),this.removeEventListener("mousemove",this.handleMouseMove,!0),this.removeEventListener("mouseup",this.handleMouseUp,!0)}};var y6=wc(Qr());var $b=class extends Mo{constructor(t,n={}){super(t,n);kt(this,"zoomLimits");kt(this,"handleWheel",t=>{t.preventDefault(),this.throttledZoom(t)});kt(this,"throttledZoom",(0,y6.throttle)(t=>{let n=this.nvlInstance.getScale(),{x:i,y:o}=this.nvlInstance.getPan();this.zoomLimits=this.nvlInstance.getZoomLimits();let u=t.ctrlKey||t.metaKey?75:500,s=t.deltaY/u,l=n>=1?s*n:s,c=n-l*Math.min(1,n),f=c>this.zoomLimits.maxZoom||c<this.zoomLimits.minZoom,h=$U(this.containerInstance,t),v=i,d=o;f||(v=i+(h.x/n-h.x/c),d=o+(h.y/n-h.y/c)),this.currentOptions.controlledZoom!==!0&&this.nvlInstance.setZoomAndPan(c,v,d),this.callCallbackIfRegistered("onZoom",c,t),this.callCallbackIfRegistered("onZoomAndPan",c,v,d,t)},25,{leading:!0}));kt(this,"destroy",()=>{this.removeEventListener("wheel",this.handleWheel)});this.zoomLimits=t.getZoomLimits(),this.addEventListener("wheel",this.handleWheel)}};export{Gb as ClickInteraction,Vb as DragNodeInteraction,Mhe as NVL,Kb as PanInteraction,$b as ZoomInteraction};
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

cytoscape/dist/cytoscape.esm.mjs:
  (*!
  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
  Licensed under The MIT License (http://opensource.org/licenses/MIT)
  *)
  (*!
  Event object based on jQuery events, MIT license
  
  https://jquery.org/license/
  https://tldrlegal.com/license/mit-license
  https://github.com/jquery/jquery/blob/master/src/event.js
  *)
  (*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License *)
  (*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License *)

@neo4j-nvl/base/dist/base.mjs:
  (*! For license information please see base.mjs.LICENSE.txt *)
*/
